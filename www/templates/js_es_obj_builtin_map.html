{% extends 'c-word.html' %}

{% block title %} Web - JS | ES | obj | builtin | xxx {% endblock title %}

{% block point1 %}
<article contenteditable="true">
    <div id="maincontent">
      <div><h3 id="blogTitle0"><span style="font-weight: 700; background-color: yellow;">计算机 | 全栈 | 前端 | JS | ES | Obj | Built-in | Map</span></h3></div><div><h1 id="blogTitle1"><b>Map</b></h1><h2 id="blogTitle2">前言</h2><div><span style="color: rgb(102, 102, 102); border-style: initial; border-color: initial; border-image: initial;">Map</span><span style="color: rgb(102, 102, 102);">&nbsp;对象保存键值对。任何值(对象或者</span><a title="原始值: A primitive (primitive value, primitive data type) is data that is not an object and has no methods. In JavaScript, there are 6 primitive data types: string, number, boolean, null, undefined, symbol (new in ECMAScript 2015)." href="https://developer.mozilla.org/en-US/docs/Glossary/Primitive" class="glossaryLink" style="cursor: help; margin: 0px; padding: 0px; border-width: 0px 0px 1px; border-top-style: initial; border-right-style: initial; border-bottom-style: dashed; border-left-style: initial; border-top-color: initial; border-right-color: initial; border-bottom-color: rgb(170, 170, 170); border-left-color: initial; border-image: initial;">原始值</a><span style="color: rgb(102, 102, 102);">) 都可以作为一个键或一个值。</span><br></div><div><p style="color: rgb(17, 17, 17); font-family: Cambria, &quot;Palatino Linotype&quot;, Palatino, &quot;Liberation Serif&quot;, serif; font-size: 18px;">Map 对象 are collections of key/value pairs where both the keys and values may be arbitrary ES 语言值. A distinct key value may only occur in one key/value pair within the Map's collection. Distinct key values are discriminated using the&nbsp;<emu-xref aoid="SameValueZero" id="_ref_7068"><a href="file:///D:/point-w/ecma262-cn/src/abc%20-%20%E5%89%AF%E6%9C%AC%20(14)%20-%20%E5%89%AF%E6%9C%AC.html#sec-samevaluezero" style="text-decoration-line: none; color: rgb(32, 108, 167);">SameValueZero</a></emu-xref>&nbsp;比较算法.</p><p style="color: rgb(17, 17, 17); font-family: Cambria, &quot;Palatino Linotype&quot;, Palatino, &quot;Liberation Serif&quot;, serif; font-size: 18px;">Map object must be implemented using either hash tables or other mechanisms that, on average, provide access times that are sublinear on the number of elements in the collection. The 数据结构 used in this Map 对象 specification is only intended to describe the required observable 语义 of Map 对象. It is not intended to be a viable 实现 model.</p></div><h3><b>为什么引入 map 数据结构</b></h3><div><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">JavaScript 的对象（Object），本质上是键值对的集合（Hash 结构），但是传统上只能用字符串当作键。这给它的使用带来了很大的限制。</p><pre class=" language-javascript" style="margin: 0.5em auto; padding-right: 1em; padding-left: 0.7rem; background-color: rgb(17, 17, 17); font-size: 14.336px; line-height: 1.2; font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; color: rgb(255, 255, 255); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; border-radius: 5px;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;">const data = {};
const element = document.getElementById('myDiv');

data[element] = 'metadata';
data['[object HTMLDivElement]'] // "metadata"</code></pre><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">上面代码原意是将一个 DOM 节点作为对象<code style="font-size: 0.7rem; font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">data</code>的键，但是由于对象只接受字符串作为键名，所以<code style="font-size: 0.7rem; font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">element</code>被自动转为字符串<code style="font-size: 0.7rem; font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">[object HTMLDivElement]</code>。</p><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">为了解决这个问题，ES6 提供了 Map 数据结构。它类似于对象，也是键值对的集合，但是“键”的范围不限于字符串，各种类型的值（包括对象）都可以当作键。也就是说，Object 结构提供了“字符串—值”的对应，Map 结构提供了“值—值”的对应，是一种更完善的 Hash 结构实现。如果你需要“键值对”的数据结构，Map 比 Object 更合适。</p><pre class=" language-javascript" style="margin: 0.5em auto; padding-right: 1em; padding-left: 0.7rem; background-color: rgb(17, 17, 17); font-size: 14.336px; line-height: 1.2; font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; color: rgb(255, 255, 255); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; border-radius: 5px;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;">const m = new Map();
const o = {p: 'Hello World'};

m.set(o, 'content')
m.get(o) // "content"

m.has(o) // true
m.delete(o) // true
m.has(o) // false</code></pre><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">上面代码使用 Map 结构的<code style="font-size: 0.7rem; font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">set</code>方法，将对象<code style="font-size: 0.7rem; font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">o</code>当作<code style="font-size: 0.7rem; font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">m</code>的一个键，然后又使用<code style="font-size: 0.7rem; font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">get</code>方法读取这个键，接着使用<code style="font-size: 0.7rem; font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">delete</code>方法删除了这个键。</p><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">上面的例子展示了如何向 Map 添加成员。作为构造函数，Map 也可以接受一个数组作为参数。该数组的成员是一个个表示键值对的数组。</p><pre class=" language-javascript" style="margin: 0.5em auto; padding-right: 1em; padding-left: 0.7rem; background-color: rgb(17, 17, 17); font-size: 14.336px; line-height: 1.2; font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; color: rgb(255, 255, 255); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; border-radius: 5px;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;">const map = new Map([
  ['name', '张三'],
  ['title', 'Author']
]);

map.size // 2
map.has('name') // true
map.get('name') // "张三"
map.has('title') // true
map.get('title') // "Author"</code></pre><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">上面代码在新建 Map 实例时，就指定了两个键<code style="font-size: 0.7rem; font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">name</code>和<code style="font-size: 0.7rem; font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">title</code>。</p><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;"><code style="font-size: 0.7rem; font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">Map</code>构造函数接受数组作为参数，实际上执行的是下面的算法。</p><pre class=" language-javascript" style="margin: 0.5em auto; padding-right: 1em; padding-left: 0.7rem; background-color: rgb(17, 17, 17); font-size: 14.336px; line-height: 1.2; font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; color: rgb(255, 255, 255); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; border-radius: 5px;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;">const items = [
  ['name', '张三'],
  ['title', 'Author']
];

const map = new Map();

items.forEach(
  ([key, value]) =&gt; map.set(key, value)
);</code></pre><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;"><span style="background-color: yellow;">事实上，不仅仅是数组，任何具有 Iterator 接口、且每个成员都是一个双元素的数组的数据结构（详见《Iterator》一章）都可以当作<code style="font-size: 0.7rem; font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; color: rgb(199, 37, 78); background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px; padding-left: 3px; padding-right: 3px;">Map</code>构造函数的参数。这就是说，<code style="font-size: 0.7rem; font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; color: rgb(199, 37, 78); background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px; padding-left: 3px; padding-right: 3px;">Set</code>和<code style="font-size: 0.7rem; font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; color: rgb(199, 37, 78); background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px; padding-left: 3px; padding-right: 3px;">Map</code>都可以用来生成新的 Map。</span></p><pre class=" language-javascript" style="margin: 0.5em auto; padding-right: 1em; padding-left: 0.7rem; background-color: rgb(17, 17, 17); font-size: 14.336px; line-height: 1.2; font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; color: rgb(255, 255, 255); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; border-radius: 5px;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;">const set = new Set([
  ['foo', 1],
  ['bar', 2]
]);
const m1 = new Map(set);
m1.get('foo') // 1

const m2 = new Map([['baz', 3]]);
const m3 = new Map(m2);
m3.get('baz') // 3</code></pre><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">上面代码中，我们分别使用 Set 对象和 Map 对象，当作<code style="font-size: 0.7rem; font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">Map</code>构造函数的参数，结果都生成了新的 Map 对象。</p><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">如果对同一个键多次赋值，后面的值将覆盖前面的值。</p><pre class=" language-javascript" style="margin: 0.5em auto; padding-right: 1em; padding-left: 0.7rem; background-color: rgb(17, 17, 17); font-size: 14.336px; line-height: 1.2; font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; color: rgb(255, 255, 255); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; border-radius: 5px;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;">const map = new Map();

map
.set(1, 'aaa')
.set(1, 'bbb');

map.get(1) // "bbb"</code></pre><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">上面代码对键<code style="font-size: 0.7rem; font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">1</code>连续赋值两次，后一次的值覆盖前一次的值。</p><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">如果读取一个未知的键，则返回<code style="font-size: 0.7rem; font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">undefined</code>。</p><pre class=" language-javascript" style="margin: 0.5em auto; padding-right: 1em; padding-left: 0.7rem; background-color: rgb(17, 17, 17); font-size: 14.336px; line-height: 1.2; font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; color: rgb(255, 255, 255); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; border-radius: 5px;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;">new Map().get('asfddfsasadf')
// undefined</code></pre><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">注意，<span style="background-color: yellow;">只有对同一个对象的引用，Map 结构才将其视为同一个键。这一点要非常小心。</span></p><pre class=" language-javascript" style="margin: 0.5em auto; padding-right: 1em; padding-left: 0.7rem; background-color: rgb(17, 17, 17); font-size: 14.336px; line-height: 1.2; font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; color: rgb(255, 255, 255); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; border-radius: 5px;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;">const map = new Map();

map.set(['a'], 555);
map.get(['a']) // undefined</code></pre><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;"><span style="background-color: yellow;">上面代码的<code style="font-size: 0.7rem; font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; color: rgb(199, 37, 78); background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px; padding-left: 3px; padding-right: 3px;">set</code>和<code style="font-size: 0.7rem; font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; color: rgb(199, 37, 78); background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px; padding-left: 3px; padding-right: 3px;">get</code>方法，表面是针对同一个键，但实际上这是两个值，内存地址是不一样的，因此<code style="font-size: 0.7rem; font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; color: rgb(199, 37, 78); background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px; padding-left: 3px; padding-right: 3px;">get</code>方法无法读取该键，返回<code style="font-size: 0.7rem; font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; color: rgb(199, 37, 78); background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px; padding-left: 3px; padding-right: 3px;">undefined</code>。</span></p><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">同理，同样的值的两个实例，在 Map 结构中被视为两个键。</p><pre class=" language-javascript" style="margin: 0.5em auto; padding-right: 1em; padding-left: 0.7rem; background-color: rgb(17, 17, 17); font-size: 14.336px; line-height: 1.2; font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; color: rgb(255, 255, 255); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; border-radius: 5px;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;">const map = new Map();

const k1 = ['a'];
const k2 = ['a'];

map
.set(k1, 111)
.set(k2, 222);

map.get(k1) // 111
map.get(k2) // 222</code></pre><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">上面代码中，变量<code style="font-size: 0.7rem; font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">k1</code>和<code style="font-size: 0.7rem; font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">k2</code>的值是一样的，但是它们在 Map 结构中被视为两个键。</p><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;"><span style="background-color: yellow;">由上可知，Map 的键实际上是跟内存地址绑定的，只要内存地址不一样，就视为两个键。这就解决了同名属性碰撞（clash）的问题，我们扩展别人的库的时候，如果使用对象作为键名，就不用担心自己的属性与原作者的属性同名。</span></p><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">如果 Map 的键是一个简单类型的值（数字、字符串、布尔值），则只要两个值严格相等，Map 将其视为一个键，比如<code style="font-size: 0.7rem; font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">0</code>和<code style="font-size: 0.7rem; font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">-0</code>就是一个键，布尔值<code style="font-size: 0.7rem; font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">true</code>和字符串<code style="font-size: 0.7rem; font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">true</code>则是两个不同的键。另外，<code style="font-size: 0.7rem; font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">undefined</code>和<code style="font-size: 0.7rem; font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">null</code>也是两个不同的键。虽然<code style="font-size: 0.7rem; font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">NaN</code>不严格相等于自身，但 Map 将其视为同一个键。</p><pre class=" language-javascript" style="margin: 0.5em auto; padding-right: 1em; padding-left: 0.7rem; background-color: rgb(17, 17, 17); font-size: 14.336px; line-height: 1.2; font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; color: rgb(255, 255, 255); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; border-radius: 5px;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;">let map = new Map();

map.set(-0, 123);
map.get(+0) // 123

map.set(true, 1);
map.set('true', 2);
map.get(true) // 1

map.set(undefined, 3);
map.set(null, 4);
map.get(undefined) // 3

map.set(NaN, 123);
map.get(NaN) // 123</code></pre></div><div><b><br></b></div><div><h3 style=""><span style="font-weight: 700;">什么时候使用 map -- Objects 和 maps 的比较</span></h3><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;"><a title="en/JavaScript/Reference/Global_Objects/Object" href="https://developer.mozilla.org/zh-CN/docs/JavaScript/Reference/Global_Objects/Object" style="word-wrap: break-word; margin: 0px; padding: 0px; border: 0px;">Object</a><span style="border-style: initial; border-color: initial;">&nbsp;</span>和&nbsp;<span style="border-style: initial; border-color: initial;">Map 类似</span>的一点是, 它们都允许你按键存取一个值, 都可以删除键, 还可以检测一个键是否绑定了值. 因此, 一直以来,我们都把对象当成&nbsp;<span style="border-style: initial; border-color: initial;">Map&nbsp;</span>来使用, 不过, 现在有了&nbsp;<span style="border-style: initial; border-color: initial;">Map, 下面的区别解释了为什么</span>使用<span style="border-style: initial; border-color: initial;">Map 更好</span>.</p><ul style="margin-top: 0px; margin-bottom: 24px; padding: 0px 0px 0px 40px; font-weight: inherit; color: rgb(102, 102, 102); list-style-position: initial; list-style-image: initial; border: 0px;"><li style="margin: 0px 0px 6px; padding: 0px; border: 0px;">一个<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">对象通常都有自己的原型</span></font>, 所以一个对象总有一个 "prototype" 键。不过，从 ES5 开始可以使用<span style="border-style: initial; border-color: initial; border-image: initial;">&nbsp;</span><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;"><span style="background-color: white;">map = Object.create(null)</span>&nbsp;</span></font>来创建一个没有原型的对象。</li><li style="margin: 0px 0px 6px; padding: 0px; border: 0px;">一个对象的键只能是&nbsp;<font face="consolas, Liberation Mono, courier, monospace" style="margin: 0px; padding: 0px; border: 0px;"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;"><a title="此页面仍未被本地化, 期待您的翻译!" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/String" style="margin: 0px; padding: 0px; border: 0px;">字符串</a>&nbsp;</span></font>或者&nbsp;<a title="Symbol 是一种特殊的、不可变的数据类型，可以作为对象属性的标识符使用。Symbol 对象是一个 symbol primitive data type 的隐式对象包装器。" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Symbol" style="margin: 0px; padding: 0px; border: 0px;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">Symbols</span></font></a>，但一个&nbsp;<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">Map 的键可以是</span></font><span style="border-style: initial; border-color: initial; border-image: initial;">任意值</span>。</li><li style="margin: 0px 0px 6px; padding: 0px; border: 0px;">你可以通过 size 属性很容易地得到一个&nbsp;<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">Map 的键值对个数，</span></font>而对象的键值对个数只能手动确认。</li></ul><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;"><span style="background-color: red;"><span style="font-weight: 700;"><font color="#ffff00">但是这并不意味着你可以随意使用&nbsp;<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-style: inherit;">Map，对象仍旧是最常用的</span></font>。<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-style: inherit;">Map</span></font>&nbsp;实例只适合用于集合(collections)</font></span></span><span style="color: rgb(102, 102, 102); font-weight: inherit;">，你应当考虑修改你原来的代码——先前使用对象来对付集合的地方。对象应该用其字段和方法来作为记录的。</span><br><span style="color: rgb(102, 102, 102); font-weight: inherit;">如果你不确定要使用哪个，请思考下面的问题：</span></p><ul style="margin-top: 0px; margin-bottom: 24px; padding: 0px 0px 0px 40px; font-weight: inherit; color: rgb(102, 102, 102); list-style-position: initial; list-style-image: initial; border: 0px;"><li style="margin: 0px 0px 6px; padding: 0px; border: 0px;">在运行之前 key 是否是未知的，是否需要动态地查询 key&nbsp;呢？</li><li style="margin: 0px 0px 6px; padding: 0px; border: 0px;">是否所有的值都是统一类型，这些值可以互换么？</li><li style="margin: 0px 0px 6px; padding: 0px; border: 0px;">是否需要不是字符串类型的 key ？</li><li style="margin: 0px 0px 6px; padding: 0px; border: 0px;">键值对经常增加或者删除么？</li><li style="margin: 0px 0px 6px; padding: 0px; border: 0px;">是否有任意个且非常容易改变的键值对?</li><li style="margin: 0px 0px 6px; padding: 0px; border: 0px;">这个集合可以遍历么(Is the collection iterated)?</li></ul><p style="margin-top: 0px; margin-bottom: 24px; font-weight: inherit; color: rgb(102, 102, 102); padding: 0px; border: 0px;">假如以上全是“是”的话，那么你需要用&nbsp;<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">Map&nbsp;来保存这个集。</span></font>&nbsp;相反，你有固定数目的键值对，独立操作它们，区分它们的用法，那么你需要的是对象。</p></div><h2><b>Map 构造器</b></h2><div style=""><p style="color: rgb(17, 17, 17); font-family: Cambria, &quot;Palatino Linotype&quot;, Palatino, &quot;Liberation Serif&quot;, serif; font-size: 18px;">The Map&nbsp;<emu-xref href="#构造器" id="_ref_7069"><a href="file:///D:/point-w/ecma262-cn/src/abc%20-%20%E5%89%AF%E6%9C%AC%20(14)%20-%20%E5%89%AF%E6%9C%AC.html#%E6%9E%84%E9%80%A0%E5%99%A8" style="text-decoration-line: none; color: rgb(32, 108, 167);">构造器</a></emu-xref>&nbsp;is the&nbsp;<dfn>%Map%</dfn>&nbsp;内部对象 and the 初始值 of the&nbsp;<code style="font-weight: bold; font-family: Consolas, Monaco, monospace; white-space: pre;">Map</code>&nbsp;property of the&nbsp;<emu-xref href="#global-object" id="_ref_7070"><a href="file:///D:/point-w/ecma262-cn/src/abc%20-%20%E5%89%AF%E6%9C%AC%20(14)%20-%20%E5%89%AF%E6%9C%AC.html#global-object" style="text-decoration-line: none; color: rgb(32, 108, 167);">全局对象</a></emu-xref>. When called as a&nbsp;<emu-xref href="#构造器" id="_ref_7071"><a href="file:///D:/point-w/ecma262-cn/src/abc%20-%20%E5%89%AF%E6%9C%AC%20(14)%20-%20%E5%89%AF%E6%9C%AC.html#%E6%9E%84%E9%80%A0%E5%99%A8" style="text-decoration-line: none; color: rgb(32, 108, 167);">构造器</a></emu-xref>&nbsp;它会创建和初始化一个新的 Map object.&nbsp;<code style="font-weight: bold; font-family: Consolas, Monaco, monospace; white-space: pre;">Map</code>&nbsp;is not intended to be called as a function and will 抛出一个异常 when called in that manner.</p><p style="color: rgb(17, 17, 17); font-family: Cambria, &quot;Palatino Linotype&quot;, Palatino, &quot;Liberation Serif&quot;, serif; font-size: 18px;">The&nbsp;<code style="font-weight: bold; font-family: Consolas, Monaco, monospace; white-space: pre;">Map</code>&nbsp;<emu-xref href="#构造器" id="_ref_7072"><a href="file:///D:/point-w/ecma262-cn/src/abc%20-%20%E5%89%AF%E6%9C%AC%20(14)%20-%20%E5%89%AF%E6%9C%AC.html#%E6%9E%84%E9%80%A0%E5%99%A8" style="text-decoration-line: none; color: rgb(32, 108, 167);">构造器</a></emu-xref>&nbsp;被设计成可被子类化的. 它可以用作 the value in an&nbsp;<code style="font-weight: bold; font-family: Consolas, Monaco, monospace; white-space: pre;">extends</code>&nbsp;clause of a class definition. 子类构造器 that 旨在继承特定的&nbsp;<code style="font-weight: bold; font-family: Consolas, Monaco, monospace; white-space: pre;">Map</code>&nbsp;behaviour must include a&nbsp;<code style="font-weight: bold; font-family: Consolas, Monaco, monospace; white-space: pre;">super</code>&nbsp;call to the&nbsp;<code style="font-weight: bold; font-family: Consolas, Monaco, monospace; white-space: pre;">Map</code>&nbsp;<emu-xref href="#构造器" id="_ref_7073"><a href="file:///D:/point-w/ecma262-cn/src/abc%20-%20%E5%89%AF%E6%9C%AC%20(14)%20-%20%E5%89%AF%E6%9C%AC.html#%E6%9E%84%E9%80%A0%E5%99%A8" style="text-decoration-line: none; color: rgb(32, 108, 167);">构造器</a></emu-xref>&nbsp;以便创建和初始化子类实例 with the 内部状态 necessary to support the&nbsp;<code style="font-weight: bold; font-family: Consolas, Monaco, monospace; white-space: pre;">Map.prototype</code>&nbsp;内置方法.</p><p style=""><span style="font-weight: 700;">语法</span></p><pre class="syntaxbox" style="color: rgb(59, 60, 64); font-weight: inherit; margin-top: 0px; margin-bottom: 20px; padding: 15px; background-color: rgb(221, 228, 233); font-size: 15px; line-height: 19px; font-family: consolas, monaco, &quot;Andale Mono&quot;, monospace; border-width: 0px 0px 0px 5px; border-top-style: initial; border-right-style: initial; border-bottom-style: initial; border-top-color: initial; border-right-color: initial; border-bottom-color: initial; border-left-color: rgb(85, 138, 187); direction: ltr; hyphens: none; white-space: pre-wrap;">new Map([iterable])</pre><h5 style="color: rgb(102, 102, 102); font-weight: inherit; margin-top: 0px; margin-bottom: 12px; line-height: 1; word-wrap: break-word; padding: 0px; border: 0px;" id="blogTitle6"><span style="font-weight: 700;">参数</span></h5><dl style="color: rgb(102, 102, 102); font-weight: inherit; margin-top: 0px; margin-bottom: 20px; padding: 0px; border: 0px;"><dt style="cursor: pointer; margin: 0px; padding: 0px; border: 0px;"><span style="border-style: initial; border-color: initial;">iterable</span></dt><dd style="margin-top: 0px; margin-right: 0px; margin-bottom: 24px; padding: 0px 0px 0px 20px; border: 0px;">Iterable 可以是一个数组或者其他&nbsp;iterable 对象，其元素或为键值对，或为两个元素的数组。&nbsp;每个键值对都会添加到新的 Map。<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">null</span></font>&nbsp;会被当做&nbsp;<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">undefined。</span></font></dd></dl><p style=""><b>规范算法</b></p><ol style="color: rgb(17, 17, 17); font-family: Cambria, &quot;Palatino Linotype&quot;, Palatino, &quot;Liberation Serif&quot;, serif; font-size: 18px;"><li>If NewTarget is&nbsp;<emu-val style="font-weight: bold;">undefined</emu-val>, 抛出一个&nbsp;<emu-val style="font-weight: bold;">TypeError</emu-val>&nbsp;异常.</li><li>Let&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">map</var>&nbsp;be ?&nbsp;<emu-xref aoid="OrdinaryCreateFromConstructor" id="_ref_7074"><a href="file:///D:/point-w/ecma262-cn/src/abc%20-%20%E5%89%AF%E6%9C%AC%20(14)%20-%20%E5%89%AF%E6%9C%AC.html#sec-ordinarycreatefromconstructor" style="text-decoration-line: none; color: rgb(32, 108, 167);">OrdinaryCreateFromConstructor</a></emu-xref>(NewTarget,&nbsp;<code style="font-weight: bold; font-family: Consolas, Monaco, monospace; white-space: pre;">"%MapPrototype%"</code>, « [[MapData]] »).</li><li>Set&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">map</var>.[[MapData]] to a new empty&nbsp;<emu-xref href="#sec-list-and-record-specification-type" id="_ref_7075"><a href="file:///D:/point-w/ecma262-cn/src/abc%20-%20%E5%89%AF%E6%9C%AC%20(14)%20-%20%E5%89%AF%E6%9C%AC.html#sec-list-and-record-specification-type" style="text-decoration-line: none; color: rgb(32, 108, 167);">List</a></emu-xref>.</li><li>If&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">iterable</var>&nbsp;is not present, let&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">iterable</var>&nbsp;be&nbsp;<emu-val style="font-weight: bold;">undefined</emu-val>.</li><li>If&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">iterable</var>&nbsp;is either&nbsp;<emu-val style="font-weight: bold;">undefined</emu-val>&nbsp;or&nbsp;<emu-val style="font-weight: bold;">null</emu-val>, return&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">map</var>.</li><li>Let&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">adder</var>&nbsp;be ?&nbsp;<emu-xref aoid="Get" id="_ref_7076"><a href="file:///D:/point-w/ecma262-cn/src/abc%20-%20%E5%89%AF%E6%9C%AC%20(14)%20-%20%E5%89%AF%E6%9C%AC.html#sec-get-o-p" style="text-decoration-line: none; color: rgb(32, 108, 167);">Get</a></emu-xref>(<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">map</var>,&nbsp;<code style="font-weight: bold; font-family: Consolas, Monaco, monospace; white-space: pre;">"set"</code>).</li><li>If&nbsp;<emu-xref aoid="IsCallable" id="_ref_7077"><a href="file:///D:/point-w/ecma262-cn/src/abc%20-%20%E5%89%AF%E6%9C%AC%20(14)%20-%20%E5%89%AF%E6%9C%AC.html#sec-iscallable" style="text-decoration-line: none; color: rgb(32, 108, 167);">IsCallable</a></emu-xref>(<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">adder</var>) is&nbsp;<emu-val style="font-weight: bold;">false</emu-val>, 抛出一个&nbsp;<emu-val style="font-weight: bold;">TypeError</emu-val>&nbsp;异常.</li><li>Let&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">iteratorRecord</var>&nbsp;be ?&nbsp;<emu-xref aoid="GetIterator" id="_ref_7078"><a href="file:///D:/point-w/ecma262-cn/src/abc%20-%20%E5%89%AF%E6%9C%AC%20(14)%20-%20%E5%89%AF%E6%9C%AC.html#sec-getiterator" style="text-decoration-line: none; color: rgb(32, 108, 167);">GetIterator</a></emu-xref>(<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">iterable</var>).</li><li>Repeat,<ol style="list-style-type: lower-alpha;"><li>Let&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">next</var>&nbsp;be ?&nbsp;<emu-xref aoid="IteratorStep" id="_ref_7079"><a href="file:///D:/point-w/ecma262-cn/src/abc%20-%20%E5%89%AF%E6%9C%AC%20(14)%20-%20%E5%89%AF%E6%9C%AC.html#sec-iteratorstep" style="text-decoration-line: none; color: rgb(32, 108, 167);">IteratorStep</a></emu-xref>(<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">iteratorRecord</var>).</li><li>If&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">next</var>&nbsp;is&nbsp;<emu-val style="font-weight: bold;">false</emu-val>, return&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">map</var>.</li><li>Let&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">nextItem</var>&nbsp;be ?&nbsp;<emu-xref aoid="IteratorValue" id="_ref_7080"><a href="file:///D:/point-w/ecma262-cn/src/abc%20-%20%E5%89%AF%E6%9C%AC%20(14)%20-%20%E5%89%AF%E6%9C%AC.html#sec-iteratorvalue" style="text-decoration-line: none; color: rgb(32, 108, 167);">IteratorValue</a></emu-xref>(<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">next</var>).</li><li>If&nbsp;<emu-xref aoid="Type" id="_ref_7081"><a href="file:///D:/point-w/ecma262-cn/src/abc%20-%20%E5%89%AF%E6%9C%AC%20(14)%20-%20%E5%89%AF%E6%9C%AC.html#sec-ES-data-types-and-values" style="text-decoration-line: none; color: rgb(32, 108, 167);">Type</a></emu-xref>(<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">nextItem</var>) is not Object, then<ol style="list-style-type: lower-roman;"><li>Let&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">error</var>&nbsp;be&nbsp;<emu-xref aoid="Completion" id="_ref_7082"><a href="file:///D:/point-w/ecma262-cn/src/abc%20-%20%E5%89%AF%E6%9C%AC%20(14)%20-%20%E5%89%AF%E6%9C%AC.html#sec-completion-record-specification-type" style="text-decoration-line: none; color: rgb(32, 108, 167);">Completion</a></emu-xref>{[[Type]]:&nbsp;<emu-const style="font-family: sans-serif;">throw</emu-const>, [[Value]]: a newly created&nbsp;<emu-val style="font-weight: bold;">TypeError</emu-val>&nbsp;object, [[Target]]:&nbsp;<emu-const style="font-family: sans-serif;">empty</emu-const>}.</li><li>Return ?&nbsp;<emu-xref aoid="IteratorClose" id="_ref_7083"><a href="file:///D:/point-w/ecma262-cn/src/abc%20-%20%E5%89%AF%E6%9C%AC%20(14)%20-%20%E5%89%AF%E6%9C%AC.html#sec-iteratorclose" style="text-decoration-line: none; color: rgb(32, 108, 167);">IteratorClose</a></emu-xref>(<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">iteratorRecord</var>,&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">error</var>).</li></ol></li><li>Let&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">k</var>&nbsp;be&nbsp;<emu-xref aoid="Get" id="_ref_7084"><a href="file:///D:/point-w/ecma262-cn/src/abc%20-%20%E5%89%AF%E6%9C%AC%20(14)%20-%20%E5%89%AF%E6%9C%AC.html#sec-get-o-p" style="text-decoration-line: none; color: rgb(32, 108, 167);">Get</a></emu-xref>(<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">nextItem</var>,&nbsp;<code style="font-weight: bold; font-family: Consolas, Monaco, monospace; white-space: pre;">"0"</code>).</li><li>If&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">k</var>&nbsp;is an&nbsp;<emu-xref href="#sec-completion-record-specification-type" id="_ref_7085"><a href="file:///D:/point-w/ecma262-cn/src/abc%20-%20%E5%89%AF%E6%9C%AC%20(14)%20-%20%E5%89%AF%E6%9C%AC.html#sec-completion-record-specification-type" style="text-decoration-line: none; color: rgb(32, 108, 167);">abrupt completion</a></emu-xref>, return ?&nbsp;<emu-xref aoid="IteratorClose" id="_ref_7086"><a href="file:///D:/point-w/ecma262-cn/src/abc%20-%20%E5%89%AF%E6%9C%AC%20(14)%20-%20%E5%89%AF%E6%9C%AC.html#sec-iteratorclose" style="text-decoration-line: none; color: rgb(32, 108, 167);">IteratorClose</a></emu-xref>(<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">iteratorRecord</var>,&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">k</var>).</li><li>Let&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">v</var>&nbsp;be&nbsp;<emu-xref aoid="Get" id="_ref_7087"><a href="file:///D:/point-w/ecma262-cn/src/abc%20-%20%E5%89%AF%E6%9C%AC%20(14)%20-%20%E5%89%AF%E6%9C%AC.html#sec-get-o-p" style="text-decoration-line: none; color: rgb(32, 108, 167);">Get</a></emu-xref>(<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">nextItem</var>,&nbsp;<code style="font-weight: bold; font-family: Consolas, Monaco, monospace; white-space: pre;">"1"</code>).</li><li>If&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">v</var>&nbsp;is an&nbsp;<emu-xref href="#sec-completion-record-specification-type" id="_ref_7088"><a href="file:///D:/point-w/ecma262-cn/src/abc%20-%20%E5%89%AF%E6%9C%AC%20(14)%20-%20%E5%89%AF%E6%9C%AC.html#sec-completion-record-specification-type" style="text-decoration-line: none; color: rgb(32, 108, 167);">abrupt completion</a></emu-xref>, return ?&nbsp;<emu-xref aoid="IteratorClose" id="_ref_7089"><a href="file:///D:/point-w/ecma262-cn/src/abc%20-%20%E5%89%AF%E6%9C%AC%20(14)%20-%20%E5%89%AF%E6%9C%AC.html#sec-iteratorclose" style="text-decoration-line: none; color: rgb(32, 108, 167);">IteratorClose</a></emu-xref>(<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">iteratorRecord</var>,&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">v</var>).</li><li>Let&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">status</var>&nbsp;be&nbsp;<emu-xref aoid="Call" id="_ref_7090"><a href="file:///D:/point-w/ecma262-cn/src/abc%20-%20%E5%89%AF%E6%9C%AC%20(14)%20-%20%E5%89%AF%E6%9C%AC.html#sec-call" style="text-decoration-line: none; color: rgb(32, 108, 167);">Call</a></emu-xref>(<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">adder</var>,&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">map</var>, «&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">k</var>.[[Value]],&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">v</var>.[[Value]] »).</li><li>If&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">status</var>&nbsp;is an&nbsp;<emu-xref href="#sec-completion-record-specification-type" id="_ref_7091"><a href="file:///D:/point-w/ecma262-cn/src/abc%20-%20%E5%89%AF%E6%9C%AC%20(14)%20-%20%E5%89%AF%E6%9C%AC.html#sec-completion-record-specification-type" style="text-decoration-line: none; color: rgb(32, 108, 167);">abrupt completion</a></emu-xref>, return ?&nbsp;<emu-xref aoid="IteratorClose" id="_ref_7092"><a href="file:///D:/point-w/ecma262-cn/src/abc%20-%20%E5%89%AF%E6%9C%AC%20(14)%20-%20%E5%89%AF%E6%9C%AC.html#sec-iteratorclose" style="text-decoration-line: none; color: rgb(32, 108, 167);">IteratorClose</a></emu-xref>(<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">iteratorRecord</var>,&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">status</var>).</li></ol></li></ol><p style=""><span style="font-weight: 700;">描述</span></p><p style="color: rgb(102, 102, 102); font-weight: inherit; margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;">一个Map对象以插入顺序迭代其元素&nbsp;—&nbsp;一个 &nbsp;<a title="for...of语句在可迭代对象(包括 Array,&nbsp;Map, Set, String, TypedArray，arguments&nbsp;对象等等)上创建一个迭代循环，对每个不同属性的属性值,调用一个自定义的有执行语句的迭代挂钩." href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/for...of" style="margin: 0px; padding: 0px; border: 0px;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">for...of</span></font></a>&nbsp;循环为每次迭代返回一个[key，value]数组。</p><p style="margin-top: 0px; margin-bottom: 12px; line-height: 1; overflow-wrap: break-word; padding: 0px; border: 0px;"><b>键的相等(Key equality)</b></p><p style="color: rgb(102, 102, 102); font-weight: inherit; margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;">键的比较是基于&nbsp;"same-value" 算法：<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">NaN 是与</span></font>&nbsp;<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">NaN 相同的</span></font>（虽然&nbsp;<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">NaN !== NaN），剩下</span></font>所有其它的值是根据 === 运算符的结果判断是否相等。在&nbsp;ECMAScript 6 草稿的早期版本中视&nbsp;<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">-0&nbsp;</span></font>和&nbsp;<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">+0</span></font>&nbsp;为不相同的&nbsp;(虽然&nbsp;<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">-0 === +0</span></font>)，在近期版本里这个问题已经被更正，且在&nbsp;Gecko 29 (Firefox 29 / Thunderbird 29 / SeaMonkey 2.26) (<a title="FIXED: Treat -0 and 0 as the same key in Maps and Sets" href="https://bugzilla.mozilla.org/show_bug.cgi?id=952870" class="external external-icon" style="margin: 0px; padding: 0px; border: 0px;">bug&nbsp;952870</a>) 和<a href="https://code.google.com/p/v8/issues/detail?id=3069" class="external external-icon" style="margin: 0px; padding: 0px; border: 0px;">近期的 nightly Chrome</a>&nbsp;版本这个已经更改了。</p><h3 style=""><span style="font-weight: 700;">静态属性</span></h3><h4><b>length</b></h4><dl style="margin-top: 0px; margin-bottom: 20px; padding: 0px; border: 0px;"><dt style="color: rgb(102, 102, 102); font-weight: inherit; cursor: pointer; margin: 0px; padding: 0px; border: 0px;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">Map.length</span></font></dt><dd style="color: rgb(102, 102, 102); font-weight: inherit; margin-top: 0px; margin-right: 0px; margin-bottom: 24px; padding: 0px 0px 0px 20px; border: 0px;">属性 length 的值为 0 。</dd><h4><span style="border-style: initial; border-color: initial; border-image: initial;">prototype</span></h4><div><span style="border-style: initial; border-color: initial; border-image: initial;"><span style="color: rgb(102, 102, 102);">表示&nbsp;</span><font face="consolas, Liberation Mono, courier, monospace" style="color: rgb(102, 102, 102);"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">Map</span></font><span style="color: rgb(102, 102, 102);">&nbsp;构造器的原型。&nbsp;允许添加属性从而应用于所有的&nbsp;</span><font face="consolas, Liberation Mono, courier, monospace" style="color: rgb(102, 102, 102);"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">Map</span></font><span style="color: rgb(102, 102, 102);">&nbsp;对象。</span><br></span></div><p style="color: rgb(17, 17, 17); font-family: Cambria, &quot;Palatino Linotype&quot;, Palatino, &quot;Liberation Serif&quot;, serif; font-size: 18px;">The 初始值 of&nbsp;<code style="font-weight: bold; font-family: Consolas, Monaco, monospace; white-space: pre;">Map.prototype</code>&nbsp;is the 内部对象&nbsp;<emu-xref href="#sec-properties-of-the-map-prototype-object" id="_ref_7096"><a href="file:///D:/point-w/ecma262-cn/src/abc%20-%20%E5%89%AF%E6%9C%AC%20(14)%20-%20%E5%89%AF%E6%9C%AC.html#sec-properties-of-the-map-prototype-object" style="text-decoration-line: none; color: rgb(32, 108, 167);">%MapPrototype%</a></emu-xref>.</p><p><span style="border-style: initial; border-color: initial; border-image: initial;"></span></p><p style="color: rgb(17, 17, 17); font-family: Cambria, &quot;Palatino Linotype&quot;, Palatino, &quot;Liberation Serif&quot;, serif; font-size: 18px;">该属性拥有特性 { [[Writable]]:&nbsp;<emu-val style="font-weight: bold;">false</emu-val>, [[Enumerable]]:&nbsp;<emu-val style="font-weight: bold;">false</emu-val>, [[Configurable]]:&nbsp;<emu-val style="font-weight: bold;">false</emu-val>&nbsp;}.</p><h4><span style="border-style: initial; border-color: initial; border-image: initial;">get Map [ @@species ]</span></h4><div><span style="border-style: initial; border-color: initial; border-image: initial;"><p style="color: rgb(17, 17, 17); font-family: Cambria, &quot;Palatino Linotype&quot;, Palatino, &quot;Liberation Serif&quot;, serif; font-size: 18px;"><code style="font-weight: bold; font-family: Consolas, Monaco, monospace; white-space: pre;">Map[@@species]</code>&nbsp;is an&nbsp;<emu-xref href="#sec-object-type" id="_ref_7097"><a href="file:///D:/point-w/ecma262-cn/src/abc%20-%20%E5%89%AF%E6%9C%AC%20(14)%20-%20%E5%89%AF%E6%9C%AC.html#sec-object-type" style="text-decoration-line: none; color: rgb(32, 108, 167);">访问器属性</a></emu-xref>&nbsp;whose set 访问器函数 is&nbsp;<emu-val style="font-weight: bold;">undefined</emu-val>. Its get 访问器函数 执行如下:</p><emu-alg style="color: rgb(17, 17, 17); font-family: Cambria, &quot;Palatino Linotype&quot;, Palatino, &quot;Liberation Serif&quot;, serif; font-size: 18px;"><ol><li>Return the&nbsp;<emu-val style="font-weight: bold;">this</emu-val>&nbsp;value.</li></ol></emu-alg><span style="color: rgb(17, 17, 17); font-family: Cambria, &quot;Palatino Linotype&quot;, Palatino, &quot;Liberation Serif&quot;, serif; font-size: 18px;"></span><p style="color: rgb(17, 17, 17); font-family: Cambria, &quot;Palatino Linotype&quot;, Palatino, &quot;Liberation Serif&quot;, serif; font-size: 18px;">The value of the&nbsp;<code style="font-weight: bold; font-family: Consolas, Monaco, monospace; white-space: pre;">name</code>&nbsp;property of this function is&nbsp;<code style="font-weight: bold; font-family: Consolas, Monaco, monospace; white-space: pre;">"get [Symbol.species]"</code>.</p><emu-note style="margin: 1em 0px; color: rgb(102, 102, 102); border-left: 5px solid rgb(204, 204, 204); display: flex; flex-direction: row; font-family: Cambria, &quot;Palatino Linotype&quot;, Palatino, &quot;Liberation Serif&quot;, serif; font-size: 18px;"><span class="note" style="flex: 0 1 100px; min-width: 100px; text-transform: uppercase; padding-left: 5px;">NOTE</span><div class="note-contents" style="flex-grow: 1; flex-shrink: 1;"><p style="margin-top: 0px; margin-bottom: 0px;">Methods that create derived collection objects should call @@species to determine the&nbsp;<emu-xref href="#构造器" id="_ref_7098"><a href="file:///D:/point-w/ecma262-cn/src/abc%20-%20%E5%89%AF%E6%9C%AC%20(14)%20-%20%E5%89%AF%E6%9C%AC.html#%E6%9E%84%E9%80%A0%E5%99%A8" style="text-decoration-line: none; color: rgb(32, 108, 167);">构造器</a></emu-xref>&nbsp;to use to create the derived objects. Subclass&nbsp;<emu-xref href="#构造器" id="_ref_7099"><a href="file:///D:/point-w/ecma262-cn/src/abc%20-%20%E5%89%AF%E6%9C%AC%20(14)%20-%20%E5%89%AF%E6%9C%AC.html#%E6%9E%84%E9%80%A0%E5%99%A8" style="text-decoration-line: none; color: rgb(32, 108, 167);">构造器</a></emu-xref>&nbsp;may over-ride @@species to change the default&nbsp;<emu-xref href="#构造器" id="_ref_7100"><a href="file:///D:/point-w/ecma262-cn/src/abc%20-%20%E5%89%AF%E6%9C%AC%20(14)%20-%20%E5%89%AF%E6%9C%AC.html#%E6%9E%84%E9%80%A0%E5%99%A8" style="text-decoration-line: none; color: rgb(32, 108, 167);">构造器</a></emu-xref>&nbsp;assignment.</p></div></emu-note></span></div><dt style="color: rgb(102, 102, 102); font-weight: inherit; cursor: pointer; margin: 0px; padding: 0px; border: 0px;"><font face="consolas, Liberation Mono, courier, monospace" style="margin: 0px; padding: 0px; border: 0px;"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;"><a title="此页面仍未被本地化, 期待您的翻译!" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Map/@@species" class="new" style="margin: 0px; padding: 0px; border: 0px;">get Map[@@species]</a></span></font></dt><dd style="color: rgb(102, 102, 102); font-weight: inherit; margin-top: 0px; margin-right: 0px; margin-bottom: 24px; padding: 0px 0px 0px 20px; border: 0px;">本构造函数用于创建派生对象。Map[@@species] 访问器属性会返回一个 Map 构造函数.</dd><dd style="color: rgb(102, 102, 102); font-weight: inherit; margin-top: 0px; margin-right: 0px; margin-bottom: 24px; padding: 0px 0px 0px 20px; border: 0px;"><pre class="syntaxbox" style="margin-bottom: 20px; padding: 15px; border-top: 0px solid rgb(63, 135, 166); border-bottom: 0px solid rgb(63, 135, 166); border-right-style: solid; border-left-style: solid; border-right-color: rgb(63, 135, 166); border-left-color: rgb(63, 135, 166); border-image: initial; box-sizing: border-box; position: relative; font-size: medium; background-color: rgb(228, 240, 245); color: rgb(51, 51, 51); font-family: consolas, monaco, &quot;Andale Mono&quot;, monospace; line-height: 1; direction: ltr; hyphens: none; width: 584.344px; max-width: 100%; white-space: pre-wrap; border-right-width: 0px !important; border-left-width: 5px !important;">Map[Symbol.species]</pre></dd><dd style="color: rgb(102, 102, 102); font-weight: inherit; margin-top: 0px; margin-right: 0px; margin-bottom: 24px; padding: 0px 0px 0px 20px; border: 0px;"><span style="color: rgb(51, 51, 51); font-family: &quot;Open Sans&quot;, arial, x-locale-body, sans-serif; font-size: medium; background-color: rgb(255, 255, 255);">The species accessor property returns the default constructor for&nbsp;</span><code style="margin: 0px; padding: 0px 2px; border: 0px; background-color: rgba(220, 220, 220, 0.5); border-radius: 2px; font-family: consolas, &quot;Liberation Mono&quot;, courier, monospace; word-wrap: break-word; color: rgb(51, 51, 51); font-size: medium; white-space: normal;">Map</code><span style="color: rgb(51, 51, 51); font-family: &quot;Open Sans&quot;, arial, x-locale-body, sans-serif; font-size: medium; background-color: rgb(255, 255, 255);">&nbsp;objects. Subclass constructors may over-ride it to change the constructor assignment.</span><br></dd><dd style="color: rgb(102, 102, 102); font-weight: inherit; margin-top: 0px; margin-right: 0px; margin-bottom: 24px; padding: 0px 0px 0px 20px; border: 0px;"><p style="margin-bottom: 24px; padding: 0px; border: 0px; box-sizing: border-box; max-width: 42rem; color: rgb(51, 51, 51); font-family: &quot;Open Sans&quot;, arial, x-locale-body, sans-serif; font-size: medium; background-color: rgb(255, 255, 255);">The species property returns the default constructor function, which is the&nbsp;<code style="font-style: inherit; margin: 0px; padding: 0px 2px; border: 0px; font-weight: inherit; background-color: rgba(220, 220, 220, 0.5); border-radius: 2px; font-family: consolas, &quot;Liberation Mono&quot;, courier, monospace; word-wrap: break-word;">Map</code>&nbsp;constructor for&nbsp;<code style="font-style: inherit; margin: 0px; padding: 0px 2px; border: 0px; font-weight: inherit; background-color: rgba(220, 220, 220, 0.5); border-radius: 2px; font-family: consolas, &quot;Liberation Mono&quot;, courier, monospace; word-wrap: break-word;">Map</code>&nbsp;objects:</p><pre class="brush: js line-numbers  language-js" style="margin-top: 0px; margin-bottom: 20px; padding: 15px 15px 15px 3.8em; border-top: 0px solid rgb(63, 135, 166); border-bottom: 0px solid rgb(63, 135, 166); border-right-style: solid; border-left-style: solid; border-right-color: rgb(63, 135, 166); border-left-color: rgb(63, 135, 166); border-image: initial; box-sizing: border-box; position: relative; font-size: medium; background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: consolas, monaco, &quot;Andale Mono&quot;, monospace; line-height: 1.5; direction: ltr; hyphens: none; width: 584.344px; max-width: 100%; text-shadow: none; word-break: normal; word-wrap: normal; counter-reset: linenumber 0; border-right-width: 0px !important; border-left-width: 5px !important;"><code class=" language-js" style="margin: 0px; padding: 0px; border: 0px; font-weight: inherit; background-color: transparent; border-radius: 2px; font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; word-wrap: normal; text-shadow: none; direction: ltr; word-spacing: normal; word-break: normal; line-height: 1.5; tab-size: 4; hyphens: none; position: relative;">Map[Symbol.species]; // function Map()</code></pre><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px; box-sizing: border-box; max-width: 42rem; color: rgb(51, 51, 51); font-family: &quot;Open Sans&quot;, arial, x-locale-body, sans-serif; font-size: medium; background-color: rgb(255, 255, 255);">In a derived collection object (e.g. your custom map&nbsp;<code style="font-style: inherit; margin: 0px; padding: 0px 2px; border: 0px; font-weight: inherit; background-color: rgba(220, 220, 220, 0.5); border-radius: 2px; font-family: consolas, &quot;Liberation Mono&quot;, courier, monospace; word-wrap: break-word;">MyMap</code>), the&nbsp;<code style="font-style: inherit; margin: 0px; padding: 0px 2px; border: 0px; font-weight: inherit; background-color: rgba(220, 220, 220, 0.5); border-radius: 2px; font-family: consolas, &quot;Liberation Mono&quot;, courier, monospace; word-wrap: break-word;">MyMap</code>&nbsp;species is the&nbsp;<code style="font-style: inherit; margin: 0px; padding: 0px 2px; border: 0px; font-weight: inherit; background-color: rgba(220, 220, 220, 0.5); border-radius: 2px; font-family: consolas, &quot;Liberation Mono&quot;, courier, monospace; word-wrap: break-word;">MyMap</code>&nbsp;constructor. However, you might want to overwrite this, in order to return parent&nbsp;<code style="font-style: inherit; margin: 0px; padding: 0px 2px; border: 0px; font-weight: inherit; background-color: rgba(220, 220, 220, 0.5); border-radius: 2px; font-family: consolas, &quot;Liberation Mono&quot;, courier, monospace; word-wrap: break-word;">Map</code>&nbsp;objects in your derived class methods:</p><pre class="brush: js line-numbers  language-js" style="margin-top: 0px; margin-bottom: 20px; padding: 15px 15px 15px 3.8em; border-top: 0px solid rgb(63, 135, 166); border-bottom: 0px solid rgb(63, 135, 166); border-right-style: solid; border-left-style: solid; border-right-color: rgb(63, 135, 166); border-left-color: rgb(63, 135, 166); border-image: initial; box-sizing: border-box; position: relative; font-size: medium; background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: consolas, monaco, &quot;Andale Mono&quot;, monospace; line-height: 1.5; direction: ltr; hyphens: none; width: 584.344px; max-width: 100%; text-shadow: none; word-break: normal; word-wrap: normal; counter-reset: linenumber 0; border-right-width: 0px !important; border-left-width: 5px !important;"><code class=" language-js" style="margin: 0px; padding: 0px; border: 0px; font-weight: inherit; background-color: transparent; border-radius: 2px; font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; word-wrap: normal; text-shadow: none; direction: ltr; word-spacing: normal; word-break: normal; line-height: 1.5; tab-size: 4; hyphens: none; position: relative;">class MyMap extends Map {
  // 重写覆盖 MyMap species to the parent Map constructor
  static get [Symbol.species]() { return Map; }
}</code></pre></dd></dl><h2><b><span style="border-style: initial; border-color: initial; word-break: break-all;">Map</span>&nbsp;原型对象</b></h2><p style="color: rgb(102, 102, 102); font-weight: inherit; margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">所有的&nbsp;<span style="border-style: initial; border-color: initial;">Map</span></span></font>&nbsp;对象实例都会继承&nbsp;<a title="Map.prototype 属性表示 Map构造函数的原型对象。" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Map/prototype" style="margin: 0px; padding: 0px; border: 0px;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">Map.prototype</span></font></a>。</p><h3 id="blogTitle11"><b>属性</b></h3><h4><b>constructor</b></h4><div><p style="margin-top: 0px; margin-bottom: 24px; font-weight: inherit; color: rgb(102, 102, 102); padding: 0px; border: 0px;"></p><dl style="margin-top: 0px; margin-bottom: 20px; padding: 0px; border: 0px;"><dt style="color: rgb(102, 102, 102); font-weight: inherit; cursor: pointer; margin: 0px; padding: 0px; border: 0px;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">Map.prototype.constructor</span></font></dt><dd style="color: rgb(102, 102, 102); font-weight: inherit; margin-top: 0px; margin-right: 0px; margin-bottom: 24px; padding: 0px 0px 0px 20px; border: 0px;">返回一个函数，它创建了实例的原型。默认是&nbsp;<font face="consolas, Liberation Mono, courier, monospace" style="margin: 0px; padding: 0px; border: 0px;"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;"><a title="此页面仍未被本地化, 期待您的翻译!" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Map" style="margin: 0px; padding: 0px; border: 0px;">Map</a>&nbsp;</span></font>函数。</dd><h4 style=""><span style="border-style: initial; border-color: initial; border-image: initial;">size</span></h4><p><span style="border-style: initial; border-color: initial; border-image: initial;">get Map.prototype.size</span></p><p style="color: rgb(17, 17, 17); font-family: Cambria, &quot;Palatino Linotype&quot;, Palatino, &quot;Liberation Serif&quot;, serif; font-size: 18px;">Map.prototype.size is an&nbsp;<emu-xref href="#sec-object-type" id="_ref_7132"><a href="file:///D:/point-w/ecma262-cn/src/abc%20-%20%E5%89%AF%E6%9C%AC%20(14)%20-%20%E5%89%AF%E6%9C%AC.html#sec-object-type" style="text-decoration-line: none; color: rgb(32, 108, 167);">访问器属性</a></emu-xref>&nbsp;whose set 访问器函数 is&nbsp;<emu-val style="font-weight: bold;">undefined</emu-val>. Its get 访问器函数 执行如下:</p><p><span style="border-style: initial; border-color: initial; border-image: initial;"><emu-alg style="color: rgb(17, 17, 17); font-family: Cambria, &quot;Palatino Linotype&quot;, Palatino, &quot;Liberation Serif&quot;, serif; font-size: 18px;"></emu-alg></span></p><ol style="list-style-type: decimal;"><li>Let<span>&nbsp;</span><var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">M</var><span>&nbsp;</span>be the<span>&nbsp;</span><emu-val style="font-weight: bold;">this</emu-val><span>&nbsp;</span>value.</li><li>If<span>&nbsp;</span><emu-xref aoid="Type" id="_ref_7133"><a href="file:///D:/point-w/ecma262-cn/src/abc%20-%20%E5%89%AF%E6%9C%AC%20(14)%20-%20%E5%89%AF%E6%9C%AC.html#sec-ES-data-types-and-values" style="text-decoration: none; color: rgb(32, 108, 167);">Type</a></emu-xref>(<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">M</var>) is not Object, 抛出一个<span>&nbsp;</span><emu-val style="font-weight: bold;">TypeError</emu-val><span>&nbsp;</span>异常.</li><li>If<span>&nbsp;</span><var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">M</var><span>&nbsp;</span>does not have a [[MapData]] 内部属性, 抛出一个<span>&nbsp;</span><emu-val style="font-weight: bold;">TypeError</emu-val><span>&nbsp;</span>异常.</li><li>Let<span>&nbsp;</span><var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">entries</var><span>&nbsp;</span>be the<span>&nbsp;</span><emu-xref href="#sec-list-and-record-specification-type" id="_ref_7134"><a href="file:///D:/point-w/ecma262-cn/src/abc%20-%20%E5%89%AF%E6%9C%AC%20(14)%20-%20%E5%89%AF%E6%9C%AC.html#sec-list-and-record-specification-type" style="text-decoration: none; color: rgb(32, 108, 167);">List</a></emu-xref><span>&nbsp;</span>that is<span>&nbsp;</span><var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">M</var>.[[MapData]].</li><li>Let<span>&nbsp;</span><var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">count</var><span>&nbsp;</span>be 0.</li><li>For each<span>&nbsp;</span><emu-xref href="#sec-list-and-record-specification-type" id="_ref_7135"><a href="file:///D:/point-w/ecma262-cn/src/abc%20-%20%E5%89%AF%E6%9C%AC%20(14)%20-%20%E5%89%AF%E6%9C%AC.html#sec-list-and-record-specification-type" style="text-decoration: none; color: rgb(32, 108, 167);">Record</a></emu-xref><span>&nbsp;</span>{[[Key]], [[Value]]}<span>&nbsp;</span><var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">p</var><span>&nbsp;</span>that is an element of<span>&nbsp;</span><var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">entries</var>, do<ol style="list-style-type: lower-alpha;"><li>If<span>&nbsp;</span><var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">p</var>.[[Key]] is not<span>&nbsp;</span><emu-const style="font-family: sans-serif;">empty</emu-const>, set<span>&nbsp;</span><var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">count</var><span>&nbsp;</span>to<span>&nbsp;</span><var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">count</var>+1.</li></ol></li><li>Return<span>&nbsp;</span><var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">count</var>.</li></ol><dt style="color: rgb(102, 102, 102); font-weight: inherit; cursor: pointer; margin: 0px; padding: 0px; border: 0px;"><font face="consolas, Liberation Mono, courier, monospace" style="margin: 0px; padding: 0px; border: 0px;"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;"><a title="size&nbsp;可访问属性返回&nbsp;Map 对象的元素数量." href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Map/size" style="margin: 0px; padding: 0px; border: 0px;">Map.prototype.size</a></span></font></dt><dd style="color: rgb(102, 102, 102); font-weight: inherit; margin-top: 0px; margin-right: 0px; margin-bottom: 24px; padding: 0px 0px 0px 20px; border: 0px;">size 可访问属性返回 Map 对象的元素数量.</dd><dd style="color: rgb(102, 102, 102); font-weight: inherit; margin-top: 0px; margin-right: 0px; margin-bottom: 24px; padding: 0px 0px 0px 20px; border: 0px;"><span style="color: rgb(51, 51, 51); font-family: &quot;Open Sans&quot;, arial, x-locale-body, sans-serif; font-size: medium; background-color: rgb(255, 255, 255);">size 属性的值是一个整数，表示 Map 对象有多少个键值对。size 是只读属性，它对应的 set 方法是 undefined，即不能改变它的值。</span><br></dd><dd style="color: rgb(102, 102, 102); font-weight: inherit; margin-top: 0px; margin-right: 0px; margin-bottom: 24px; padding: 0px 0px 0px 20px; border: 0px;"><pre class="brush:js line-numbers  language-js" style="margin-bottom: 20px; padding: 15px 15px 15px 3.8em; border-top: 0px solid rgb(63, 135, 166); border-bottom: 0px solid rgb(63, 135, 166); border-right-style: solid; border-left-style: solid; border-right-color: rgb(63, 135, 166); border-left-color: rgb(63, 135, 166); border-image: initial; box-sizing: border-box; position: relative; font-size: medium; background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: consolas, monaco, &quot;Andale Mono&quot;, monospace; line-height: 1.5; direction: ltr; hyphens: none; width: 584.344px; max-width: 100%; text-shadow: none; word-break: normal; word-wrap: normal; counter-reset: linenumber 0; border-right-width: 0px !important; border-left-width: 5px !important;"><code class=" language-js" style="margin: 0px; padding: 0px; border: 0px; font-weight: inherit; background-color: transparent; border-radius: 2px; font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; word-wrap: normal; text-shadow: none; direction: ltr; word-spacing: normal; word-break: normal; line-height: 1.5; tab-size: 4; hyphens: none; position: relative;">var myMap = new Map();
myMap.set("a", "alpha");
myMap.set("b", "beta");
myMap.set("g", "gamma");

myMap.size // 3</code></pre></dd></dl></div><h3 style=""><b>方法</b></h3><h4><b>clear</b></h4><div><p style="color: rgb(17, 17, 17); font-family: Cambria, &quot;Palatino Linotype&quot;, Palatino, &quot;Liberation Serif&quot;, serif; font-size: 18px;">执行如下:</p><emu-alg style="color: rgb(17, 17, 17); font-family: Cambria, &quot;Palatino Linotype&quot;, Palatino, &quot;Liberation Serif&quot;, serif; font-size: 18px;"><ol><li>Let&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">M</var>&nbsp;be the&nbsp;<emu-val style="font-weight: bold;">this</emu-val>&nbsp;value.</li><li>If&nbsp;<emu-xref aoid="Type" id="_ref_7102"><a href="file:///D:/point-w/ecma262-cn/src/abc%20-%20%E5%89%AF%E6%9C%AC%20(14)%20-%20%E5%89%AF%E6%9C%AC.html#sec-ES-data-types-and-values" style="text-decoration-line: none; color: rgb(32, 108, 167);">Type</a></emu-xref>(<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">M</var>) is not Object, 抛出一个&nbsp;<emu-val style="font-weight: bold;">TypeError</emu-val>&nbsp;异常.</li><li>If&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">M</var>&nbsp;does not have a [[MapData]] 内部属性, 抛出一个&nbsp;<emu-val style="font-weight: bold;">TypeError</emu-val>&nbsp;异常.</li><li>Let&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">entries</var>&nbsp;be the&nbsp;<emu-xref href="#sec-list-and-record-specification-type" id="_ref_7103"><a href="file:///D:/point-w/ecma262-cn/src/abc%20-%20%E5%89%AF%E6%9C%AC%20(14)%20-%20%E5%89%AF%E6%9C%AC.html#sec-list-and-record-specification-type" style="text-decoration-line: none; color: rgb(32, 108, 167);">List</a></emu-xref>&nbsp;that is&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">M</var>.[[MapData]].</li><li>For each&nbsp;<emu-xref href="#sec-list-and-record-specification-type" id="_ref_7104"><a href="file:///D:/point-w/ecma262-cn/src/abc%20-%20%E5%89%AF%E6%9C%AC%20(14)%20-%20%E5%89%AF%E6%9C%AC.html#sec-list-and-record-specification-type" style="text-decoration-line: none; color: rgb(32, 108, 167);">Record</a></emu-xref>&nbsp;{[[Key]], [[Value]]}&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">p</var>&nbsp;that is an element of&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">entries</var>, do<ol style="list-style-type: lower-alpha;"><li>Set&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">p</var>.[[Key]] to&nbsp;<emu-const style="font-family: sans-serif;">empty</emu-const>.</li><li>Set&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">p</var>.[[Value]] to&nbsp;<emu-const style="font-family: sans-serif;">empty</emu-const>.</li></ol></li><li>Return&nbsp;<emu-val style="font-weight: bold;">undefined</emu-val>.</li></ol></emu-alg><span style="color: rgb(17, 17, 17); font-family: Cambria, &quot;Palatino Linotype&quot;, Palatino, &quot;Liberation Serif&quot;, serif; font-size: 18px;"></span><emu-note style="margin: 1em 0px; color: rgb(102, 102, 102); border-left: 5px solid rgb(204, 204, 204); display: flex; flex-direction: row; font-family: Cambria, &quot;Palatino Linotype&quot;, Palatino, &quot;Liberation Serif&quot;, serif; font-size: 18px;"><span class="note" style="flex: 0 1 100px; min-width: 100px; text-transform: uppercase; padding-left: 5px;">NOTE</span><div class="note-contents" style="flex-grow: 1; flex-shrink: 1;"><p style="margin-top: 0px; margin-bottom: 0px;">The existing [[MapData]]&nbsp;<emu-xref href="#sec-list-and-record-specification-type" id="_ref_7105"><a href="file:///D:/point-w/ecma262-cn/src/abc%20-%20%E5%89%AF%E6%9C%AC%20(14)%20-%20%E5%89%AF%E6%9C%AC.html#sec-list-and-record-specification-type" style="text-decoration-line: none; color: rgb(32, 108, 167);">List</a></emu-xref>&nbsp;is preserved because there may be existing Map 迭代器对象 that are suspended midway through iterating over that&nbsp;<emu-xref href="#sec-list-and-record-specification-type" id="_ref_7106"><a href="file:///D:/point-w/ecma262-cn/src/abc%20-%20%E5%89%AF%E6%9C%AC%20(14)%20-%20%E5%89%AF%E6%9C%AC.html#sec-list-and-record-specification-type" style="text-decoration-line: none; color: rgb(32, 108, 167);">List</a></emu-xref>.</p></div></emu-note></div><div><p style="font-weight: inherit; color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;"><code style="font-size: 0.7rem; font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">clear</code>方法清除所有成员，没有返回值。</p><pre class=" language-javascript" style="padding-left: 0.7rem; border-radius: 5px; background-color: rgb(17, 17, 17); font-size: 14.336px; line-height: 1.2; color: rgb(255, 255, 255); font-weight: inherit; margin: 0.5em auto; text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;">let map = new Map();
map.set('foo', true);
map.set('bar', false);

map.size // 2
map.clear()
map.size // 0</code></pre></div><h4>delete<br></h4><div><p style="color: rgb(17, 17, 17); font-family: Cambria, &quot;Palatino Linotype&quot;, Palatino, &quot;Liberation Serif&quot;, serif; font-size: 18px;">执行如下:</p><emu-alg style="color: rgb(17, 17, 17); font-family: Cambria, &quot;Palatino Linotype&quot;, Palatino, &quot;Liberation Serif&quot;, serif; font-size: 18px;"><ol><li>Let&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">M</var>&nbsp;be the&nbsp;<emu-val style="font-weight: bold;">this</emu-val>&nbsp;value.</li><li>If&nbsp;<emu-xref aoid="Type" id="_ref_7108"><a href="file:///D:/point-w/ecma262-cn/src/abc%20-%20%E5%89%AF%E6%9C%AC%20(14)%20-%20%E5%89%AF%E6%9C%AC.html#sec-ES-data-types-and-values" style="text-decoration-line: none; color: rgb(32, 108, 167);">Type</a></emu-xref>(<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">M</var>) is not Object, 抛出一个&nbsp;<emu-val style="font-weight: bold;">TypeError</emu-val>&nbsp;异常.</li><li>If&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">M</var>&nbsp;does not have a [[MapData]] 内部属性, 抛出一个&nbsp;<emu-val style="font-weight: bold;">TypeError</emu-val>&nbsp;异常.</li><li>Let&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">entries</var>&nbsp;be the&nbsp;<emu-xref href="#sec-list-and-record-specification-type" id="_ref_7109"><a href="file:///D:/point-w/ecma262-cn/src/abc%20-%20%E5%89%AF%E6%9C%AC%20(14)%20-%20%E5%89%AF%E6%9C%AC.html#sec-list-and-record-specification-type" style="text-decoration-line: none; color: rgb(32, 108, 167);">List</a></emu-xref>&nbsp;that is&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">M</var>.[[MapData]].</li><li>For each&nbsp;<emu-xref href="#sec-list-and-record-specification-type" id="_ref_7110"><a href="file:///D:/point-w/ecma262-cn/src/abc%20-%20%E5%89%AF%E6%9C%AC%20(14)%20-%20%E5%89%AF%E6%9C%AC.html#sec-list-and-record-specification-type" style="text-decoration-line: none; color: rgb(32, 108, 167);">Record</a></emu-xref>&nbsp;{[[Key]], [[Value]]}&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">p</var>&nbsp;that is an element of&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">entries</var>, do<ol style="list-style-type: lower-alpha;"><li>If&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">p</var>.[[Key]] is not&nbsp;<emu-const style="font-family: sans-serif;">empty</emu-const>&nbsp;and&nbsp;<emu-xref aoid="SameValueZero" id="_ref_7111"><a href="file:///D:/point-w/ecma262-cn/src/abc%20-%20%E5%89%AF%E6%9C%AC%20(14)%20-%20%E5%89%AF%E6%9C%AC.html#sec-samevaluezero" style="text-decoration-line: none; color: rgb(32, 108, 167);">SameValueZero</a></emu-xref>(<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">p</var>.[[Key]],&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">key</var>) is&nbsp;<emu-val style="font-weight: bold;">true</emu-val>, then<ol style="list-style-type: lower-roman;"><li>Set&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">p</var>.[[Key]] to&nbsp;<emu-const style="font-family: sans-serif;">empty</emu-const>.</li><li>Set&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">p</var>.[[Value]] to&nbsp;<emu-const style="font-family: sans-serif;">empty</emu-const>.</li><li>Return&nbsp;<emu-val style="font-weight: bold;">true</emu-val>.</li></ol></li></ol></li><li>Return&nbsp;<emu-val style="font-weight: bold;">false</emu-val>.</li></ol></emu-alg><span style="color: rgb(17, 17, 17); font-family: Cambria, &quot;Palatino Linotype&quot;, Palatino, &quot;Liberation Serif&quot;, serif; font-size: 18px;"></span><emu-note style="margin: 1em 0px; color: rgb(102, 102, 102); border-left: 5px solid rgb(204, 204, 204); display: flex; flex-direction: row; font-family: Cambria, &quot;Palatino Linotype&quot;, Palatino, &quot;Liberation Serif&quot;, serif; font-size: 18px;"><span class="note" style="flex: 0 1 100px; min-width: 100px; text-transform: uppercase; padding-left: 5px;">NOTE</span><div class="note-contents" style="flex-grow: 1; flex-shrink: 1;"><p style="margin-top: 0px; margin-bottom: 0px;">The value&nbsp;<emu-const style="font-family: sans-serif;">empty</emu-const>&nbsp;is used as a specification device to indicate that an entry has been deleted. Actual implementations may take other actions 例如 physically removing the entry from internal 数据结构.</p></div></emu-note></div><div><p style="font-weight: inherit; color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;"><code style="font-size: 0.7rem; font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">delete</code>方法删除某个键，返回<code style="font-size: 0.7rem; font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">true</code>。如果删除失败，返回<code style="font-size: 0.7rem; font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">false</code>。</p><pre class=" language-javascript" style="padding-left: 0.7rem; border-radius: 5px; background-color: rgb(17, 17, 17); font-size: 14.336px; line-height: 1.2; color: rgb(255, 255, 255); font-weight: inherit; margin: 0.5em auto; text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;">const m = new Map();
m.set(undefined, 'nah');
m.has(undefined)     // true

m.delete(undefined)
m.has(undefined)       // false</code></pre></div><h4>entries<br></h4><div><p style="color: rgb(17, 17, 17); font-family: Cambria, &quot;Palatino Linotype&quot;, Palatino, &quot;Liberation Serif&quot;, serif; font-size: 18px;">执行如下:</p><emu-alg style="color: rgb(17, 17, 17); font-family: Cambria, &quot;Palatino Linotype&quot;, Palatino, &quot;Liberation Serif&quot;, serif; font-size: 18px;"><ol><li>Let&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">M</var>&nbsp;be the&nbsp;<emu-val style="font-weight: bold;">this</emu-val>&nbsp;value.</li><li>Return ?&nbsp;<emu-xref aoid="CreateMapIterator" id="_ref_7112"><a href="file:///D:/point-w/ecma262-cn/src/abc%20-%20%E5%89%AF%E6%9C%AC%20(14)%20-%20%E5%89%AF%E6%9C%AC.html#sec-createmapiterator" style="text-decoration-line: none; color: rgb(32, 108, 167);">CreateMapIterator</a></emu-xref>(<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">M</var>,&nbsp;<code style="font-weight: bold; font-family: Consolas, Monaco, monospace; white-space: pre;">"key+value"</code>).</li></ol></emu-alg></div><div><br></div><h4>forEach<br></h4><div><p style="color: rgb(17, 17, 17); font-family: Cambria, &quot;Palatino Linotype&quot;, Palatino, &quot;Liberation Serif&quot;, serif; font-size: 18px;">When the&nbsp;<code style="font-weight: bold; font-family: Consolas, Monaco, monospace; white-space: pre;">forEach</code>&nbsp;method is called with one or two arguments, 执行如下:</p><emu-alg style="color: rgb(17, 17, 17); font-family: Cambria, &quot;Palatino Linotype&quot;, Palatino, &quot;Liberation Serif&quot;, serif; font-size: 18px;"><ol><li>Let&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">M</var>&nbsp;be the&nbsp;<emu-val style="font-weight: bold;">this</emu-val>&nbsp;value.</li><li>If&nbsp;<emu-xref aoid="Type" id="_ref_7113"><a href="file:///D:/point-w/ecma262-cn/src/abc%20-%20%E5%89%AF%E6%9C%AC%20(14)%20-%20%E5%89%AF%E6%9C%AC.html#sec-ES-data-types-and-values" style="text-decoration-line: none; color: rgb(32, 108, 167);">Type</a></emu-xref>(<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">M</var>) is not Object, 抛出一个&nbsp;<emu-val style="font-weight: bold;">TypeError</emu-val>&nbsp;异常.</li><li>If&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">M</var>&nbsp;does not have a [[MapData]] 内部属性, 抛出一个&nbsp;<emu-val style="font-weight: bold;">TypeError</emu-val>&nbsp;异常.</li><li>If&nbsp;<emu-xref aoid="IsCallable" id="_ref_7114"><a href="file:///D:/point-w/ecma262-cn/src/abc%20-%20%E5%89%AF%E6%9C%AC%20(14)%20-%20%E5%89%AF%E6%9C%AC.html#sec-iscallable" style="text-decoration-line: none; color: rgb(32, 108, 167);">IsCallable</a></emu-xref>(<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">callbackfn</var>) is&nbsp;<emu-val style="font-weight: bold;">false</emu-val>, 抛出一个&nbsp;<emu-val style="font-weight: bold;">TypeError</emu-val>&nbsp;异常.</li><li>If&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">thisArg</var>&nbsp;is present, let&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">T</var>&nbsp;be&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">thisArg</var>; else let&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">T</var>&nbsp;be&nbsp;<emu-val style="font-weight: bold;">undefined</emu-val>.</li><li>Let&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">entries</var>&nbsp;be the&nbsp;<emu-xref href="#sec-list-and-record-specification-type" id="_ref_7115"><a href="file:///D:/point-w/ecma262-cn/src/abc%20-%20%E5%89%AF%E6%9C%AC%20(14)%20-%20%E5%89%AF%E6%9C%AC.html#sec-list-and-record-specification-type" style="text-decoration-line: none; color: rgb(32, 108, 167);">List</a></emu-xref>&nbsp;that is&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">M</var>.[[MapData]].</li><li>For each&nbsp;<emu-xref href="#sec-list-and-record-specification-type" id="_ref_7116"><a href="file:///D:/point-w/ecma262-cn/src/abc%20-%20%E5%89%AF%E6%9C%AC%20(14)%20-%20%E5%89%AF%E6%9C%AC.html#sec-list-and-record-specification-type" style="text-decoration-line: none; color: rgb(32, 108, 167);">Record</a></emu-xref>&nbsp;{[[Key]], [[Value]]}&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">e</var>&nbsp;that is an element of&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">entries</var>, in original key insertion order, do<ol style="list-style-type: lower-alpha;"><li>If&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">e</var>.[[Key]] is not&nbsp;<emu-const style="font-family: sans-serif;">empty</emu-const>, then<ol style="list-style-type: lower-roman;"><li>Perform ?&nbsp;<emu-xref aoid="Call" id="_ref_7117"><a href="file:///D:/point-w/ecma262-cn/src/abc%20-%20%E5%89%AF%E6%9C%AC%20(14)%20-%20%E5%89%AF%E6%9C%AC.html#sec-call" style="text-decoration-line: none; color: rgb(32, 108, 167);">Call</a></emu-xref>(<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">callbackfn</var>,&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">T</var>, «&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">e</var>.[[Value]],&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">e</var>.[[Key]],&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">M</var>&nbsp;»).</li></ol></li></ol></li><li>Return&nbsp;<emu-val style="font-weight: bold;">undefined</emu-val>.</li></ol></emu-alg><span style="color: rgb(17, 17, 17); font-family: Cambria, &quot;Palatino Linotype&quot;, Palatino, &quot;Liberation Serif&quot;, serif; font-size: 18px;"></span><emu-note style="margin: 1em 0px; color: rgb(102, 102, 102); border-left: 5px solid rgb(204, 204, 204); display: flex; flex-direction: row; font-family: Cambria, &quot;Palatino Linotype&quot;, Palatino, &quot;Liberation Serif&quot;, serif; font-size: 18px;"><span class="note" style="flex: 0 1 100px; min-width: 100px; text-transform: uppercase; padding-left: 5px;">NOTE</span><div class="note-contents" style="flex-grow: 1; flex-shrink: 1;"><p style="margin-top: 0px;"><var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">callbackfn</var>&nbsp;should be a function that accepts three arguments.&nbsp;<code style="font-weight: bold; font-family: Consolas, Monaco, monospace; white-space: pre;">forEach</code>&nbsp;calls&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">callbackfn</var>&nbsp;once for each key/value pair present in the map object, in key insertion order.&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">callbackfn</var>&nbsp;is called only for keys of the map which actually exist; it is not called for keys that have been deleted from the map.</p><p>If a&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">thisArg</var>&nbsp;parameter is provided, it will be used as the&nbsp;<emu-val style="font-weight: bold;">this</emu-val>&nbsp;value for each invocation of&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">callbackfn</var>. If it is not provided,&nbsp;<emu-val style="font-weight: bold;">undefined</emu-val>&nbsp;is used instead.</p><p><var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">callbackfn</var>&nbsp;is called with three arguments: the value of the item, the key of the item, and the Map object being traversed.</p><p style="margin-bottom: 0px;"><code style="font-weight: bold; font-family: Consolas, Monaco, monospace; white-space: pre;">forEach</code>&nbsp;does not directly mutate the object on which it is called but the object may be mutated by the calls to&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">callbackfn</var>. Each entry of a map's [[MapData]] is only visited once. New keys added after the call to&nbsp;<code style="font-weight: bold; font-family: Consolas, Monaco, monospace; white-space: pre;">forEach</code>&nbsp;begins are visited. A key will be revisited if it is deleted after it has been visited and then re-added before the&nbsp;<code style="font-weight: bold; font-family: Consolas, Monaco, monospace; white-space: pre;">forEach</code>&nbsp;call completes. Keys that are deleted after the call to&nbsp;<code style="font-weight: bold; font-family: Consolas, Monaco, monospace; white-space: pre;">forEach</code>&nbsp;begins and before being visited are not visited unless the key is added again before the&nbsp;<code style="font-weight: bold; font-family: Consolas, Monaco, monospace; white-space: pre;">forEach</code>&nbsp;call completes.</p></div></emu-note></div><div><br></div><h4>get</h4><div><p style="color: rgb(17, 17, 17); font-family: Cambria, &quot;Palatino Linotype&quot;, Palatino, &quot;Liberation Serif&quot;, serif; font-size: 18px;">执行如下:</p><emu-alg style="color: rgb(17, 17, 17); font-family: Cambria, &quot;Palatino Linotype&quot;, Palatino, &quot;Liberation Serif&quot;, serif; font-size: 18px;"><ol><li>Let&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">M</var>&nbsp;be the&nbsp;<emu-val style="font-weight: bold;">this</emu-val>&nbsp;value.</li><li>If&nbsp;<emu-xref aoid="Type" id="_ref_7118"><a href="file:///D:/point-w/ecma262-cn/src/abc%20-%20%E5%89%AF%E6%9C%AC%20(14)%20-%20%E5%89%AF%E6%9C%AC.html#sec-ES-data-types-and-values" style="text-decoration-line: none; color: rgb(32, 108, 167);">Type</a></emu-xref>(<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">M</var>) is not Object, 抛出一个&nbsp;<emu-val style="font-weight: bold;">TypeError</emu-val>&nbsp;异常.</li><li>If&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">M</var>&nbsp;does not have a [[MapData]] 内部属性, 抛出一个&nbsp;<emu-val style="font-weight: bold;">TypeError</emu-val>&nbsp;异常.</li><li>Let&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">entries</var>&nbsp;be the&nbsp;<emu-xref href="#sec-list-and-record-specification-type" id="_ref_7119"><a href="file:///D:/point-w/ecma262-cn/src/abc%20-%20%E5%89%AF%E6%9C%AC%20(14)%20-%20%E5%89%AF%E6%9C%AC.html#sec-list-and-record-specification-type" style="text-decoration-line: none; color: rgb(32, 108, 167);">List</a></emu-xref>&nbsp;that is&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">M</var>.[[MapData]].</li><li>For each&nbsp;<emu-xref href="#sec-list-and-record-specification-type" id="_ref_7120"><a href="file:///D:/point-w/ecma262-cn/src/abc%20-%20%E5%89%AF%E6%9C%AC%20(14)%20-%20%E5%89%AF%E6%9C%AC.html#sec-list-and-record-specification-type" style="text-decoration-line: none; color: rgb(32, 108, 167);">Record</a></emu-xref>&nbsp;{[[Key]], [[Value]]}&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">p</var>&nbsp;that is an element of&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">entries</var>, do<ol style="list-style-type: lower-alpha;"><li>If&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">p</var>.[[Key]] is not&nbsp;<emu-const style="font-family: sans-serif;">empty</emu-const>&nbsp;and&nbsp;<emu-xref aoid="SameValueZero" id="_ref_7121"><a href="file:///D:/point-w/ecma262-cn/src/abc%20-%20%E5%89%AF%E6%9C%AC%20(14)%20-%20%E5%89%AF%E6%9C%AC.html#sec-samevaluezero" style="text-decoration-line: none; color: rgb(32, 108, 167);">SameValueZero</a></emu-xref>(<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">p</var>.[[Key]],&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">key</var>) is&nbsp;<emu-val style="font-weight: bold;">true</emu-val>, return&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">p</var>.[[Value]].</li></ol></li><li>Return&nbsp;<emu-val style="font-weight: bold;">undefined</emu-val>.</li></ol></emu-alg></div><div><p style="font-weight: inherit; color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;"><code style="font-size: 0.7rem; font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">get</code>方法读取<code style="font-size: 0.7rem; font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">key</code>对应的键值，如果找不到<code style="font-size: 0.7rem; font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">key</code>，返回<code style="font-size: 0.7rem; font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">undefined</code>。</p><pre class=" language-javascript" style="padding-left: 0.7rem; border-radius: 5px; background-color: rgb(17, 17, 17); font-size: 14.336px; line-height: 1.2; color: rgb(255, 255, 255); font-weight: inherit; margin: 0.5em auto; text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;">const m = new Map();

const hello = function() {console.log('hello');};
m.set(hello, 'Hello ES6!') // 键是函数

m.get(hello)  // Hello ES6!</code></pre></div><h4><b>has</b></h4><div><p style="color: rgb(17, 17, 17); font-family: Cambria, &quot;Palatino Linotype&quot;, Palatino, &quot;Liberation Serif&quot;, serif; font-size: 18px;">执行如下:</p><emu-alg style="color: rgb(17, 17, 17); font-family: Cambria, &quot;Palatino Linotype&quot;, Palatino, &quot;Liberation Serif&quot;, serif; font-size: 18px;"><ol><li>Let&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">M</var>&nbsp;be the&nbsp;<emu-val style="font-weight: bold;">this</emu-val>&nbsp;value.</li><li>If&nbsp;<emu-xref aoid="Type" id="_ref_7122"><a href="file:///D:/point-w/ecma262-cn/src/abc%20-%20%E5%89%AF%E6%9C%AC%20(14)%20-%20%E5%89%AF%E6%9C%AC.html#sec-ES-data-types-and-values" style="text-decoration-line: none; color: rgb(32, 108, 167);">Type</a></emu-xref>(<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">M</var>) is not Object, 抛出一个&nbsp;<emu-val style="font-weight: bold;">TypeError</emu-val>&nbsp;异常.</li><li>If&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">M</var>&nbsp;does not have a [[MapData]] 内部属性, 抛出一个&nbsp;<emu-val style="font-weight: bold;">TypeError</emu-val>&nbsp;异常.</li><li>Let&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">entries</var>&nbsp;be the&nbsp;<emu-xref href="#sec-list-and-record-specification-type" id="_ref_7123"><a href="file:///D:/point-w/ecma262-cn/src/abc%20-%20%E5%89%AF%E6%9C%AC%20(14)%20-%20%E5%89%AF%E6%9C%AC.html#sec-list-and-record-specification-type" style="text-decoration-line: none; color: rgb(32, 108, 167);">List</a></emu-xref>&nbsp;that is&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">M</var>.[[MapData]].</li><li>For each&nbsp;<emu-xref href="#sec-list-and-record-specification-type" id="_ref_7124"><a href="file:///D:/point-w/ecma262-cn/src/abc%20-%20%E5%89%AF%E6%9C%AC%20(14)%20-%20%E5%89%AF%E6%9C%AC.html#sec-list-and-record-specification-type" style="text-decoration-line: none; color: rgb(32, 108, 167);">Record</a></emu-xref>&nbsp;{[[Key]], [[Value]]}&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">p</var>&nbsp;that is an element of&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">entries</var>, do<ol style="list-style-type: lower-alpha;"><li>If&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">p</var>.[[Key]] is not&nbsp;<emu-const style="font-family: sans-serif;">empty</emu-const>&nbsp;and&nbsp;<emu-xref aoid="SameValueZero" id="_ref_7125"><a href="file:///D:/point-w/ecma262-cn/src/abc%20-%20%E5%89%AF%E6%9C%AC%20(14)%20-%20%E5%89%AF%E6%9C%AC.html#sec-samevaluezero" style="text-decoration-line: none; color: rgb(32, 108, 167);">SameValueZero</a></emu-xref>(<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">p</var>.[[Key]],&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">key</var>) is&nbsp;<emu-val style="font-weight: bold;">true</emu-val>, return&nbsp;<emu-val style="font-weight: bold;">true</emu-val>.</li></ol></li><li>Return&nbsp;<emu-val style="font-weight: bold;">false</emu-val>.</li></ol></emu-alg></div><div><p style="font-weight: inherit; color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;"><code style="font-size: 0.7rem; font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">has</code>方法返回一个布尔值，表示某个键是否在当前 Map 对象之中。</p><pre class=" language-javascript" style="padding-left: 0.7rem; border-radius: 5px; background-color: rgb(17, 17, 17); font-size: 14.336px; line-height: 1.2; color: rgb(255, 255, 255); font-weight: inherit; margin: 0.5em auto; text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;">const m = new Map();

m.set('edition', 6);
m.set(262, 'standard');
m.set(undefined, 'nah');

m.has('edition')     // true
m.has('years')       // false
m.has(262)           // true
m.has(undefined)     // true</code></pre></div><div><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;"><br></code></div><h4><b>keys</b></h4><div><p style="color: rgb(17, 17, 17); font-family: Cambria, &quot;Palatino Linotype&quot;, Palatino, &quot;Liberation Serif&quot;, serif; font-size: 18px;">执行如下:</p><emu-alg style="color: rgb(17, 17, 17); font-family: Cambria, &quot;Palatino Linotype&quot;, Palatino, &quot;Liberation Serif&quot;, serif; font-size: 18px;"><ol><li>Let&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">M</var>&nbsp;be the&nbsp;<emu-val style="font-weight: bold;">this</emu-val>&nbsp;value.</li><li>Return ?&nbsp;<emu-xref aoid="CreateMapIterator" id="_ref_7126"><a href="file:///D:/point-w/ecma262-cn/src/abc%20-%20%E5%89%AF%E6%9C%AC%20(14)%20-%20%E5%89%AF%E6%9C%AC.html#sec-createmapiterator" style="text-decoration-line: none; color: rgb(32, 108, 167);">CreateMapIterator</a></emu-xref>(<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">M</var>,&nbsp;<code style="font-weight: bold; font-family: Consolas, Monaco, monospace; white-space: pre;">"key"</code>).</li></ol></emu-alg></div><div><b><br></b></div><h4><b>set</b></h4><div><p style="color: rgb(17, 17, 17); font-family: Cambria, &quot;Palatino Linotype&quot;, Palatino, &quot;Liberation Serif&quot;, serif; font-size: 18px;">执行如下:</p><emu-alg style="color: rgb(17, 17, 17); font-family: Cambria, &quot;Palatino Linotype&quot;, Palatino, &quot;Liberation Serif&quot;, serif; font-size: 18px;"><ol><li>Let&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">M</var>&nbsp;be the&nbsp;<emu-val style="font-weight: bold;">this</emu-val>&nbsp;value.</li><li>If&nbsp;<emu-xref aoid="Type" id="_ref_7127"><a href="file:///D:/point-w/ecma262-cn/src/abc%20-%20%E5%89%AF%E6%9C%AC%20(14)%20-%20%E5%89%AF%E6%9C%AC.html#sec-ES-data-types-and-values" style="text-decoration-line: none; color: rgb(32, 108, 167);">Type</a></emu-xref>(<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">M</var>) is not Object, 抛出一个&nbsp;<emu-val style="font-weight: bold;">TypeError</emu-val>&nbsp;异常.</li><li>If&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">M</var>&nbsp;does not have a [[MapData]] 内部属性, 抛出一个&nbsp;<emu-val style="font-weight: bold;">TypeError</emu-val>&nbsp;异常.</li><li>Let&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">entries</var>&nbsp;be the&nbsp;<emu-xref href="#sec-list-and-record-specification-type" id="_ref_7128"><a href="file:///D:/point-w/ecma262-cn/src/abc%20-%20%E5%89%AF%E6%9C%AC%20(14)%20-%20%E5%89%AF%E6%9C%AC.html#sec-list-and-record-specification-type" style="text-decoration-line: none; color: rgb(32, 108, 167);">List</a></emu-xref>&nbsp;that is&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">M</var>.[[MapData]].</li><li>For each&nbsp;<emu-xref href="#sec-list-and-record-specification-type" id="_ref_7129"><a href="file:///D:/point-w/ecma262-cn/src/abc%20-%20%E5%89%AF%E6%9C%AC%20(14)%20-%20%E5%89%AF%E6%9C%AC.html#sec-list-and-record-specification-type" style="text-decoration-line: none; color: rgb(32, 108, 167);">Record</a></emu-xref>&nbsp;{[[Key]], [[Value]]}&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">p</var>&nbsp;that is an element of&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">entries</var>, do<ol style="list-style-type: lower-alpha;"><li>If&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">p</var>.[[Key]] is not&nbsp;<emu-const style="font-family: sans-serif;">empty</emu-const>&nbsp;and&nbsp;<emu-xref aoid="SameValueZero" id="_ref_7130"><a href="file:///D:/point-w/ecma262-cn/src/abc%20-%20%E5%89%AF%E6%9C%AC%20(14)%20-%20%E5%89%AF%E6%9C%AC.html#sec-samevaluezero" style="text-decoration-line: none; color: rgb(32, 108, 167);">SameValueZero</a></emu-xref>(<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">p</var>.[[Key]],&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">key</var>) is&nbsp;<emu-val style="font-weight: bold;">true</emu-val>, then<ol style="list-style-type: lower-roman;"><li>Set&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">p</var>.[[Value]] to&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">value</var>.</li><li>Return&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">M</var>.</li></ol></li></ol></li><li>If&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">key</var>&nbsp;is&nbsp;<emu-val style="font-weight: bold;">-0</emu-val>, let&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">key</var>&nbsp;be&nbsp;<emu-val style="font-weight: bold;">+0</emu-val>.</li><li>Let&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">p</var>&nbsp;be the&nbsp;<emu-xref href="#sec-list-and-record-specification-type" id="_ref_7131"><a href="file:///D:/point-w/ecma262-cn/src/abc%20-%20%E5%89%AF%E6%9C%AC%20(14)%20-%20%E5%89%AF%E6%9C%AC.html#sec-list-and-record-specification-type" style="text-decoration-line: none; color: rgb(32, 108, 167);">Record</a></emu-xref>&nbsp;{[[Key]]:&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">key</var>, [[Value]]:&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">value</var>}.</li><li>Append&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">p</var>&nbsp;as the last element of&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">entries</var>.</li><li>Return&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">M</var>.</li></ol></emu-alg></div><div><p style="font-weight: inherit; color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;"><code style="font-size: 0.7rem; font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">set</code>方法设置键名<code style="font-size: 0.7rem; font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">key</code>对应的键值为<code style="font-size: 0.7rem; font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">value</code>，然后返回整个 Map 结构。如果<code style="font-size: 0.7rem; font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">key</code>已经有值，则键值会被更新，否则就新生成该键。</p><pre class=" language-javascript" style="padding-left: 0.7rem; border-radius: 5px; background-color: rgb(17, 17, 17); font-size: 14.336px; line-height: 1.2; color: rgb(255, 255, 255); font-weight: inherit; margin: 0.5em auto; text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;">const m = new Map();

m.set('edition', 6)        // 键是字符串
m.set(262, 'standard')     // 键是数值
m.set(undefined, 'nah')    // 键是 undefined</code></pre><p style="font-weight: inherit; color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;"><code style="font-size: 0.7rem; font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">set</code>方法返回的是当前的<code style="font-size: 0.7rem; font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">Map</code>对象，因此可以采用链式写法。</p><pre class=" language-javascript" style="padding-left: 0.7rem; border-radius: 5px; background-color: rgb(17, 17, 17); font-size: 14.336px; line-height: 1.2; color: rgb(255, 255, 255); font-weight: inherit; margin: 0.5em auto; text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;">let map = new Map()
  .set(1, 'a')
  .set(2, 'b')
  .set(3, 'c');</code></pre></div><h4><b>value</b></h4><div><p style="color: rgb(17, 17, 17); font-family: Cambria, &quot;Palatino Linotype&quot;, Palatino, &quot;Liberation Serif&quot;, serif; font-size: 18px;">执行如下:</p><emu-alg style="color: rgb(17, 17, 17); font-family: Cambria, &quot;Palatino Linotype&quot;, Palatino, &quot;Liberation Serif&quot;, serif; font-size: 18px;"><ol><li>Let&nbsp;<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">M</var>&nbsp;be the&nbsp;<emu-val style="font-weight: bold;">this</emu-val>&nbsp;value.</li><li>Return ?&nbsp;<emu-xref aoid="CreateMapIterator" id="_ref_7136"><a href="file:///D:/point-w/ecma262-cn/src/abc%20-%20%E5%89%AF%E6%9C%AC%20(14)%20-%20%E5%89%AF%E6%9C%AC.html#sec-createmapiterator" style="text-decoration-line: none; color: rgb(32, 108, 167);">CreateMapIterator</a></emu-xref>(<var style="color: rgb(42, 161, 152); transition: background-color 0.25s ease 0s; cursor: pointer;">M</var>,&nbsp;<code style="font-weight: bold; font-family: Consolas, Monaco, monospace; white-space: pre;">"value"</code>).</li></ol></emu-alg></div><div><b><br></b></div><h4><b>@@iterator</b></h4><div><span style="color: rgb(17, 17, 17); font-family: Cambria, &quot;Palatino Linotype&quot;, Palatino, &quot;Liberation Serif&quot;, serif; font-size: 18px;">The 初始值 of the @@迭代器 property is the same&nbsp;</span><emu-xref href="#function-object" id="_ref_7137" style="color: rgb(17, 17, 17); font-family: Cambria, &quot;Palatino Linotype&quot;, Palatino, &quot;Liberation Serif&quot;, serif; font-size: 18px;"><a href="file:///D:/point-w/ecma262-cn/src/abc%20-%20%E5%89%AF%E6%9C%AC%20(14)%20-%20%E5%89%AF%E6%9C%AC.html#function-object" style="text-decoration-line: none; color: rgb(32, 108, 167);">函数对象</a></emu-xref><span style="color: rgb(17, 17, 17); font-family: Cambria, &quot;Palatino Linotype&quot;, Palatino, &quot;Liberation Serif&quot;, serif; font-size: 18px;">&nbsp;as the 初始值 of the&nbsp;</span><code style="font-weight: bold; font-family: Consolas, Monaco, monospace; white-space: pre; color: rgb(17, 17, 17); font-size: 18px;">entries</code><span style="color: rgb(17, 17, 17); font-family: Cambria, &quot;Palatino Linotype&quot;, Palatino, &quot;Liberation Serif&quot;, serif; font-size: 18px;">&nbsp;property.</span><b><br></b></div><div><b><br></b></div><h4><b>@@toStringTag</b></h4><div><p style="color: rgb(17, 17, 17); font-family: Cambria, &quot;Palatino Linotype&quot;, Palatino, &quot;Liberation Serif&quot;, serif; font-size: 18px;">The 初始值 of the @@toStringTag property is the String 值&nbsp;<code style="font-weight: bold; font-family: Consolas, Monaco, monospace; white-space: pre;">"Map"</code>.</p><p style="color: rgb(17, 17, 17); font-family: Cambria, &quot;Palatino Linotype&quot;, Palatino, &quot;Liberation Serif&quot;, serif; font-size: 18px;">该属性拥有特性 { [[Writable]]:&nbsp;<emu-val style="font-weight: bold;">false</emu-val>, [[Enumerable]]:&nbsp;<emu-val style="font-weight: bold;">false</emu-val>, [[Configurable]]:&nbsp;<emu-val style="font-weight: bold;">true</emu-val>&nbsp;}.</p></div><h3 id="blogTitle14" class="遍历方法" style=""><b>遍历方法</b></h3><p style="color: rgb(51, 51, 51); font-weight: inherit; font-family: Verdana, Arial; font-size: 14.336px;">Map 结构原生提供三个遍历器生成函数和一个遍历方法。</p><ul style="color: rgb(51, 51, 51); font-weight: inherit; list-style-type: none; padding-top: 0.5rem; padding-bottom: 0.5rem; font-family: Verdana, Arial; font-size: 14.336px;"><li style="text-indent: -5px; font-size: 0.8rem;"><code style="font-size: 0.7rem; font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">keys()</code>：返回键名的遍历器。</li><li style="text-indent: -5px; font-size: 0.8rem;"><code style="font-size: 0.7rem; font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">values()</code>：返回键值的遍历器。</li><li style="text-indent: -5px; font-size: 0.8rem;"><code style="font-size: 0.7rem; font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">entries()</code>：返回所有成员的遍历器。</li><li style="text-indent: -5px; font-size: 0.8rem;"><code style="font-size: 0.7rem; font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">forEach()</code>：遍历 Map 的所有成员。</li></ul><p style="color: rgb(51, 51, 51); font-weight: inherit; font-family: Verdana, Arial; font-size: 14.336px;">需要特别注意的是，Map 的遍历顺序就是插入顺序。</p><pre class=" language-javascript" style="color: rgb(255, 255, 255); font-weight: inherit; margin: 0.5em auto; padding-right: 1em; padding-left: 0.7rem; background-color: rgb(17, 17, 17); font-size: 14.336px; line-height: 1.2; font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; border-radius: 5px;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;">const map = new Map([
  ['F', 'no'],
  ['T',  'yes'],
]);

for (let key of map.keys()) {
  console.log(key);
}
// "F"
// "T"

for (let value of map.values()) {
  console.log(value);
}
// "no"
// "yes"

for (let item of map.entries()) {
  console.log(item[0], item[1]);
}
// "F" "no"
// "T" "yes"

// 或者
for (let [key, value] of map.entries()) {
  console.log(key, value);
}
// "F" "no"
// "T" "yes"

// 等同于使用map.entries()
for (let [key, value] of map) {
  console.log(key, value);
}
// "F" "no"
// "T" "yes"</code></pre><p style="color: rgb(51, 51, 51); font-weight: inherit; font-family: Verdana, Arial; font-size: 14.336px;">上面代码最后的那个例子，表示 Map 结构的默认遍历器接口（<code style="font-size: 0.7rem; font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">Symbol.iterator</code>属性），就是<code style="font-size: 0.7rem; font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">entries</code>方法。</p><pre class=" language-javascript" style="color: rgb(255, 255, 255); font-weight: inherit; margin: 0.5em auto; padding-right: 1em; padding-left: 0.7rem; background-color: rgb(17, 17, 17); font-size: 14.336px; line-height: 1.2; font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; border-radius: 5px;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;">map[Symbol.iterator] === map.entries
// true</code></pre><p style="color: rgb(51, 51, 51); font-weight: inherit; font-family: Verdana, Arial; font-size: 14.336px;">Map 结构转为数组结构，比较快速的方法是使用扩展运算符（<code style="font-size: 0.7rem; font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">...</code>）。</p><pre class=" language-javascript" style="color: rgb(255, 255, 255); font-weight: inherit; margin: 0.5em auto; padding-right: 1em; padding-left: 0.7rem; background-color: rgb(17, 17, 17); font-size: 14.336px; line-height: 1.2; font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; border-radius: 5px;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;">const map = new Map([
  [1, 'one'],
  [2, 'two'],
  [3, 'three'],
]);

[...map.keys()]
// [1, 2, 3]

[...map.values()]
// ['one', 'two', 'three']

[...map.entries()]
// [[1,'one'], [2, 'two'], [3, 'three']]

[...map]
// [[1,'one'], [2, 'two'], [3, 'three']]</code></pre><p style="color: rgb(51, 51, 51); font-weight: inherit; font-family: Verdana, Arial; font-size: 14.336px;">结合数组的<code style="font-size: 0.7rem; font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">map</code>方法、<code style="font-size: 0.7rem; font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">filter</code>方法，可以实现 Map 的遍历和过滤（Map 本身没有<code style="font-size: 0.7rem; font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">map</code>和<code style="font-size: 0.7rem; font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">filter</code>方法）。</p><pre class=" language-javascript" style="color: rgb(255, 255, 255); font-weight: inherit; margin: 0.5em auto; padding-right: 1em; padding-left: 0.7rem; background-color: rgb(17, 17, 17); font-size: 14.336px; line-height: 1.2; font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; border-radius: 5px;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;">const map0 = new Map()
  .set(1, 'a')
  .set(2, 'b')
  .set(3, 'c');

const map1 = new Map(
  [...map0].filter(([k, v]) =&gt; k &lt; 3)
);
// 产生 Map 结构 {1 =&gt; 'a', 2 =&gt; 'b'}

const map2 = new Map(
  [...map0].map(([k, v]) =&gt; [k * 2, '_' + v])
    );
// 产生 Map 结构 {2 =&gt; '_a', 4 =&gt; '_b', 6 =&gt; '_c'}</code></pre><p style="color: rgb(51, 51, 51); font-weight: inherit; font-family: Verdana, Arial; font-size: 14.336px;">此外，Map 还有一个<code style="font-size: 0.7rem; font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">forEach</code>方法，与数组的<code style="font-size: 0.7rem; font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">forEach</code>方法类似，也可以实现遍历。</p><pre class=" language-javascript" style="color: rgb(255, 255, 255); font-weight: inherit; margin: 0.5em auto; padding-right: 1em; padding-left: 0.7rem; background-color: rgb(17, 17, 17); font-size: 14.336px; line-height: 1.2; font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; border-radius: 5px;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;">map.forEach(function(value, key, map) {
  console.log("Key: %s, Value: %s", key, value);
});</code></pre><p style="color: rgb(51, 51, 51); font-weight: inherit; font-family: Verdana, Arial; font-size: 14.336px;"><code style="font-size: 0.7rem; font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">forEach</code>方法还可以接受第二个参数，用来绑定<code style="font-size: 0.7rem; font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">this</code>。</p><pre class=" language-javascript" style="color: rgb(255, 255, 255); font-weight: inherit; margin: 0.5em auto; padding-right: 1em; padding-left: 0.7rem; background-color: rgb(17, 17, 17); font-size: 14.336px; line-height: 1.2; font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; border-radius: 5px;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;">const reporter = {
  report: function(key, value) {
    console.log("Key: %s, Value: %s", key, value);
  }
};

map.forEach(function(value, key, map) {
  this.report(key, value);
}, reporter);</code></pre><p style="color: rgb(51, 51, 51); font-weight: inherit; font-family: Verdana, Arial; font-size: 14.336px;">上面代码中，<code style="font-size: 0.7rem; font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">forEach</code>方法的回调函数的<code style="font-size: 0.7rem; font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">this</code>，就指向<code style="font-size: 0.7rem; font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">reporter</code>。</p><h2 style=""><span style="">Map 实例</span></h2><p style="color: rgb(51, 51, 51); font-weight: inherit; font-family: Verdana, Arial; font-size: 14.336px;"><span style="color: rgb(17, 17, 17); font-family: Cambria, &quot;Palatino Linotype&quot;, Palatino, &quot;Liberation Serif&quot;, serif; font-size: 18px;">Map instances are 普通对象 that 继承属性 from the Map prototype. Map instances also have a [[MapData]] 内部属性.</span><br></p><h2 style="" id="blogTitle15"><b>与其他数据结构的互相转换</b></h2><h3 style="" id="blogTitle16"><b>（1）Map 转为数组</b></h3><p style="color: rgb(51, 51, 51); font-weight: inherit; font-family: Verdana, Arial; font-size: 14.336px;">前面已经提过，Map 转为数组最方便的方法，就是使用扩展运算符（<code style="font-size: 0.7rem; font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">...</code>）。</p><pre class=" language-javascript" style="margin: 0.5em auto; padding-right: 1em; padding-left: 0.7rem; line-height: 1.2; text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; border-radius: 5px; background-color: rgb(17, 17, 17); font-weight: inherit; font-size: 14.336px; font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; color: rgb(255, 255, 255);"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;">const myMap = new Map()
  .set(true, 7)
  .set({foo: 3}, ['abc']);
[...myMap]
// [ [ true, 7 ], [ { foo: 3 }, [ 'abc' ] ] ]</code></pre><h3 style="" id="blogTitle17"><b>（2）数组 转为 Map</b></h3><p style="color: rgb(51, 51, 51); font-weight: inherit; font-family: Verdana, Arial; font-size: 14.336px;">将数组传入 Map 构造函数，就可以转为 Map。</p><pre class=" language-javascript" style="margin: 0.5em auto; padding-right: 1em; padding-left: 0.7rem; line-height: 1.2; text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; border-radius: 5px; background-color: rgb(17, 17, 17); font-weight: inherit; font-size: 14.336px; font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; color: rgb(255, 255, 255);"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;">new Map([
  [true, 7],
  [{foo: 3}, ['abc']]
])
// Map {
//   true =&gt; 7,
//   Object {foo: 3} =&gt; ['abc']
// }</code></pre><h3 style="" id="blogTitle18"><b>（3）Map 转为对象</b></h3><p style="color: rgb(51, 51, 51); font-weight: inherit; font-family: Verdana, Arial; font-size: 14.336px;">如果所有 Map 的键都是字符串，它可以转为对象。</p><pre class=" language-javascript" style="color: rgb(255, 255, 255); font-weight: inherit; margin: 0.5em auto; padding-right: 1em; padding-left: 0.7rem; background-color: rgb(17, 17, 17); font-size: 14.336px; line-height: 1.2; font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; border-radius: 5px;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;">function strMapToObj(strMap) {
  let obj = Object.create(null);
  for (let [k,v] of strMap) {
    obj[k] = v;
  }
  return obj;
}

const myMap = new Map()
  .set('yes', true)
  .set('no', false);
strMapToObj(myMap)
// { yes: true, no: false }</code></pre><h3 style="" id="blogTitle19"><b>（4）对象转为 Map</b></h3><pre class=" language-javascript" style="color: rgb(255, 255, 255); font-weight: inherit; margin: 0.5em auto; padding-right: 1em; padding-left: 0.7rem; background-color: rgb(17, 17, 17); font-size: 14.336px; line-height: 1.2; font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; border-radius: 5px;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;">function objToStrMap(obj) {
  let strMap = new Map();
  for (let k of Object.keys(obj)) {
    strMap.set(k, obj[k]);
  }
  return strMap;
}

objToStrMap({yes: true, no: false})
// Map {"yes" =&gt; true, "no" =&gt; false}</code></pre><h3 style="" id="blogTitle20"><b>（5）Map 转为 JSON</b></h3><p style="color: rgb(51, 51, 51); font-weight: inherit; font-family: Verdana, Arial; font-size: 14.336px;">Map 转为 JSON 要区分两种情况。一种情况是，Map 的键名都是字符串，这时可以选择转为对象 JSON。</p><pre class=" language-javascript" style="color: rgb(255, 255, 255); font-weight: inherit; margin: 0.5em auto; padding-right: 1em; padding-left: 0.7rem; background-color: rgb(17, 17, 17); font-size: 14.336px; line-height: 1.2; font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; border-radius: 5px;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;">function strMapToJson(strMap) {
  return JSON.stringify(strMapToObj(strMap));
}

let myMap = new Map().set('yes', true).set('no', false);
strMapToJson(myMap)
// '{"yes":true,"no":false}'</code></pre><p style="color: rgb(51, 51, 51); font-weight: inherit; font-family: Verdana, Arial; font-size: 14.336px;">另一种情况是，Map 的键名有非字符串，这时可以选择转为数组 JSON。</p><pre class=" language-javascript" style="color: rgb(255, 255, 255); font-weight: inherit; margin: 0.5em auto; padding-right: 1em; padding-left: 0.7rem; background-color: rgb(17, 17, 17); font-size: 14.336px; line-height: 1.2; font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; border-radius: 5px;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;">function mapToArrayJson(map) {
  return JSON.stringify([...map]);
}

let myMap = new Map().set(true, 7).set({foo: 3}, ['abc']);
mapToArrayJson(myMap)
// '[[true,7],[{"foo":3},["abc"]]]'</code></pre><h3 style="" id="blogTitle21"><b>（6）JSON 转为 Map</b></h3><p style="color: rgb(51, 51, 51); font-weight: inherit; font-family: Verdana, Arial; font-size: 14.336px;">JSON 转为 Map，正常情况下，所有键名都是字符串。</p><pre class=" language-javascript" style="color: rgb(255, 255, 255); font-weight: inherit; margin: 0.5em auto; padding-right: 1em; padding-left: 0.7rem; background-color: rgb(17, 17, 17); font-size: 14.336px; line-height: 1.2; font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; border-radius: 5px;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;">function jsonToStrMap(jsonStr) {
  return objToStrMap(JSON.parse(jsonStr));
}

jsonToStrMap('{"yes": true, "no": false}')
// Map {'yes' =&gt; true, 'no' =&gt; false}</code></pre><p style="color: rgb(51, 51, 51); font-weight: inherit; font-family: Verdana, Arial; font-size: 14.336px;">但是，有一种特殊情况，整个 JSON 就是一个数组，且每个数组成员本身，又是一个有两个成员的数组。这时，它可以一一对应地转为 Map。这往往是数组转为 JSON 的逆操作。</p><pre class=" language-javascript" style="color: rgb(255, 255, 255); font-weight: inherit; margin: 0.5em auto; padding-right: 1em; padding-left: 0.7rem; background-color: rgb(17, 17, 17); font-size: 14.336px; line-height: 1.2; font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; border-radius: 5px;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;">function jsonToMap(jsonStr) {
  return new Map(JSON.parse(jsonStr));
}

jsonToMap('[[true,7],[{"foo":3},["abc"]]]')
// Map {true =&gt; 7, Object {foo: 3} =&gt; ['abc']}</code></pre><h5 style="color: rgb(102, 102, 102); font-weight: inherit; margin-top: 0px; margin-bottom: 12px; line-height: 1; word-wrap: break-word; padding: 0px; border: 0px;" id="blogTitle22"><br></h5></div></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div>
    </div>      
  </article>
{% endblock point1 %}