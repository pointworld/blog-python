{% extends 'c-word.html' %}

{% block title %} http cookiejar - computer | software | programming language | python | standard library | Internet Protocols and Support {% endblock title %}

{% block point1 %}
<article contenteditable="true">
  <p>Category: computer | software | programming language | python | standard library | Internet Protocols and Support | http cookiejar</p>
  <h1 id="blogTitle0">http cookiejar</h1><div><ul class="simple" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><li style="hyphens: auto; text-align: justify; line-height: 20.8px;"><a class="reference internal" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#module-http.cookiejar" title="http.cookiejar: Classes for automatic handling of HTTP cookies." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">http.cookiejar</span></code></a>&nbsp;提供了 cookies 的持久化</li></ul></div><h2 id="blogTitle1">概述</h2><div><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">The&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#module-http.cookiejar" title="http.cookiejar: Classes for automatic handling of HTTP cookies." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">http.cookiejar</span></code></a>&nbsp;module defines classes for automatic handling of HTTP cookies. It is useful for accessing web sites that require small pieces of data --&nbsp;<em class="dfn">cookies</em>&nbsp;-- to be set on the client machine by an HTTP response from a web server, and then returned to the server in later HTTP requests.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">Both the regular Netscape cookie protocol and the protocol defined by&nbsp;<span class="target" id="index-0"></span><a class="rfc reference external" href="https://tools.ietf.org/html/rfc2965.html" style="color: rgb(99, 99, 187); text-decoration-line: none;"><strong>RFC 2965</strong></a>&nbsp;are handled. RFC 2965 handling is switched off by default.&nbsp;<span class="target" id="index-1"></span><a class="rfc reference external" href="https://tools.ietf.org/html/rfc2109.html" style="color: rgb(99, 99, 187); text-decoration-line: none;"><strong>RFC 2109</strong></a>&nbsp;cookies are parsed as Netscape cookies and subsequently treated either as Netscape or RFC 2965 cookies according to the 'policy' in effect. Note that the great majority of cookies on the Internet are Netscape cookies.&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#module-http.cookiejar" title="http.cookiejar: Classes for automatic handling of HTTP cookies." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">http.cookiejar</span></code></a>attempts to follow the de-facto Netscape cookie protocol (which differs substantially from that set out in the original Netscape specification), including taking note of the&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">max-age</span></code>&nbsp;and&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">port</span></code>&nbsp;cookie-attributes introduced with RFC 2965.</p><div class="admonition note" style="margin-top: 10px; margin-bottom: 10px; padding: 7px; background-color: rgb(238, 238, 238); border: 1px solid rgb(204, 204, 204); border-radius: 3px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px;"><p class="first admonition-title" style="margin: 0px 10px 5px 0px; font-weight: bold; display: inline; hyphens: auto; text-align: justify; line-height: 22.4px;">注解</p>&nbsp;<p class="last" style="hyphens: auto; text-align: justify; line-height: 22.4px; margin-bottom: 5px; display: inline;">The various named parameters found in&nbsp;<em class="mailheader">Set-Cookie</em>&nbsp;and&nbsp;<em class="mailheader">Set-Cookie2</em>&nbsp;headers (eg.&nbsp;<code class="docutils literal notranslate" style="background: rgb(214, 214, 214); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">domain</span></code>and&nbsp;<code class="docutils literal notranslate" style="background: rgb(214, 214, 214); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">expires</span></code>) are conventionally referred to as&nbsp;<em class="dfn">attributes</em>. To distinguish them from Python attributes, the documentation for this module uses the term&nbsp;<em class="dfn">cookie-attribute</em>&nbsp;instead.</p></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">The module defines the following exception:</p><dl class="exception" style="margin-bottom: 15px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><dt id="http.cookiejar.LoadError"><em class="property">exception&nbsp;</em><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">http.cookiejar.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">LoadError</code><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.LoadError" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Instances of&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.FileCookieJar" title="http.cookiejar.FileCookieJar" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">FileCookieJar</span></code></a>&nbsp;raise this exception on failure to load cookies from a file.<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.LoadError" title="http.cookiejar.LoadError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">LoadError</span></code></a>&nbsp;is a subclass of&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#OSError" title="OSError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">OSError</span></code></a>.</p><div class="versionchanged"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">在 3.3 版更改:&nbsp;</span>LoadError was made a subclass of&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#OSError" title="OSError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">OSError</span></code></a>&nbsp;instead of&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#IOError" title="IOError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">IOError</span></code></a>.</p></div></dd></dl><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">The following classes are provided:</p><dl class="class" style="margin-bottom: 15px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><dt id="http.cookiejar.CookieJar"><em class="property">class&nbsp;</em><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">http.cookiejar.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">CookieJar</code><span class="sig-paren" style="font-size: larger;">(</span><em>policy=None</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.CookieJar" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><em>policy</em>&nbsp;is an object implementing the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.CookiePolicy" title="http.cookiejar.CookiePolicy" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">CookiePolicy</span></code></a>&nbsp;interface.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">The&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.CookieJar" title="http.cookiejar.CookieJar" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">CookieJar</span></code></a>&nbsp;class stores HTTP cookies. It extracts cookies from HTTP requests, and returns them in HTTP responses.&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.CookieJar" title="http.cookiejar.CookieJar" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">CookieJar</span></code></a>&nbsp;instances automatically expire contained cookies when necessary. Subclasses are also responsible for storing and retrieving cookies from a file or database.</p></dd></dl><dl class="class" style="margin-bottom: 15px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><dt id="http.cookiejar.FileCookieJar"><em class="property">class&nbsp;</em><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">http.cookiejar.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">FileCookieJar</code><span class="sig-paren" style="font-size: larger;">(</span><em>filename</em>,&nbsp;<em>delayload=None</em>,&nbsp;<em>policy=None</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.FileCookieJar" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><em>policy</em>&nbsp;is an object implementing the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.CookiePolicy" title="http.cookiejar.CookiePolicy" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">CookiePolicy</span></code></a>&nbsp;interface. For the other arguments, see the documentation for the corresponding attributes.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">A&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.CookieJar" title="http.cookiejar.CookieJar" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">CookieJar</span></code></a>&nbsp;which can load cookies from, and perhaps save cookies to, a file on disk. Cookies are&nbsp;<strong>NOT</strong>&nbsp;loaded from the named file until either the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.FileCookieJar.load" title="http.cookiejar.FileCookieJar.load" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">load()</span></code></a>&nbsp;or&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.FileCookieJar.revert" title="http.cookiejar.FileCookieJar.revert" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">revert()</span></code></a>&nbsp;method is called. Subclasses of this class are documented in section&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#file-cookie-jar-classes" style="color: rgb(99, 99, 187); text-decoration-line: none;">FileCookieJar subclasses and co-operation with web browsers</a>.</p></dd></dl><dl class="class" style="margin-bottom: 15px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><dt id="http.cookiejar.CookiePolicy"><em class="property">class&nbsp;</em><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">http.cookiejar.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">CookiePolicy</code><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.CookiePolicy" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">This class is responsible for deciding whether each cookie should be accepted from / returned to the server.</p></dd></dl><dl class="class" style="margin-bottom: 15px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><dt id="http.cookiejar.DefaultCookiePolicy"><em class="property">class&nbsp;</em><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">http.cookiejar.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">DefaultCookiePolicy</code><span class="sig-paren" style="font-size: larger;">(</span><em>blocked_domains=None</em>,&nbsp;<em>allowed_domains=None</em>,&nbsp;<em>netscape=True</em>,&nbsp;<em>rfc2965=False</em>,&nbsp;<em>rfc2109_as_netscape=None</em>,&nbsp;<em>hide_cookie2=False</em>,&nbsp;<em>strict_domain=False</em>,&nbsp;<em>strict_rfc2965_unverifiable=True</em>,&nbsp;<em>strict_ns_unverifiable=False</em>,&nbsp;<em>strict_ns_domain=DefaultCookiePolicy.DomainLiberal</em>,&nbsp;<em>strict_ns_set_initial_dollar=False</em>,&nbsp;<em>strict_ns_set_path=False</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.DefaultCookiePolicy" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Constructor arguments should be passed as keyword arguments only.&nbsp;<em>blocked_domains</em>&nbsp;is a sequence of domain names that we never accept cookies from, nor return cookies to.&nbsp;<em>allowed_domains</em>&nbsp;if not&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/constants.html#None" title="None" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code></a>, this is a sequence of the only domains for which we accept and return cookies. For all other arguments, see the documentation for&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.CookiePolicy" title="http.cookiejar.CookiePolicy" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">CookiePolicy</span></code></a>&nbsp;and<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.DefaultCookiePolicy" title="http.cookiejar.DefaultCookiePolicy" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">DefaultCookiePolicy</span></code></a>&nbsp;objects.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><a class="reference internal" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.DefaultCookiePolicy" title="http.cookiejar.DefaultCookiePolicy" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">DefaultCookiePolicy</span></code></a>&nbsp;implements the standard accept / reject rules for Netscape and&nbsp;<span class="target" id="index-2"></span><a class="rfc reference external" href="https://tools.ietf.org/html/rfc2965.html" style="color: rgb(99, 99, 187); text-decoration-line: none;"><strong>RFC 2965</strong></a>&nbsp;cookies. By default,&nbsp;<span class="target" id="index-3"></span><a class="rfc reference external" href="https://tools.ietf.org/html/rfc2109.html" style="color: rgb(99, 99, 187); text-decoration-line: none;"><strong>RFC 2109</strong></a>&nbsp;cookies (ie. cookies received in a&nbsp;<em class="mailheader">Set-Cookie</em>&nbsp;header with a version cookie-attribute of 1) are treated according to the RFC 2965 rules. However, if RFC 2965 handling is turned off or&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.DefaultCookiePolicy.rfc2109_as_netscape" title="http.cookiejar.DefaultCookiePolicy.rfc2109_as_netscape" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">rfc2109_as_netscape</span></code></a>&nbsp;is&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">True</span></code>, RFC 2109 cookies are 'downgraded' by the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.CookieJar" title="http.cookiejar.CookieJar" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">CookieJar</span></code></a>&nbsp;instance to Netscape cookies, by setting the&nbsp;<code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">version</span></code>&nbsp;attribute of the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.Cookie" title="http.cookiejar.Cookie" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Cookie</span></code></a>&nbsp;instance to 0.&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.DefaultCookiePolicy" title="http.cookiejar.DefaultCookiePolicy" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">DefaultCookiePolicy</span></code></a>&nbsp;also provides some parameters to allow some fine-tuning of policy.</p></dd></dl><dl class="class" style="margin-bottom: 15px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><dt id="http.cookiejar.Cookie"><em class="property">class&nbsp;</em><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">http.cookiejar.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">Cookie</code><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.Cookie" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">This class represents Netscape,&nbsp;<span class="target" id="index-4"></span><a class="rfc reference external" href="https://tools.ietf.org/html/rfc2109.html" style="color: rgb(99, 99, 187); text-decoration-line: none;"><strong>RFC 2109</strong></a>&nbsp;and&nbsp;<span class="target" id="index-5"></span><a class="rfc reference external" href="https://tools.ietf.org/html/rfc2965.html" style="color: rgb(99, 99, 187); text-decoration-line: none;"><strong>RFC 2965</strong></a>&nbsp;cookies. It is not expected that users of&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#module-http.cookiejar" title="http.cookiejar: Classes for automatic handling of HTTP cookies." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">http.cookiejar</span></code></a>&nbsp;construct their own&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.Cookie" title="http.cookiejar.Cookie" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Cookie</span></code></a>&nbsp;instances. Instead, if necessary, call&nbsp;<code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">make_cookies()</span></code>&nbsp;on a&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.CookieJar" title="http.cookiejar.CookieJar" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">CookieJar</span></code></a>&nbsp;instance.</p></dd></dl><div class="admonition seealso" style="margin-top: 10px; margin-bottom: 10px; padding: 7px; background-color: rgb(255, 255, 204); border: 1px solid rgb(221, 221, 102); border-radius: 3px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px;"><p class="first admonition-title" style="margin: 0px 10px 5px 0px; font-weight: bold; display: inline; hyphens: auto; text-align: justify; line-height: 22.4px;">参见</p><dl class="docutils" style="margin-bottom: 0px;"><dt style="font-weight: bold;">Module&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/urllib.request.html#module-urllib.request" title="urllib.request: Extensible library for opening URLs." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; font-weight: normal; border-radius: 3px;"><span class="pre" style="hyphens: none;">urllib.request</span></code></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;">URL opening with automatic cookie handling.</dd><dt style="font-weight: bold;">Module&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/http.cookies.html#module-http.cookies" title="http.cookies: Support for HTTP state management (cookies)." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; font-weight: normal; border-radius: 3px;"><span class="pre" style="hyphens: none;">http.cookies</span></code></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;">HTTP cookie classes, principally useful for server-side code. The&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#module-http.cookiejar" title="http.cookiejar: Classes for automatic handling of HTTP cookies." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">http.cookiejar</span></code></a>&nbsp;and&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/http.cookies.html#module-http.cookies" title="http.cookies: Support for HTTP state management (cookies)." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">http.cookies</span></code></a>&nbsp;modules do not depend on each other.</dd><dt style="font-weight: bold;"><a class="reference external" href="https://curl.haxx.se/rfc/cookie_spec.html" style="color: rgb(99, 99, 187); text-decoration-line: none;">https://curl.haxx.se/rfc/cookie_spec.html</a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;">The specification of the original Netscape cookie protocol. Though this is still the dominant protocol, the 'Netscape cookie protocol' implemented by all the major browsers (and&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#module-http.cookiejar" title="http.cookiejar: Classes for automatic handling of HTTP cookies." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">http.cookiejar</span></code></a>) only bears a passing resemblance to the one sketched out in&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">cookie_spec.html</span></code>.</dd><dt style="font-weight: bold;"><span class="target" id="index-6"></span><a class="rfc reference external" href="https://tools.ietf.org/html/rfc2109.html" style="color: rgb(99, 99, 187); text-decoration-line: none;">RFC 2109</a>&nbsp;- HTTP State Management Mechanism</dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;">Obsoleted by&nbsp;<span class="target" id="index-7"></span><a class="rfc reference external" href="https://tools.ietf.org/html/rfc2965.html" style="color: rgb(99, 99, 187); text-decoration-line: none;"><strong>RFC 2965</strong></a>. Uses&nbsp;<em class="mailheader">Set-Cookie</em>&nbsp;with version=1.</dd><dt style="font-weight: bold;"><span class="target" id="index-8"></span><a class="rfc reference external" href="https://tools.ietf.org/html/rfc2965.html" style="color: rgb(99, 99, 187); text-decoration-line: none;">RFC 2965</a>&nbsp;- HTTP State Management Mechanism</dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;">The Netscape protocol with the bugs fixed. Uses&nbsp;<em class="mailheader">Set-Cookie2</em>&nbsp;in place of&nbsp;<em class="mailheader">Set-Cookie</em>. Not widely used.</dd><dt style="font-weight: bold;"><a class="reference external" href="http://kristol.org/cookie/errata.html" style="color: rgb(99, 99, 187); text-decoration-line: none;">http://kristol.org/cookie/errata.html</a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;">Unfinished errata to&nbsp;<span class="target" id="index-9"></span><a class="rfc reference external" href="https://tools.ietf.org/html/rfc2965.html" style="color: rgb(99, 99, 187); text-decoration-line: none;"><strong>RFC 2965</strong></a>.</dd></dl><p class="last" style="hyphens: auto; text-align: justify; line-height: 22.4px; margin-bottom: 5px;"><span class="target" id="index-10"></span><a class="rfc reference external" href="https://tools.ietf.org/html/rfc2964.html" style="color: rgb(99, 99, 187); text-decoration-line: none;"><strong>RFC 2964</strong></a>&nbsp;- Use of HTTP State Management</p></div></div><h3 id="blogTitle2">定义</h3><div><br></div><h3 id="blogTitle3">组成</h3><div><br></div><h3 id="blogTitle4">功能</h3><div><br></div><h3 id="blogTitle5">用途</h3><pre><h2>Help on module http.cookiejar in http:</h2>
<h3>NAME</h3>    http.cookiejar - HTTP cookie handling for web clients.

<h3>MODULE REFERENCE</h3>    https://docs.python.org/3.7/library/http.cookiejar

    The following documentation is automatically generated from the Python
    source files.  It may be incomplete, incorrect or include features that
    are considered implementation detail and may vary between Python
    implementations.  When in doubt, consult the module reference at the
    location listed above.

<h3>DESCRIPTION</h3>    This module has (now fairly distant) origins in Gisle Aas' Perl module
    HTTP::Cookies, from the libwww-perl library.

    Docstrings, comments and debug strings in this code refer to the
    attributes of the HTTP cookie system as cookie-attributes, to distinguish
    them clearly from Python attributes.

    Class diagram (note that BSDDBCookieJar and the MSIE* classes are not
    distributed with the Python standard library, but are available from
    http://wwwsearch.sf.net/):

                            CookieJar____
                            /     \      \
                FileCookieJar      \      \
                 /    |   \         \      \
     MozillaCookieJar | LWPCookieJar \      \
                      |               |      \
                      |   ---MSIEBase |       \
                      |  /      |     |        \
                      | /   MSIEDBCookieJar BSDDBCookieJar
                      |/
                   MSIECookieJar

<h3>CLASSES</h3>    builtins.OSError(builtins.Exception)
        LoadError
    builtins.object
        Cookie
        CookieJar
            FileCookieJar
                LWPCookieJar
                MozillaCookieJar
        CookiePolicy
    them clearly from Python attributes.

    Class diagram (note that BSDDBCookieJar and the MSIE* classes are not
    distributed with the Python standard library, but are available from
    http://wwwsearch.sf.net/):

                            CookieJar____
                            /     \      \
                FileCookieJar      \      \
                 /    |   \         \      \
     MozillaCookieJar | LWPCookieJar \      \
                      |               |      \
                      |   ---MSIEBase |       \
                      |  /      |     |        \
                      | /   MSIEDBCookieJar BSDDBCookieJar
                      |/
                   MSIECookieJar

CLASSES
    builtins.OSError(builtins.Exception)
        LoadError
    builtins.object
        Cookie
        CookieJar
            FileCookieJar
                LWPCookieJar
                MozillaCookieJar
        CookiePolicy
            DefaultCookiePolicy

<h4>    class Cookie(builtins.object)</h4>     |  Cookie(version, name, value, port, port_specified, domain, domain_specified, domain_initial_dot, path, path_specified, secure, expires, discard, comment, comment_url, rest, rfc2109=False)
     |
     |  HTTP Cookie.
     |
     |  This class represents both Netscape and RFC 2965 cookies.
     |
     |  This is deliberately a very simple class.  It just holds attributes.  It's
     |  possible to construct Cookie instances that don't comply with the cookie
     |  standards.  CookieJar.make_cookies is the factory function for Cookie
     |  objects -- it deals with cookie parsing, supplying defaults, and
     |  normalising to the representation used in this class.  CookiePolicy is
     |  responsible for checking them to see whether they should be accepted from
     |  and returned to the server.
     |
     |  Note that the port may be present in the headers, but unspecified ("Port"
     |  rather than"Port=80", for example); if this is the case, port is None.
     |
     |  Methods defined here:
     |
     |  __init__(self, version, name, value, port, port_specified, domain, domain_specified, domain_initial_dot, path, path_specified, secure, expires, discard, comment, comment_url, rest, rfc2109=False)
     |      Initialize self.  See help(type(self)) for accurate signature.
     |
     |  __repr__(self)
     |      Return repr(self).
     |
     |  __str__(self)
     |      Return str(self).
     |
     |  get_nonstandard_attr(self, name, default=None)
     |
     |  has_nonstandard_attr(self, name)
     |
     |  is_expired(self, now=None)
     |
     |  set_nonstandard_attr(self, name, value)
     |
     |  ----------------------------------------------------------------------
     |  Data descriptors defined here:
     |
     |  __dict__
     |      dictionary for instance variables (if defined)
     |
     |  __weakref__
     |      list of weak references to the object (if defined)

<h4>    class CookieJar(builtins.object)</h4>     |  CookieJar(policy=None)
     |
     |  Collection of HTTP cookies.
     |
     |  You may not need to know about this class: try
     |  urllib.request.build_opener(HTTPCookieProcessor).open(url).
     |
     |  Methods defined here:
     |
     |  __init__(self, policy=None)
     |      Initialize self.  See help(type(self)) for accurate signature.
     |
     |  __iter__(self)
     |
     |  __len__(self)
     |      Return number of contained cookies.
     |
     |  __repr__(self)
     |      Return repr(self).
     |
     |  __str__(self)
     |      Return str(self).
     |
     |  add_cookie_header(self, request)
     |      Add correct Cookie: header to request (urllib.request.Request object).
     |
     |      The Cookie2 header is also added unless policy.hide_cookie2 is true.
     |
     |  clear(self, domain=None, path=None, name=None)
     |      Clear some cookies.
     |
     |      Invoking this method without arguments will clear all cookies.  If
     |      given a single argument, only cookies belonging to that domain will be
     |      removed.  If given two arguments, cookies belonging to the specified
     |      path within that domain are removed.  If given three arguments, then
     |      the cookie with the specified name, path and domain is removed.
     |
     |      Raises KeyError if no matching cookie exists.
     |
     |  clear_expired_cookies(self)
     |      Discard all expired cookies.
     |
     |      You probably don't need to call this method: expired cookies are never
     |      sent back to the server (provided you're using DefaultCookiePolicy),
     |      this method is called by CookieJar itself every so often, and the
     |      .save() method won't save expired cookies anyway (unless you ask
     |      otherwise by passing a true ignore_expires argument).
     |
     |  clear_session_cookies(self)
     |      Discard all session cookies.
     |
     |      Note that the .save() method won't save session cookies anyway, unless
     |      you ask otherwise by passing a true ignore_discard argument.
     |
     |  extract_cookies(self, response, request)
     |      Extract cookies from response, where allowable given the request.
     |
     |  make_cookies(self, response, request)
     |      Return sequence of Cookie objects extracted from response object.
     |
     |  set_cookie(self, cookie)
     |      Set a cookie, without checking whether or not it should be set.
     |
     |  set_cookie_if_ok(self, cookie, request)
     |      Set a cookie if policy says it's OK to do so.
     |
     |  set_policy(self, policy)
     |
     |  ----------------------------------------------------------------------
     |  Data descriptors defined here:
     |
     |  __dict__
     |      dictionary for instance variables (if defined)
     |
     |  __weakref__
     |      list of weak references to the object (if defined)
     |
     |  ----------------------------------------------------------------------
     |  Data and other attributes defined here:
     |
     |  domain_re = re.compile('[^.]*')
     |
     |  dots_re = re.compile('^\\.+')
     |
     |  magic_re = re.compile('^\\#LWP-Cookies-(\\d+\\.\\d+)', re.ASCII)
     |
     |  non_word_re = re.compile('\\W')
     |
     |  quote_re = re.compile('([\\"\\\\])')
     |
     |  strict_domain_re = re.compile('\\.?[^.]*')

<h4>    class CookiePolicy(builtins.object)</h4>     |  Defines which cookies get accepted from and returned to server.
     |
     |  May also modify cookies, though this is probably a bad idea.
     |
     |  The subclass DefaultCookiePolicy defines the standard rules for Netscape
     |  and RFC 2965 cookies -- override that if you want a customized policy.
     |
     |  Methods defined here:
     |
     |  domain_return_ok(self, domain, request)
     |      Return false if cookies should not be returned, given cookie domain.
     |
     |  path_return_ok(self, path, request)
     |      Return false if cookies should not be returned, given cookie path.
     |
     |  return_ok(self, cookie, request)
     |      Return true if (and only if) cookie should be returned to server.
     |
     |  set_ok(self, cookie, request)
     |      Return true if (and only if) cookie should be accepted from server.
     |
     |      Currently, pre-expired cookies never get this far -- the CookieJar
     |      class deletes such cookies itself.
     |
     |  ----------------------------------------------------------------------
     |  Data descriptors defined here:
     |
     |  __dict__
     |      dictionary for instance variables (if defined)
     |
     |  __weakref__
     |      list of weak references to the object (if defined)

    class DefaultCookiePolicy(CookiePolicy)
     |  DefaultCookiePolicy(blocked_domains=None, allowed_domains=None, netscape=True, rfc2965=False, rfc2109_as_netscape=None, hide_cookie2=False, strict_domain=False, strict_rfc2965_unverifiable=True, strict_ns_unverifiable=False, strict_ns_domain=0, strict_ns_set_initial_dollar=False, strict_ns_set_path=False)
     |
     |  Implements the standard rules for accepting and returning cookies.
     |
     |  Method resolution order:
     |      DefaultCookiePolicy
     |      CookiePolicy
     |      builtins.object
     |
     |  Methods defined here:
     |
     |  __init__(self, blocked_domains=None, allowed_domains=None, netscape=True, rfc2965=False, rfc2109_as_netscape=None, hide_cookie2=False, strict_domain=False, strict_rfc2965_unverifiable=True, strict_ns_unverifiable=False, strict_ns_domain=0, strict_ns_set_initial_dollar=False, strict_ns_set_path=False)
     |      Constructor arguments should be passed as keyword arguments only.
     |
     |  allowed_domains(self)
     |      Return None, or the sequence of allowed domains (as a tuple).
     |
     |  blocked_domains(self)
     |      Return the sequence of blocked domains (as a tuple).
     |
     |  domain_return_ok(self, domain, request)
     |      Return false if cookies should not be returned, given cookie domain.
     |
     |  is_blocked(self, domain)
     |
     |  is_not_allowed(self, domain)
     |
     |  path_return_ok(self, path, request)
     |      Return false if cookies should not be returned, given cookie path.
     |
     |  return_ok(self, cookie, request)
     |      If you override .return_ok(), be sure to call this method.  If it
     |      returns false, so should your subclass (assuming your subclass wants to
     |      be more strict about which cookies to return).
     |
     |  return_ok_domain(self, cookie, request)
     |
     |  return_ok_expires(self, cookie, request)
     |
     |  return_ok_port(self, cookie, request)
     |
     |  return_ok_secure(self, cookie, request)
     |
     |  return_ok_verifiability(self, cookie, request)
     |
     |  return_ok_version(self, cookie, request)
     |
     |  set_allowed_domains(self, allowed_domains)
     |      Set the sequence of allowed domains, or None.
     |
     |  set_blocked_domains(self, blocked_domains)
     |      Set the sequence of blocked domains.
     |
     |  set_ok(self, cookie, request)
     |      If you override .set_ok(), be sure to call this method.  If it returns
     |      false, so should your subclass (assuming your subclass wants to be more
     |      strict about which cookies to accept).
     |
     |  set_ok_domain(self, cookie, request)
     |
     |  set_ok_name(self, cookie, request)
     |
     |  set_ok_path(self, cookie, request)
     |
     |  set_ok_port(self, cookie, request)
     |
     |  set_ok_verifiability(self, cookie, request)
     |
     |  set_ok_version(self, cookie, request)
     |
     |  ----------------------------------------------------------------------
     |  Data and other attributes defined here:
     |
     |  DomainLiberal = 0
     |
     |  DomainRFC2965Match = 4
     |
     |  DomainStrict = 3
     |
     |  DomainStrictNoDots = 1
     |
     |  DomainStrictNonDomain = 2
     |
     |  ----------------------------------------------------------------------
     |  Data descriptors inherited from CookiePolicy:
     |
     |  __dict__
     |      dictionary for instance variables (if defined)
     |
     |  __weakref__
     |      list of weak references to the object (if defined)

<h4>    class FileCookieJar(CookieJar)</h4>     |  FileCookieJar(filename=None, delayload=False, policy=None)
     |
     |  CookieJar that can be loaded from and saved to a file.
     |
     |  Method resolution order:
     |      FileCookieJar
     |      CookieJar
     |      builtins.object
     |
     |  Methods defined here:
     |
     |  __init__(self, filename=None, delayload=False, policy=None)
     |      Cookies are NOT loaded from the named file until either the .load() or
     |      .revert() method is called.
     |
     |  load(self, filename=None, ignore_discard=False, ignore_expires=False)
     |      Load cookies from a file.
     |
     |  revert(self, filename=None, ignore_discard=False, ignore_expires=False)
     |      Clear all cookies and reload cookies from a saved file.
     |
     |      Raises LoadError (or OSError) if reversion is not successful; the
     |      object's state will not be altered if this happens.
     |
     |  save(self, filename=None, ignore_discard=False, ignore_expires=False)
     |      Save cookies to a file.
     |
     |  ----------------------------------------------------------------------
     |  Methods inherited from CookieJar:
     |
     |  __iter__(self)
     |
     |  __len__(self)
     |      Return number of contained cookies.
     |
     |  __repr__(self)
     |      Return repr(self).
     |
     |  __str__(self)
     |      Return str(self).
     |
     |  add_cookie_header(self, request)
     |      Add correct Cookie: header to request (urllib.request.Request object).
     |
     |      The Cookie2 header is also added unless policy.hide_cookie2 is true.
     |
     |  clear(self, domain=None, path=None, name=None)
     |      Clear some cookies.
     |
     |      Invoking this method without arguments will clear all cookies.  If
     |      given a single argument, only cookies belonging to that domain will be
     |      removed.  If given two arguments, cookies belonging to the specified
     |      path within that domain are removed.  If given three arguments, then
     |      the cookie with the specified name, path and domain is removed.
     |
     |      Raises KeyError if no matching cookie exists.
     |
     |  clear_expired_cookies(self)
     |      Discard all expired cookies.
     |
     |      You probably don't need to call this method: expired cookies are never
     |      sent back to the server (provided you're using DefaultCookiePolicy),
     |      this method is called by CookieJar itself every so often, and the
     |      .save() method won't save expired cookies anyway (unless you ask
     |      otherwise by passing a true ignore_expires argument).
     |
     |  clear_session_cookies(self)
     |      Discard all session cookies.
     |
     |      Note that the .save() method won't save session cookies anyway, unless
     |      you ask otherwise by passing a true ignore_discard argument.
     |
     |  extract_cookies(self, response, request)
     |      Extract cookies from response, where allowable given the request.
     |
     |  make_cookies(self, response, request)
     |      Return sequence of Cookie objects extracted from response object.
     |
     |  set_cookie(self, cookie)
     |      Set a cookie, without checking whether or not it should be set.
     |
     |  set_cookie_if_ok(self, cookie, request)
     |      Set a cookie if policy says it's OK to do so.
     |
     |  set_policy(self, policy)
     |
     |  ----------------------------------------------------------------------
     |  Data descriptors inherited from CookieJar:
     |
     |  __dict__
     |      dictionary for instance variables (if defined)
     |
     |  __weakref__
     |      list of weak references to the object (if defined)
     |
     |  ----------------------------------------------------------------------
     |  Data and other attributes inherited from CookieJar:
     |
     |  domain_re = re.compile('[^.]*')
     |
     |  dots_re = re.compile('^\\.+')
     |
     |  magic_re = re.compile('^\\#LWP-Cookies-(\\d+\\.\\d+)', re.ASCII)
     |
     |  non_word_re = re.compile('\\W')
     |
     |  quote_re = re.compile('([\\"\\\\])')
     |
     |  strict_domain_re = re.compile('\\.?[^.]*')

<h4>    class LWPCookieJar(FileCookieJar)</h4>     |  LWPCookieJar(filename=None, delayload=False, policy=None)
     |
     |  The LWPCookieJar saves a sequence of "Set-Cookie3" lines.
     |  "Set-Cookie3" is the format used by the libwww-perl library, not known
     |  to be compatible with any browser, but which is easy to read and
     |  doesn't lose information about RFC 2965 cookies.
     |
     |  Additional methods
     |
     |  as_lwp_str(ignore_discard=True, ignore_expired=True)
     |
     |  Method resolution order:
     |      LWPCookieJar
     |      FileCookieJar
     |      CookieJar
     |      builtins.object
     |
     |  Methods defined here:
     |
     |  as_lwp_str(self, ignore_discard=True, ignore_expires=True)
     |      Return cookies as a string of "\n"-separated "Set-Cookie3" headers.
     |
     |      ignore_discard and ignore_expires: see docstring for FileCookieJar.save
     |
     |  save(self, filename=None, ignore_discard=False, ignore_expires=False)
     |      Save cookies to a file.
     |
     |  ----------------------------------------------------------------------
     |  Methods inherited from FileCookieJar:
     |
     |  __init__(self, filename=None, delayload=False, policy=None)
     |      Cookies are NOT loaded from the named file until either the .load() or
     |      .revert() method is called.
     |
     |  load(self, filename=None, ignore_discard=False, ignore_expires=False)
     |      Load cookies from a file.
     |
     |  revert(self, filename=None, ignore_discard=False, ignore_expires=False)
     |      Clear all cookies and reload cookies from a saved file.
     |
     |      Raises LoadError (or OSError) if reversion is not successful; the
     |      object's state will not be altered if this happens.
     |
     |  ----------------------------------------------------------------------
     |  Methods inherited from CookieJar:
     |
     |  __iter__(self)
     |
     |  __len__(self)
     |      Return number of contained cookies.
     |
     |  __repr__(self)
     |      Return repr(self).
     |
     |  __str__(self)
     |      Return str(self).
     |
     |  add_cookie_header(self, request)
     |      Add correct Cookie: header to request (urllib.request.Request object).
     |
     |      The Cookie2 header is also added unless policy.hide_cookie2 is true.
     |
     |  clear(self, domain=None, path=None, name=None)
     |      Clear some cookies.
     |
     |      Invoking this method without arguments will clear all cookies.  If
     |      given a single argument, only cookies belonging to that domain will be
     |      removed.  If given two arguments, cookies belonging to the specified
     |      path within that domain are removed.  If given three arguments, then
     |      the cookie with the specified name, path and domain is removed.
     |
     |      Raises KeyError if no matching cookie exists.
     |
     |  clear_expired_cookies(self)
     |      Discard all expired cookies.
     |
     |      You probably don't need to call this method: expired cookies are never
     |      sent back to the server (provided you're using DefaultCookiePolicy),
     |      this method is called by CookieJar itself every so often, and the
     |      .save() method won't save expired cookies anyway (unless you ask
     |      otherwise by passing a true ignore_expires argument).
     |
     |  clear_session_cookies(self)
     |      Discard all session cookies.
     |
     |      Note that the .save() method won't save session cookies anyway, unless
     |      you ask otherwise by passing a true ignore_discard argument.
     |
     |  extract_cookies(self, response, request)
     |      Extract cookies from response, where allowable given the request.
     |
     |  make_cookies(self, response, request)
     |      Return sequence of Cookie objects extracted from response object.
     |
     |  set_cookie(self, cookie)
     |      Set a cookie, without checking whether or not it should be set.
     |
     |  set_cookie_if_ok(self, cookie, request)
     |      Set a cookie if policy says it's OK to do so.
     |
     |  set_policy(self, policy)
     |
     |  ----------------------------------------------------------------------
     |  Data descriptors inherited from CookieJar:
     |
     |  __dict__
     |      dictionary for instance variables (if defined)
     |
     |  __weakref__
     |      list of weak references to the object (if defined)
     |
     |  ----------------------------------------------------------------------
     |  Data and other attributes inherited from CookieJar:
     |
     |  domain_re = re.compile('[^.]*')
     |
     |  dots_re = re.compile('^\\.+')
     |
     |  magic_re = re.compile('^\\#LWP-Cookies-(\\d+\\.\\d+)', re.ASCII)
     |
     |  non_word_re = re.compile('\\W')
     |
     |  quote_re = re.compile('([\\"\\\\])')
     |
     |  strict_domain_re = re.compile('\\.?[^.]*')

<h4>    class LoadError(builtins.OSError)</h4>     |  Base class for I/O related errors.
     |
     |  Method resolution order:
     |      LoadError
     |      builtins.OSError
     |      builtins.Exception
     |      builtins.BaseException
     |      builtins.object
     |
     |  Data descriptors defined here:
     |
     |  __weakref__
     |      list of weak references to the object (if defined)
     |
     |  ----------------------------------------------------------------------
     |  Methods inherited from builtins.OSError:
     |
     |  __init__(self, /, *args, **kwargs)
     |      Initialize self.  See help(type(self)) for accurate signature.
     |
     |  __reduce__(...)
     |      Helper for pickle.
     |
     |  __str__(self, /)
     |      Return str(self).
     |
     |  ----------------------------------------------------------------------
     |  Static methods inherited from builtins.OSError:
     |
     |  __new__(*args, **kwargs) from builtins.type
     |      Create and return a new object.  See help(type) for accurate signature.
     |
     |  ----------------------------------------------------------------------
     |  Data descriptors inherited from builtins.OSError:
     |
     |  characters_written
     |
     |  errno
     |      POSIX exception code
     |
     |  filename
     |      exception filename
     |
     |  filename2
     |      second exception filename
     |
     |  strerror
     |      exception strerror
     |
     |  ----------------------------------------------------------------------
     |  Methods inherited from builtins.BaseException:
     |
     |  __delattr__(self, name, /)
     |      Implement delattr(self, name).
     |
     |  __getattribute__(self, name, /)
     |      Return getattr(self, name).
     |
     |  __repr__(self, /)
     |      Return repr(self).
     |
     |  __setattr__(self, name, value, /)
     |      Implement setattr(self, name, value).
     |
     |  __setstate__(...)
     |
     |  with_traceback(...)
     |      Exception.with_traceback(tb) --
     |      set self.__traceback__ to tb and return self.
     |
     |  ----------------------------------------------------------------------
     |  Data descriptors inherited from builtins.BaseException:
     |
     |  __cause__
     |      exception cause
     |
     |  __context__
     |      exception context
     |
     |  __dict__
     |
     |  __suppress_context__
     |
     |  __traceback__
     |
     |  args

<h4>    class MozillaCookieJar(FileCookieJar)</h4>     |  MozillaCookieJar(filename=None, delayload=False, policy=None)
     |
     |  WARNING: you may want to backup your browser's cookies file if you use
     |  this class to save cookies.  I *think* it works, but there have been
     |  bugs in the past!
     |
     |  This class differs from CookieJar only in the format it uses to save and
     |  load cookies to and from a file.  This class uses the Mozilla/Netscape
     |  `cookies.txt' format.  lynx uses this file format, too.
     |
     |  Don't expect cookies saved while the browser is running to be noticed by
     |  the browser (in fact, Mozilla on unix will overwrite your saved cookies if
     |  you change them on disk while it's running; on Windows, you probably can't
     |  save at all while the browser is running).
     |
     |  Note that the Mozilla/Netscape format will downgrade RFC2965 cookies to
     |  Netscape cookies on saving.
     |
     |  In particular, the cookie version and port number information is lost,
     |  together with information about whether or not Path, Port and Discard were
     |  specified by the Set-Cookie2 (or Set-Cookie) header, and whether or not the
     |  domain as set in the HTTP header started with a dot (yes, I'm aware some
     |  domains in Netscape files start with a dot and some don't -- trust me, you
     |  really don't want to know any more about this).
     |
     |  Note that though Mozilla and Netscape use the same format, they use
     |  slightly different headers.  The class saves cookies using the Netscape
     |  header by default (Mozilla can cope with that).
     |
     |  Method resolution order:
     |      MozillaCookieJar
     |      FileCookieJar
     |      CookieJar
     |      builtins.object
     |
     |  Methods defined here:
     |
     |  save(self, filename=None, ignore_discard=False, ignore_expires=False)
     |      Save cookies to a file.
     |
     |  ----------------------------------------------------------------------
     |  Data and other attributes defined here:
     |
     |  header = '# Netscape HTTP Cookie File\n# http://curl.haxx.s....html\n#...
     |
     |  magic_re = re.compile('#( Netscape)? HTTP Cookie File')
     |
     |  ----------------------------------------------------------------------
     |  Methods inherited from FileCookieJar:
     |
     |  __init__(self, filename=None, delayload=False, policy=None)
     |      Cookies are NOT loaded from the named file until either the .load() or
     |      .revert() method is called.
     |
     |  load(self, filename=None, ignore_discard=False, ignore_expires=False)
     |      Load cookies from a file.
     |
     |  revert(self, filename=None, ignore_discard=False, ignore_expires=False)
     |      Clear all cookies and reload cookies from a saved file.
     |
     |      Raises LoadError (or OSError) if reversion is not successful; the
     |      object's state will not be altered if this happens.
     |
     |  ----------------------------------------------------------------------
     |  Methods inherited from CookieJar:
     |
     |  __iter__(self)
     |
     |  __len__(self)
     |      Return number of contained cookies.
     |
     |  __repr__(self)
     |      Return repr(self).
     |
     |  __str__(self)
     |      Return str(self).
     |
     |  add_cookie_header(self, request)
     |      Add correct Cookie: header to request (urllib.request.Request object).
     |
     |      The Cookie2 header is also added unless policy.hide_cookie2 is true.
     |
     |  clear(self, domain=None, path=None, name=None)
     |      Clear some cookies.
     |
     |      Invoking this method without arguments will clear all cookies.  If
     |      given a single argument, only cookies belonging to that domain will be
     |      removed.  If given two arguments, cookies belonging to the specified
     |      path within that domain are removed.  If given three arguments, then
     |      the cookie with the specified name, path and domain is removed.
     |
     |      Raises KeyError if no matching cookie exists.
     |
     |  clear_expired_cookies(self)
     |      Discard all expired cookies.
     |
     |      You probably don't need to call this method: expired cookies are never
     |      sent back to the server (provided you're using DefaultCookiePolicy),
     |      this method is called by CookieJar itself every so often, and the
     |      .save() method won't save expired cookies anyway (unless you ask
     |      otherwise by passing a true ignore_expires argument).
     |
     |  clear_session_cookies(self)
     |      Discard all session cookies.
     |
     |      Note that the .save() method won't save session cookies anyway, unless
     |      you ask otherwise by passing a true ignore_discard argument.
     |
     |  extract_cookies(self, response, request)
     |      Extract cookies from response, where allowable given the request.
     |
     |  make_cookies(self, response, request)
     |      Return sequence of Cookie objects extracted from response object.
     |
     |  set_cookie(self, cookie)
     |      Set a cookie, without checking whether or not it should be set.
     |
     |  set_cookie_if_ok(self, cookie, request)
     |      Set a cookie if policy says it's OK to do so.
     |
     |  set_policy(self, policy)
     |
     |  ----------------------------------------------------------------------
     |  Data descriptors inherited from CookieJar:
     |
     |  __dict__
     |      dictionary for instance variables (if defined)
     |
     |  __weakref__
     |      list of weak references to the object (if defined)
     |
     |  ----------------------------------------------------------------------
     |  Data and other attributes inherited from CookieJar:
     |
     |  domain_re = re.compile('[^.]*')
     |
     |  dots_re = re.compile('^\\.+')
     |
     |  non_word_re = re.compile('\\W')
     |
     |  quote_re = re.compile('([\\"\\\\])')
     |
     |  strict_domain_re = re.compile('\\.?[^.]*')

<h3>DATA</h3>    __all__ = ['Cookie', 'CookieJar', 'CookiePolicy', 'DefaultCookiePolicy...

<h3>FILE</h3>    /usr/local/Cellar/python/3.7.2_1/Frameworks/Python.framework/Versions/3.7/lib/python3.7/http/cookiejar.py<br></pre><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><div class="section" id="cookiejar-and-filecookiejar-objects" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><h2 style="font-weight: normal; color: rgb(26, 26, 26); border: 0px; margin: 0px; padding: 0.3em 0px; font-size: 25.6px;" id="blogTitle6">CookieJar and FileCookieJar Objects<a class="headerlink" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#cookiejar-and-filecookiejar-objects" title="永久链接至标题" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></h2><p style="hyphens: auto; text-align: justify; line-height: 22.4px;"><a class="reference internal" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.CookieJar" title="http.cookiejar.CookieJar" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">CookieJar</span></code></a>&nbsp;objects support the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/glossary.html#term-iterator" style="color: rgb(99, 99, 187); text-decoration-line: none;">iterator</a>&nbsp;protocol for iterating over contained&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.Cookie" title="http.cookiejar.Cookie" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Cookie</span></code></a>&nbsp;objects.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px;"><a class="reference internal" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.CookieJar" title="http.cookiejar.CookieJar" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">CookieJar</span></code></a>&nbsp;has the following methods:</p><dl class="method" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">CookieJar.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">add_cookie_header</code><span class="sig-paren" style="font-size: larger;">(</span><em>request</em><span class="sig-paren" style="font-size: larger;">)</span></h3><dt id="http.cookiejar.CookieJar.add_cookie_header"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.CookieJar.add_cookie_header" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Add correct&nbsp;<em class="mailheader">Cookie</em>&nbsp;header to&nbsp;<em>request</em>.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">If policy allows (ie. the&nbsp;<code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">rfc2965</span></code>&nbsp;and&nbsp;<code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">hide_cookie2</span></code>&nbsp;attributes of the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.CookieJar" title="http.cookiejar.CookieJar" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">CookieJar</span></code></a>'s&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.CookiePolicy" title="http.cookiejar.CookiePolicy" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">CookiePolicy</span></code></a>&nbsp;instance are true and false respectively), the&nbsp;<em class="mailheader">Cookie2</em>&nbsp;header is also added when appropriate.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">The&nbsp;<em>request</em>&nbsp;object (usually a&nbsp;<code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">urllib.request..Request</span></code>&nbsp;instance) must support the methods&nbsp;<code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">get_full_url()</span></code>,&nbsp;<code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">get_host()</span></code>,&nbsp;<code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">get_type()</span></code>,&nbsp;<code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">unverifiable()</span></code>,&nbsp;<code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">has_header()</span></code>,&nbsp;<code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">get_header()</span></code>,&nbsp;<code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">header_items()</span></code>,&nbsp;<code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">add_unredirected_header()</span></code>&nbsp;and&nbsp;<code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">origin_req_host</span></code>&nbsp;attribute as documented by&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/urllib.request.html#module-urllib.request" title="urllib.request: Extensible library for opening URLs." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">urllib.request</span></code></a>.</p><div class="versionchanged"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">在 3.3 版更改:&nbsp;</span><em>request</em>&nbsp;object needs&nbsp;<code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">origin_req_host</span></code>&nbsp;attribute. Dependency on a deprecated method&nbsp;<code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">get_origin_req_host()</span></code>&nbsp;has been removed.</p></div></dd></dl><dl class="method" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">CookieJar.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">extract_cookies</code><span class="sig-paren" style="font-size: larger;">(</span><em>response</em>,&nbsp;<em>request</em><span class="sig-paren" style="font-size: larger;">)</span></h3><dt id="http.cookiejar.CookieJar.extract_cookies"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.CookieJar.extract_cookies" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Extract cookies from HTTP&nbsp;<em>response</em>&nbsp;and store them in the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.CookieJar" title="http.cookiejar.CookieJar" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">CookieJar</span></code></a>, where allowed by policy.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">The&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.CookieJar" title="http.cookiejar.CookieJar" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">CookieJar</span></code></a>&nbsp;will look for allowable&nbsp;<em class="mailheader">Set-Cookie</em>&nbsp;and&nbsp;<em class="mailheader">Set-Cookie2</em>&nbsp;headers in the&nbsp;<em>response</em>argument, and store cookies as appropriate (subject to the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.CookiePolicy.set_ok" title="http.cookiejar.CookiePolicy.set_ok" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">CookiePolicy.set_ok()</span></code></a>&nbsp;method's approval).</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">The&nbsp;<em>response</em>&nbsp;object (usually the result of a call to&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/urllib.request.html#urllib.request.urlopen" title="urllib.request.urlopen" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">urllib.request.urlopen()</span></code></a>, or similar) should support an&nbsp;<code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">info()</span></code>&nbsp;method, which returns an&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/email.compat32-message.html#email.message.Message" title="email.message.Message" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">email.message.Message</span></code></a>&nbsp;instance.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">The&nbsp;<em>request</em>&nbsp;object (usually a&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/urllib.request.html#urllib.request.Request" title="urllib.request.Request" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">urllib.request.Request</span></code></a>&nbsp;instance) must support the methods&nbsp;<code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">get_full_url()</span></code>,&nbsp;<code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">get_host()</span></code>,&nbsp;<code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">unverifiable()</span></code>, and&nbsp;<code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">origin_req_host</span></code>&nbsp;attribute, as documented by&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/urllib.request.html#module-urllib.request" title="urllib.request: Extensible library for opening URLs." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">urllib.request</span></code></a>. The request is used to set default values for cookie-attributes as well as for checking that the cookie is allowed to be set.</p><div class="versionchanged"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">在 3.3 版更改:&nbsp;</span><em>request</em>&nbsp;object needs&nbsp;<code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">origin_req_host</span></code>&nbsp;attribute. Dependency on a deprecated method&nbsp;<code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">get_origin_req_host()</span></code>&nbsp;has been removed.</p></div></dd></dl><dl class="method" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">CookieJar.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">set_policy</code><span class="sig-paren" style="font-size: larger;">(</span><em>policy</em><span class="sig-paren" style="font-size: larger;">)</span></h3><dt id="http.cookiejar.CookieJar.set_policy"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.CookieJar.set_policy" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Set the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.CookiePolicy" title="http.cookiejar.CookiePolicy" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">CookiePolicy</span></code></a>&nbsp;instance to be used.</p></dd></dl><dl class="method" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">CookieJar.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">make_cookies</code><span class="sig-paren" style="font-size: larger;">(</span><em>response</em>,&nbsp;<em>request</em><span class="sig-paren" style="font-size: larger;">)</span></h3><dt id="http.cookiejar.CookieJar.make_cookies"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.CookieJar.make_cookies" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Return sequence of&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.Cookie" title="http.cookiejar.Cookie" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Cookie</span></code></a>&nbsp;objects extracted from&nbsp;<em>response</em>&nbsp;object.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">See the documentation for&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.CookieJar.extract_cookies" title="http.cookiejar.CookieJar.extract_cookies" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">extract_cookies()</span></code></a>&nbsp;for the interfaces required of the&nbsp;<em>response</em>&nbsp;and&nbsp;<em>request</em>&nbsp;arguments.</p></dd></dl><dl class="method" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">CookieJar.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">set_cookie_if_ok</code><span class="sig-paren" style="font-size: larger;">(</span><em>cookie</em>,&nbsp;<em>request</em><span class="sig-paren" style="font-size: larger;">)</span></h3><dt id="http.cookiejar.CookieJar.set_cookie_if_ok"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.CookieJar.set_cookie_if_ok" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Set a&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.Cookie" title="http.cookiejar.Cookie" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Cookie</span></code></a>&nbsp;if policy says it's OK to do so.</p></dd></dl><dl class="method" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">CookieJar.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">set_cookie</code><span class="sig-paren" style="font-size: larger;">(</span><em>cookie</em><span class="sig-paren" style="font-size: larger;">)</span></h3><dt id="http.cookiejar.CookieJar.set_cookie"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.CookieJar.set_cookie" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Set a&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.Cookie" title="http.cookiejar.Cookie" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Cookie</span></code></a>, without checking with policy to see whether or not it should be set.</p></dd></dl><dl class="method" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">CookieJar.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">clear</code><span class="sig-paren" style="font-size: larger;">(</span><span class="optional" style="font-size: 1.3em;">[</span><em>domain</em><span class="optional" style="font-size: 1.3em;">[</span>,&nbsp;<em>path</em><span class="optional" style="font-size: 1.3em;">[</span>,&nbsp;<em>name</em><span class="optional" style="font-size: 1.3em;">]</span><span class="optional" style="font-size: 1.3em;">]</span><span class="optional" style="font-size: 1.3em;">]</span><span class="sig-paren" style="font-size: larger;">)</span></h3><dt id="http.cookiejar.CookieJar.clear"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.CookieJar.clear" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Clear some cookies.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">If invoked without arguments, clear all cookies. If given a single argument, only cookies belonging to that&nbsp;<em>domain</em>&nbsp;will be removed. If given two arguments, cookies belonging to the specified&nbsp;<em>domain</em>&nbsp;and URL&nbsp;<em>path</em>&nbsp;are removed. If given three arguments, then the cookie with the specified&nbsp;<em>domain</em>,&nbsp;<em>path</em>&nbsp;and&nbsp;<em>name</em>&nbsp;is removed.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Raises&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#KeyError" title="KeyError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">KeyError</span></code></a>&nbsp;if no matching cookie exists.</p></dd></dl><dl class="method" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">CookieJar.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">clear_session_cookies</code><span class="sig-paren" style="font-size: larger;">(</span><span class="sig-paren" style="font-size: larger;">)</span></h3><dt id="http.cookiejar.CookieJar.clear_session_cookies"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.CookieJar.clear_session_cookies" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Discard all session cookies.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Discards all contained cookies that have a true&nbsp;<code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">discard</span></code>&nbsp;attribute (usually because they had either no&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">max-age</span></code>&nbsp;or&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">expires</span></code>&nbsp;cookie-attribute, or an explicit&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">discard</span></code>&nbsp;cookie-attribute). For interactive browsers, the end of a session usually corresponds to closing the browser window.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Note that the&nbsp;<code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">save()</span></code>&nbsp;method won't save session cookies anyway, unless you ask otherwise by passing a true&nbsp;<em>ignore_discard</em>&nbsp;argument.</p></dd></dl><p style="hyphens: auto; text-align: justify; line-height: 22.4px;"><a class="reference internal" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.FileCookieJar" title="http.cookiejar.FileCookieJar" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">FileCookieJar</span></code></a>&nbsp;implements the following additional methods:</p><dl class="method" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">FileCookieJar.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">save</code><span class="sig-paren" style="font-size: larger;">(</span><em>filename=None</em>,&nbsp;<em>ignore_discard=False</em>,&nbsp;<em>ignore_expires=False</em><span class="sig-paren" style="font-size: larger;">)</span></h3><dt id="http.cookiejar.FileCookieJar.save"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.FileCookieJar.save" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Save cookies to a file.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">This base class raises&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#NotImplementedError" title="NotImplementedError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">NotImplementedError</span></code></a>. Subclasses may leave this method unimplemented.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><em>filename</em>&nbsp;is the name of file in which to save cookies. If&nbsp;<em>filename</em>&nbsp;is not specified,&nbsp;<code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">self.filename</span></code>&nbsp;is used (whose default is the value passed to the constructor, if any); if&nbsp;<code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">self.filename</span></code>&nbsp;is&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/constants.html#None" title="None" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code></a>,&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#ValueError" title="ValueError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">ValueError</span></code></a>&nbsp;is raised.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><em>ignore_discard</em>: save even cookies set to be discarded.&nbsp;<em>ignore_expires</em>: save even cookies that have expired</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">The file is overwritten if it already exists, thus wiping all the cookies it contains. Saved cookies can be restored later using the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.FileCookieJar.load" title="http.cookiejar.FileCookieJar.load" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">load()</span></code></a>&nbsp;or&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.FileCookieJar.revert" title="http.cookiejar.FileCookieJar.revert" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">revert()</span></code></a>&nbsp;methods.</p></dd></dl><dl class="method" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">FileCookieJar.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">load</code><span class="sig-paren" style="font-size: larger;">(</span><em>filename=None</em>,&nbsp;<em>ignore_discard=False</em>,&nbsp;<em>ignore_expires=False</em><span class="sig-paren" style="font-size: larger;">)</span></h3><dt id="http.cookiejar.FileCookieJar.load"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.FileCookieJar.load" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Load cookies from a file.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Old cookies are kept unless overwritten by newly loaded ones.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Arguments are as for&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.FileCookieJar.save" title="http.cookiejar.FileCookieJar.save" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">save()</span></code></a>.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">The named file must be in the format understood by the class, or&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.LoadError" title="http.cookiejar.LoadError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">LoadError</span></code></a>&nbsp;will be raised. Also,&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#OSError" title="OSError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">OSError</span></code></a>&nbsp;may be raised, for example if the file does not exist.</p><div class="versionchanged"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">在 3.3 版更改:&nbsp;</span>过去触发的&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#IOError" title="IOError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">IOError</span></code></a>，现在是&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#OSError" title="OSError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">OSError</span></code></a>&nbsp;的别名。</p></div></dd></dl><dl class="method" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">FileCookieJar.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">revert</code><span class="sig-paren" style="font-size: larger;">(</span><em>filename=None</em>,&nbsp;<em>ignore_discard=False</em>,&nbsp;<em>ignore_expires=False</em><span class="sig-paren" style="font-size: larger;">)</span></h3><dt id="http.cookiejar.FileCookieJar.revert"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.FileCookieJar.revert" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Clear all cookies and reload cookies from a saved file.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><a class="reference internal" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.FileCookieJar.revert" title="http.cookiejar.FileCookieJar.revert" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">revert()</span></code></a>&nbsp;can raise the same exceptions as&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.FileCookieJar.load" title="http.cookiejar.FileCookieJar.load" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">load()</span></code></a>. If there is a failure, the object's state will not be altered.</p></dd></dl><p style="hyphens: auto; text-align: justify; line-height: 22.4px;"><a class="reference internal" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.FileCookieJar" title="http.cookiejar.FileCookieJar" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">FileCookieJar</span></code></a>&nbsp;instances have the following public attributes:</p><dl class="attribute" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">FileCookieJar.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">filename</code></h3><dt id="http.cookiejar.FileCookieJar.filename"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.FileCookieJar.filename" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Filename of default file in which to keep cookies. This attribute may be assigned to.</p></dd></dl><dl class="attribute" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">FileCookieJar.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">delayload</code></h3><dt id="http.cookiejar.FileCookieJar.delayload"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.FileCookieJar.delayload" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">If true, load cookies lazily from disk. This attribute should not be assigned to. This is only a hint, since this only affects performance, not behaviour (unless the cookies on disk are changing). A&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.CookieJar" title="http.cookiejar.CookieJar" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">CookieJar</span></code></a>&nbsp;object may ignore it. None of the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.FileCookieJar" title="http.cookiejar.FileCookieJar" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">FileCookieJar</span></code></a>&nbsp;classes included in the standard library lazily loads cookies.</p></dd></dl></div><div class="section" id="filecookiejar-subclasses-and-co-operation-with-web-browsers" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><span id="file-cookie-jar-classes"></span><h2 style="font-weight: normal; color: rgb(26, 26, 26); border: 0px; margin: 0px; padding: 0.3em 0px; font-size: 25.6px;" id="blogTitle7">FileCookieJar subclasses and co-operation with web browsers<a class="headerlink" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#filecookiejar-subclasses-and-co-operation-with-web-browsers" title="永久链接至标题" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></h2><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">The following&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.CookieJar" title="http.cookiejar.CookieJar" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">CookieJar</span></code></a>&nbsp;subclasses are provided for reading and writing.</p><dl class="class" style="margin-bottom: 15px;"><h3><em class="property">class&nbsp;</em><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">http.cookiejar.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">MozillaCookieJar</code><span class="sig-paren" style="font-size: larger;">(</span><em>filename</em>,&nbsp;<em>delayload=None</em>,&nbsp;<em>policy=None</em><span class="sig-paren" style="font-size: larger;">)</span></h3><dt id="http.cookiejar.MozillaCookieJar"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.MozillaCookieJar" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">A&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.FileCookieJar" title="http.cookiejar.FileCookieJar" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">FileCookieJar</span></code></a>&nbsp;that can load from and save cookies to disk in the Mozilla&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">cookies.txt</span></code>&nbsp;file format (which is also used by the Lynx and Netscape browsers).</p><div class="admonition note" style="margin-top: 10px; margin-bottom: 10px; padding: 7px; background-color: rgb(238, 238, 238); border: 1px solid rgb(204, 204, 204); border-radius: 3px;"><p class="first admonition-title" style="margin: 0px 10px 5px 0px; font-weight: bold; display: inline; hyphens: auto; line-height: 22.4px;">注解</p>&nbsp;<p class="last" style="margin-top: 0px; hyphens: auto; line-height: 22.4px; margin-bottom: 5px; display: inline;">This loses information about&nbsp;<span class="target" id="index-11"></span><a class="rfc reference external" href="https://tools.ietf.org/html/rfc2965.html" style="color: rgb(99, 99, 187); text-decoration-line: none;"><strong>RFC 2965</strong></a>&nbsp;cookies, and also about newer or non-standard cookie-attributes such as&nbsp;<code class="docutils literal notranslate" style="background: rgb(214, 214, 214); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">port</span></code>.</p></div><div class="admonition warning" style="margin-top: 10px; margin-bottom: 10px; padding: 7px; background-color: rgb(255, 228, 228); border: 1px solid rgb(255, 102, 102); border-radius: 3px;"><p class="first admonition-title" style="margin: 0px 10px 5px 0px; font-weight: bold; display: inline; hyphens: auto; line-height: 22.4px;">警告</p>&nbsp;<p class="last" style="margin-top: 0px; hyphens: auto; line-height: 22.4px; margin-bottom: 5px; display: inline;">Back up your cookies before saving if you have cookies whose loss / corruption would be inconvenient (there are some subtleties which may lead to slight changes in the file over a load / save round-trip).</p></div><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Also note that cookies saved while Mozilla is running will get clobbered by Mozilla.</p></dd></dl><dl class="class" style="margin-bottom: 15px;"><h3><em class="property">class&nbsp;</em><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">http.cookiejar.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">LWPCookieJar</code><span class="sig-paren" style="font-size: larger;">(</span><em>filename</em>,&nbsp;<em>delayload=None</em>,&nbsp;<em>policy=None</em><span class="sig-paren" style="font-size: larger;">)</span></h3><dt id="http.cookiejar.LWPCookieJar"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.LWPCookieJar" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">A&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.FileCookieJar" title="http.cookiejar.FileCookieJar" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">FileCookieJar</span></code></a>&nbsp;that can load from and save cookies to disk in format compatible with the libwww-perl library's&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Set-Cookie3</span></code>&nbsp;file format. This is convenient if you want to store cookies in a human-readable file.</p></dd></dl></div><div class="section" id="cookiepolicy-objects" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><span id="cookie-policy-objects"></span><h2 style="font-weight: normal; color: rgb(26, 26, 26); border: 0px; margin: 0px; padding: 0.3em 0px; font-size: 25.6px;" id="blogTitle8">CookiePolicy Objects<a class="headerlink" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#cookiepolicy-objects" title="永久链接至标题" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></h2><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">Objects implementing the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.CookiePolicy" title="http.cookiejar.CookiePolicy" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">CookiePolicy</span></code></a>&nbsp;interface have the following methods:</p><dl class="method" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">CookiePolicy.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">set_ok</code><span class="sig-paren" style="font-size: larger;">(</span><em>cookie</em>,&nbsp;<em>request</em><span class="sig-paren" style="font-size: larger;">)</span></h3><dt id="http.cookiejar.CookiePolicy.set_ok"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.CookiePolicy.set_ok" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Return boolean value indicating whether cookie should be accepted from server.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><em>cookie</em>&nbsp;is a&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.Cookie" title="http.cookiejar.Cookie" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Cookie</span></code></a>&nbsp;instance.&nbsp;<em>request</em>&nbsp;is an object implementing the interface defined by the documentation for&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.CookieJar.extract_cookies" title="http.cookiejar.CookieJar.extract_cookies" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">CookieJar.extract_cookies()</span></code></a>.</p></dd></dl><dl class="method" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">CookiePolicy.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">return_ok</code><span class="sig-paren" style="font-size: larger;">(</span><em>cookie</em>,&nbsp;<em>request</em><span class="sig-paren" style="font-size: larger;">)</span></h3><dt id="http.cookiejar.CookiePolicy.return_ok"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.CookiePolicy.return_ok" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Return boolean value indicating whether cookie should be returned to server.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><em>cookie</em>&nbsp;is a&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.Cookie" title="http.cookiejar.Cookie" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Cookie</span></code></a>&nbsp;instance.&nbsp;<em>request</em>&nbsp;is an object implementing the interface defined by the documentation for&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.CookieJar.add_cookie_header" title="http.cookiejar.CookieJar.add_cookie_header" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">CookieJar.add_cookie_header()</span></code></a>.</p></dd></dl><dl class="method" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">CookiePolicy.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">domain_return_ok</code><span class="sig-paren" style="font-size: larger;">(</span><em>domain</em>,&nbsp;<em>request</em><span class="sig-paren" style="font-size: larger;">)</span></h3><dt id="http.cookiejar.CookiePolicy.domain_return_ok"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.CookiePolicy.domain_return_ok" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Return false if cookies should not be returned, given cookie domain.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">This method is an optimization. It removes the need for checking every cookie with a particular domain (which might involve reading many files). Returning true from&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.CookiePolicy.domain_return_ok" title="http.cookiejar.CookiePolicy.domain_return_ok" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">domain_return_ok()</span></code></a>and&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.CookiePolicy.path_return_ok" title="http.cookiejar.CookiePolicy.path_return_ok" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">path_return_ok()</span></code></a>&nbsp;leaves all the work to&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.CookiePolicy.return_ok" title="http.cookiejar.CookiePolicy.return_ok" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">return_ok()</span></code></a>.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">If&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.CookiePolicy.domain_return_ok" title="http.cookiejar.CookiePolicy.domain_return_ok" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">domain_return_ok()</span></code></a>&nbsp;returns true for the cookie domain,&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.CookiePolicy.path_return_ok" title="http.cookiejar.CookiePolicy.path_return_ok" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">path_return_ok()</span></code></a>&nbsp;is called for the cookie path. Otherwise,&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.CookiePolicy.path_return_ok" title="http.cookiejar.CookiePolicy.path_return_ok" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">path_return_ok()</span></code></a>&nbsp;and&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.CookiePolicy.return_ok" title="http.cookiejar.CookiePolicy.return_ok" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">return_ok()</span></code></a>&nbsp;are never called for that cookie domain. If&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.CookiePolicy.path_return_ok" title="http.cookiejar.CookiePolicy.path_return_ok" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">path_return_ok()</span></code></a>&nbsp;returns true,&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.CookiePolicy.return_ok" title="http.cookiejar.CookiePolicy.return_ok" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">return_ok()</span></code></a>&nbsp;is called with the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.Cookie" title="http.cookiejar.Cookie" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Cookie</span></code></a>object itself for a full check. Otherwise,&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.CookiePolicy.return_ok" title="http.cookiejar.CookiePolicy.return_ok" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">return_ok()</span></code></a>&nbsp;is never called for that cookie path.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Note that&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.CookiePolicy.domain_return_ok" title="http.cookiejar.CookiePolicy.domain_return_ok" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">domain_return_ok()</span></code></a>&nbsp;is called for every&nbsp;<em>cookie</em>&nbsp;domain, not just for the&nbsp;<em>request</em>domain. For example, the function might be called with both&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">".example.com"</span></code>&nbsp;and&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">"www.example.com"</span></code>&nbsp;if the request domain is&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">"www.example.com"</span></code>. The same goes for&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.CookiePolicy.path_return_ok" title="http.cookiejar.CookiePolicy.path_return_ok" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">path_return_ok()</span></code></a>.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">The&nbsp;<em>request</em>&nbsp;argument is as documented for&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.CookiePolicy.return_ok" title="http.cookiejar.CookiePolicy.return_ok" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">return_ok()</span></code></a>.</p></dd></dl><dl class="method" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">CookiePolicy.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">path_return_ok</code><span class="sig-paren" style="font-size: larger;">(</span><em>path</em>,&nbsp;<em>request</em><span class="sig-paren" style="font-size: larger;">)</span></h3><dt id="http.cookiejar.CookiePolicy.path_return_ok"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.CookiePolicy.path_return_ok" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Return false if cookies should not be returned, given cookie path.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">See the documentation for&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.CookiePolicy.domain_return_ok" title="http.cookiejar.CookiePolicy.domain_return_ok" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">domain_return_ok()</span></code></a>.</p></dd></dl><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">In addition to implementing the methods above, implementations of the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.CookiePolicy" title="http.cookiejar.CookiePolicy" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">CookiePolicy</span></code></a>&nbsp;interface must also supply the following attributes, indicating which protocols should be used, and how. All of these attributes may be assigned to.</p><dl class="attribute" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">CookiePolicy.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">netscape</code></h3><dt id="http.cookiejar.CookiePolicy.netscape"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.CookiePolicy.netscape" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Implement Netscape protocol.</p></dd></dl><dl class="attribute" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">CookiePolicy.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">rfc2965</code></h3><dt id="http.cookiejar.CookiePolicy.rfc2965"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.CookiePolicy.rfc2965" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Implement&nbsp;<span class="target" id="index-12"></span><a class="rfc reference external" href="https://tools.ietf.org/html/rfc2965.html" style="color: rgb(99, 99, 187); text-decoration-line: none;"><strong>RFC 2965</strong></a>&nbsp;protocol.</p></dd></dl><dl class="attribute" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">CookiePolicy.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">hide_cookie2</code></h3><dt id="http.cookiejar.CookiePolicy.hide_cookie2"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.CookiePolicy.hide_cookie2" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Don't add&nbsp;<em class="mailheader">Cookie2</em>&nbsp;header to requests (the presence of this header indicates to the server that we understand&nbsp;<span class="target" id="index-13"></span><a class="rfc reference external" href="https://tools.ietf.org/html/rfc2965.html" style="color: rgb(99, 99, 187); text-decoration-line: none;"><strong>RFC 2965</strong></a>&nbsp;cookies).</p></dd></dl><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">The most useful way to define a&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.CookiePolicy" title="http.cookiejar.CookiePolicy" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">CookiePolicy</span></code></a>&nbsp;class is by subclassing from&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.DefaultCookiePolicy" title="http.cookiejar.DefaultCookiePolicy" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">DefaultCookiePolicy</span></code></a>and overriding some or all of the methods above.&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.CookiePolicy" title="http.cookiejar.CookiePolicy" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">CookiePolicy</span></code></a>&nbsp;itself may be used as a 'null policy' to allow setting and receiving any and all cookies (this is unlikely to be useful).</p></div><div class="section" id="defaultcookiepolicy-objects" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><span id="default-cookie-policy-objects"></span><h2 style="font-weight: normal; color: rgb(26, 26, 26); border: 0px; margin: 0px; padding: 0.3em 0px; font-size: 25.6px;" id="blogTitle9">DefaultCookiePolicy Objects<a class="headerlink" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#defaultcookiepolicy-objects" title="永久链接至标题" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></h2><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">Implements the standard rules for accepting and returning cookies.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">Both&nbsp;<span class="target" id="index-14"></span><a class="rfc reference external" href="https://tools.ietf.org/html/rfc2965.html" style="color: rgb(99, 99, 187); text-decoration-line: none;"><strong>RFC 2965</strong></a>&nbsp;and Netscape cookies are covered. RFC 2965 handling is switched off by default.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">The easiest way to provide your own policy is to override this class and call its methods in your overridden implementations before adding your own additional checks:</p><div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="kn" style="color: rgb(0, 112, 32); font-weight: bold;">import</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">http.cookiejar</span>
<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">class</span> <span class="nc" style="color: rgb(14, 132, 181); font-weight: bold;">MyCookiePolicy</span><span class="p">(</span><span class="n">http</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">cookiejar</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">DefaultCookiePolicy</span><span class="p">):</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">def</span> <span class="nf" style="color: rgb(6, 40, 126);">set_ok</span><span class="p">(</span><span class="bp" style="color: rgb(0, 112, 32);">self</span><span class="p">,</span> <span class="n">cookie</span><span class="p">,</span> <span class="n">request</span><span class="p">):</span>
        <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">if</span> <span class="ow" style="color: rgb(0, 112, 32); font-weight: bold;">not</span> <span class="n">http</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">cookiejar</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">DefaultCookiePolicy</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">set_ok</span><span class="p">(</span><span class="bp" style="color: rgb(0, 112, 32);">self</span><span class="p">,</span> <span class="n">cookie</span><span class="p">,</span> <span class="n">request</span><span class="p">):</span>
            <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">return</span> <span class="kc" style="color: rgb(0, 112, 32); font-weight: bold;">False</span>
        <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">if</span> <span class="n">i_dont_want_to_store_this_cookie</span><span class="p">(</span><span class="n">cookie</span><span class="p">):</span>
            <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">return</span> <span class="kc" style="color: rgb(0, 112, 32); font-weight: bold;">False</span>
        <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">return</span> <span class="kc" style="color: rgb(0, 112, 32); font-weight: bold;">True</span>
</pre></div></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">In addition to the features required to implement the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.CookiePolicy" title="http.cookiejar.CookiePolicy" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">CookiePolicy</span></code></a>&nbsp;interface, this class allows you to block and allow domains from setting and receiving cookies. There are also some strictness switches that allow you to tighten up the rather loose Netscape protocol rules a little bit (at the cost of blocking some benign cookies).</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">A domain blacklist and whitelist is provided (both off by default). Only domains not in the blacklist and present in the whitelist (if the whitelist is active) participate in cookie setting and returning. Use the&nbsp;<em>blocked_domains</em>&nbsp;constructor argument, and&nbsp;<code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">blocked_domains()</span></code>&nbsp;and<code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">set_blocked_domains()</span></code>&nbsp;methods (and the corresponding argument and methods for&nbsp;<em>allowed_domains</em>). If you set a whitelist, you can turn it off again by setting it to&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/constants.html#None" title="None" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code></a>.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">Domains in block or allow lists that do not start with a dot must equal the cookie domain to be matched. For example,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">"example.com"</span></code>&nbsp;matches a blacklist entry of&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">"example.com"</span></code>, but&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">"www.example.com"</span></code>&nbsp;does not. Domains that do start with a dot are matched by more specific domains too. For example, both&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">"www.example.com"</span></code>&nbsp;and&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">"www.coyote.example.com"</span></code>&nbsp;match&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">".example.com"</span></code>&nbsp;(but&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">"example.com"</span></code>&nbsp;itself does not). IP addresses are an exception, and must match exactly. For example, if blocked_domains contains&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">"192.168.1.2"</span></code>&nbsp;and&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">".168.1.2"</span></code>, 192.168.1.2 is blocked, but 193.168.1.2 is not.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px;"><a class="reference internal" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.DefaultCookiePolicy" title="http.cookiejar.DefaultCookiePolicy" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">DefaultCookiePolicy</span></code></a>&nbsp;implements the following additional methods:</p><dl class="method" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">DefaultCookiePolicy.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">blocked_domains</code><span class="sig-paren" style="font-size: larger;">(</span><span class="sig-paren" style="font-size: larger;">)</span></h3><dt id="http.cookiejar.DefaultCookiePolicy.blocked_domains"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.DefaultCookiePolicy.blocked_domains" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Return the sequence of blocked domains (as a tuple).</p></dd></dl><dl class="method" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">DefaultCookiePolicy.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">set_blocked_domains</code><span class="sig-paren" style="font-size: larger;">(</span><em>blocked_domains</em><span class="sig-paren" style="font-size: larger;">)</span></h3><dt id="http.cookiejar.DefaultCookiePolicy.set_blocked_domains"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.DefaultCookiePolicy.set_blocked_domains" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Set the sequence of blocked domains.</p></dd></dl><dl class="method" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">DefaultCookiePolicy.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">is_blocked</code><span class="sig-paren" style="font-size: larger;">(</span><em>domain</em><span class="sig-paren" style="font-size: larger;">)</span></h3><dt id="http.cookiejar.DefaultCookiePolicy.is_blocked"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.DefaultCookiePolicy.is_blocked" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Return whether&nbsp;<em>domain</em>&nbsp;is on the blacklist for setting or receiving cookies.</p></dd></dl><dl class="method" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">DefaultCookiePolicy.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">allowed_domains</code><span class="sig-paren" style="font-size: larger;">(</span><span class="sig-paren" style="font-size: larger;">)</span></h3><dt id="http.cookiejar.DefaultCookiePolicy.allowed_domains"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.DefaultCookiePolicy.allowed_domains" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Return&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/constants.html#None" title="None" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code></a>, or the sequence of allowed domains (as a tuple).</p></dd></dl><dl class="method" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">DefaultCookiePolicy.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">set_allowed_domains</code><span class="sig-paren" style="font-size: larger;">(</span><em>allowed_domains</em><span class="sig-paren" style="font-size: larger;">)</span></h3><dt id="http.cookiejar.DefaultCookiePolicy.set_allowed_domains"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.DefaultCookiePolicy.set_allowed_domains" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Set the sequence of allowed domains, or&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/constants.html#None" title="None" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code></a>.</p></dd></dl><dl class="method" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">DefaultCookiePolicy.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">is_not_allowed</code><span class="sig-paren" style="font-size: larger;">(</span><em>domain</em><span class="sig-paren" style="font-size: larger;">)</span></h3><dt id="http.cookiejar.DefaultCookiePolicy.is_not_allowed"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.DefaultCookiePolicy.is_not_allowed" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Return whether&nbsp;<em>domain</em>&nbsp;is not on the whitelist for setting or receiving cookies.</p></dd></dl><p style="hyphens: auto; text-align: justify; line-height: 22.4px;"><a class="reference internal" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.DefaultCookiePolicy" title="http.cookiejar.DefaultCookiePolicy" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">DefaultCookiePolicy</span></code></a>&nbsp;instances have the following attributes, which are all initialised from the constructor arguments of the same name, and which may all be assigned to.</p><dl class="attribute" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">DefaultCookiePolicy.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">rfc2109_as_netscape</code></h3><dt id="http.cookiejar.DefaultCookiePolicy.rfc2109_as_netscape"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.DefaultCookiePolicy.rfc2109_as_netscape" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">If true, request that the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.CookieJar" title="http.cookiejar.CookieJar" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">CookieJar</span></code></a>&nbsp;instance downgrade&nbsp;<span class="target" id="index-15"></span><a class="rfc reference external" href="https://tools.ietf.org/html/rfc2109.html" style="color: rgb(99, 99, 187); text-decoration-line: none;"><strong>RFC 2109</strong></a>&nbsp;cookies (ie. cookies received in a&nbsp;<em class="mailheader">Set-Cookie</em>&nbsp;header with a version cookie-attribute of 1) to Netscape cookies by setting the version attribute of the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.Cookie" title="http.cookiejar.Cookie" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Cookie</span></code></a>&nbsp;instance to 0. The default value is&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/constants.html#None" title="None" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code></a>, in which case RFC 2109 cookies are downgraded if and only if&nbsp;<span class="target" id="index-16"></span><a class="rfc reference external" href="https://tools.ietf.org/html/rfc2965.html" style="color: rgb(99, 99, 187); text-decoration-line: none;"><strong>RFC 2965</strong></a>&nbsp;handling is turned off. Therefore, RFC 2109 cookies are downgraded by default.</p></dd></dl><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">General strictness switches:</p><dl class="attribute" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">DefaultCookiePolicy.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">strict_domain</code></h3><dt id="http.cookiejar.DefaultCookiePolicy.strict_domain"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.DefaultCookiePolicy.strict_domain" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Don't allow sites to set two-component domains with country-code top-level domains like&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">.co.uk</span></code>,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">.gov.uk</span></code>,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">.co.nz</span></code>.etc. This is far from perfect and isn't guaranteed to work!</p></dd></dl><p style="hyphens: auto; text-align: justify; line-height: 22.4px;"><span class="target" id="index-17"></span><a class="rfc reference external" href="https://tools.ietf.org/html/rfc2965.html" style="color: rgb(99, 99, 187); text-decoration-line: none;"><strong>RFC 2965</strong></a>&nbsp;protocol strictness switches:</p><dl class="attribute" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">DefaultCookiePolicy.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">strict_rfc2965_unverifiable</code></h3><dt id="http.cookiejar.DefaultCookiePolicy.strict_rfc2965_unverifiable"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.DefaultCookiePolicy.strict_rfc2965_unverifiable" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Follow&nbsp;<span class="target" id="index-18"></span><a class="rfc reference external" href="https://tools.ietf.org/html/rfc2965.html" style="color: rgb(99, 99, 187); text-decoration-line: none;"><strong>RFC 2965</strong></a>&nbsp;rules on unverifiable transactions (usually, an unverifiable transaction is one resulting from a redirect or a request for an image hosted on another site). If this is false, cookies are&nbsp;<em>never</em>&nbsp;blocked on the basis of verifiability</p></dd></dl><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">Netscape protocol strictness switches:</p><dl class="attribute" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">DefaultCookiePolicy.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">strict_ns_unverifiable</code></h3><dt id="http.cookiejar.DefaultCookiePolicy.strict_ns_unverifiable"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.DefaultCookiePolicy.strict_ns_unverifiable" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Apply&nbsp;<span class="target" id="index-19"></span><a class="rfc reference external" href="https://tools.ietf.org/html/rfc2965.html" style="color: rgb(99, 99, 187); text-decoration-line: none;"><strong>RFC 2965</strong></a>&nbsp;rules on unverifiable transactions even to Netscape cookies.</p></dd></dl><dl class="attribute" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">DefaultCookiePolicy.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">strict_ns_domain</code></h3><dt id="http.cookiejar.DefaultCookiePolicy.strict_ns_domain"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.DefaultCookiePolicy.strict_ns_domain" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Flags indicating how strict to be with domain-matching rules for Netscape cookies. See below for acceptable values.</p></dd></dl><dl class="attribute" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">DefaultCookiePolicy.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">strict_ns_set_initial_dollar</code></h3><dt id="http.cookiejar.DefaultCookiePolicy.strict_ns_set_initial_dollar"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.DefaultCookiePolicy.strict_ns_set_initial_dollar" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Ignore cookies in Set-Cookie: headers that have names starting with&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">'$'</span></code>.</p></dd></dl><dl class="attribute" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">DefaultCookiePolicy.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">strict_ns_set_path</code></h3><dt id="http.cookiejar.DefaultCookiePolicy.strict_ns_set_path"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.DefaultCookiePolicy.strict_ns_set_path" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Don't allow setting cookies whose path doesn't path-match request URI.</p></dd></dl><p style="hyphens: auto; text-align: justify; line-height: 22.4px;"><code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">strict_ns_domain</span></code>&nbsp;is a collection of flags. Its value is constructed by or-ing together (for example,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">DomainStrictNoDots|DomainStrictNonDomain</span></code>&nbsp;means both flags are set).</p><dl class="attribute" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">DefaultCookiePolicy.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">DomainStrictNoDots</code></h3><dt id="http.cookiejar.DefaultCookiePolicy.DomainStrictNoDots"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.DefaultCookiePolicy.DomainStrictNoDots" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">When setting cookies, the 'host prefix' must not contain a dot (eg.&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">www.foo.bar.com</span></code>&nbsp;can't set a cookie for&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">.bar.com</span></code>, because&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">www.foo</span></code>&nbsp;contains a dot).</p></dd></dl><dl class="attribute" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">DefaultCookiePolicy.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">DomainStrictNonDomain</code></h3><dt id="http.cookiejar.DefaultCookiePolicy.DomainStrictNonDomain"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.DefaultCookiePolicy.DomainStrictNonDomain" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Cookies that did not explicitly specify a&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">domain</span></code>&nbsp;cookie-attribute can only be returned to a domain equal to the domain that set the cookie (eg.&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">spam.example.com</span></code>&nbsp;won't be returned cookies from&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">example.com</span></code>&nbsp;that had no&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">domain</span></code>&nbsp;cookie-attribute).</p></dd></dl><dl class="attribute" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">DefaultCookiePolicy.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">DomainRFC2965Match</code></h3><dt id="http.cookiejar.DefaultCookiePolicy.DomainRFC2965Match"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.DefaultCookiePolicy.DomainRFC2965Match" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">When setting cookies, require a full&nbsp;<span class="target" id="index-20"></span><a class="rfc reference external" href="https://tools.ietf.org/html/rfc2965.html" style="color: rgb(99, 99, 187); text-decoration-line: none;"><strong>RFC 2965</strong></a>&nbsp;domain-match.</p></dd></dl><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">The following attributes are provided for convenience, and are the most useful combinations of the above flags:</p><dl class="attribute" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">DefaultCookiePolicy.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">DomainLiberal</code></h3><dt id="http.cookiejar.DefaultCookiePolicy.DomainLiberal"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.DefaultCookiePolicy.DomainLiberal" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Equivalent to 0 (ie. all of the above Netscape domain strictness flags switched off).</p></dd></dl><dl class="attribute" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">DefaultCookiePolicy.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">DomainStrict</code></h3><dt id="http.cookiejar.DefaultCookiePolicy.DomainStrict"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.DefaultCookiePolicy.DomainStrict" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Equivalent to&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">DomainStrictNoDots|DomainStrictNonDomain</span></code>.</p></dd></dl></div><div class="section" id="cookie-objects" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><h2 style="font-weight: normal; color: rgb(26, 26, 26); border: 0px; margin: 0px; padding: 0.3em 0px; font-size: 25.6px;" id="blogTitle10">Cookie Objects<a class="headerlink" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#cookie-objects" title="永久链接至标题" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></h2><p style="hyphens: auto; text-align: justify; line-height: 22.4px;"><a class="reference internal" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.Cookie" title="http.cookiejar.Cookie" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Cookie</span></code></a>&nbsp;instances have Python attributes roughly corresponding to the standard cookie-attributes specified in the various cookie standards. The correspondence is not one-to-one, because there are complicated rules for assigning default values, because the&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">max-age</span></code>&nbsp;and&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">expires</span></code>&nbsp;cookie-attributes contain equivalent information, and because&nbsp;<span class="target" id="index-21"></span><a class="rfc reference external" href="https://tools.ietf.org/html/rfc2109.html" style="color: rgb(99, 99, 187); text-decoration-line: none;"><strong>RFC 2109</strong></a>&nbsp;cookies may be 'downgraded' by&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#module-http.cookiejar" title="http.cookiejar: Classes for automatic handling of HTTP cookies." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">http.cookiejar</span></code></a>&nbsp;from version 1 to version 0 (Netscape) cookies.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">Assignment to these attributes should not be necessary other than in rare circumstances in a&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.CookiePolicy" title="http.cookiejar.CookiePolicy" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">CookiePolicy</span></code></a>&nbsp;method. The class does not enforce internal consistency, so you should know what you're doing if you do that.</p><dl class="attribute" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">Cookie.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">version</code></h3><dt id="http.cookiejar.Cookie.version"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.Cookie.version" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Integer or&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/constants.html#None" title="None" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code></a>. Netscape cookies have&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.Cookie.version" title="http.cookiejar.Cookie.version" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">version</span></code></a>&nbsp;0.&nbsp;<span class="target" id="index-22"></span><a class="rfc reference external" href="https://tools.ietf.org/html/rfc2965.html" style="color: rgb(99, 99, 187); text-decoration-line: none;"><strong>RFC 2965</strong></a>&nbsp;and&nbsp;<span class="target" id="index-23"></span><a class="rfc reference external" href="https://tools.ietf.org/html/rfc2109.html" style="color: rgb(99, 99, 187); text-decoration-line: none;"><strong>RFC 2109</strong></a>&nbsp;cookies have a&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">version</span></code>&nbsp;cookie-attribute of 1. However, note that&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#module-http.cookiejar" title="http.cookiejar: Classes for automatic handling of HTTP cookies." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">http.cookiejar</span></code></a>&nbsp;may 'downgrade' RFC 2109 cookies to Netscape cookies, in which case&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.Cookie.version" title="http.cookiejar.Cookie.version" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">version</span></code></a>&nbsp;is 0.</p></dd></dl><dl class="attribute" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">Cookie.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">name</code></h3><dt id="http.cookiejar.Cookie.name"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.Cookie.name" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Cookie name (a string).</p></dd></dl><dl class="attribute" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">Cookie.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">value</code></h3><dt id="http.cookiejar.Cookie.value"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.Cookie.value" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Cookie value (a string), or&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/constants.html#None" title="None" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code></a>.</p></dd></dl><dl class="attribute" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">Cookie.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">port</code></h3><dt id="http.cookiejar.Cookie.port"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.Cookie.port" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">String representing a port or a set of ports (eg. '80', or '80,8080'), or&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/constants.html#None" title="None" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code></a>.</p></dd></dl><dl class="attribute" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">Cookie.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">path</code></h3><dt id="http.cookiejar.Cookie.path"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.Cookie.path" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Cookie path (a string, eg.&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">'/acme/rocket_launchers'</span></code>).</p></dd></dl><dl class="attribute" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">Cookie.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">secure</code></h3><dt id="http.cookiejar.Cookie.secure"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.Cookie.secure" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">True</span></code>&nbsp;if cookie should only be returned over a secure connection.</p></dd></dl><dl class="attribute" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">Cookie.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">expires</code></h3><dt id="http.cookiejar.Cookie.expires"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.Cookie.expires" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Integer expiry date in seconds since epoch, or&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/constants.html#None" title="None" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code></a>. See also the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.Cookie.is_expired" title="http.cookiejar.Cookie.is_expired" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">is_expired()</span></code></a>&nbsp;method.</p></dd></dl><dl class="attribute" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">Cookie.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">discard</code></h3><dt id="http.cookiejar.Cookie.discard"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.Cookie.discard" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">True</span></code>&nbsp;if this is a session cookie.</p></dd></dl><dl class="attribute" style="margin-bottom: 15px;"><dt id="http.cookiejar.Cookie.comment"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">Cookie.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">comment</code><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.Cookie.comment" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">String comment from the server explaining the function of this cookie, or&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/constants.html#None" title="None" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code></a>.</p></dd></dl><dl class="attribute" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">Cookie.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">comment_url</code></h3><dt id="http.cookiejar.Cookie.comment_url"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.Cookie.comment_url" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">URL linking to a comment from the server explaining the function of this cookie, or&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/constants.html#None" title="None" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code></a>.</p></dd></dl><dl class="attribute" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">Cookie.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">rfc2109</code></h3><dt id="http.cookiejar.Cookie.rfc2109"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.Cookie.rfc2109" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">True</span></code>&nbsp;if this cookie was received as an&nbsp;<span class="target" id="index-24"></span><a class="rfc reference external" href="https://tools.ietf.org/html/rfc2109.html" style="color: rgb(99, 99, 187); text-decoration-line: none;"><strong>RFC 2109</strong></a>&nbsp;cookie (ie. the cookie arrived in a&nbsp;<em class="mailheader">Set-Cookie</em>header, and the value of the Version cookie-attribute in that header was 1). This attribute is provided because&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#module-http.cookiejar" title="http.cookiejar: Classes for automatic handling of HTTP cookies." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">http.cookiejar</span></code></a>&nbsp;may 'downgrade' RFC 2109 cookies to Netscape cookies, in which case&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.Cookie.version" title="http.cookiejar.Cookie.version" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">version</span></code></a>&nbsp;is 0.</p></dd></dl><dl class="attribute" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">Cookie.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">port_specified</code></h3><dt id="http.cookiejar.Cookie.port_specified"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.Cookie.port_specified" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">True</span></code>&nbsp;if a port or set of ports was explicitly specified by the server (in the&nbsp;<em class="mailheader">Set-Cookie</em>&nbsp;/&nbsp;<em class="mailheader">Set-Cookie2</em>&nbsp;header).</p></dd></dl><dl class="attribute" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">Cookie.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">domain_specified</code></h3><dt id="http.cookiejar.Cookie.domain_specified"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.Cookie.domain_specified" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">True</span></code>&nbsp;if a domain was explicitly specified by the server.</p></dd></dl><dl class="attribute" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">Cookie.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">domain_initial_dot</code></h3><dt id="http.cookiejar.Cookie.domain_initial_dot"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.Cookie.domain_initial_dot" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">True</span></code>&nbsp;if the domain explicitly specified by the server began with a dot (<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">'.'</span></code>).</p></dd></dl><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">Cookies may have additional non-standard cookie-attributes. These may be accessed using the following methods:</p><dl class="method" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">Cookie.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">has_nonstandard_attr</code><span class="sig-paren" style="font-size: larger;">(</span><em>name</em><span class="sig-paren" style="font-size: larger;">)</span></h3><dt id="http.cookiejar.Cookie.has_nonstandard_attr"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.Cookie.has_nonstandard_attr" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Return true if cookie has the named cookie-attribute.</p></dd></dl><dl class="method" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">Cookie.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">get_nonstandard_attr</code><span class="sig-paren" style="font-size: larger;">(</span><em>name</em>,&nbsp;<em>default=None</em><span class="sig-paren" style="font-size: larger;">)</span></h3><dt id="http.cookiejar.Cookie.get_nonstandard_attr"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.Cookie.get_nonstandard_attr" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">If cookie has the named cookie-attribute, return its value. Otherwise, return&nbsp;<em>default</em>.</p></dd></dl><dl class="method" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">Cookie.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">set_nonstandard_attr</code><span class="sig-paren" style="font-size: larger;">(</span><em>name</em>,&nbsp;<em>value</em><span class="sig-paren" style="font-size: larger;">)</span></h3><dt id="http.cookiejar.Cookie.set_nonstandard_attr"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.Cookie.set_nonstandard_attr" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Set the value of the named cookie-attribute.</p></dd></dl><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">The&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.Cookie" title="http.cookiejar.Cookie" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Cookie</span></code></a>&nbsp;class also defines the following method:</p><dl class="method" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">Cookie.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">is_expired</code><span class="sig-paren" style="font-size: larger;">(</span><em>now=None</em><span class="sig-paren" style="font-size: larger;">)</span></h3><dt id="http.cookiejar.Cookie.is_expired"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.Cookie.is_expired" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">True</span></code>&nbsp;if cookie has passed the time at which the server requested it should expire. If&nbsp;<em>now</em>&nbsp;is given (in seconds since the epoch), return whether the cookie has expired at the specified time.</p></dd></dl></div><div class="section" id="examples" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><h2 style="font-weight: normal; color: rgb(26, 26, 26); border: 0px; margin: 0px; padding: 0.3em 0px; font-size: 25.6px;" id="blogTitle11">示例<a class="headerlink" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#examples" title="永久链接至标题" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></h2><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">The first example shows the most common usage of&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#module-http.cookiejar" title="http.cookiejar: Classes for automatic handling of HTTP cookies." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">http.cookiejar</span></code></a>:</p><div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="kn" style="color: rgb(0, 112, 32); font-weight: bold;">import</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">http.cookiejar</span><span class="o" style="color: rgb(102, 102, 102);">,</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">urllib.request</span>
<span class="n">cj</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">http</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">cookiejar</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">CookieJar</span><span class="p">()</span>
<span class="n">opener</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">urllib</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">request</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">build_opener</span><span class="p">(</span><span class="n">urllib</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">request</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">HTTPCookieProcessor</span><span class="p">(</span><span class="n">cj</span><span class="p">))</span>
<span class="n">r</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">opener</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">open</span><span class="p">(</span><span class="s2" style="color: rgb(64, 112, 160);">"http://example.com/"</span><span class="p">)</span>
</pre></div></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">This example illustrates how to open a URL using your Netscape, Mozilla, or Lynx cookies (assumes Unix/Netscape convention for location of the cookies file):</p><div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="kn" style="color: rgb(0, 112, 32); font-weight: bold;">import</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">os</span><span class="o" style="color: rgb(102, 102, 102);">,</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">http.cookiejar</span><span class="o" style="color: rgb(102, 102, 102);">,</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">urllib.request</span>
<span class="n">cj</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">http</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">cookiejar</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">MozillaCookieJar</span><span class="p">()</span>
<span class="n">cj</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">load</span><span class="p">(</span><span class="n">os</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">path</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">path</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s2" style="color: rgb(64, 112, 160);">"~"</span><span class="p">),</span> <span class="s2" style="color: rgb(64, 112, 160);">".netscape"</span><span class="p">,</span> <span class="s2" style="color: rgb(64, 112, 160);">"cookies.txt"</span><span class="p">))</span>
<span class="n">opener</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">urllib</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">request</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">build_opener</span><span class="p">(</span><span class="n">urllib</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">request</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">HTTPCookieProcessor</span><span class="p">(</span><span class="n">cj</span><span class="p">))</span>
<span class="n">r</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">opener</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">open</span><span class="p">(</span><span class="s2" style="color: rgb(64, 112, 160);">"http://example.com/"</span><span class="p">)</span>
</pre></div></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">The next example illustrates the use of&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/http.cookiejar.html#http.cookiejar.DefaultCookiePolicy" title="http.cookiejar.DefaultCookiePolicy" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">DefaultCookiePolicy</span></code></a>. Turn on&nbsp;<span class="target" id="index-25"></span><a class="rfc reference external" href="https://tools.ietf.org/html/rfc2965.html" style="color: rgb(99, 99, 187); text-decoration-line: none;"><strong>RFC 2965</strong></a>&nbsp;cookies, be more strict about domains when setting and returning Netscape cookies, and block some domains from setting cookies or having them returned:</p><div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="kn" style="color: rgb(0, 112, 32); font-weight: bold;">import</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">urllib.request</span>
<span class="kn" style="color: rgb(0, 112, 32); font-weight: bold;">from</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">http.cookiejar</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">import</span> <span class="n">CookieJar</span><span class="p">,</span> <span class="n">DefaultCookiePolicy</span>
<span class="n">policy</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">DefaultCookiePolicy</span><span class="p">(</span>
    <span class="n">rfc2965</span><span class="o" style="color: rgb(102, 102, 102);">=</span><span class="kc" style="color: rgb(0, 112, 32); font-weight: bold;">True</span><span class="p">,</span> <span class="n">strict_ns_domain</span><span class="o" style="color: rgb(102, 102, 102);">=</span><span class="n">Policy</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">DomainStrict</span><span class="p">,</span>
    <span class="n">blocked_domains</span><span class="o" style="color: rgb(102, 102, 102);">=</span><span class="p">[</span><span class="s2" style="color: rgb(64, 112, 160);">"ads.net"</span><span class="p">,</span> <span class="s2" style="color: rgb(64, 112, 160);">".ads.net"</span><span class="p">])</span>
<span class="n">cj</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">CookieJar</span><span class="p">(</span><span class="n">policy</span><span class="p">)</span>
<span class="n">opener</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">urllib</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">request</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">build_opener</span><span class="p">(</span><span class="n">urllib</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">request</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">HTTPCookieProcessor</span><span class="p">(</span><span class="n">cj</span><span class="p">))</span>
<span class="n">r</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">opener</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">open</span><span class="p">(</span><span class="s2" style="color: rgb(64, 112, 160);">"http://example.com/"</span><span class="p">)</span></pre></div></div></div></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div>
</article>
{% endblock point1 %}
