{% extends 'c-word.html' %}

{% block title %} Network - OS | Linux {% endblock title %}

{% block point1 %}
<article contenteditable="true">
  <p><b style="background-color: yellow;">Category: 计算机 | 软件 | 系统软件 | OS | Linux | Network</b><br></p>
  <h1 id="blogTitle0">Network</h1><div><br></div><div><br></div><div><h2 id="blogTitle1">概述</h2><h3>OSI</h3><div><ul><li>应用层（Application Layer）<br></li><li>表示层（Presentation Layer）<br></li><li>会话层（Session Layer）<br></li><li>传输层（Transport Layer）<br></li><li>网络层（Network Layer）<br></li><li>数据链路层（Data Link Layer）<br></li><li>物理层（Physical Layer）<br></li></ul></div><h3>TCP/IP</h3><div><ul><li>Application Layer<br></li><li>Transport Layer<br></li><li>Network Layer<br></li><li>Data Link Layer<br></li><li>Physical Layer<br></li></ul></div><h3>传输层协议</h3><div>tcp, udp, sctp</div><div><br></div><h3>网络层协议</h3><div><ul><li>ip 协议<br></li><ul><li>IPv4 地址分类</li><ul><ul><li>点分十进制：0 ~ 255</li><li>0000 0000 ~ 1111 1111</li><li>0.0.0.0 ~ 255.255.255.255</li></ul><li>A 类：</li><ul><li>0 000 0000 ~ 0 111 1111：1 ~ 127</li><li>网络数：126，127</li><li>每个网络中的主机数：2^24 - 2</li><li>默认子网掩码：255.0.0.0</li><li>私网地址：10.0.0.0/8</li></ul><li>B 类：</li><ul><li>10 00 0000 ~ 10 11 1111：128 ~ 191</li><li>网络数：2^14</li><li>每个网络中的主机数：2^16 - 2<br></li><li>默认子网掩码：255.255.0.0</li><li>私网地址：172.16.0.0/16 ~ 172.31.0.0/16</li></ul><li>C 类：</li><ul><li>110 0 0000 ~ 110 1 1111:192 ~ 223</li><li>网络数：2^21</li><li>每个网络中的主机数：2^8 - 2</li><li>默认子网掩码：255.255.255.0</li><li>私网地址：192.168.0.0/24 ~ 192.168.255.0/24</li></ul><li>D 类：组播</li><ul><li>1110 0000 ~ 1110 1111：224 ~ 239</li></ul><li>E 类：</li><ul><li>240 ~ 255</li></ul></ul></ul></ul></div><div>子网掩码：</div><div><ul><li>172.16.100.100/16 -- 172.17.1.1 二者网络不同</li><ul><li>172.16.100.100/255.255.0.0 ==&gt; 172.16.0.0</li><li>172.17.1.1/255.255.0.0 ==&gt; 172.17.0.0</li><li>网络不同需要跨网络通信：路由</li><ul><li>主机路由</li><li>网络路由</li><li>默认路由</li></ul></ul></ul></div><div><br></div><div>将 Linux 主机接入到网络中：</div><div><ul><li>IP/mask<br></li><li>路由：默认网关<br></li><li>DNS 服务器<br></li><ul><li>主 DNS 服务器</li><li>次 DNS 服务器</li><li>第三 DNS 服务器</li></ul><li>配置方式：</li><ul><li>静态指定</li><ul><li>ifcfg 家族：ifconfig，route，netstat，ifup，ifdown</li><li>ip：link，addr，route</li><li>直接编辑配置文件</li><ul><li>前端工具：nmcli，nmtui</li></ul></ul><li>动态分配：</li><ul><li>DHCP：Dynamic Host Configuration Protocol</li></ul></ul><li>配置网络接口：</li><ul><li>接口命名方式</li><ul><li>传统命名</li><li>网卡命名方式</li><li>名称组成格式</li></ul><li>相关命令</li><ul><li>ifconfig 命令</li><li>route 命令（路由管理）</li><li>DNS 服务器指定</li><ul><li>/etc/resolc.conf</li><ul><li>nameserver DNS_SERVER_IP1</li><li>nameserver&nbsp;DNS_SERVER_IP2</li><li>nameserver&nbsp;DNS_SERVER_IP3</li></ul><li>正解：FQDN --&gt; IP</li><ul><li>dig -t A FQDN</li><li>host</li></ul><li>反解：IP --&gt; FQDN</li><ul><li>dig -x IP</li><li>host</li></ul></ul><li>netstat 命令</li><ul><li>网络状态查看</li><li>显示路由表</li><li>显示接口统计数据</li></ul></ul></ul><li>配置 Linux 网络属性：</li><ul><li>ip 命令</li><li>ss 命令</li></ul><li>修改网络配置文件</li><ul><li>IP、MASK、GW、DNS 相关配置文件：/etc/sysconfig/network-scripts/ifcfg-IFACE</li><ul><li><li>TYPE="Ethernet"</li><li>PROXY_METHOD="none"</li><li>BROWSER_ONLY="no"</li><li>BOOTPROTO="dhcp"</li><li>DEFROUTE="yes"</li><li>IPV4_FAILURE_FATAL="no"</li><li>IPV6INIT="yes"</li><li>IPV6_AUTOCONF="yes"</li><li>IPV6_DEFROUTE="yes"</li><li>IPV6_FAILURE_FATAL="no"</li><li>IPV6_ADDR_GEN_MODE="stable-privacy"</li><li>NAME="ens33"</li><li>UUID="bb5bc6c4-30ab-42ec-adb5-b1c91806dfb1"</li><li>DEVICE="ens33"</li><li>ONBOOT="yes"</li><li>...</li></li></ul><li>路由相关配置文件：/etc/sysconfig/network-scripts/route-IFAC</li></ul><li>Linux 网络属性配置的 tui（text user interface）</li><li>配置当前主机的主机名：hostname 命令</li></ul></div><div>网络客户端工具</div><div><ul><li>lftp, ftp, lftpget, wget<br></li></ul></div><div><br></div><div><br></div><div><br></div><div><br></div><h2 id="blogTitle1">网络设置</h2><h3 id="blogTitle2">网卡配置文件</h3><h4 id="blogTitle3">位置</h4><pre>ls /etc/sysconfig/network-scripts/

<font color="#ff0000"><b>ifcfg-ens33</b></font>  ifdown-ippp  ifdown-routes    ifup          ifup-ipv6   ifup-ppp       ifup-tunnel
<b><font color="#ff0000">ifcfg-lo</font></b>     ifdown-ipv6  ifdown-sit       ifup-aliases  ifup-isdn   ifup-routes    ifup-wireless
ifdown       ifdown-isdn  ifdown-Team      ifup-bnep     ifup-plip   ifup-sit       init.ipv6-global
ifdown-bnep  ifdown-post  ifdown-TeamPort  ifup-eth      ifup-plusb  ifup-Team      network-functions
ifdown-eth   ifdown-ppp   ifdown-tunnel    ifup-ippp     ifup-post   ifup-TeamPort  network-functions-ipv6</pre><div><br></div><div>在该目录中网卡配置文件的命名格式：ifcfg-网卡名称</div><div><br></div><pre>1. 查看网卡相关信息

cat /etc/sysconfig/network-scripts/ifcfg-ens33

TYPE="Ethernet"
PROXY_METHOD="none"
BROWSER_ONLY="no"
BOOTPROTO="dhcp"                              # 地址的分配方式，DHCP 表示动态主机分配协议
DEFROUTE="yes"
IPV4_FAILURE_FATAL="no"
IPV6INIT="yes"
IPV6_AUTOCONF="yes"
IPV6_DEFROUTE="yes"
IPV6_FAILURE_FATAL="no"
IPV6_ADDR_GEN_MODE="stable-privacy"
NAME="ens33"
UUID="bb5bc6c4-30ab-42ec-adb5-b1c91806dfb1"
DEVICE="ens33"
ONBOOT="yes"                                  # 是否开机启动
<br></pre><div><br></div><div><b>扩展：</b></div><div>如果修改网卡的配置文件，但是该配置文件的目录层次很深，此时可以在浅的目录中创建一个快捷方式，方便以后去查找。通过 ln -s 命令创建软链接</div><div><br></div><div><br></div><h3 id="blogTitle4">网卡服务重启方式</h3><div><pre>如何重启网卡

service network restart
# 在有的分支版本中可能没有 service 命令来快速操作服务，但有一个共性的目录：/etc/init.d，这个目录中放着很多服务的快捷方法

/etc/init.d/network restart
# 重启网卡的命名还可以使用该方式</pre></div><div><br></div><h3 id="blogTitle5">停止某个网卡</h3><pre>ifdown 网卡名</pre><div><br></div><h3 id="blogTitle6">开启某个网卡</h3><pre>&nbsp;ifup 网卡名</pre><div><br></div><h3 id="blogTitle7">配置选项说明</h3></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div>
</article>
{% endblock point1 %}
