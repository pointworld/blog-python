{% extends 'c-word.html' %}

{% block title %} thread - computer | process {% endblock title %}

{% block point1 %}
<article contenteditable="true">
  <p>Category: computer | process | thread</p>
  <h1 id="blogTitle0">Thread</h1><h2>概述</h2><h3>定义</h3><div><div class="para" label-module="para" style="font-size: 14px; overflow-wrap: break-word; color: rgb(51, 51, 51); margin-bottom: 15px; text-indent: 28px; line-height: 24px; zoom: 1; font-family: arial, 宋体, sans-serif; background-color: rgb(255, 255, 255);">线程，有时被称为轻量进程(Lightweight Process，LWP），是程序执行流的最小单元。</div><div class="para" label-module="para" style="font-size: 14px; overflow-wrap: break-word; color: rgb(51, 51, 51); margin-bottom: 15px; text-indent: 28px; line-height: 24px; zoom: 1; font-family: arial, 宋体, sans-serif; background-color: rgb(255, 255, 255);">一个标准的线程由线程ID，当前指令<a target="_blank" href="https://baike.baidu.com/item/%E6%8C%87%E9%92%88/2878304" data-lemmaid="2878304" style="color: rgb(19, 110, 194); text-decoration-line: none;">指针</a>(PC），<a target="_blank" href="https://baike.baidu.com/item/%E5%AF%84%E5%AD%98%E5%99%A8/187682" data-lemmaid="187682" style="color: rgb(19, 110, 194); text-decoration-line: none;">寄存器</a>集合和<a target="_blank" href="https://baike.baidu.com/item/%E5%A0%86%E6%A0%88/1682032" data-lemmaid="1682032" style="color: rgb(19, 110, 194); text-decoration-line: none;">堆栈</a>组成。</div><div class="para" label-module="para" style="font-size: 14px; overflow-wrap: break-word; color: rgb(51, 51, 51); margin-bottom: 15px; text-indent: 28px; line-height: 24px; zoom: 1; font-family: arial, 宋体, sans-serif; background-color: rgb(255, 255, 255);">另外，线程是进程中的一个实体，是被系统独立调度和分派的基本单位，线程自己不拥有系统资源，只拥有一点儿在运行中必不可少的资源，但它可与同属一个进程的其它线程共享进程所拥有的全部资源。</div><div class="para" label-module="para" style="font-size: 14px; overflow-wrap: break-word; color: rgb(51, 51, 51); margin-bottom: 15px; text-indent: 28px; line-height: 24px; zoom: 1; font-family: arial, 宋体, sans-serif; background-color: rgb(255, 255, 255);">一个线程可以创建和撤消另一个线程，同一进程中的多个线程之间可以并发执行。</div><div class="para" label-module="para" style="font-size: 14px; overflow-wrap: break-word; color: rgb(51, 51, 51); margin-bottom: 15px; text-indent: 28px; line-height: 24px; zoom: 1; font-family: arial, 宋体, sans-serif; background-color: rgb(255, 255, 255);">由于线程之间的相互制约，致使线程在运行中呈现出间断性。</div><div class="para" label-module="para" style="font-size: 14px; overflow-wrap: break-word; color: rgb(51, 51, 51); margin-bottom: 15px; text-indent: 28px; line-height: 24px; zoom: 1; font-family: arial, 宋体, sans-serif; background-color: rgb(255, 255, 255);">线程也有<a target="_blank" href="https://baike.baidu.com/item/%E5%B0%B1%E7%BB%AA/10932509" data-lemmaid="10932509" style="color: rgb(19, 110, 194); text-decoration-line: none;">就绪</a>、<a target="_blank" href="https://baike.baidu.com/item/%E9%98%BB%E5%A1%9E/9032404" data-lemmaid="9032404" style="color: rgb(19, 110, 194); text-decoration-line: none;">阻塞</a>和<a target="_blank" href="https://baike.baidu.com/item/%E8%BF%90%E8%A1%8C/5480697" data-lemmaid="5480697" style="color: rgb(19, 110, 194); text-decoration-line: none;">运行</a>三种基本状态。就绪状态是指线程具备运行的所有条件，逻辑上可以运行，在等待处理机；运行状态是指线程占有处理机正在运行；阻塞状态是指线程在等待一个事件（如某个信号量），逻辑上不可执行。每一个程序都至少有一个线程，若程序只有一个线程，那就是程序本身。</div><div class="para" label-module="para" style="font-size: 14px; overflow-wrap: break-word; color: rgb(51, 51, 51); margin-bottom: 15px; text-indent: 28px; line-height: 24px; zoom: 1; font-family: arial, 宋体, sans-serif; background-color: rgb(255, 255, 255);">线程是程序中一个单一的顺序控制流程。进程内有一个相对独立的、可调度的执行单元，是系统独立调度和分派CPU的基本单位指令<a target="_blank" href="https://baike.baidu.com/item/%E8%BF%90%E8%A1%8C" style="color: rgb(19, 110, 194); text-decoration-line: none;">运行</a>时的程序的调度单位。</div><div class="para" label-module="para" style="font-size: 14px; overflow-wrap: break-word; color: rgb(51, 51, 51); margin-bottom: 15px; text-indent: 28px; line-height: 24px; zoom: 1; font-family: arial, 宋体, sans-serif; background-color: rgb(255, 255, 255);">在单个程序中同时运行多个线程完成不同的工作，称为<a target="_blank" href="https://baike.baidu.com/item/%E5%A4%9A%E7%BA%BF%E7%A8%8B/1190404" data-lemmaid="1190404" style="color: rgb(19, 110, 194); text-decoration-line: none;">多线程</a>。</div></div><div><br></div><div><br></div><h3>发展简史</h3><div><div class="para" label-module="para" style="font-size: 14px; overflow-wrap: break-word; color: rgb(51, 51, 51); margin-bottom: 15px; text-indent: 2em; line-height: 24px; zoom: 1; font-family: arial, 宋体, sans-serif; background-color: rgb(255, 255, 255);">线程的引入：</div><div class="para" label-module="para" style="font-size: 14px; overflow-wrap: break-word; color: rgb(51, 51, 51); margin-bottom: 15px; text-indent: 2em; line-height: 24px; zoom: 1; font-family: arial, 宋体, sans-serif; background-color: rgb(255, 255, 255);">60年代，在OS中能拥有资源和独立运行的基本单位是进程，然而随着计算机技术的发展，进程出现了很多弊端，一是由于进程是资源拥有者，创建、撤消与切换存在较大的时空开销，因此需要引入轻型进程；二是由于对称多处理机（SMP）出现，可以满足多个运行单位，而多个进程并行开销过大。</div><div class="para" label-module="para" style="font-size: 14px; overflow-wrap: break-word; color: rgb(51, 51, 51); margin-bottom: 15px; text-indent: 2em; line-height: 24px; zoom: 1; font-family: arial, 宋体, sans-serif; background-color: rgb(255, 255, 255);">因此在80年代，出现了能独立运行的基本单位——线程（Threads）。</div></div><div><br></div><h3>用途</h3><h3>特点</h3><div><span style="color: rgb(51, 51, 51); font-family: arial, 宋体, sans-serif; font-size: 14px; text-indent: 28px; background-color: rgb(255, 255, 255);">在</span><a target="_blank" href="https://baike.baidu.com/item/%E5%A4%9A%E7%BA%BF%E7%A8%8B" style="color: rgb(19, 110, 194); text-decoration-line: none; font-family: arial, 宋体, sans-serif; font-size: 14px; text-indent: 28px; background-color: rgb(255, 255, 255);">多线程</a><span style="color: rgb(51, 51, 51); font-family: arial, 宋体, sans-serif; font-size: 14px; text-indent: 28px; background-color: rgb(255, 255, 255);">OS中，通常是在一个</span><a target="_blank" href="https://baike.baidu.com/item/%E8%BF%9B%E7%A8%8B" style="color: rgb(19, 110, 194); text-decoration-line: none; font-family: arial, 宋体, sans-serif; font-size: 14px; text-indent: 28px; background-color: rgb(255, 255, 255);">进程</a><span style="color: rgb(51, 51, 51); font-family: arial, 宋体, sans-serif; font-size: 14px; text-indent: 28px; background-color: rgb(255, 255, 255);">中包括多个线程，每个线程都是作为利用CPU的基本单位，是花费最小开销的实体。线程具有以下属性。</span><br></div><div><br></div><h4>轻型实体</h4><div><div class="para" label-module="para" style="font-size: 14px; overflow-wrap: break-word; color: rgb(51, 51, 51); margin-bottom: 15px; text-indent: 2em; line-height: 24px; zoom: 1; font-family: arial, 宋体, sans-serif; background-color: rgb(255, 255, 255);">线程中的实体基本上不拥有<a target="_blank" href="https://baike.baidu.com/item/%E7%B3%BB%E7%BB%9F%E8%B5%84%E6%BA%90" style="color: rgb(19, 110, 194); text-decoration-line: none;">系统资源</a>，只是有一点必不可少的、能保证独立<a target="_blank" href="https://baike.baidu.com/item/%E8%BF%90%E8%A1%8C" style="color: rgb(19, 110, 194); text-decoration-line: none;">运行</a>的资源。</div><div class="para" label-module="para" style="font-size: 14px; overflow-wrap: break-word; color: rgb(51, 51, 51); margin-bottom: 15px; text-indent: 2em; line-height: 24px; zoom: 1; font-family: arial, 宋体, sans-serif; background-color: rgb(255, 255, 255);">线程的实体包括程序、数据和TCB。线程是动态概念，它的动态特性由线程控制块TCB（Thread Control Block）描述。TCB包括以下信息：</div><div class="para" label-module="para" style="font-size: 14px; overflow-wrap: break-word; color: rgb(51, 51, 51); margin-bottom: 15px; text-indent: 2em; line-height: 24px; zoom: 1; font-family: arial, 宋体, sans-serif; background-color: rgb(255, 255, 255);">（1）线程状态。</div><div class="para" label-module="para" style="font-size: 14px; overflow-wrap: break-word; color: rgb(51, 51, 51); margin-bottom: 15px; text-indent: 2em; line-height: 24px; zoom: 1; font-family: arial, 宋体, sans-serif; background-color: rgb(255, 255, 255);">（2）当线程不运行时，被保存的现场资源。</div><div class="para" label-module="para" style="font-size: 14px; overflow-wrap: break-word; color: rgb(51, 51, 51); margin-bottom: 15px; text-indent: 2em; line-height: 24px; zoom: 1; font-family: arial, 宋体, sans-serif; background-color: rgb(255, 255, 255);">（3）一组执行堆栈。</div><div class="para" label-module="para" style="font-size: 14px; overflow-wrap: break-word; color: rgb(51, 51, 51); margin-bottom: 15px; text-indent: 2em; line-height: 24px; zoom: 1; font-family: arial, 宋体, sans-serif; background-color: rgb(255, 255, 255);">（4）存放每个线程的局部变量主存区。</div><div class="para" label-module="para" style="font-size: 14px; overflow-wrap: break-word; color: rgb(51, 51, 51); margin-bottom: 15px; text-indent: 2em; line-height: 24px; zoom: 1; font-family: arial, 宋体, sans-serif; background-color: rgb(255, 255, 255);">（5）访问同一个进程中的主存和其它资源。</div><div class="para" label-module="para" style="font-size: 14px; overflow-wrap: break-word; color: rgb(51, 51, 51); margin-bottom: 15px; text-indent: 2em; line-height: 24px; zoom: 1; font-family: arial, 宋体, sans-serif; background-color: rgb(255, 255, 255);">用于指示被执行指令序列的<a target="_blank" href="https://baike.baidu.com/item/%E7%A8%8B%E5%BA%8F%E8%AE%A1%E6%95%B0%E5%99%A8" style="color: rgb(19, 110, 194); text-decoration-line: none;">程序计数器</a>、保留<a target="_blank" href="https://baike.baidu.com/item/%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F" style="color: rgb(19, 110, 194); text-decoration-line: none;">局部变量</a>、少数状态参数和<a target="_blank" href="https://baike.baidu.com/item/%E8%BF%94%E5%9B%9E%E5%9C%B0%E5%9D%80" style="color: rgb(19, 110, 194); text-decoration-line: none;">返回地址</a>等的一组<a target="_blank" href="https://baike.baidu.com/item/%E5%AF%84%E5%AD%98%E5%99%A8" style="color: rgb(19, 110, 194); text-decoration-line: none;">寄存器</a>和<a target="_blank" href="https://baike.baidu.com/item/%E5%A0%86%E6%A0%88" style="color: rgb(19, 110, 194); text-decoration-line: none;">堆栈</a>。</div></div><div><br></div><h4>独立调度和分派的基本单位</h4><div><span style="color: rgb(51, 51, 51); font-family: arial, 宋体, sans-serif; font-size: 14px; text-indent: 28px; background-color: rgb(255, 255, 255);">在多线程OS中，线程是能独立</span><a target="_blank" href="https://baike.baidu.com/item/%E8%BF%90%E8%A1%8C" style="color: rgb(19, 110, 194); text-decoration-line: none; font-family: arial, 宋体, sans-serif; font-size: 14px; text-indent: 28px; background-color: rgb(255, 255, 255);">运行</a><span style="color: rgb(51, 51, 51); font-family: arial, 宋体, sans-serif; font-size: 14px; text-indent: 28px; background-color: rgb(255, 255, 255);">的基本单位，因而也是独立调度和分派的基本单位。由于线程很“轻”，故线程的切换非常迅速且开销小（在同一</span><a target="_blank" href="https://baike.baidu.com/item/%E8%BF%9B%E7%A8%8B" style="color: rgb(19, 110, 194); text-decoration-line: none; font-family: arial, 宋体, sans-serif; font-size: 14px; text-indent: 28px; background-color: rgb(255, 255, 255);">进程</a><span style="color: rgb(51, 51, 51); font-family: arial, 宋体, sans-serif; font-size: 14px; text-indent: 28px; background-color: rgb(255, 255, 255);">中的）。</span><br></div><h4>可并发执行<br></h4><div><span style="color: rgb(51, 51, 51); font-family: arial, 宋体, sans-serif; font-size: 14px; text-indent: 28px; background-color: rgb(255, 255, 255);">在一个</span><a target="_blank" href="https://baike.baidu.com/item/%E8%BF%9B%E7%A8%8B" style="color: rgb(19, 110, 194); text-decoration-line: none; font-family: arial, 宋体, sans-serif; font-size: 14px; text-indent: 28px; background-color: rgb(255, 255, 255);">进程</a><span style="color: rgb(51, 51, 51); font-family: arial, 宋体, sans-serif; font-size: 14px; text-indent: 28px; background-color: rgb(255, 255, 255);">中的多个线程之间，可以并发执行，甚至允许在一个进程中所有线程都能并发执行；同样，不同进程中的线程也能并发执行，充分利用和发挥了</span><a target="_blank" href="https://baike.baidu.com/item/%E5%A4%84%E7%90%86%E6%9C%BA" style="color: rgb(19, 110, 194); text-decoration-line: none; font-family: arial, 宋体, sans-serif; font-size: 14px; text-indent: 28px; background-color: rgb(255, 255, 255);">处理机</a><span style="color: rgb(51, 51, 51); font-family: arial, 宋体, sans-serif; font-size: 14px; text-indent: 28px; background-color: rgb(255, 255, 255);">与外围设备并行工作的能力。</span><br></div><h4>共享进程资源</h4><div><span style="color: rgb(51, 51, 51); font-family: arial, 宋体, sans-serif; font-size: 14px; text-indent: 28px; background-color: rgb(255, 255, 255);">在同一</span><a target="_blank" href="https://baike.baidu.com/item/%E8%BF%9B%E7%A8%8B" style="color: rgb(19, 110, 194); text-decoration-line: none; font-family: arial, 宋体, sans-serif; font-size: 14px; text-indent: 28px; background-color: rgb(255, 255, 255);">进程</a><span style="color: rgb(51, 51, 51); font-family: arial, 宋体, sans-serif; font-size: 14px; text-indent: 28px; background-color: rgb(255, 255, 255);">中的各个线程，都可以共享该进程所拥有的资源，这首先表现在：所有线程都具有相同的</span><a target="_blank" href="https://baike.baidu.com/item/%E5%9C%B0%E5%9D%80%E7%A9%BA%E9%97%B4" style="color: rgb(19, 110, 194); text-decoration-line: none; font-family: arial, 宋体, sans-serif; font-size: 14px; text-indent: 28px; background-color: rgb(255, 255, 255);">地址空间</a><span style="color: rgb(51, 51, 51); font-family: arial, 宋体, sans-serif; font-size: 14px; text-indent: 28px; background-color: rgb(255, 255, 255);">（进程的地址空间），这意味着，线程可以访问该地址空间的每一个虚地址；此外，还可以访问进程所拥有的已打开</span><a target="_blank" href="https://baike.baidu.com/item/%E6%96%87%E4%BB%B6" style="color: rgb(19, 110, 194); text-decoration-line: none; font-family: arial, 宋体, sans-serif; font-size: 14px; text-indent: 28px; background-color: rgb(255, 255, 255);">文件</a><span style="color: rgb(51, 51, 51); font-family: arial, 宋体, sans-serif; font-size: 14px; text-indent: 28px; background-color: rgb(255, 255, 255);">、定时器、</span><a target="_blank" href="https://baike.baidu.com/item/%E4%BF%A1%E5%8F%B7%E9%87%8F" style="color: rgb(19, 110, 194); text-decoration-line: none; font-family: arial, 宋体, sans-serif; font-size: 14px; text-indent: 28px; background-color: rgb(255, 255, 255);">信号量</a><span style="color: rgb(51, 51, 51); font-family: arial, 宋体, sans-serif; font-size: 14px; text-indent: 28px; background-color: rgb(255, 255, 255);">机构等。由于同一个</span><a target="_blank" href="https://baike.baidu.com/item/%E8%BF%9B%E7%A8%8B" style="color: rgb(19, 110, 194); text-decoration-line: none; font-family: arial, 宋体, sans-serif; font-size: 14px; text-indent: 28px; background-color: rgb(255, 255, 255);">进程</a><span style="color: rgb(51, 51, 51); font-family: arial, 宋体, sans-serif; font-size: 14px; text-indent: 28px; background-color: rgb(255, 255, 255);">内的线程</span><a target="_blank" href="https://baike.baidu.com/item/%E5%85%B1%E4%BA%AB%E5%86%85%E5%AD%98" style="color: rgb(19, 110, 194); text-decoration-line: none; font-family: arial, 宋体, sans-serif; font-size: 14px; text-indent: 28px; background-color: rgb(255, 255, 255);">共享内存</a><span style="color: rgb(51, 51, 51); font-family: arial, 宋体, sans-serif; font-size: 14px; text-indent: 28px; background-color: rgb(255, 255, 255);">和</span><a target="_blank" href="https://baike.baidu.com/item/%E6%96%87%E4%BB%B6" style="color: rgb(19, 110, 194); text-decoration-line: none; font-family: arial, 宋体, sans-serif; font-size: 14px; text-indent: 28px; background-color: rgb(255, 255, 255);">文件</a><span style="color: rgb(51, 51, 51); font-family: arial, 宋体, sans-serif; font-size: 14px; text-indent: 28px; background-color: rgb(255, 255, 255);">，所以线程之间互相通信不必调用</span><a target="_blank" href="https://baike.baidu.com/item/%E5%86%85%E6%A0%B8" style="color: rgb(19, 110, 194); text-decoration-line: none; font-family: arial, 宋体, sans-serif; font-size: 14px; text-indent: 28px; background-color: rgb(255, 255, 255);">内核</a><span style="color: rgb(51, 51, 51); font-family: arial, 宋体, sans-serif; font-size: 14px; text-indent: 28px; background-color: rgb(255, 255, 255);">。</span><br></div><div><br></div><h3>适用范围<br></h3><div><div class="para" label-module="para" style="font-size: 14px; overflow-wrap: break-word; color: rgb(51, 51, 51); margin-bottom: 15px; text-indent: 2em; line-height: 24px; zoom: 1; font-family: arial, 宋体, sans-serif; background-color: rgb(255, 255, 255);">1.服务器中的<a target="_blank" href="https://baike.baidu.com/item/%E6%96%87%E4%BB%B6" style="color: rgb(19, 110, 194); text-decoration-line: none;">文件</a>管理或通信控制</div><div class="para" label-module="para" style="font-size: 14px; overflow-wrap: break-word; color: rgb(51, 51, 51); margin-bottom: 15px; text-indent: 2em; line-height: 24px; zoom: 1; font-family: arial, 宋体, sans-serif; background-color: rgb(255, 255, 255);">2.前后台处理</div><div class="para" label-module="para" style="font-size: 14px; overflow-wrap: break-word; color: rgb(51, 51, 51); margin-bottom: 15px; text-indent: 2em; line-height: 24px; zoom: 1; font-family: arial, 宋体, sans-serif; background-color: rgb(255, 255, 255);">3.异步处理</div></div><div><br></div><h3>与进程比较</h3><div><div class="para" label-module="para" style="font-size: 14px; overflow-wrap: break-word; color: rgb(51, 51, 51); margin-bottom: 15px; text-indent: 2em; line-height: 24px; zoom: 1; font-family: arial, 宋体, sans-serif; background-color: rgb(255, 255, 255);"><a target="_blank" href="https://baike.baidu.com/item/%E8%BF%9B%E7%A8%8B" style="color: rgb(19, 110, 194); text-decoration-line: none;">进程</a>是资源分配的基本单位。</div><div class="para" label-module="para" style="font-size: 14px; overflow-wrap: break-word; color: rgb(51, 51, 51); margin-bottom: 15px; text-indent: 2em; line-height: 24px; zoom: 1; font-family: arial, 宋体, sans-serif; background-color: rgb(255, 255, 255);">所有与该进程有关的资源，都被记录在<a target="_blank" href="https://baike.baidu.com/item/%E8%BF%9B%E7%A8%8B%E6%8E%A7%E5%88%B6%E5%9D%97" style="color: rgb(19, 110, 194); text-decoration-line: none;">进程控制块</a>PCB中。以表示该进程拥有这些资源或正在使用它们。</div><div class="para" label-module="para" style="font-size: 14px; overflow-wrap: break-word; color: rgb(51, 51, 51); margin-bottom: 15px; text-indent: 2em; line-height: 24px; zoom: 1; font-family: arial, 宋体, sans-serif; background-color: rgb(255, 255, 255);">另外，进程也是抢占处理机的调度单位，它拥有一个完整的虚拟地址空间。当进程发生调度时，不同的进程拥有不同的虚拟地址空间，而同一进程内的不同线程共享同一地址空间。</div><div class="para" label-module="para" style="font-size: 14px; overflow-wrap: break-word; color: rgb(51, 51, 51); margin-bottom: 15px; text-indent: 2em; line-height: 24px; zoom: 1; font-family: arial, 宋体, sans-serif; background-color: rgb(255, 255, 255);">与进程相对应，线程与资源分配无关，它属于某一个进程，并与进程内的其他线程一起共享进程的资源。</div><div class="para" label-module="para" style="font-size: 14px; overflow-wrap: break-word; color: rgb(51, 51, 51); margin-bottom: 15px; text-indent: 2em; line-height: 24px; zoom: 1; font-family: arial, 宋体, sans-serif; background-color: rgb(255, 255, 255);">线程只由相关<a target="_blank" href="https://baike.baidu.com/item/%E5%A0%86%E6%A0%88" style="color: rgb(19, 110, 194); text-decoration-line: none;">堆栈</a>（<a target="_blank" href="https://baike.baidu.com/item/%E7%B3%BB%E7%BB%9F" style="color: rgb(19, 110, 194); text-decoration-line: none;">系统</a>栈或<a target="_blank" href="https://baike.baidu.com/item/%E7%94%A8%E6%88%B7%E6%A0%88" style="color: rgb(19, 110, 194); text-decoration-line: none;">用户栈</a>）<a target="_blank" href="https://baike.baidu.com/item/%E5%AF%84%E5%AD%98%E5%99%A8" style="color: rgb(19, 110, 194); text-decoration-line: none;">寄存器</a>和线程控制表TCB组成。<a target="_blank" href="https://baike.baidu.com/item/%E5%AF%84%E5%AD%98%E5%99%A8" style="color: rgb(19, 110, 194); text-decoration-line: none;">寄存器</a>可被用来存储线程内的<a target="_blank" href="https://baike.baidu.com/item/%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F" style="color: rgb(19, 110, 194); text-decoration-line: none;">局部变量</a>，但不能存储其他线程的相关变量。</div><div class="para" label-module="para" style="font-size: 14px; overflow-wrap: break-word; color: rgb(51, 51, 51); margin-bottom: 15px; text-indent: 2em; line-height: 24px; zoom: 1; font-family: arial, 宋体, sans-serif; background-color: rgb(255, 255, 255);">通常在一个进程中可以包含若干个线程，它们可以利用进程所拥有的资源。在引入线程的操作系统中，通常都是把进程作为分配资源的基本单位，而把线程作为独立运行和独立调度的基本单位。由于线程比进程更小，基本上不拥有系统资源，故对它的调度所付出的开销就会小得多，能更高效的提高系统内多个程序间并发执行的程度，从而显著提高系统资源的利用率和吞吐量。因而近年来推出的<a target="_blank" href="https://baike.baidu.com/item/%E9%80%9A%E7%94%A8%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F" style="color: rgb(19, 110, 194); text-decoration-line: none;">通用操作系统</a>都引入了线程，以便进一步提高系统的<a target="_blank" href="https://baike.baidu.com/item/%E5%B9%B6%E5%8F%91%E6%80%A7" style="color: rgb(19, 110, 194); text-decoration-line: none;">并发性</a>，并把它视为现代操作系统的一个重要指标。</div><div class="para" label-module="para" style="font-size: 14px; overflow-wrap: break-word; color: rgb(51, 51, 51); margin-bottom: 15px; text-indent: 2em; line-height: 24px; zoom: 1; font-family: arial, 宋体, sans-serif; background-color: rgb(255, 255, 255);">线程与进程的区别可以归纳为以下4点：</div><div class="para" label-module="para" style="font-size: 14px; overflow-wrap: break-word; color: rgb(51, 51, 51); margin-bottom: 15px; text-indent: 2em; line-height: 24px; zoom: 1; font-family: arial, 宋体, sans-serif; background-color: rgb(255, 255, 255);">1）地址空间和其它资源（如打开文件）：进程间相互独立，同一进程的各线程间共享。某进程内的线程在其它进程不可见。</div><div class="para" label-module="para" style="font-size: 14px; overflow-wrap: break-word; color: rgb(51, 51, 51); margin-bottom: 15px; text-indent: 2em; line-height: 24px; zoom: 1; font-family: arial, 宋体, sans-serif; background-color: rgb(255, 255, 255);">2）通信：<a target="_blank" href="https://baike.baidu.com/item/%E8%BF%9B%E7%A8%8B%E9%97%B4%E9%80%9A%E4%BF%A1" style="color: rgb(19, 110, 194); text-decoration-line: none;">进程间通信</a><a target="_blank" href="https://baike.baidu.com/item/IPC" style="color: rgb(19, 110, 194); text-decoration-line: none;">IPC</a>，线程间可以直接读写进程数据段（如全局变量）来进行通信——需要<a target="_blank" href="https://baike.baidu.com/item/%E8%BF%9B%E7%A8%8B%E5%90%8C%E6%AD%A5" style="color: rgb(19, 110, 194); text-decoration-line: none;">进程同步</a>和互斥手段的辅助，以保证数据的一致性。</div><div class="para" label-module="para" style="font-size: 14px; overflow-wrap: break-word; color: rgb(51, 51, 51); margin-bottom: 15px; text-indent: 2em; line-height: 24px; zoom: 1; font-family: arial, 宋体, sans-serif; background-color: rgb(255, 255, 255);">3）调度和切换：线程上下文切换比进程上下文切换要快得多。</div><div class="para" label-module="para" style="font-size: 14px; overflow-wrap: break-word; color: rgb(51, 51, 51); margin-bottom: 15px; text-indent: 2em; line-height: 24px; zoom: 1; font-family: arial, 宋体, sans-serif; background-color: rgb(255, 255, 255);">4）在多线程OS中，线程不是一个可执行的实体。</div></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div>
</article>
{% endblock point1 %}
