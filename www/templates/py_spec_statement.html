{% extends 'c-word.html' %}

{% block title %} statements - Python | specification {% endblock title %}

{% block point1 %}
<article contenteditable="true">
    <p><b style="background-color: yellow;">Category: 计算机 | 程序设计语言 | Python | specification</b></p>
    <h1 id="blogTitle0">语句</h1><h2>概述</h2><p><br></p><h2 id="blogTitle1">简单语句</h2><div><p id="index-0" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><font style="vertical-align: inherit;">简单语句包含在单个逻辑行中。</font><font style="vertical-align: inherit;">在由分号分隔的单行上，可能会出现几个简单的语句。</font><font style="vertical-align: inherit;">简单语句的语法是：</font><br></p><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><strong id="grammar-token-simple-stmt">simple_stmt</strong> ::=  <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#grammar-token-expression-stmt" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">expression_stmt</span></code></a>
                 | <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#grammar-token-assert-stmt" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">assert_stmt</span></code></a>
                 | <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#grammar-token-assignment-stmt" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">assignment_stmt</span></code></a>
                 | <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#grammar-token-augmented-assignment-stmt" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">augmented_assignment_stmt</span></code></a>
                 | <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#grammar-token-annotated-assignment-stmt" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">annotated_assignment_stmt</span></code></a>
                 | <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#grammar-token-pass-stmt" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">pass_stmt</span></code></a>
                 | <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#grammar-token-del-stmt" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">del_stmt</span></code></a>
                 | <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#grammar-token-return-stmt" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">return_stmt</span></code></a>
                 | <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#grammar-token-yield-stmt" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">yield_stmt</span></code></a>
                 | <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#grammar-token-raise-stmt" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">raise_stmt</span></code></a>
                 | <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#grammar-token-break-stmt" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">break_stmt</span></code></a>
                 | <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#grammar-token-continue-stmt" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">continue_stmt</span></code></a>
                 | <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#grammar-token-import-stmt" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">import_stmt</span></code></a>
                 | <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#grammar-token-future-stmt" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">future_stmt</span></code></a>
                 | <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#grammar-token-global-stmt" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">global_stmt</span></code></a>
                 | <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#grammar-token-nonlocal-stmt" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">nonlocal_stmt</span></code></a></pre></div><h3 id="blogTitle2">表达式语句</h3><div><p id="index-2" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">Expression statements are used (mostly interactively) to compute and write a value, or (usually) to call a procedure (a function that returns no meaningful result; in Python, procedures return the value&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code>). Other uses of expression statements are allowed and occasionally useful. The syntax for an expression statement is:</p><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><strong id="grammar-token-expression-stmt">expression_stmt</strong> ::=  <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-starred-expression" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">starred_expression</span></code></a>
</pre><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">An expression statement evaluates the expression list (which may be a single expression).</p><p id="index-3" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">In interactive mode, if the value is not&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code>, it is converted to a string using the built-in&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/library/functions.html#repr" title="repr" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">repr()</span></code></a>&nbsp;function and the resulting string is written to standard output on a line by itself (except if the result is&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code>, so that procedure calls do not cause any output.)</p></div><h3 id="blogTitle3">赋值语句<br></h3><div><p id="index-4" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">Assignment statements are used to (re)bind names to values and to modify attributes or items of mutable objects:</p><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><strong id="grammar-token-assignment-stmt">assignment_stmt</strong> ::=  (<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#grammar-token-target-list" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">target_list</span></code></a> "=")+ (<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-starred-expression" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">starred_expression</span></code></a> | <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-yield-expression" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">yield_expression</span></code></a>)
<strong id="grammar-token-target-list">target_list    </strong> ::=  <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#grammar-token-target" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">target</span></code></a> ("," <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#grammar-token-target" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">target</span></code></a>)* [","]
<strong id="grammar-token-target">target         </strong> ::=  <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/lexical_analysis.html#grammar-token-identifier" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">identifier</span></code></a>
                     | "(" [<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#grammar-token-target-list" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">target_list</span></code></a>] ")"
                     | "[" [<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#grammar-token-target-list" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">target_list</span></code></a>] "]"
                     | <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-attributeref" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">attributeref</span></code></a>
                     | <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-subscription" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">subscription</span></code></a>
                     | <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-slicing" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">slicing</span></code></a>
                     | "*" <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#grammar-token-target" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">target</span></code></a>
</pre><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">(See section&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#primaries" style="color: rgb(99, 99, 187); text-decoration-line: none;">Primaries</a>&nbsp;for the syntax definitions for&nbsp;<em>attributeref</em>,&nbsp;<em>subscription</em>, and&nbsp;<em>slicing</em>.)</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">An assignment statement evaluates the expression list (remember that this can be a single expression or a comma-separated list, the latter yielding a tuple) and assigns the single resulting object to each of the target lists, from left to right.</p><p id="index-5" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">Assignment is defined recursively depending on the form of the target (list). When a target is part of a mutable object (an attribute reference, subscription or slicing), the mutable object must ultimately perform the assignment and decide about its validity, and may raise an exception if the assignment is unacceptable. The rules observed by various types and the exceptions raised are given with the definition of the object types (see section&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/datamodel.html#types" style="color: rgb(99, 99, 187); text-decoration-line: none;">标准类型层级结构</a>).</p><p id="index-6" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">Assignment of an object to a target list, optionally enclosed in parentheses or square brackets, is recursively defined as follows.</p><ul class="simple" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><li style="hyphens: auto; text-align: justify; line-height: 20.8px;">If the target list is a single target with no trailing comma, optionally in parentheses, the object is assigned to that target.</li><li style="hyphens: auto; text-align: justify; line-height: 20.8px;">Else: The object must be an iterable with the same number of items as there are targets in the target list, and the items are assigned, from left to right, to the corresponding targets.<ul><li style="hyphens: auto; text-align: justify; line-height: 20.8px;">If the target list contains one target prefixed with an asterisk, called a “starred” target: The object must be an iterable with at least as many items as there are targets in the target list, minus one. The first items of the iterable are assigned, from left to right, to the targets before the starred target. The final items of the iterable are assigned to the targets after the starred target. A list of the remaining items in the iterable is then assigned to the starred target (the list can be empty).</li><li style="hyphens: auto; text-align: justify; line-height: 20.8px;">Else: The object must be an iterable with the same number of items as there are targets in the target list, and the items are assigned, from left to right, to the corresponding targets.</li></ul></li></ul><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">Assignment of an object to a single target is recursively defined as follows.</p><ul style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><li style="hyphens: auto; text-align: justify; line-height: 20.8px;"><p class="first" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;">If the target is an identifier (name):</p><ul class="simple"><li style="hyphens: auto; text-align: justify; line-height: 20.8px;">If the name does not occur in a&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#global" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">global</span></code></a>&nbsp;or&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#nonlocal" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">nonlocal</span></code></a>&nbsp;statement in the current code block: the name is bound to the object in the current local namespace.</li><li style="hyphens: auto; text-align: justify; line-height: 20.8px;">Otherwise: the name is bound to the object in the global namespace or the outer namespace determined by&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#nonlocal" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">nonlocal</span></code></a>, respectively.</li></ul><p id="index-7" style="hyphens: auto; line-height: 22.4px;">The name is rebound if it was already bound. This may cause the reference count for the object previously bound to the name to reach zero, causing the object to be deallocated and its destructor (if it has one) to be called.</p></li><li id="index-8" style="hyphens: auto; text-align: justify; line-height: 20.8px;"><p class="first" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;">If the target is an attribute reference: The primary expression in the reference is evaluated. It should yield an object with assignable attributes; if this is not the case,&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/library/exceptions.html#TypeError" title="TypeError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">TypeError</span></code></a>&nbsp;is raised. That object is then asked to assign the assigned object to the given attribute; if it cannot perform the assignment, it raises an exception (usually but not necessarily<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/library/exceptions.html#AttributeError" title="AttributeError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">AttributeError</span></code></a>).</p><p id="attr-target-note" style="hyphens: auto; line-height: 22.4px;">Note: If the object is a class instance and the attribute reference occurs on both sides of the assignment operator, the RHS expression,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">a.x</span></code>&nbsp;can access either an instance attribute or (if no instance attribute exists) a class attribute. The LHS target&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">a.x</span></code>&nbsp;is always set as an instance attribute, creating it if necessary. Thus, the two occurrences of&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">a.x</span></code>&nbsp;do not necessarily refer to the same attribute: if the RHS expression refers to a class attribute, the LHS creates a new instance attribute as the target of the assignment:</p><div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">class</span> <span class="nc" style="color: rgb(14, 132, 181); font-weight: bold;">Cls</span><span class="p">:</span>
    <span class="n">x</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="mi" style="color: rgb(32, 128, 80);">3</span>             <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># class variable</span>
<span class="n">inst</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">Cls</span><span class="p">()</span>
<span class="n">inst</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">x</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">inst</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">x</span> <span class="o" style="color: rgb(102, 102, 102);">+</span> <span class="mi" style="color: rgb(32, 128, 80);">1</span>   <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># writes inst.x as 4 leaving Cls.x as 3</span>
</pre></div></div><p style="hyphens: auto; line-height: 22.4px;">This description does not necessarily apply to descriptor attributes, such as properties created with&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/library/functions.html#property" title="property" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">property()</span></code></a>.</p></li><li id="index-9" style="hyphens: auto; text-align: justify; line-height: 20.8px;"><p class="first" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;">If the target is a subscription: The primary expression in the reference is evaluated. It should yield either a mutable sequence object (such as a list) or a mapping object (such as a dictionary). Next, the subscript expression is evaluated.</p><p id="index-10" style="hyphens: auto; line-height: 22.4px;">If the primary is a mutable sequence object (such as a list), the subscript must yield an integer. If it is negative, the sequence’s length is added to it. The resulting value must be a nonnegative integer less than the sequence’s length, and the sequence is asked to assign the assigned object to its item with that index. If the index is out of range,&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/library/exceptions.html#IndexError" title="IndexError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">IndexError</span></code></a>&nbsp;is raised (assignment to a subscripted sequence cannot add new items to a list).</p><p id="index-11" style="hyphens: auto; line-height: 22.4px;">If the primary is a mapping object (such as a dictionary), the subscript must have a type compatible with the mapping’s key type, and the mapping is then asked to create a key/datum pair which maps the subscript to the assigned object. This can either replace an existing key/value pair with the same key value, or insert a new key/value pair (if no key with the same value existed).</p><p style="hyphens: auto; line-height: 22.4px;">For user-defined objects, the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/datamodel.html#object.__setitem__" title="object.__setitem__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__setitem__()</span></code></a>&nbsp;method is called with appropriate arguments.</p></li><li id="index-12" style="hyphens: auto; text-align: justify; line-height: 20.8px;"><p class="first" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;">If the target is a slicing: The primary expression in the reference is evaluated. It should yield a mutable sequence object (such as a list). The assigned object should be a sequence object of the same type. Next, the lower and upper bound expressions are evaluated, insofar they are present; defaults are zero and the sequence’s length. The bounds should evaluate to integers. If either bound is negative, the sequence’s length is added to it. The resulting bounds are clipped to lie between zero and the sequence’s length, inclusive. Finally, the sequence object is asked to replace the slice with the items of the assigned sequence. The length of the slice may be different from the length of the assigned sequence, thus changing the length of the target sequence, if the target sequence allows it.</p></li></ul><div class="impl-detail compound" style="border-radius: 3px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><p style="hyphens: auto; text-align: justify; line-height: 22.4px; margin: 0px;"><strong>CPython implementation detail:</strong>&nbsp;In the current implementation, the syntax for targets is taken to be the same as for expressions, and invalid syntax is rejected during the code generation phase, causing less detailed error messages.</p></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">Although the definition of assignment implies that overlaps between the left-hand side and the right-hand side are ‘simultaneous’ (for example&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">a,</span>&nbsp;<span class="pre" style="hyphens: none;">b</span>&nbsp;<span class="pre" style="hyphens: none;">=</span>&nbsp;<span class="pre" style="hyphens: none;">b,</span>&nbsp;<span class="pre" style="hyphens: none;">a</span></code>swaps two variables), overlaps&nbsp;<em>within</em>&nbsp;the collection of assigned-to variables occur left-to-right, sometimes resulting in confusion. For instance, the following program prints&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">[0,</span>&nbsp;<span class="pre" style="hyphens: none;">2]</span></code>:</p><div class="highlight-python3 notranslate" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255); position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="n">x</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="p">[</span><span class="mi" style="color: rgb(32, 128, 80);">0</span><span class="p">,</span> <span class="mi" style="color: rgb(32, 128, 80);">1</span><span class="p">]</span>
<span class="n">i</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="mi" style="color: rgb(32, 128, 80);">0</span>
<span class="n">i</span><span class="p">,</span> <span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="mi" style="color: rgb(32, 128, 80);">1</span><span class="p">,</span> <span class="mi" style="color: rgb(32, 128, 80);">2</span>         <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># i is updated, then x[i] is updated</span>
<span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div></div><div class="admonition seealso" style="margin-top: 10px; margin-bottom: 10px; padding: 7px; background-color: rgb(255, 255, 204); border: 1px solid rgb(221, 221, 102); border-radius: 3px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px;"><p class="first admonition-title" style="margin: 0px 10px 5px 0px; font-weight: bold; display: inline; hyphens: auto; text-align: justify; line-height: 22.4px;">参见</p><dl class="last docutils" style="margin-bottom: 0px;"><dt style="font-weight: bold;"><span class="target" id="index-13"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-3132" style="color: rgb(99, 99, 187); text-decoration-line: none;">PEP 3132</a>&nbsp;- Extended Iterable Unpacking</dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;">The specification for the&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">*target</span></code>&nbsp;feature.</dd></dl></div></div><h4 id="blogTitle4">Augmented assignment statements</h4><div><p id="index-14" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">Augmented assignment is the combination, in a single statement, of a binary operation and an assignment statement:</p><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><strong id="grammar-token-augmented-assignment-stmt">augmented_assignment_stmt</strong> ::=  <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#grammar-token-augtarget" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">augtarget</span></code></a> <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#grammar-token-augop" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">augop</span></code></a> (<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-expression-list" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">expression_list</span></code></a> | <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-yield-expression" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">yield_expression</span></code></a>)
<strong id="grammar-token-augtarget">augtarget                </strong> ::=  <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/lexical_analysis.html#grammar-token-identifier" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">identifier</span></code></a> | <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-attributeref" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">attributeref</span></code></a> | <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-subscription" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">subscription</span></code></a> | <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-slicing" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">slicing</span></code></a>
<strong id="grammar-token-augop">augop                    </strong> ::=  "+=" | "-=" | "*=" | "@=" | "/=" | "//=" | "%=" | "**="
                               | "&gt;&gt;=" | "&lt;&lt;=" | "&amp;=" | "^=" | "|="
</pre><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">(See section&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#primaries" style="color: rgb(99, 99, 187); text-decoration-line: none;">Primaries</a>&nbsp;for the syntax definitions of the last three symbols.)</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">An augmented assignment evaluates the target (which, unlike normal assignment statements, cannot be an unpacking) and the expression list, performs the binary operation specific to the type of assignment on the two operands, and assigns the result to the original target. The target is only evaluated once.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">An augmented assignment expression like&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">x</span>&nbsp;<span class="pre" style="hyphens: none;">+=</span>&nbsp;<span class="pre" style="hyphens: none;">1</span></code>&nbsp;can be rewritten as&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">x</span>&nbsp;<span class="pre" style="hyphens: none;">=</span>&nbsp;<span class="pre" style="hyphens: none;">x</span>&nbsp;<span class="pre" style="hyphens: none;">+</span>&nbsp;<span class="pre" style="hyphens: none;">1</span></code>to achieve a similar, but not exactly equal effect. In the augmented version,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">x</span></code>&nbsp;is only evaluated once. Also, when possible, the actual operation is performed&nbsp;<em>in-place</em>, meaning that rather than creating a new object and assigning that to the target, the old object is modified instead.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">Unlike normal assignments, augmented assignments evaluate the left-hand side<em>before</em>&nbsp;evaluating the right-hand side. For example,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">a[i]</span>&nbsp;<span class="pre" style="hyphens: none;">+=</span>&nbsp;<span class="pre" style="hyphens: none;">f(x)</span></code>&nbsp;first looks-up&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">a[i]</span></code>, then it evaluates&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">f(x)</span></code>&nbsp;and performs the addition, and lastly, it writes the result back to&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">a[i]</span></code>.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">With the exception of assigning to tuples and multiple targets in a single statement, the assignment done by augmented assignment statements is handled the same way as normal assignments. Similarly, with the exception of the possible&nbsp;<em>in-place</em>&nbsp;behavior, the binary operation performed by augmented assignment is the same as the normal binary operations.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">For targets which are attribute references, the same&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#attr-target-note" style="color: rgb(99, 99, 187); text-decoration-line: none;">caveat about class and instance attributes</a>&nbsp;applies as for regular assignments.</p></div><h4 id="blogTitle5">Annotated assignment statements&nbsp;</h4><div><p id="index-15" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">Annotation assignment is the combination, in a single statement, of a variable or attribute annotation and an optional assignment statement:</p><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><strong id="grammar-token-annotated-assignment-stmt">annotated_assignment_stmt</strong> ::=  <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#grammar-token-augtarget" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">augtarget</span></code></a> ":" <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-expression" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">expression</span></code></a> ["=" <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-expression" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">expression</span></code></a>]
</pre><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">The difference from normal&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#assignment" style="color: rgb(99, 99, 187); text-decoration-line: none;">Assignment statements</a>&nbsp;is that only single target and only single right hand side value is allowed.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">For simple names as assignment targets, if in class or module scope, the annotations are evaluated and stored in a special class or module attribute&nbsp;<code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__annotations__</span></code>&nbsp;that is a dictionary mapping from variable names (mangled if private) to evaluated annotations. This attribute is writable and is automatically created at the start of class or module body execution, if annotations are found statically.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">For expressions as assignment targets, the annotations are evaluated if in class or module scope, but not stored.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">If a name is annotated in a function scope, then this name is local for that scope. Annotations are never evaluated and stored in function scopes.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">If the right hand side is present, an annotated assignment performs the actual assignment before evaluating annotations (where applicable). If the right hand side is not present for an expression target, then the interpreter evaluates the target except for the last&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/datamodel.html#object.__setitem__" title="object.__setitem__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__setitem__()</span></code></a>&nbsp;or&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/datamodel.html#object.__setattr__" title="object.__setattr__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__setattr__()</span></code></a>&nbsp;call.</p><div class="admonition seealso" style="margin-top: 10px; margin-bottom: 10px; padding: 7px; background-color: rgb(255, 255, 204); border: 1px solid rgb(221, 221, 102); border-radius: 3px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px;"><p class="first admonition-title" style="margin: 0px 10px 5px 0px; font-weight: bold; display: inline; hyphens: auto; text-align: justify; line-height: 22.4px;">参见</p><dl class="last docutils" style="margin-bottom: 0px;"><dt style="font-weight: bold;"><span class="target" id="index-16"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0526" style="color: rgb(99, 99, 187); text-decoration-line: none;">PEP 526</a>&nbsp;- Syntax for Variable Annotations</dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;">The proposal that added syntax for annotating the types of variables (including class variables and instance variables), instead of expressing them through comments.</dd><dt style="font-weight: bold;"><span class="target" id="index-17"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0484" style="color: rgb(99, 99, 187); text-decoration-line: none;">PEP 484</a>&nbsp;- Type hints</dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;">The proposal that added the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/library/typing.html#module-typing" title="typing: Support for type hints (see PEP 484)." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">typing</span></code></a>&nbsp;module to provide a standard syntax for type annotations that can be used in static analysis tools and IDEs.</dd></dl></div></div><h3 id="blogTitle6">assert 语句<br></h3><div><p id="index-18" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">Assert statements are a convenient way to insert debugging assertions into a program:</p><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><strong id="grammar-token-assert-stmt">assert_stmt</strong> ::=  "assert" <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-expression" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">expression</span></code></a> ["," <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-expression" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">expression</span></code></a>]
</pre><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">The simple form,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">assert</span>&nbsp;<span class="pre" style="hyphens: none;">expression</span></code>, is equivalent to</p><div class="highlight-python3 notranslate" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255); position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">if</span> <span class="n">__debug__</span><span class="p">:</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">if</span> <span class="ow" style="color: rgb(0, 112, 32); font-weight: bold;">not</span> <span class="n">expression</span><span class="p">:</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">raise</span> <span class="ne" style="color: rgb(0, 112, 32);">AssertionError</span>
</pre></div></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">The extended form,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">assert</span>&nbsp;<span class="pre" style="hyphens: none;">expression1,</span>&nbsp;<span class="pre" style="hyphens: none;">expression2</span></code>, is equivalent to</p><div class="highlight-python3 notranslate" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255); position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">if</span> <span class="n">__debug__</span><span class="p">:</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">if</span> <span class="ow" style="color: rgb(0, 112, 32); font-weight: bold;">not</span> <span class="n">expression1</span><span class="p">:</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">raise</span> <span class="ne" style="color: rgb(0, 112, 32);">AssertionError</span><span class="p">(</span><span class="n">expression2</span><span class="p">)</span>
</pre></div></div><p id="index-19" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">These equivalences assume that&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/library/constants.html#__debug__" title="__debug__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__debug__</span></code></a>&nbsp;and&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/library/exceptions.html#AssertionError" title="AssertionError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">AssertionError</span></code></a>&nbsp;refer to the built-in variables with those names. In the current implementation, the built-in variable&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/library/constants.html#__debug__" title="__debug__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__debug__</span></code></a>&nbsp;is&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">True</span></code>&nbsp;under normal circumstances,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">False</span></code>&nbsp;when optimization is requested (command line option&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/using/cmdline.html#cmdoption-o" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-option docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">-O</span></code></a>). The current code generator emits no code for an assert statement when optimization is requested at compile time. Note that it is unnecessary to include the source code for the expression that failed in the error message; it will be displayed as part of the stack trace.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">Assignments to&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/library/constants.html#__debug__" title="__debug__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__debug__</span></code></a>&nbsp;are illegal. The value for the built-in variable is determined when the interpreter starts.</p></div><h3 id="blogTitle7">pass 语句<br></h3><div><pre id="index-20" style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><strong id="grammar-token-pass-stmt">pass_stmt</strong> ::=  "pass"
</pre><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#pass" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">pass</span></code></a>&nbsp;is a null operation — when it is executed, nothing happens. It is useful as a placeholder when a statement is required syntactically, but no code needs to be executed, for example:</p><div class="highlight-python3 notranslate" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255); position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">def</span> <span class="nf" style="color: rgb(6, 40, 126);">f</span><span class="p">(</span><span class="n">arg</span><span class="p">):</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">pass</span>    <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># a function that does nothing (yet)</span>

<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">class</span> <span class="nc" style="color: rgb(14, 132, 181); font-weight: bold;">C</span><span class="p">:</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">pass</span>       <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># a class with no methods (yet)</span></pre></div></div></div><h3 id="blogTitle8">del 语句<br></h3><div><pre id="index-21" style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><strong id="grammar-token-del-stmt">del_stmt</strong> ::=  "del" <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#grammar-token-target-list" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">target_list</span></code></a>
</pre><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">Deletion is recursively defined very similar to the way assignment is defined. Rather than spelling it out in full details, here are some hints.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">Deletion of a target list recursively deletes each target, from left to right.</p><p id="index-22" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">Deletion of a name removes the binding of that name from the local or global namespace, depending on whether the name occurs in a&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#global" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">global</span></code></a>&nbsp;statement in the same code block. If the name is unbound, a&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/library/exceptions.html#NameError" title="NameError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">NameError</span></code></a>&nbsp;exception will be raised.</p><p id="index-23" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">Deletion of attribute references, subscriptions and slicings is passed to the primary object involved; deletion of a slicing is in general equivalent to assignment of an empty slice of the right type (but even this is determined by the sliced object).</p><div class="versionchanged" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><p style="hyphens: auto; text-align: justify; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">在 3.2 版更改:&nbsp;</span>Previously it was illegal to delete a name from the local namespace if it occurs as a free variable in a nested block.</p></div></div><h3 id="blogTitle9">return 语句<br></h3><div><pre id="index-24" style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><strong id="grammar-token-return-stmt">return_stmt</strong> ::=  "return" [<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-expression-list" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">expression_list</span></code></a>]
</pre><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#return" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">return</span></code></a>&nbsp;may only occur syntactically nested in a function definition, not within a nested class definition.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">If an expression list is present, it is evaluated, else&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code>&nbsp;is substituted.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#return" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">return</span></code></a>&nbsp;leaves the current function call with the expression list (or&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code>) as return value.</p><p id="index-25" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">When&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#return" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">return</span></code></a>&nbsp;passes control out of a&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#try" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">try</span></code></a>&nbsp;statement with a&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#finally" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">finally</span></code></a>&nbsp;clause, that&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#finally" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">finally</span></code></a>&nbsp;clause is executed before really leaving the function.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">In a generator function, the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#return" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">return</span></code></a>&nbsp;statement indicates that the generator is done and will cause&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/library/exceptions.html#StopIteration" title="StopIteration" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">StopIteration</span></code></a>&nbsp;to be raised. The returned value (if any) is used as an argument to construct&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/library/exceptions.html#StopIteration" title="StopIteration" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">StopIteration</span></code></a>&nbsp;and becomes the&nbsp;<code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">StopIteration.value</span></code>&nbsp;attribute.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">In an asynchronous generator function, an empty&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#return" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">return</span></code></a>&nbsp;statement indicates that the asynchronous generator is done and will cause&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/library/exceptions.html#StopAsyncIteration" title="StopAsyncIteration" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">StopAsyncIteration</span></code></a>&nbsp;to be raised. A non-empty&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#return" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">return</span></code></a>&nbsp;statement is a syntax error in an asynchronous generator function.</p></div><h3 id="blogTitle10">yield 语句<br></h3><div><pre id="index-26" style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><strong id="grammar-token-yield-stmt">yield_stmt</strong> ::=  <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-yield-expression" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">yield_expression</span></code></a>
</pre><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">A&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#yield" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">yield</span></code></a>&nbsp;statement is semantically equivalent to a&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#yieldexpr" style="color: rgb(99, 99, 187); text-decoration-line: none;">yield expression</a>. The yield statement can be used to omit the parentheses that would otherwise be required in the equivalent yield expression statement. For example, the yield statements</p><div class="highlight-python3 notranslate" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255); position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">yield</span> <span class="o" style="color: rgb(102, 102, 102);">&lt;</span><span class="n">expr</span><span class="o" style="color: rgb(102, 102, 102);">&gt;</span>
<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">yield from</span> <span class="o" style="color: rgb(102, 102, 102);">&lt;</span><span class="n">expr</span><span class="o" style="color: rgb(102, 102, 102);">&gt;</span>
</pre></div></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">are equivalent to the yield expression statements</p><div class="highlight-python3 notranslate" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255); position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="p">(</span><span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">yield</span> <span class="o" style="color: rgb(102, 102, 102);">&lt;</span><span class="n">expr</span><span class="o" style="color: rgb(102, 102, 102);">&gt;</span><span class="p">)</span>
<span class="p">(</span><span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">yield from</span> <span class="o" style="color: rgb(102, 102, 102);">&lt;</span><span class="n">expr</span><span class="o" style="color: rgb(102, 102, 102);">&gt;</span><span class="p">)</span>
</pre></div></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">Yield expressions and statements are only used when defining a&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/glossary.html#term-generator" style="color: rgb(99, 99, 187); text-decoration-line: none;">generator</a>function, and are only used in the body of the generator function. Using yield in a function definition is sufficient to cause that definition to create a generator function instead of a normal function.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">For full details of&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#yield" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">yield</span></code></a>&nbsp;semantics, refer to the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#yieldexpr" style="color: rgb(99, 99, 187); text-decoration-line: none;">Yield 表达式</a>&nbsp;section.</p></div><h3 id="blogTitle11">raise 语句</h3><div><pre id="index-27" style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><strong id="grammar-token-raise-stmt">raise_stmt</strong> ::=  "raise" [<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-expression" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">expression</span></code></a> ["from" <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-expression" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">expression</span></code></a>]]
</pre><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">If no expressions are present,&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#raise" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">raise</span></code></a>&nbsp;re-raises the last exception that was active in the current scope. If no exception is active in the current scope, a&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/library/exceptions.html#RuntimeError" title="RuntimeError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">RuntimeError</span></code></a>&nbsp;exception is raised indicating that this is an error.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">Otherwise,&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#raise" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">raise</span></code></a>&nbsp;evaluates the first expression as the exception object. It must be either a subclass or an instance of&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/library/exceptions.html#BaseException" title="BaseException" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">BaseException</span></code></a>. If it is a class, the exception instance will be obtained when needed by instantiating the class with no arguments.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">The&nbsp;<em class="dfn">type</em>&nbsp;of the exception is the exception instance’s class, the&nbsp;<em class="dfn">value</em>&nbsp;is the instance itself.</p><p id="index-28" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">A traceback object is normally created automatically when an exception is raised and attached to it as the&nbsp;<code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__traceback__</span></code>&nbsp;attribute, which is writable. You can create an exception and set your own traceback in one step using the<code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">with_traceback()</span></code>&nbsp;exception method (which returns the same exception instance, with its traceback set to its argument), like so:</p><div class="highlight-python3 notranslate" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255); position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">raise</span> <span class="ne" style="color: rgb(0, 112, 32);">Exception</span><span class="p">(</span><span class="s2" style="color: rgb(64, 112, 160);">"foo occurred"</span><span class="p">)</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">with_traceback</span><span class="p">(</span><span class="n">tracebackobj</span><span class="p">)</span>
</pre></div></div><p id="index-29" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">The&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">from</span></code>&nbsp;clause is used for exception chaining: if given, the second&nbsp;<em>expression</em>must be another exception class or instance, which will then be attached to the raised exception as the&nbsp;<code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__cause__</span></code>&nbsp;attribute (which is writable). If the raised exception is not handled, both exceptions will be printed:</p><div class="highlight-python3 notranslate" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255); position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><span class="copybutton" title="Hide the prompts and output" style="cursor: pointer; position: absolute; top: 0px; right: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</span><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">try</span><span class="p">:</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">... </span>    <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="mi" style="color: rgb(32, 128, 80);">1</span> <span class="o" style="color: rgb(102, 102, 102);">/</span> <span class="mi" style="color: rgb(32, 128, 80);">0</span><span class="p">)</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">... </span><span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">except</span> <span class="ne" style="color: rgb(0, 112, 32);">Exception</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">as</span> <span class="n">exc</span><span class="p">:</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">... </span>    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">raise</span> <span class="ne" style="color: rgb(0, 112, 32);">RuntimeError</span><span class="p">(</span><span class="s2" style="color: rgb(64, 112, 160);">"Something bad happened"</span><span class="p">)</span> <span class="kn" style="color: rgb(0, 112, 32); font-weight: bold;">from</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">exc</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">...</span>
<span class="gt" style="color: rgb(0, 68, 221);">Traceback (most recent call last):</span>
  File <span class="nb" style="color: rgb(0, 112, 32);">"&lt;stdin&gt;"</span>, line <span class="m" style="color: rgb(32, 128, 80);">2</span>, in <span class="n">&lt;module&gt;</span>
<span class="gr" style="color: rgb(255, 0, 0);">ZeroDivisionError</span>: <span class="n">division by zero</span>

<span class="go">The above exception was the direct cause of the following exception:</span>

<span class="gt" style="color: rgb(0, 68, 221);">Traceback (most recent call last):</span>
  File <span class="nb" style="color: rgb(0, 112, 32);">"&lt;stdin&gt;"</span>, line <span class="m" style="color: rgb(32, 128, 80);">4</span>, in <span class="n">&lt;module&gt;</span>
<span class="gr" style="color: rgb(255, 0, 0);">RuntimeError</span>: <span class="n">Something bad happened</span>
</pre></div></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">A similar mechanism works implicitly if an exception is raised inside an exception handler or a&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#finally" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">finally</span></code></a>&nbsp;clause: the previous exception is then attached as the new exception’s&nbsp;<code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__context__</span></code>&nbsp;attribute:</p><div class="highlight-python3 notranslate" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255); position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><span class="copybutton" title="Hide the prompts and output" style="cursor: pointer; position: absolute; top: 0px; right: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</span><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">try</span><span class="p">:</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">... </span>    <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="mi" style="color: rgb(32, 128, 80);">1</span> <span class="o" style="color: rgb(102, 102, 102);">/</span> <span class="mi" style="color: rgb(32, 128, 80);">0</span><span class="p">)</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">... </span><span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">except</span><span class="p">:</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">... </span>    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">raise</span> <span class="ne" style="color: rgb(0, 112, 32);">RuntimeError</span><span class="p">(</span><span class="s2" style="color: rgb(64, 112, 160);">"Something bad happened"</span><span class="p">)</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">...</span>
<span class="gt" style="color: rgb(0, 68, 221);">Traceback (most recent call last):</span>
  File <span class="nb" style="color: rgb(0, 112, 32);">"&lt;stdin&gt;"</span>, line <span class="m" style="color: rgb(32, 128, 80);">2</span>, in <span class="n">&lt;module&gt;</span>
<span class="gr" style="color: rgb(255, 0, 0);">ZeroDivisionError</span>: <span class="n">division by zero</span>

<span class="go">During handling of the above exception, another exception occurred:</span>

<span class="gt" style="color: rgb(0, 68, 221);">Traceback (most recent call last):</span>
  File <span class="nb" style="color: rgb(0, 112, 32);">"&lt;stdin&gt;"</span>, line <span class="m" style="color: rgb(32, 128, 80);">4</span>, in <span class="n">&lt;module&gt;</span>
<span class="gr" style="color: rgb(255, 0, 0);">RuntimeError</span>: <span class="n">Something bad happened</span>
</pre></div></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">Exception chaining can be explicitly suppressed by specifying&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/library/constants.html#None" title="None" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code></a>&nbsp;in the&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">from</span></code>clause:</p><div class="highlight-python3 notranslate" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255); position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><span class="copybutton" title="Hide the prompts and output" style="cursor: pointer; position: absolute; top: 0px; right: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</span><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">try</span><span class="p">:</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">... </span>    <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="mi" style="color: rgb(32, 128, 80);">1</span> <span class="o" style="color: rgb(102, 102, 102);">/</span> <span class="mi" style="color: rgb(32, 128, 80);">0</span><span class="p">)</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">... </span><span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">except</span><span class="p">:</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">... </span>    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">raise</span> <span class="ne" style="color: rgb(0, 112, 32);">RuntimeError</span><span class="p">(</span><span class="s2" style="color: rgb(64, 112, 160);">"Something bad happened"</span><span class="p">)</span> <span class="kn" style="color: rgb(0, 112, 32); font-weight: bold;">from</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">None</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">...</span>
<span class="gt" style="color: rgb(0, 68, 221);">Traceback (most recent call last):</span>
  File <span class="nb" style="color: rgb(0, 112, 32);">"&lt;stdin&gt;"</span>, line <span class="m" style="color: rgb(32, 128, 80);">4</span>, in <span class="n">&lt;module&gt;</span>
<span class="gr" style="color: rgb(255, 0, 0);">RuntimeError</span>: <span class="n">Something bad happened</span>
</pre></div></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">Additional information on exceptions can be found in section&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/executionmodel.html#exceptions" style="color: rgb(99, 99, 187); text-decoration-line: none;">异常</a>, and information about handling exceptions is in section&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#try" style="color: rgb(99, 99, 187); text-decoration-line: none;">The try statement</a>.</p><div class="versionchanged" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><p style="hyphens: auto; text-align: justify; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">在 3.3 版更改:&nbsp;</span><a class="reference internal" href="https://docs.python.org/zh-cn/3.7/library/constants.html#None" title="None" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code></a>&nbsp;is now permitted as&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Y</span></code>&nbsp;in&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">raise</span>&nbsp;<span class="pre" style="hyphens: none;">X</span>&nbsp;<span class="pre" style="hyphens: none;">from</span>&nbsp;<span class="pre" style="hyphens: none;">Y</span></code>.</p></div><div class="versionadded" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><p style="hyphens: auto; text-align: justify; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">3.3 新版功能:&nbsp;</span>The&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__suppress_context__</span></code>&nbsp;attribute to suppress automatic display of the exception context.</p></div></div><h3 id="blogTitle13">break 语句</h3><div><pre id="index-30" style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><strong id="grammar-token-break-stmt">break_stmt</strong> ::=  "break"
</pre><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/simple_stmts.html#break" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">break</span></code></a>&nbsp;may only occur syntactically nested in a&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/compound_stmts.html#for" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">for</span></code></a>&nbsp;or&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/compound_stmts.html#while" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">while</span></code></a>&nbsp;loop, but not nested in a function or class definition within that loop.</p><p id="index-31" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">It terminates the nearest enclosing loop, skipping the optional&nbsp;<code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">else</span></code>&nbsp;clause if the loop has one.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">If a&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/compound_stmts.html#for" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">for</span></code></a>&nbsp;loop is terminated by&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/simple_stmts.html#break" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">break</span></code></a>, the loop control target keeps its current value.</p><p id="index-32" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">When&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/simple_stmts.html#break" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">break</span></code></a>&nbsp;passes control out of a&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/compound_stmts.html#try" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">try</span></code></a>&nbsp;statement with a&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/compound_stmts.html#finally" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">finally</span></code></a>&nbsp;clause, that&nbsp;<code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">finally</span></code>&nbsp;clause is executed before really leaving the loop.</p></div><h3 id="blogTitle15">continue 语句<br></h3><div><div class="section" id="the-continue-statement"><pre id="index-33" style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><strong id="grammar-token-continue-stmt">continue_stmt</strong> ::=  "continue"
</pre><p style="hyphens: auto; text-align: justify; line-height: 22.4px;"><a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#continue" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">continue</span></code></a>&nbsp;may only occur syntactically nested in a&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#for" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">for</span></code></a>&nbsp;or&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#while" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">while</span></code></a>&nbsp;loop, but not nested in a function or class definition or&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#finally" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">finally</span></code></a>&nbsp;clause within that loop. It continues with the next cycle of the nearest enclosing loop.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">When&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#continue" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">continue</span></code></a>&nbsp;passes control out of a&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#try" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">try</span></code></a>&nbsp;statement with a&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#finally" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">finally</span></code></a>&nbsp;clause, that&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#finally" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">finally</span></code></a>&nbsp;clause is executed before really starting the next loop cycle.</p></div><div class="section" id="the-import-statement"><span id="from" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"></span><span id="import" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"></span></div></div><h3 id="blogTitle16">import 语句<br></h3><div><pre id="index-34" style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><strong id="grammar-token-import-stmt">import_stmt    </strong> ::=  "import" <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#grammar-token-module" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">module</span></code></a> ["as" <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/lexical_analysis.html#grammar-token-identifier" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">identifier</span></code></a>] ("," <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#grammar-token-module" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">module</span></code></a> ["as" <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/lexical_analysis.html#grammar-token-identifier" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">identifier</span></code></a>])*
                     | "from" <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#grammar-token-relative-module" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">relative_module</span></code></a> "import" <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/lexical_analysis.html#grammar-token-identifier" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">identifier</span></code></a> ["as" <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/lexical_analysis.html#grammar-token-identifier" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">identifier</span></code></a>]
                     ("," <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/lexical_analysis.html#grammar-token-identifier" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">identifier</span></code></a> ["as" <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/lexical_analysis.html#grammar-token-identifier" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">identifier</span></code></a>])*
                     | "from" <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#grammar-token-relative-module" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">relative_module</span></code></a> "import" "(" <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/lexical_analysis.html#grammar-token-identifier" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">identifier</span></code></a> ["as" <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/lexical_analysis.html#grammar-token-identifier" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">identifier</span></code></a>]
                     ("," <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/lexical_analysis.html#grammar-token-identifier" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">identifier</span></code></a> ["as" <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/lexical_analysis.html#grammar-token-identifier" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">identifier</span></code></a>])* [","] ")"
                     | "from" <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#grammar-token-module" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">module</span></code></a> "import" "*"
<strong id="grammar-token-module">module         </strong> ::=  (<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/lexical_analysis.html#grammar-token-identifier" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">identifier</span></code></a> ".")* <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/lexical_analysis.html#grammar-token-identifier" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">identifier</span></code></a>
<strong id="grammar-token-relative-module">relative_module</strong> ::=  "."* <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#grammar-token-module" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">module</span></code></a> | "."+
</pre><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">The basic import statement (no&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#from" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">from</span></code></a>&nbsp;clause) is executed in two steps:</p><ol class="arabic simple" style="list-style-position: initial; list-style-image: initial; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><li style="hyphens: auto; text-align: justify; line-height: 20.8px;">find a module, loading and initializing it if necessary</li><li style="hyphens: auto; text-align: justify; line-height: 20.8px;">define a name or names in the local namespace for the scope where the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#import" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">import</span></code></a>&nbsp;statement occurs.</li></ol><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">When the statement contains multiple clauses (separated by commas) the two steps are carried out separately for each clause, just as though the clauses had been separated out into individual import statements.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">The details of the first step, finding and loading modules are described in greater detail in the section on the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/import.html#importsystem" style="color: rgb(99, 99, 187); text-decoration-line: none;">import system</a>, which also describes the various types of packages and modules that can be imported, as well as all the hooks that can be used to customize the import system. Note that failures in this step may indicate either that the module could not be located,&nbsp;<em>or</em>&nbsp;that an error occurred while initializing the module, which includes execution of the module’s code.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">If the requested module is retrieved successfully, it will be made available in the local namespace in one of three ways:</p><ul class="simple" id="index-35" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><li style="hyphens: auto; text-align: justify; line-height: 20.8px;">如果模块名后跟有&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#as" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">as</span></code></a>，那么&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#as" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">as</span></code></a>&nbsp;后的名称会直接跟被导入的模块绑定。</li><li style="hyphens: auto; text-align: justify; line-height: 20.8px;">If no other name is specified, and the module being imported is a top level module, the module’s name is bound in the local namespace as a reference to the imported module</li><li style="hyphens: auto; text-align: justify; line-height: 20.8px;">If the module being imported is&nbsp;<em>not</em>&nbsp;a top level module, then the name of the top level package that contains the module is bound in the local namespace as a reference to the top level package. The imported module must be accessed using its full qualified name rather than directly</li></ul><p id="index-36" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">The&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#from" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">from</span></code></a>&nbsp;form uses a slightly more complex process:</p><ol class="arabic simple" style="list-style-position: initial; list-style-image: initial; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><li style="hyphens: auto; text-align: justify; line-height: 20.8px;">find the module specified in the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#from" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">from</span></code></a>&nbsp;clause, loading and initializing it if necessary;</li><li style="hyphens: auto; text-align: justify; line-height: 20.8px;">for each of the identifiers specified in the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#import" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">import</span></code></a>&nbsp;clauses:<ol class="arabic" style="list-style-position: initial; list-style-image: initial;"><li style="hyphens: auto; text-align: justify; line-height: 20.8px;">check if the imported module has an attribute by that name</li><li style="hyphens: auto; text-align: justify; line-height: 20.8px;">if not, attempt to import a submodule with that name and then check the imported module again for that attribute</li><li style="hyphens: auto; text-align: justify; line-height: 20.8px;">if the attribute is not found,&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/library/exceptions.html#ImportError" title="ImportError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">ImportError</span></code></a>&nbsp;is raised.</li><li style="hyphens: auto; text-align: justify; line-height: 20.8px;">otherwise, a reference to that value is stored in the local namespace, using the name in the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#as" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">as</span></code></a>&nbsp;clause if it is present, otherwise using the attribute name</li></ol></li></ol><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">例如:</p><div class="highlight-python3 notranslate" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255); position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="kn" style="color: rgb(0, 112, 32); font-weight: bold;">import</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">foo</span>                 <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># foo imported and bound locally</span>
<span class="kn" style="color: rgb(0, 112, 32); font-weight: bold;">import</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">foo.bar.baz</span>         <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># foo.bar.baz imported, foo bound locally</span>
<span class="kn" style="color: rgb(0, 112, 32); font-weight: bold;">import</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">foo.bar.baz</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">as</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">fbb</span>  <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># foo.bar.baz imported and bound as fbb</span>
<span class="kn" style="color: rgb(0, 112, 32); font-weight: bold;">from</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">foo.bar</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">import</span> <span class="n">baz</span>    <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># foo.bar.baz imported and bound as baz</span>
<span class="kn" style="color: rgb(0, 112, 32); font-weight: bold;">from</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">foo</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">import</span> <span class="n">attr</span>       <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># foo imported and foo.attr bound as attr</span>
</pre></div></div><p id="index-37" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">If the list of identifiers is replaced by a star (<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">'*'</span></code>), all public names defined in the module are bound in the local namespace for the scope where the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#import" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">import</span></code></a>statement occurs.</p><p id="index-38" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">The&nbsp;<em>public names</em>&nbsp;defined by a module are determined by checking the module’s namespace for a variable named&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__all__</span></code>; if defined, it must be a sequence of strings which are names defined or imported by that module. The names given in&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__all__</span></code>&nbsp;are all considered public and are required to exist. If&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__all__</span></code>&nbsp;is not defined, the set of public names includes all names found in the module’s namespace which do not begin with an underscore character (<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">'_'</span></code>).&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__all__</span></code>should contain the entire public API. It is intended to avoid accidentally exporting items that are not part of the API (such as library modules which were imported and used within the module).</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">The wild card form of import —&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">from</span>&nbsp;<span class="pre" style="hyphens: none;">module</span>&nbsp;<span class="pre" style="hyphens: none;">import</span>&nbsp;<span class="pre" style="hyphens: none;">*</span></code>&nbsp;— is only allowed at the module level. Attempting to use it in class or function definitions will raise a&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/library/exceptions.html#SyntaxError" title="SyntaxError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">SyntaxError</span></code></a>.</p><p id="index-39" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">When specifying what module to import you do not have to specify the absolute name of the module. When a module or package is contained within another package it is possible to make a relative import within the same top package without having to mention the package name. By using leading dots in the specified module or package after&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#from" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">from</span></code></a>&nbsp;you can specify how high to traverse up the current package hierarchy without specifying exact names. One leading dot means the current package where the module making the import exists. Two dots means up one package level. Three dots is up two levels, etc. So if you execute&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">from</span>&nbsp;<span class="pre" style="hyphens: none;">.</span>&nbsp;<span class="pre" style="hyphens: none;">import</span>&nbsp;<span class="pre" style="hyphens: none;">mod</span></code>&nbsp;from a module in the&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">pkg</span></code>&nbsp;package then you will end up importing&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">pkg.mod</span></code>. If you execute&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">from</span>&nbsp;<span class="pre" style="hyphens: none;">..subpkg2</span>&nbsp;<span class="pre" style="hyphens: none;">import</span>&nbsp;<span class="pre" style="hyphens: none;">mod</span></code>&nbsp;from within&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">pkg.subpkg1</span></code>&nbsp;you will import&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">pkg.subpkg2.mod</span></code>. The specification for relative imports is contained within&nbsp;<span class="target" id="index-40"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0328" style="color: rgb(99, 99, 187); text-decoration-line: none;"><strong>PEP 328</strong></a>.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><a class="reference internal" href="https://docs.python.org/zh-cn/3.7/library/importlib.html#importlib.import_module" title="importlib.import_module" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">importlib.import_module()</span></code></a>&nbsp;is provided to support applications that determine dynamically the modules to be loaded.</p></div><h4 id="blogTitle17">Future statements</h4><div><p id="index-41" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">A&nbsp;<em class="dfn">future statement</em>&nbsp;is a directive to the compiler that a particular module should be compiled using syntax or semantics that will be available in a specified future release of Python where the feature becomes standard.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">The future statement is intended to ease migration to future versions of Python that introduce incompatible changes to the language. It allows use of the new features on a per-module basis before the release in which the feature becomes standard.</p><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><strong id="grammar-token-future-stmt">future_stmt</strong> ::=  "from" "__future__" "import" <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#grammar-token-feature" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">feature</span></code></a> ["as" <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/lexical_analysis.html#grammar-token-identifier" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">identifier</span></code></a>]
                 ("," <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#grammar-token-feature" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">feature</span></code></a> ["as" <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/lexical_analysis.html#grammar-token-identifier" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">identifier</span></code></a>])*
                 | "from" "__future__" "import" "(" <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#grammar-token-feature" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">feature</span></code></a> ["as" <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/lexical_analysis.html#grammar-token-identifier" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">identifier</span></code></a>]
                 ("," <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#grammar-token-feature" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">feature</span></code></a> ["as" <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/lexical_analysis.html#grammar-token-identifier" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">identifier</span></code></a>])* [","] ")"
<strong id="grammar-token-feature">feature    </strong> ::=  <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/lexical_analysis.html#grammar-token-identifier" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">identifier</span></code></a>
</pre><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">A future statement must appear near the top of the module. The only lines that can appear before a future statement are:</p><ul class="simple" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><li style="hyphens: auto; text-align: justify; line-height: 20.8px;">the module docstring (if any),</li><li style="hyphens: auto; text-align: justify; line-height: 20.8px;">comments,</li><li style="hyphens: auto; text-align: justify; line-height: 20.8px;">blank lines, and</li><li style="hyphens: auto; text-align: justify; line-height: 20.8px;">other future statements.</li></ul><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">The only feature in Python 3.7 that requires using the future statement is<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">annotations</span></code>.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">All historical features enabled by the future statement are still recognized by Python 3. The list includes&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">absolute_import</span></code>,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">division</span></code>,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">generators</span></code>,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">generator_stop</span></code>,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">unicode_literals</span></code>,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">print_function</span></code>,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">nested_scopes</span></code>&nbsp;and&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">with_statement</span></code>. They are all redundant because they are always enabled, and only kept for backwards compatibility.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">A future statement is recognized and treated specially at compile time: Changes to the semantics of core constructs are often implemented by generating different code. It may even be the case that a new feature introduces new incompatible syntax (such as a new reserved word), in which case the compiler may need to parse the module differently. Such decisions cannot be pushed off until runtime.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">For any given release, the compiler knows which feature names have been defined, and raises a compile-time error if a future statement contains a feature not known to it.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">The direct runtime semantics are the same as for any import statement: there is a standard module&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/library/__future__.html#module-__future__" title="__future__: Future statement definitions" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__future__</span></code></a>, described later, and it will be imported in the usual way at the time the future statement is executed.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">The interesting runtime semantics depend on the specific feature enabled by the future statement.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">Note that there is nothing special about the statement:</p><div class="highlight-python3 notranslate" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255); position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="kn" style="color: rgb(0, 112, 32); font-weight: bold;">import</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">__future__</span> <span class="p">[</span><span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">as</span> <span class="n">name</span><span class="p">]</span>
</pre></div></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">That is not a future statement; it’s an ordinary import statement with no special semantics or syntax restrictions.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">Code compiled by calls to the built-in functions&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/library/functions.html#exec" title="exec" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">exec()</span></code></a>&nbsp;and&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/library/functions.html#compile" title="compile" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">compile()</span></code></a>&nbsp;that occur in a module&nbsp;<code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">M</span></code>&nbsp;containing a future statement will, by default, use the new syntax or semantics associated with the future statement. This can be controlled by optional arguments to&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/library/functions.html#compile" title="compile" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">compile()</span></code></a>&nbsp;— see the documentation of that function for details.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">A future statement typed at an interactive interpreter prompt will take effect for the rest of the interpreter session. If an interpreter is started with the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/using/cmdline.html#cmdoption-i" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-option docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">-i</span></code></a>&nbsp;option, is passed a script name to execute, and the script includes a future statement, it will be in effect in the interactive session started after the script is executed.</p><div class="admonition seealso" style="margin-top: 10px; margin-bottom: 10px; padding: 7px; background-color: rgb(255, 255, 204); border: 1px solid rgb(221, 221, 102); border-radius: 3px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px;"><p class="first admonition-title" style="margin: 0px 10px 5px 0px; font-weight: bold; display: inline; hyphens: auto; text-align: justify; line-height: 22.4px;">参见</p><dl class="last docutils" style="margin-bottom: 0px;"><dt style="font-weight: bold;"><span class="target" id="index-42"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0236" style="color: rgb(99, 99, 187); text-decoration-line: none;">PEP 236</a>&nbsp;- Back to the __future__</dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;">The original proposal for the __future__ mechanism.</dd></dl></div></div><h3 id="blogTitle18">global 语句<br></h3><div><pre id="index-43" style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><strong id="grammar-token-global-stmt">global_stmt</strong> ::=  "global" <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/lexical_analysis.html#grammar-token-identifier" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">identifier</span></code></a> ("," <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/lexical_analysis.html#grammar-token-identifier" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">identifier</span></code></a>)*
</pre><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">The&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#global" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">global</span></code></a>&nbsp;statement is a declaration which holds for the entire current code block. It means that the listed identifiers are to be interpreted as globals. It would be impossible to assign to a global variable without&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#global" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">global</span></code></a>, although free variables may refer to globals without being declared global.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">Names listed in a&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#global" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">global</span></code></a>&nbsp;statement must not be used in the same code block textually preceding that&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#global" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">global</span></code></a>&nbsp;statement.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">Names listed in a&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#global" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">global</span></code></a>&nbsp;statement must not be defined as formal parameters or in a&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#for" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">for</span></code></a>&nbsp;loop control target,&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#class" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">class</span></code></a>&nbsp;definition, function definition,&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#import" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">import</span></code></a>statement, or variable annotation.</p><div class="impl-detail compound" style="border-radius: 3px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><p style="hyphens: auto; text-align: justify; line-height: 22.4px; margin: 0px;"><strong>CPython implementation detail:</strong>&nbsp;The current implementation does not enforce some of these restrictions, but programs should not abuse this freedom, as future implementations may enforce them or silently change the meaning of the program.</p></div><p id="index-44" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><strong>Programmer’s note:</strong>&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#global" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">global</span></code></a>&nbsp;is a directive to the parser. It applies only to code parsed at the same time as the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#global" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">global</span></code></a>&nbsp;statement. In particular, a&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#global" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">global</span></code></a>statement contained in a string or code object supplied to the built-in&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/library/functions.html#exec" title="exec" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">exec()</span></code></a>function does not affect the code block&nbsp;<em>containing</em>&nbsp;the function call, and code contained in such a string is unaffected by&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#global" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">global</span></code></a>&nbsp;statements in the code containing the function call. The same applies to the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/library/functions.html#eval" title="eval" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">eval()</span></code></a>&nbsp;and&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/library/functions.html#compile" title="compile" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">compile()</span></code></a>functions.</p></div><h3 id="blogTitle19">nonlocal 语句<br></h3><div><pre id="index-45" style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><strong id="grammar-token-nonlocal-stmt">nonlocal_stmt</strong> ::=  "nonlocal" <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/lexical_analysis.html#grammar-token-identifier" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">identifier</span></code></a> ("," <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/lexical_analysis.html#grammar-token-identifier" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">identifier</span></code></a>)*
</pre><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">The&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#nonlocal" style="color: rgb(0, 176, 228);"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">nonlocal</span></code></a>&nbsp;statement causes the listed identifiers to refer to previously bound variables in the nearest enclosing scope excluding globals. This is important because the default behavior for binding is to search the local namespace first. The statement allows encapsulated code to rebind variables outside of the local scope besides the global (module) scope.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">Names listed in a&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#nonlocal" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">nonlocal</span></code></a>&nbsp;statement, unlike those listed in a&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#global" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">global</span></code></a>&nbsp;statement, must refer to pre-existing bindings in an enclosing scope (the scope in which a new binding should be created cannot be determined unambiguously).</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">Names listed in a&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#nonlocal" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">nonlocal</span></code></a>&nbsp;statement must not collide with pre-existing bindings in the local scope.</p></div><div><p class="first admonition-title" style="margin: 0px 10px 5px 0px; font-weight: bold; display: inline; hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px;">参见</p><span style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 204);"></span><dl class="last docutils" style="margin-bottom: 0px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px;"><dt style="font-weight: bold;"><span class="target" id="index-46"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-3104" style="color: rgb(99, 99, 187); text-decoration-line: none;">PEP 3104</a>&nbsp;- Access to Names in Outer Scopes</dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;">The specification for the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#nonlocal" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">nonlocal</span></code></a>&nbsp;statement.<span style="font-family: &quot;Times New Roman&quot;, serif;">&nbsp;</span></dd></dl></div><div><br></div><h2 id="blogTitle20">复合语句</h2><div><p id="index-0" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">Compound statements contain (groups of) other statements; they affect or control the execution of those other statements in some way. In general, compound statements span multiple lines, although in simple incarnations a whole compound statement may be contained in one line.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">The&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#if" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">if</span></code></a>,&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#while" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">while</span></code></a>&nbsp;and&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#for" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">for</span></code></a>&nbsp;statements implement traditional control flow constructs.<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#try" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">try</span></code></a>&nbsp;specifies exception handlers and/or cleanup code for a group of statements, while the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#with" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">with</span></code></a>&nbsp;statement allows the execution of initialization and finalization code around a block of code. Function and class definitions are also syntactically compound statements.</p><p id="index-1" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">A compound statement consists of one or more ‘clauses.’ A clause consists of a header and a ‘suite.’ The clause headers of a particular compound statement are all at the same indentation level. Each clause header begins with a uniquely identifying keyword and ends with a colon. A suite is a group of statements controlled by a clause. A suite can be one or more semicolon-separated simple statements on the same line as the header, following the header’s colon, or it can be one or more indented statements on subsequent lines. Only the latter form of a suite can contain nested compound statements; the following is illegal, mostly because it wouldn’t be clear to which&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#if" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">if</span></code></a>&nbsp;clause a following&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#else" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">else</span></code></a>&nbsp;clause would belong:</p><div class="highlight-python3 notranslate" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255); position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">if</span> <span class="n">test1</span><span class="p">:</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">if</span> <span class="n">test2</span><span class="p">:</span> <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">Also note that the semicolon binds tighter than the colon in this context, so that in the following example, either all or none of the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/library/functions.html#print" title="print" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">print()</span></code></a>&nbsp;calls are executed:</p><div class="highlight-python3 notranslate" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255); position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">if</span> <span class="n">x</span> <span class="o" style="color: rgb(102, 102, 102);">&lt;</span> <span class="n">y</span> <span class="o" style="color: rgb(102, 102, 102);">&lt;</span> <span class="n">z</span><span class="p">:</span> <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="n">x</span><span class="p">);</span> <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="n">y</span><span class="p">);</span> <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
</pre></div></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">Summarizing:</p><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><strong id="grammar-token-compound-stmt">compound_stmt</strong> ::=  <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#grammar-token-if-stmt" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">if_stmt</span></code></a>
                   | <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#grammar-token-while-stmt" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">while_stmt</span></code></a>
                   | <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#grammar-token-for-stmt" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">for_stmt</span></code></a>
                   | <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#grammar-token-try-stmt" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">try_stmt</span></code></a>
                   | <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#grammar-token-with-stmt" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">with_stmt</span></code></a>
                   | <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#grammar-token-funcdef" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">funcdef</span></code></a>
                   | <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#grammar-token-classdef" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">classdef</span></code></a>
                   | <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#grammar-token-async-with-stmt" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">async_with_stmt</span></code></a>
                   | <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#grammar-token-async-for-stmt" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">async_for_stmt</span></code></a>
                   | <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#grammar-token-async-funcdef" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">async_funcdef</span></code></a>
<strong id="grammar-token-suite">suite        </strong> ::=  <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#grammar-token-stmt-list" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">stmt_list</span></code></a> NEWLINE | NEWLINE INDENT <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#grammar-token-statement" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">statement</span></code></a>+ DEDENT
<strong id="grammar-token-statement">statement    </strong> ::=  <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#grammar-token-stmt-list" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">stmt_list</span></code></a> NEWLINE | <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#grammar-token-compound-stmt" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">compound_stmt</span></code></a>
<strong id="grammar-token-stmt-list">stmt_list    </strong> ::=  <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#grammar-token-simple-stmt" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">simple_stmt</span></code></a> (";" <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#grammar-token-simple-stmt" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">simple_stmt</span></code></a>)* [";"]
</pre><p id="index-2" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">Note that statements always end in a&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">NEWLINE</span></code>&nbsp;possibly followed by a&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">DEDENT</span></code>. Also note that optional continuation clauses always begin with a keyword that cannot start a statement, thus there are no ambiguities (the ‘dangling&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#else" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">else</span></code></a>’ problem is solved in Python by requiring nested&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#if" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">if</span></code></a>&nbsp;statements to be indented).</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">The formatting of the grammar rules in the following sections places each clause on a separate line for clarity.</p></div><h3 id="blogTitle21">if 语句</h3><div><p id="index-3" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">The&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#if" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">if</span></code></a>&nbsp;statement is used for conditional execution:</p><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><strong id="grammar-token-if-stmt">if_stmt</strong> ::=  "if" <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-expression" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">expression</span></code></a> ":" <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#grammar-token-suite" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">suite</span></code></a>
             ("elif" <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-expression" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">expression</span></code></a> ":" <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#grammar-token-suite" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">suite</span></code></a>)*
             ["else" ":" <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#grammar-token-suite" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">suite</span></code></a>]
</pre><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">It selects exactly one of the suites by evaluating the expressions one by one until one is found to be true (see section&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#booleans" style="color: rgb(99, 99, 187); text-decoration-line: none;">Boolean operations</a>&nbsp;for the definition of true and false); then that suite is executed (and no other part of the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#if" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">if</span></code></a>&nbsp;statement is executed or evaluated). If all expressions are false, the suite of the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#else" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">else</span></code></a>&nbsp;clause, if present, is executed.</p></div><h3 id="blogTitle22">while 语句</h3><div><p id="index-4" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">The&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#while" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">while</span></code></a>&nbsp;statement is used for repeated execution as long as an expression is true:</p><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><strong id="grammar-token-while-stmt">while_stmt</strong> ::=  "while" <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-expression" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">expression</span></code></a> ":" <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#grammar-token-suite" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">suite</span></code></a>
                ["else" ":" <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#grammar-token-suite" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">suite</span></code></a>]
</pre><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">This repeatedly tests the expression and, if it is true, executes the first suite; if the expression is false (which may be the first time it is tested) the suite of the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#else" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">else</span></code></a>&nbsp;clause, if present, is executed and the loop terminates.</p><p id="index-5" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">A&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#break" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">break</span></code></a>&nbsp;statement executed in the first suite terminates the loop without executing the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#else" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">else</span></code></a>&nbsp;clause’s suite. A&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#continue" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">continue</span></code></a>&nbsp;statement executed in the first suite skips the rest of the suite and goes back to testing the expression.</p></div><h3 id="blogTitle23">for 语句<br></h3><div><p id="index-6" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">The&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#for" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">for</span></code></a>&nbsp;statement is used to iterate over the elements of a sequence (such as a string, tuple or list) or other iterable object:</p><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><strong id="grammar-token-for-stmt">for_stmt</strong> ::=  "for" <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#grammar-token-target-list" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">target_list</span></code></a> "in" <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-expression-list" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">expression_list</span></code></a> ":" <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#grammar-token-suite" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">suite</span></code></a>
              ["else" ":" <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#grammar-token-suite" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">suite</span></code></a>]
</pre><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">The expression list is evaluated once; it should yield an iterable object. An iterator is created for the result of the&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">expression_list</span></code>. The suite is then executed once for each item provided by the iterator, in the order returned by the iterator. Each item in turn is assigned to the target list using the standard rules for assignments (see&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#assignment" style="color: rgb(99, 99, 187); text-decoration-line: none;">Assignment statements</a>), and then the suite is executed. When the items are exhausted (which is immediately when the sequence is empty or an iterator raises a&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/library/exceptions.html#StopIteration" title="StopIteration" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">StopIteration</span></code></a>&nbsp;exception), the suite in the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#else" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">else</span></code></a>&nbsp;clause, if present, is executed, and the loop terminates.</p><p id="index-7" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">A&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#break" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">break</span></code></a>&nbsp;statement executed in the first suite terminates the loop without executing the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#else" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">else</span></code></a>&nbsp;clause’s suite. A&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#continue" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">continue</span></code></a>&nbsp;statement executed in the first suite skips the rest of the suite and continues with the next item, or with the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#else" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">else</span></code></a>&nbsp;clause if there is no next item.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">The for-loop makes assignments to the variables(s) in the target list. This overwrites all previous assignments to those variables including those made in the suite of the for-loop:</p><div class="highlight-python3 notranslate" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255); position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">for</span> <span class="n">i</span> <span class="ow" style="color: rgb(0, 112, 32); font-weight: bold;">in</span> <span class="nb" style="color: rgb(0, 112, 32);">range</span><span class="p">(</span><span class="mi" style="color: rgb(32, 128, 80);">10</span><span class="p">):</span>
    <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
    <span class="n">i</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="mi" style="color: rgb(32, 128, 80);">5</span>             <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># this will not affect the for-loop</span>
                      <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># because i will be overwritten with the next</span>
                      <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># index in the range</span>
</pre></div></div><p id="index-8" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">Names in the target list are not deleted when the loop is finished, but if the sequence is empty, they will not have been assigned to at all by the loop. Hint: the built-in function&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/library/stdtypes.html#range" title="range" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">range()</span></code></a>&nbsp;returns an iterator of integers suitable to emulate the effect of Pascal’s&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">for</span>&nbsp;<span class="pre" style="hyphens: none;">i</span>&nbsp;<span class="pre" style="hyphens: none;">:=</span>&nbsp;<span class="pre" style="hyphens: none;">a</span>&nbsp;<span class="pre" style="hyphens: none;">to</span>&nbsp;<span class="pre" style="hyphens: none;">b</span>&nbsp;<span class="pre" style="hyphens: none;">do</span></code>; e.g.,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">list(range(3))</span></code>&nbsp;returns the list&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">[0,</span>&nbsp;<span class="pre" style="hyphens: none;">1,</span>&nbsp;<span class="pre" style="hyphens: none;">2]</span></code>.</p><div class="admonition note" style="margin-top: 10px; margin-bottom: 10px; padding: 7px; background-color: rgb(238, 238, 238); border: 1px solid rgb(204, 204, 204); border-radius: 3px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px;"><p class="first admonition-title" style="margin: 0px 10px 5px 0px; font-weight: bold; display: inline; hyphens: auto; text-align: justify; line-height: 22.4px;">注解</p>&nbsp;<p id="index-9" style="hyphens: auto; text-align: justify; line-height: 22.4px; margin-bottom: 5px; display: inline;">There is a subtlety when the sequence is being modified by the loop (this can only occur for mutable sequences, e.g. lists). An internal counter is used to keep track of which item is used next, and this is incremented on each iteration. When this counter has reached the length of the sequence the loop terminates. This means that if the suite deletes the current (or a previous) item from the sequence, the next item will be skipped (since it gets the index of the current item which has already been treated). Likewise, if the suite inserts an item in the sequence before the current item, the current item will be treated again the next time through the loop. This can lead to nasty bugs that can be avoided by making a temporary copy using a slice of the whole sequence, e.g.,</p><div class="last highlight-python3 notranslate" style="position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px; margin-bottom: 5px;"><span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">for</span> <span class="n">x</span> <span class="ow" style="color: rgb(0, 112, 32); font-weight: bold;">in</span> <span class="n">a</span><span class="p">[:]:</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">if</span> <span class="n">x</span> <span class="o" style="color: rgb(102, 102, 102);">&lt;</span> <span class="mi" style="color: rgb(32, 128, 80);">0</span><span class="p">:</span> <span class="n">a</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">remove</span><span class="p">(</span><span class="n">x</span><span class="p">)</span></pre></div></div></div></div><h3 id="blogTitle24">try 语句</h3><div><p id="index-10" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">The&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#try" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">try</span></code></a>&nbsp;statement specifies exception handlers and/or cleanup code for a group of statements:</p><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><strong id="grammar-token-try-stmt">try_stmt </strong> ::=  <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#grammar-token-try1-stmt" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">try1_stmt</span></code></a> | <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#grammar-token-try2-stmt" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">try2_stmt</span></code></a>
<strong id="grammar-token-try1-stmt">try1_stmt</strong> ::=  "try" ":" <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#grammar-token-suite" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">suite</span></code></a>
               ("except" [<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-expression" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">expression</span></code></a> ["as" <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/lexical_analysis.html#grammar-token-identifier" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">identifier</span></code></a>]] ":" <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#grammar-token-suite" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">suite</span></code></a>)+
               ["else" ":" <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#grammar-token-suite" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">suite</span></code></a>]
               ["finally" ":" <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#grammar-token-suite" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">suite</span></code></a>]
<strong id="grammar-token-try2-stmt">try2_stmt</strong> ::=  "try" ":" <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#grammar-token-suite" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">suite</span></code></a>
               "finally" ":" <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#grammar-token-suite" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">suite</span></code></a>
</pre><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">The&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#except" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">except</span></code></a>&nbsp;clause(s) specify one or more exception handlers. When no exception occurs in the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#try" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">try</span></code></a>&nbsp;clause, no exception handler is executed. When an exception occurs in the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#try" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">try</span></code></a>&nbsp;suite, a search for an exception handler is started. This search inspects the except clauses in turn until one is found that matches the exception. An expression-less except clause, if present, must be last; it matches any exception. For an except clause with an expression, that expression is evaluated, and the clause matches the exception if the resulting object is “compatible” with the exception. An object is compatible with an exception if it is the class or a base class of the exception object or a tuple containing an item compatible with the exception.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">If no except clause matches the exception, the search for an exception handler continues in the surrounding code and on the invocation stack.&nbsp;<a class="footnote-reference" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#id4" id="id1" style="color: rgb(99, 99, 187); text-decoration-line: none;">[1]</a></p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">If the evaluation of an expression in the header of an except clause raises an exception, the original search for a handler is canceled and a search starts for the new exception in the surrounding code and on the call stack (it is treated as if the entire&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#try" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">try</span></code></a>&nbsp;statement raised the exception).</p><p id="index-11" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">When a matching except clause is found, the exception is assigned to the target specified after the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#as" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">as</span></code></a>&nbsp;keyword in that except clause, if present, and the except clause’s suite is executed. All except clauses must have an executable block. When the end of this block is reached, execution continues normally after the entire try statement. (This means that if two nested handlers exist for the same exception, and the exception occurs in the try clause of the inner handler, the outer handler will not handle the exception.)</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">When an exception has been assigned using&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">as</span>&nbsp;<span class="pre" style="hyphens: none;">target</span></code>, it is cleared at the end of the except clause. This is as if</p><div class="highlight-python3 notranslate" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255); position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">except</span> <span class="n">E</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">as</span> <span class="n">N</span><span class="p">:</span>
    <span class="n">foo</span>
</pre></div></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">was translated to</p><div class="highlight-python3 notranslate" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255); position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">except</span> <span class="n">E</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">as</span> <span class="n">N</span><span class="p">:</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">try</span><span class="p">:</span>
        <span class="n">foo</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">finally</span><span class="p">:</span>
        <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">del</span> <span class="n">N</span>
</pre></div></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">This means the exception must be assigned to a different name to be able to refer to it after the except clause. Exceptions are cleared because with the traceback attached to them, they form a reference cycle with the stack frame, keeping all locals in that frame alive until the next garbage collection occurs.</p><p id="index-12" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">Before an except clause’s suite is executed, details about the exception are stored in the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/library/sys.html#module-sys" title="sys: Access system-specific parameters and functions." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">sys</span></code></a>&nbsp;module and can be accessed via&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/library/sys.html#sys.exc_info" title="sys.exc_info" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">sys.exc_info()</span></code></a>.&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/library/sys.html#sys.exc_info" title="sys.exc_info" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">sys.exc_info()</span></code></a>returns a 3-tuple consisting of the exception class, the exception instance and a traceback object (see section&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/datamodel.html#types" style="color: rgb(99, 99, 187); text-decoration-line: none;">标准类型层级结构</a>) identifying the point in the program where the exception occurred.&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/library/sys.html#sys.exc_info" title="sys.exc_info" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">sys.exc_info()</span></code></a>&nbsp;values are restored to their previous values (before the call) when returning from a function that handled an exception.</p><p id="index-13" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">The optional&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#else" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">else</span></code></a>&nbsp;clause is executed if the control flow leaves the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#try" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">try</span></code></a>&nbsp;suite, no exception was raised, and no&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#return" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">return</span></code></a>,&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#continue" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">continue</span></code></a>, or&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#break" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">break</span></code></a>&nbsp;statement was executed. Exceptions in the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#else" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">else</span></code></a>&nbsp;clause are not handled by the preceding&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#except" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">except</span></code></a>clauses.</p><p id="index-14" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">If&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#finally" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">finally</span></code></a>&nbsp;is present, it specifies a ‘cleanup’ handler. The&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#try" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">try</span></code></a>&nbsp;clause is executed, including any&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#except" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">except</span></code></a>&nbsp;and&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#else" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">else</span></code></a>&nbsp;clauses. If an exception occurs in any of the clauses and is not handled, the exception is temporarily saved. The&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#finally" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">finally</span></code></a>clause is executed. If there is a saved exception it is re-raised at the end of the<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#finally" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">finally</span></code></a>&nbsp;clause. If the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#finally" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">finally</span></code></a>&nbsp;clause raises another exception, the saved exception is set as the context of the new exception. If the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#finally" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">finally</span></code></a>&nbsp;clause executes a&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#return" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">return</span></code></a>&nbsp;or&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#break" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">break</span></code></a>&nbsp;statement, the saved exception is discarded:</p><div class="highlight-python3 notranslate" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255); position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><span class="copybutton" title="Hide the prompts and output" style="cursor: pointer; position: absolute; top: 0px; right: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</span><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">def</span> <span class="nf" style="color: rgb(6, 40, 126);">f</span><span class="p">():</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">... </span>    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">try</span><span class="p">:</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">... </span>        <span class="mi" style="color: rgb(32, 128, 80);">1</span><span class="o" style="color: rgb(102, 102, 102);">/</span><span class="mi" style="color: rgb(32, 128, 80);">0</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">... </span>    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">finally</span><span class="p">:</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">... </span>        <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">return</span> <span class="mi" style="color: rgb(32, 128, 80);">42</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">...</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">()</span>
<span class="go">42</span>
</pre></div></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">The exception information is not available to the program during execution of the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#finally" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">finally</span></code></a>&nbsp;clause.</p><p id="index-15" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">When a&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#return" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">return</span></code></a>,&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#break" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">break</span></code></a>&nbsp;or&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#continue" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">continue</span></code></a>&nbsp;statement is executed in the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#try" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">try</span></code></a>&nbsp;suite of a&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#try" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">try</span></code></a>…<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#finally" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">finally</span></code></a>&nbsp;statement, the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#finally" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">finally</span></code></a>&nbsp;clause is also executed ‘on the way out.’ A<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#continue" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">continue</span></code></a>&nbsp;statement is illegal in the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#finally" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">finally</span></code></a>&nbsp;clause. (The reason is a problem with the current implementation — this restriction may be lifted in the future).</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">The return value of a function is determined by the last&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#return" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">return</span></code></a>&nbsp;statement executed. Since the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#finally" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">finally</span></code></a>&nbsp;clause always executes, a&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#return" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">return</span></code></a>&nbsp;statement executed in the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#finally" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">finally</span></code></a>&nbsp;clause will always be the last one executed:</p><div class="highlight-python3 notranslate" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255); position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><span class="copybutton" title="Hide the prompts and output" style="cursor: pointer; position: absolute; top: 0px; right: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</span><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">def</span> <span class="nf" style="color: rgb(6, 40, 126);">foo</span><span class="p">():</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">... </span>    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">try</span><span class="p">:</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">... </span>        <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">return</span> <span class="s1" style="color: rgb(64, 112, 160);">'try'</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">... </span>    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">finally</span><span class="p">:</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">... </span>        <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">return</span> <span class="s1" style="color: rgb(64, 112, 160);">'finally'</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">...</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">foo</span><span class="p">()</span>
<span class="go">'finally'</span>
</pre></div></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">Additional information on exceptions can be found in section&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/executionmodel.html#exceptions" style="color: rgb(99, 99, 187); text-decoration-line: none;">异常</a>, and information on using the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#raise" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">raise</span></code></a>&nbsp;statement to generate exceptions may be found in section&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#raise" style="color: rgb(99, 99, 187); text-decoration-line: none;">The raise statement</a>.</p></div><h3 id="blogTitle25">with 语句</h3><div><p id="index-16" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">The&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#with" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">with</span></code></a>&nbsp;statement is used to wrap the execution of a block with methods defined by a context manager (see section&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/datamodel.html#context-managers" style="color: rgb(99, 99, 187); text-decoration-line: none;">with 语句上下文管理器</a>). This allows common&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#try" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">try</span></code></a>…<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#except" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">except</span></code></a>…<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#finally" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">finally</span></code></a>&nbsp;usage patterns to be encapsulated for convenient reuse.</p><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><strong id="grammar-token-with-stmt">with_stmt</strong> ::=  "with" <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#grammar-token-with-item" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">with_item</span></code></a> ("," <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#grammar-token-with-item" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">with_item</span></code></a>)* ":" <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#grammar-token-suite" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">suite</span></code></a>
<strong id="grammar-token-with-item">with_item</strong> ::=  <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-expression" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">expression</span></code></a> ["as" <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/simple_stmts.html#grammar-token-target" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">target</span></code></a>]
</pre><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">The execution of the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#with" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">with</span></code></a>&nbsp;statement with one “item” proceeds as follows:</p><ol class="arabic" style="list-style-position: initial; list-style-image: initial; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><li style="hyphens: auto; text-align: justify; line-height: 20.8px;"><p class="first" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;">The context expression (the expression given in the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#grammar-token-with-item" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-token docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">with_item</span></code></a>) is evaluated to obtain a context manager.</p></li><li style="hyphens: auto; text-align: justify; line-height: 20.8px;"><p class="first" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;">The context manager’s&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/datamodel.html#object.__exit__" title="object.__exit__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__exit__()</span></code></a>&nbsp;is loaded for later use.</p></li><li style="hyphens: auto; text-align: justify; line-height: 20.8px;"><p class="first" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;">The context manager’s&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/datamodel.html#object.__enter__" title="object.__enter__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__enter__()</span></code></a>&nbsp;method is invoked.</p></li><li style="hyphens: auto; text-align: justify; line-height: 20.8px;"><p class="first" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;">If a target was included in the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#with" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">with</span></code></a>&nbsp;statement, the return value from&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/datamodel.html#object.__enter__" title="object.__enter__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__enter__()</span></code></a>&nbsp;is assigned to it.</p><div class="admonition note" style="margin-top: 10px; margin-bottom: 10px; padding: 7px; background-color: rgb(238, 238, 238); border: 1px solid rgb(204, 204, 204); border-radius: 3px;"><p class="first admonition-title" style="margin: 0px 10px 5px 0px; font-weight: bold; display: inline; hyphens: auto; line-height: 22.4px;">注解</p>&nbsp;<p class="last" style="hyphens: auto; line-height: 22.4px; margin-bottom: 5px; display: inline;">The&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#with" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background: rgb(214, 214, 214); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">with</span></code></a>&nbsp;statement guarantees that if the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/datamodel.html#object.__enter__" title="object.__enter__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background: rgb(214, 214, 214); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__enter__()</span></code></a>&nbsp;method returns without an error, then&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/datamodel.html#object.__exit__" title="object.__exit__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background: rgb(214, 214, 214); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__exit__()</span></code></a>&nbsp;will always be called. Thus, if an error occurs during the assignment to the target list, it will be treated the same as an error occurring within the suite would be. See step 6 below.</p></div></li><li style="hyphens: auto; text-align: justify; line-height: 20.8px;"><p class="first" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;">The suite is executed.</p></li><li style="hyphens: auto; text-align: justify; line-height: 20.8px;"><p class="first" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;">The context manager’s&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/datamodel.html#object.__exit__" title="object.__exit__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__exit__()</span></code></a>&nbsp;method is invoked. If an exception caused the suite to be exited, its type, value, and traceback are passed as arguments to&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/datamodel.html#object.__exit__" title="object.__exit__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__exit__()</span></code></a>. Otherwise, three&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/library/constants.html#None" title="None" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code></a>&nbsp;arguments are supplied.</p><p style="hyphens: auto; line-height: 22.4px;">If the suite was exited due to an exception, and the return value from the<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/datamodel.html#object.__exit__" title="object.__exit__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__exit__()</span></code></a>&nbsp;method was false, the exception is reraised. If the return value was true, the exception is suppressed, and execution continues with the statement following the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#with" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">with</span></code></a>&nbsp;statement.</p><p style="hyphens: auto; line-height: 22.4px;">If the suite was exited for any reason other than an exception, the return value from&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/datamodel.html#object.__exit__" title="object.__exit__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__exit__()</span></code></a>&nbsp;is ignored, and execution proceeds at the normal location for the kind of exit that was taken.</p></li></ol><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">With more than one item, the context managers are processed as if multiple&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#with" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">with</span></code></a>statements were nested:</p><div class="highlight-python3 notranslate" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255); position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">with</span> <span class="n">A</span><span class="p">()</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">as</span> <span class="n">a</span><span class="p">,</span> <span class="n">B</span><span class="p">()</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">as</span> <span class="n">b</span><span class="p">:</span>
    <span class="n">suite</span>
</pre></div></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">等价于</p><div class="highlight-python3 notranslate" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255); position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">with</span> <span class="n">A</span><span class="p">()</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">as</span> <span class="n">a</span><span class="p">:</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">with</span> <span class="n">B</span><span class="p">()</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">as</span> <span class="n">b</span><span class="p">:</span>
        <span class="n">suite</span>
</pre></div></div><div class="versionchanged" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><p style="hyphens: auto; text-align: justify; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">在 3.1 版更改:&nbsp;</span>Support for multiple context expressions.</p></div><div class="admonition seealso" style="margin-top: 10px; margin-bottom: 10px; padding: 7px; background-color: rgb(255, 255, 204); border: 1px solid rgb(221, 221, 102); border-radius: 3px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px;"><p class="first admonition-title" style="margin: 0px 10px 5px 0px; font-weight: bold; display: inline; hyphens: auto; text-align: justify; line-height: 22.4px;">参见</p><dl class="last docutils" style="margin-bottom: 0px;"><dt style="font-weight: bold;"><span class="target" id="index-41"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0343" style="color: rgb(99, 99, 187); text-decoration-line: none;">PEP 343</a>&nbsp;- “with” 语句</dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;">Python&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#with" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">with</span></code></a>&nbsp;语句的规范描述、背景和示例。</dd></dl></div></div><h3 id="blogTitle26">函数定义</h3><div><p id="index-19" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">A function definition defines a user-defined function object (see section&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/datamodel.html#types" style="color: rgb(99, 99, 187); text-decoration-line: none;">标准类型层级结构</a>):</p><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><strong id="grammar-token-funcdef">funcdef                </strong> ::=  [<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#grammar-token-decorators" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">decorators</span></code></a>] "def" <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#grammar-token-funcname" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">funcname</span></code></a> "(" [<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#grammar-token-parameter-list" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">parameter_list</span></code></a>] ")"
                             ["-&gt;" <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-expression" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">expression</span></code></a>] ":" <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#grammar-token-suite" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">suite</span></code></a>
<strong id="grammar-token-decorators">decorators             </strong> ::=  <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#grammar-token-decorator" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">decorator</span></code></a>+
<strong id="grammar-token-decorator">decorator              </strong> ::=  "@" <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#grammar-token-dotted-name" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">dotted_name</span></code></a> ["(" [<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-argument-list" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">argument_list</span></code></a> [","]] ")"] NEWLINE
<strong id="grammar-token-dotted-name">dotted_name            </strong> ::=  <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/lexical_analysis.html#grammar-token-identifier" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">identifier</span></code></a> ("." <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/lexical_analysis.html#grammar-token-identifier" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">identifier</span></code></a>)*
<strong id="grammar-token-parameter-list">parameter_list         </strong> ::=  <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#grammar-token-defparameter" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">defparameter</span></code></a> ("," <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#grammar-token-defparameter" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">defparameter</span></code></a>)* ["," [<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#grammar-token-parameter-list-starargs" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">parameter_list_starargs</span></code></a>]]
                             | <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#grammar-token-parameter-list-starargs" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">parameter_list_starargs</span></code></a>
<strong id="grammar-token-parameter-list-starargs">parameter_list_starargs</strong> ::=  "*" [<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#grammar-token-parameter" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">parameter</span></code></a>] ("," <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#grammar-token-defparameter" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">defparameter</span></code></a>)* ["," ["**" <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#grammar-token-parameter" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">parameter</span></code></a> [","]]]
                             | "**" <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#grammar-token-parameter" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">parameter</span></code></a> [","]
<strong id="grammar-token-parameter">parameter              </strong> ::=  <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/lexical_analysis.html#grammar-token-identifier" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">identifier</span></code></a> [":" <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-expression" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">expression</span></code></a>]
<strong id="grammar-token-defparameter">defparameter           </strong> ::=  <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#grammar-token-parameter" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">parameter</span></code></a> ["=" <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-expression" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">expression</span></code></a>]
<strong id="grammar-token-funcname">funcname               </strong> ::=  <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/lexical_analysis.html#grammar-token-identifier" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">identifier</span></code></a>
</pre><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">A function definition is an executable statement. Its execution binds the function name in the current local namespace to a function object (a wrapper around the executable code for the function). This function object contains a reference to the current global namespace as the global namespace to be used when the function is called.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">The function definition does not execute the function body; this gets executed only when the function is called.&nbsp;<a class="footnote-reference" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#id5" id="id2" style="color: rgb(99, 99, 187); text-decoration-line: none;">[2]</a></p><p id="index-20" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">A function definition may be wrapped by one or more&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/glossary.html#term-decorator" style="color: rgb(99, 99, 187); text-decoration-line: none;">decorator</a>&nbsp;expressions. Decorator expressions are evaluated when the function is defined, in the scope that contains the function definition. The result must be a callable, which is invoked with the function object as the only argument. The returned value is bound to the function name instead of the function object. Multiple decorators are applied in nested fashion. For example, the following code</p><div class="highlight-python3 notranslate" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255); position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="nd" style="color: rgb(85, 85, 85); font-weight: bold;">@f1</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span>
<span class="nd" style="color: rgb(85, 85, 85); font-weight: bold;">@f2</span>
<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">def</span> <span class="nf" style="color: rgb(6, 40, 126);">func</span><span class="p">():</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">pass</span>
</pre></div></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">is roughly equivalent to</p><div class="highlight-python3 notranslate" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255); position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">def</span> <span class="nf" style="color: rgb(6, 40, 126);">func</span><span class="p">():</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">pass</span>
<span class="n">func</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">f1</span><span class="p">(</span><span class="n">arg</span><span class="p">)(</span><span class="n">f2</span><span class="p">(</span><span class="n">func</span><span class="p">))</span>
</pre></div></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">except that the original function is not temporarily bound to the name&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">func</span></code>.</p><p id="index-21" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">When one or more&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/glossary.html#term-parameter" style="color: rgb(99, 99, 187); text-decoration-line: none;">parameters</a>&nbsp;have the form&nbsp;<em>parameter</em>&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">=</span></code>&nbsp;<em>expression</em>, the function is said to have “default parameter values.” For a parameter with a default value, the corresponding&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/glossary.html#term-argument" style="color: rgb(99, 99, 187); text-decoration-line: none;">argument</a>&nbsp;may be omitted from a call, in which case the parameter’s default value is substituted. If a parameter has a default value, all following parameters up until the “<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">*</span></code>” must also have a default value — this is a syntactic restriction that is not expressed by the grammar.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><strong>Default parameter values are evaluated from left to right when the function definition is executed.</strong>&nbsp;This means that the expression is evaluated once, when the function is defined, and that the same “pre-computed” value is used for each call. This is especially important to understand when a default parameter is a mutable object, such as a list or a dictionary: if the function modifies the object (e.g. by appending an item to a list), the default value is in effect modified. This is generally not what was intended. A way around this is to use&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code>&nbsp;as the default, and explicitly test for it in the body of the function, e.g.:</p><div class="highlight-python3 notranslate" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255); position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">def</span> <span class="nf" style="color: rgb(6, 40, 126);">whats_on_the_telly</span><span class="p">(</span><span class="n">penguin</span><span class="o" style="color: rgb(102, 102, 102);">=</span><span class="kc" style="color: rgb(0, 112, 32); font-weight: bold;">None</span><span class="p">):</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">if</span> <span class="n">penguin</span> <span class="ow" style="color: rgb(0, 112, 32); font-weight: bold;">is</span> <span class="kc" style="color: rgb(0, 112, 32); font-weight: bold;">None</span><span class="p">:</span>
        <span class="n">penguin</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="p">[]</span>
    <span class="n">penguin</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">append</span><span class="p">(</span><span class="s2" style="color: rgb(64, 112, 160);">"property of the zoo"</span><span class="p">)</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">return</span> <span class="n">penguin</span>
</pre></div></div><p id="index-22" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">Function call semantics are described in more detail in section&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#calls" style="color: rgb(99, 99, 187); text-decoration-line: none;">调用</a>. A function call always assigns values to all parameters mentioned in the parameter list, either from position arguments, from keyword arguments, or from default values. If the form “<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">*identifier</span></code>” is present, it is initialized to a tuple receiving any excess positional parameters, defaulting to the empty tuple. If the form “<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">**identifier</span></code>” is present, it is initialized to a new ordered mapping receiving any excess keyword arguments, defaulting to a new empty mapping of the same type. Parameters after “<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">*</span></code>” or “<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">*identifier</span></code>” are keyword-only parameters and may only be passed used keyword arguments.</p><p id="index-23" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">Parameters may have annotations of the form “<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">:</span>&nbsp;<span class="pre" style="hyphens: none;">expression</span></code>” following the parameter name. Any parameter may have an annotation even those of the form<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">*identifier</span></code>&nbsp;or&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">**identifier</span></code>. Functions may have “return” annotation of the form “<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">-&gt;</span>&nbsp;<span class="pre" style="hyphens: none;">expression</span></code>” after the parameter list. These annotations can be any valid Python expression. The presence of annotations does not change the semantics of a function. The annotation values are available as values of a dictionary keyed by the parameters’ names in the&nbsp;<code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__annotations__</span></code>&nbsp;attribute of the function object. If the&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">annotations</span></code>&nbsp;import from&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/library/__future__.html#module-__future__" title="__future__: Future statement definitions" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__future__</span></code></a>&nbsp;is used, annotations are preserved as strings at runtime which enables postponed evaluation. Otherwise, they are evaluated when the function definition is executed. In this case annotations may be evaluated in a different order than they appear in the source code.</p><p id="index-24" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">It is also possible to create anonymous functions (functions not bound to a name), for immediate use in expressions. This uses lambda expressions, described in section&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#lambda" style="color: rgb(99, 99, 187); text-decoration-line: none;">Lambdas</a>. Note that the lambda expression is merely a shorthand for a simplified function definition; a function defined in a “<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#def" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">def</span></code></a>” statement can be passed around or assigned to another name just like a function defined by a lambda expression. The “<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#def" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">def</span></code></a>” form is actually more powerful since it allows the execution of multiple statements and annotations.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><strong>Programmer’s note:</strong>&nbsp;Functions are first-class objects. A “<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">def</span></code>” statement executed inside a function definition defines a local function that can be returned or passed around. Free variables used in the nested function can access the local variables of the function containing the def. See section&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/executionmodel.html#naming" style="color: rgb(99, 99, 187); text-decoration-line: none;">Naming and binding</a>&nbsp;for details.</p><div class="admonition seealso" style="margin-top: 10px; margin-bottom: 10px; padding: 7px; background-color: rgb(255, 255, 204); border: 1px solid rgb(221, 221, 102); border-radius: 3px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px;"><p class="first admonition-title" style="margin: 0px 10px 5px 0px; font-weight: bold; display: inline; hyphens: auto; text-align: justify; line-height: 22.4px;">参见</p><dl class="last docutils" style="margin-bottom: 0px;"><dt style="font-weight: bold;"><span class="target" id="index-25"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-3107" style="color: rgb(99, 99, 187); text-decoration-line: none;">PEP 3107</a>&nbsp;- Function Annotations</dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;">The original specification for function annotations.</dd><dt style="font-weight: bold;"><span class="target" id="index-26"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0484" style="color: rgb(99, 99, 187); text-decoration-line: none;">PEP 484</a>&nbsp;- Type Hints</dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;">Definition of a standard meaning for annotations: type hints.</dd><dt style="font-weight: bold;"><span class="target" id="index-27"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0526" style="color: rgb(99, 99, 187); text-decoration-line: none;">PEP 526</a>&nbsp;- Syntax for Variable Annotations</dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;">Ability to type hint variable declarations, including class variables and instance variables</dd><dt style="font-weight: bold;"><span class="target" id="index-28"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0563" style="color: rgb(99, 99, 187); text-decoration-line: none;">PEP 563</a>&nbsp;- Postponed Evaluation of Annotations</dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;">Support for forward references within annotations by preserving annotations in a string form at runtime instead of eager evaluation.</dd></dl></div></div><h3 id="blogTitle27">类定义</h3><div><p id="index-29" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">A class definition defines a class object (see section&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/datamodel.html#types" style="color: rgb(99, 99, 187); text-decoration-line: none;">标准类型层级结构</a>):</p><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><strong id="grammar-token-classdef">classdef   </strong> ::=  [<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#grammar-token-decorators" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">decorators</span></code></a>] "class" <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#grammar-token-classname" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">classname</span></code></a> [<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#grammar-token-inheritance" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">inheritance</span></code></a>] ":" <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#grammar-token-suite" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">suite</span></code></a>
<strong id="grammar-token-inheritance">inheritance</strong> ::=  "(" [<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-argument-list" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">argument_list</span></code></a>] ")"
<strong id="grammar-token-classname">classname  </strong> ::=  <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/lexical_analysis.html#grammar-token-identifier" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">identifier</span></code></a>
</pre><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">A class definition is an executable statement. The inheritance list usually gives a list of base classes (see&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/datamodel.html#metaclasses" style="color: rgb(99, 99, 187); text-decoration-line: none;">元类</a>&nbsp;for more advanced uses), so each item in the list should evaluate to a class object which allows subclassing. Classes without an inheritance list inherit, by default, from the base class&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/library/functions.html#object" title="object" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">object</span></code></a>; hence,</p><div class="highlight-python3 notranslate" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255); position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">class</span> <span class="nc" style="color: rgb(14, 132, 181); font-weight: bold;">Foo</span><span class="p">:</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">pass</span>
</pre></div></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">等价于</p><div class="highlight-python3 notranslate" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255); position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">class</span> <span class="nc" style="color: rgb(14, 132, 181); font-weight: bold;">Foo</span><span class="p">(</span><span class="nb" style="color: rgb(0, 112, 32);">object</span><span class="p">):</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">pass</span>
</pre></div></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">The class’s suite is then executed in a new execution frame (see&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/executionmodel.html#naming" style="color: rgb(99, 99, 187); text-decoration-line: none;">Naming and binding</a>), using a newly created local namespace and the original global namespace. (Usually, the suite contains mostly function definitions.) When the class’s suite finishes execution, its execution frame is discarded but its local namespace is saved.&nbsp;<a class="footnote-reference" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#id6" id="id3" style="color: rgb(99, 99, 187); text-decoration-line: none;">[3]</a>&nbsp;A class object is then created using the inheritance list for the base classes and the saved local namespace for the attribute dictionary. The class name is bound to this class object in the original local namespace.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">The order in which attributes are defined in the class body is preserved in the new class’s&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__dict__</span></code>. Note that this is reliable only right after the class is created and only for classes that were defined using the definition syntax.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">Class creation can be customized heavily using&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/datamodel.html#metaclasses" style="color: rgb(99, 99, 187); text-decoration-line: none;">metaclasses</a>.</p><p id="index-30" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">Classes can also be decorated: just like when decorating functions,</p><div class="highlight-python3 notranslate" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255); position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="nd" style="color: rgb(85, 85, 85); font-weight: bold;">@f1</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span>
<span class="nd" style="color: rgb(85, 85, 85); font-weight: bold;">@f2</span>
<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">class</span> <span class="nc" style="color: rgb(14, 132, 181); font-weight: bold;">Foo</span><span class="p">:</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">pass</span>
</pre></div></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">is roughly equivalent to</p><div class="highlight-python3 notranslate" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255); position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">class</span> <span class="nc" style="color: rgb(14, 132, 181); font-weight: bold;">Foo</span><span class="p">:</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">pass</span>
<span class="n">Foo</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">f1</span><span class="p">(</span><span class="n">arg</span><span class="p">)(</span><span class="n">f2</span><span class="p">(</span><span class="n">Foo</span><span class="p">))</span>
</pre></div></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">The evaluation rules for the decorator expressions are the same as for function decorators. The result is then bound to the class name.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><strong>Programmer’s note:</strong>&nbsp;Variables defined in the class definition are class attributes; they are shared by instances. Instance attributes can be set in a method with&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">self.name</span>&nbsp;<span class="pre" style="hyphens: none;">=</span>&nbsp;<span class="pre" style="hyphens: none;">value</span></code>. Both class and instance attributes are accessible through the notation “<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">self.name</span></code>”, and an instance attribute hides a class attribute with the same name when accessed in this way. Class attributes can be used as defaults for instance attributes, but using mutable values there can lead to unexpected results.&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/datamodel.html#descriptors" style="color: rgb(99, 99, 187); text-decoration-line: none;">Descriptors</a>&nbsp;can be used to create instance variables with different implementation details.</p><div class="admonition seealso" style="margin-top: 10px; margin-bottom: 10px; padding: 7px; background-color: rgb(255, 255, 204); border: 1px solid rgb(221, 221, 102); border-radius: 3px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px;"><p class="first admonition-title" style="margin: 0px 10px 5px 0px; font-weight: bold; display: inline; hyphens: auto; text-align: justify; line-height: 22.4px;">参见</p><dl class="last docutils" style="margin-bottom: 0px;"><dt style="font-weight: bold;"><span class="target" id="index-42"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-3115" style="color: rgb(99, 99, 187); text-decoration-line: none;">PEP 3115</a>&nbsp;- Python 3000 中的元类</dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;">The proposal that changed the declaration of metaclasses to the current syntax, and the semantics for how classes with metaclasses are constructed.</dd><dt style="font-weight: bold;"><span class="target" id="index-32"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-3129" style="color: rgb(99, 99, 187); text-decoration-line: none;">PEP 3129</a>&nbsp;- Class Decorators</dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;">The proposal that added class decorators. Function and method decorators were introduced in&nbsp;<span class="target" id="index-33"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0318" style="color: rgb(99, 99, 187); text-decoration-line: none;"><strong>PEP 318</strong></a>.</dd></dl></div></div><h3 id="blogTitle28">协程</h3><h4 id="blogTitle29">Coroutine function definition</h4><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><strong id="grammar-token-async-funcdef">async_funcdef</strong> ::=  [<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#grammar-token-decorators" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">decorators</span></code></a>] "async" "def" <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#grammar-token-funcname" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">funcname</span></code></a> "(" [<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#grammar-token-parameter-list" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">parameter_list</span></code></a>] ")"
                   ["-&gt;" <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-expression" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">expression</span></code></a>] ":" <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#grammar-token-suite" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">suite</span></code></a>
</pre><p id="index-35" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">Execution of Python coroutines can be suspended and resumed at many points (see&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/glossary.html#term-coroutine" style="color: rgb(99, 99, 187); text-decoration-line: none;">coroutine</a>). Inside the body of a coroutine function,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">await</span></code>&nbsp;and&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">async</span></code>identifiers become reserved keywords;&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#await" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">await</span></code></a>&nbsp;expressions,&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#async-for" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">async</span>&nbsp;<span class="pre" style="hyphens: none;">for</span></code></a>&nbsp;and&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#async-with" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">async</span><span class="pre" style="hyphens: none;">with</span></code></a>&nbsp;can only be used in coroutine function bodies.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">Functions defined with&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">async</span>&nbsp;<span class="pre" style="hyphens: none;">def</span></code>&nbsp;syntax are always coroutine functions, even if they do not contain&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">await</span></code>&nbsp;or&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">async</span></code>&nbsp;keywords.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">It is a&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/library/exceptions.html#SyntaxError" title="SyntaxError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">SyntaxError</span></code></a>&nbsp;to use a&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">yield</span>&nbsp;<span class="pre" style="hyphens: none;">from</span></code>&nbsp;expression inside the body of a coroutine function.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">An example of a coroutine function:</p><div class="highlight-python3 notranslate" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255); position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">async</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">def</span> <span class="nf" style="color: rgb(6, 40, 126);">func</span><span class="p">(</span><span class="n">param1</span><span class="p">,</span> <span class="n">param2</span><span class="p">):</span>
    <span class="n">do_stuff</span><span class="p">()</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">await</span> <span class="n">some_coroutine</span><span class="p">()</span></pre></div></div><p><br></p><h4 id="blogTitle30">The async for statement</h4><div><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><strong id="grammar-token-async-for-stmt">async_for_stmt</strong> ::=  "async" <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#grammar-token-for-stmt" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">for_stmt</span></code></a>
</pre><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">An&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/glossary.html#term-asynchronous-iterable" style="color: rgb(99, 99, 187); text-decoration-line: none;">asynchronous iterable</a>&nbsp;is able to call asynchronous code in its&nbsp;<em>iter</em>implementation, and&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/glossary.html#term-asynchronous-iterator" style="color: rgb(99, 99, 187); text-decoration-line: none;">asynchronous iterator</a>&nbsp;can call asynchronous code in its&nbsp;<em>next</em>method.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">The&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">async</span>&nbsp;<span class="pre" style="hyphens: none;">for</span></code>&nbsp;statement allows convenient iteration over asynchronous iterators.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">The following code:</p><div class="highlight-python3 notranslate" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255); position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">async</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">for</span> <span class="n">TARGET</span> <span class="ow" style="color: rgb(0, 112, 32); font-weight: bold;">in</span> <span class="n">ITER</span><span class="p">:</span>
    <span class="n">BLOCK</span>
<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">else</span><span class="p">:</span>
    <span class="n">BLOCK2</span>
</pre></div></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">Is semantically equivalent to:</p><div class="highlight-python3 notranslate" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255); position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="nb" style="color: rgb(0, 112, 32);">iter</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="p">(</span><span class="n">ITER</span><span class="p">)</span>
<span class="nb" style="color: rgb(0, 112, 32);">iter</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="nb" style="color: rgb(0, 112, 32);">type</span><span class="p">(</span><span class="nb" style="color: rgb(0, 112, 32);">iter</span><span class="p">)</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="fm" style="color: rgb(6, 40, 126);">__aiter__</span><span class="p">(</span><span class="nb" style="color: rgb(0, 112, 32);">iter</span><span class="p">)</span>
<span class="n">running</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="kc" style="color: rgb(0, 112, 32); font-weight: bold;">True</span>
<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">while</span> <span class="n">running</span><span class="p">:</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">try</span><span class="p">:</span>
        <span class="n">TARGET</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">await</span> <span class="nb" style="color: rgb(0, 112, 32);">type</span><span class="p">(</span><span class="nb" style="color: rgb(0, 112, 32);">iter</span><span class="p">)</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="fm" style="color: rgb(6, 40, 126);">__anext__</span><span class="p">(</span><span class="nb" style="color: rgb(0, 112, 32);">iter</span><span class="p">)</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">except</span> <span class="n">StopAsyncIteration</span><span class="p">:</span>
        <span class="n">running</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="kc" style="color: rgb(0, 112, 32); font-weight: bold;">False</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">else</span><span class="p">:</span>
        <span class="n">BLOCK</span>
<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">else</span><span class="p">:</span>
    <span class="n">BLOCK2</span>
</pre></div></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">See also&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/datamodel.html#object.__aiter__" title="object.__aiter__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__aiter__()</span></code></a>&nbsp;and&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/datamodel.html#object.__anext__" title="object.__anext__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__anext__()</span></code></a>&nbsp;for details.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">It is a&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/library/exceptions.html#SyntaxError" title="SyntaxError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">SyntaxError</span></code></a>&nbsp;to use an&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">async</span>&nbsp;<span class="pre" style="hyphens: none;">for</span></code>&nbsp;statement outside the body of a coroutine function.</p></div><h4 id="blogTitle31">The async with statement</h4><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><strong id="grammar-token-async-with-stmt">async_with_stmt</strong> ::=  "async" <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#grammar-token-with-stmt" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">with_stmt</span></code></a>
</pre><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">An&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/glossary.html#term-asynchronous-context-manager" style="color: rgb(99, 99, 187); text-decoration-line: none;">asynchronous context manager</a>&nbsp;is a&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/glossary.html#term-context-manager" style="color: rgb(99, 99, 187); text-decoration-line: none;">context manager</a>&nbsp;that is able to suspend execution in its&nbsp;<em>enter</em>&nbsp;and&nbsp;<em>exit</em>&nbsp;methods.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">The following code:</p><div class="highlight-python3 notranslate" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255); position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">async</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">with</span> <span class="n">EXPR</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">as</span> <span class="n">VAR</span><span class="p">:</span>
    <span class="n">BLOCK</span>
</pre></div></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">Is semantically equivalent to:</p><div class="highlight-python3 notranslate" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255); position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="n">mgr</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="p">(</span><span class="n">EXPR</span><span class="p">)</span>
<span class="n">aexit</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="nb" style="color: rgb(0, 112, 32);">type</span><span class="p">(</span><span class="n">mgr</span><span class="p">)</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="fm" style="color: rgb(6, 40, 126);">__aexit__</span>
<span class="n">aenter</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="nb" style="color: rgb(0, 112, 32);">type</span><span class="p">(</span><span class="n">mgr</span><span class="p">)</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="fm" style="color: rgb(6, 40, 126);">__aenter__</span><span class="p">(</span><span class="n">mgr</span><span class="p">)</span>

<span class="n">VAR</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">await</span> <span class="n">aenter</span>
<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">try</span><span class="p">:</span>
    <span class="n">BLOCK</span>
<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">except</span><span class="p">:</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">if</span> <span class="ow" style="color: rgb(0, 112, 32); font-weight: bold;">not</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">await</span> <span class="n">aexit</span><span class="p">(</span><span class="n">mgr</span><span class="p">,</span> <span class="o" style="color: rgb(102, 102, 102);">*</span><span class="n">sys</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">exc_info</span><span class="p">()):</span>
        <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">raise</span>
<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">else</span><span class="p">:</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">await</span> <span class="n">aexit</span><span class="p">(</span><span class="n">mgr</span><span class="p">,</span> <span class="kc" style="color: rgb(0, 112, 32); font-weight: bold;">None</span><span class="p">,</span> <span class="kc" style="color: rgb(0, 112, 32); font-weight: bold;">None</span><span class="p">,</span> <span class="kc" style="color: rgb(0, 112, 32); font-weight: bold;">None</span><span class="p">)</span>
</pre></div></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">See also&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/datamodel.html#object.__aenter__" title="object.__aenter__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__aenter__()</span></code></a>&nbsp;and&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/datamodel.html#object.__aexit__" title="object.__aexit__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__aexit__()</span></code></a>&nbsp;for details.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">It is a&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/library/exceptions.html#SyntaxError" title="SyntaxError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">SyntaxError</span></code></a>&nbsp;to use an&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">async</span>&nbsp;<span class="pre" style="hyphens: none;">with</span></code>&nbsp;statement outside the body of a coroutine function.</p><div class="admonition seealso" style="margin-top: 10px; margin-bottom: 10px; padding: 7px; background-color: rgb(255, 255, 204); border: 1px solid rgb(221, 221, 102); border-radius: 3px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px;"><p class="first admonition-title" style="margin: 0px 10px 5px 0px; font-weight: bold; display: inline; hyphens: auto; text-align: justify; line-height: 22.4px;">参见</p><dl class="last docutils" style="margin-bottom: 0px;"><dt style="font-weight: bold;"><span class="target" id="index-38"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0492" style="color: rgb(99, 99, 187); text-decoration-line: none;">PEP 492</a>&nbsp;- Coroutines with async and await syntax</dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;">The proposal that made coroutines a proper standalone concept in Python, and added supporting syntax.</dd></dl></div><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p>
</article>
{% endblock point1 %}
