{% extends 'c-word.html' %}

{% block title %} cron {% endblock title %}

{% block point1 %}
<article contenteditable="true">
  <p>Category: cron</p>
  <h1 id="blogTitle0">cron</h1><p>cron：计划任务，是任务在约定的时间执行已经计划好的工作，这是表面的意思。在Linux中，我们经常用到 cron 服务器来完成这项工作。cron服务器可以根据配置文件约定的时间来执行特定的作务。<br></p><p>功能 -&nbsp;根据约定的时间来执行特定的作务<br></p><h2>计划任务</h2><p>在Linux系统中，计划任务一般是由cron承担，我们可以把cron设置为开机时自动启动。cron启动后，它会读取它的所有配置文件（全局性配置文件/etc/crontab，以及每个用户的计划任务配置文件），然后cron会根据命令和执行时间来按时来调用度工作任务。<br></p><p>cron是一个linux下的定时执行工具，可以在无需人工干预的情况下运行作业。<br></p><h2>Cron表达式</h2><p>Cron表达式是一个字符串，字符串以5或6个空格隔开，分为6或7个域，每一个域代表一个含义，Cron有如下两种语法格式：<br></p><p><ul><li>Seconds Minutes Hours DayofMonth Month DayofWeek Year 或<br></li><li>Seconds Minutes Hours DayofMonth Month DayofWeek</li></ul></p><p>每一个域可出现的字符如下：</p><p><ul><li>Seconds: 可出现 ", - * /" 四个字符，有效范围为 0-59 的整数<br></li><li>Minutes: 可出现 ", - * /" 四个字符，有效范围为 0-59 的整数<br></li><li>Hours: 可出现 ", - * /" 四个字符，有效范围为 0-23 的整数<br></li><li>DayofMonth: 可出现 ", - * / ? L W C" 八个字符，有效范围为 0-31 的整数<br></li><li>Month: 可出现 ", - * /" 四个字符，有效范围为 1-12 的整数或 JAN-DEC<br></li><li>DayofWeek: 可出现 ", - * / ? L C #" 八个字符，有效范围为 1-7 的整数或 SUN-SAT 两个范围。1 表示星期天，2 表示星期一， 依次类推<br></li><li>Year: 可出现 ", - * /" 四个字符，有效范围为 1970-2099 年<br></li></ul></p><p>每一个域都可使用数字，但还可以出现如下特殊字符，它们的含义是：</p><p><ul><li>* - 表示匹配该域的任意值，假如在 Minutes 域使用 *, 即表示每分钟都会触发事件。<br></li><li>? - 只能用在 DayofMonth 和 DayofWeek 两个域。它也匹配域的任意值，但实际不会。因为 DayofMonth 和 DayofWeek 会相互影响。例如想在每月的 20 日触发调度，不管 20 日到底是星期几，则只能使用如下写法：13 13 15 20 * ?, 其中最后一位只能用 ？，而不能使用 *，如果使用 * 表示不管星期几都会触发，实际上并不是这样。<br></li><li>- - 表示范围，例如在 Minutes 域使用 5-20，表示从 5 分到 20 分钟每分钟触发一次。<br></li><li>/ - 表示起始时间开始触发，然后每隔固定时间触发一次，例如在 Minutes 域使用 5/20，则意味着 5 分钟触发一次，而 25，45 等分别触发一次。<br></li><li>, - 表示列出枚举值。例如：在 Minutes 域使用 5,20，则意味着在 5 和 20 分每分钟触发一次。<br></li><li>L - 表示最后，只能出现在 DayofWeek 和 DayofMonth 域，如果在 DayofWeek 域使用 5L，意味着在最后的一个星期四触发。<br></li><li>W - 表示有效工作日(周一到周五)，只能出现在 DayofMonth 域，系统将在离指定日期的最近的有效工作日触发事件。例如：在 DayofMonth 使用 5W，如果 5 日是星期六，则将在最近的工作日：星期五，即 4 日触发。如果 5 日是星期天，则在 6 日(周一)触发；如果 5 日在星期一到星期五中的一天，则就在 5 日触发。另外一点，W 的最近寻找不会跨过月份<br></li><li>LW - 这两个字符可以连用，表示在某个月最后一个工作日，即最后一个星期五。<br></li><li># - 用于确定每个月第几个星期几，只能出现在 DayofMonth 域。例如在 4#2，表示某月的第二个星期三。<br></li></ul></p><p>举几个例子:</p><p>0 0 2 1 * ? * 表示在每月的 1 日的凌晨 2 点调度任务</p><p>0 15 10 ? * MON-FRI 表示周一到周五每天上午 10：15 执行作业</p><p>0 15 10 ? 6L 2002-2006 表示 2002-2006 年的每个月的最后一个星期五上午 10:15 执行作业</p><p>0 0 10,14,16 * * ? 每天上午 10 点，下午 2 点，4 点</p><p>0 0/30 9-17 * * ? 朝九晚五工作时间内每半小时</p><p>0 0 12 ? * WED 表示每个星期三中午 12 点</p><p>"0 0 12 * * ?" 每天中午 12 点触发</p><p>"0 15 10 ? * *" 每天上午 10:15 触发</p><p>"0 15 10 * * ?" 每天上午 10:15 触发</p><p>"0 15 10 * * ? *" 每天上午 10:15 触发</p><p>"0 15 10 * * ? 2005" 2005 年的每天上午 10:15 触发</p><p>"0 * 14 * * ?" 在每天下午 2 点到下午 2:59 期间的每 1 分钟触发</p><p>"0 0/5 14 * * ?" 在每天下午 2 点到下午 2:55 期间的每 5 分钟触发</p><p>"0 0/5 14,18 * * ?" 在每天下午 2 点到 2:55 期间和下午 6 点到 6:55 期间的每 5 分钟触发</p><p>"0 0-5 14 * * ?" 在每天下午 2 点到下午 2:05 期间的每 1 分钟触发</p><p>"0 10,44 14 ? 3 WED" 每年三月的星期三的下午 2:10 和 2:44 触发</p><p>"0 15 10 ? * MON-FRI" 周一至周五的上午 10:15 触发</p><p>"0 15 10 15 * ?" 每月 15 日上午 10:15 触发</p><p>"0 15 10 L * ?" 每月最后一日的上午 10:15 触发</p><p>"0 15 10 ? * 6L" 每月的最后一个星期五上午 10:15 触发</p><p>"0 15 10 ? * 6L 2002-2005" 2002 年至 2005 年的每月的最后一个星期五上午 10:15 触发</p><p>"0 15 10 ? * 6#3" 每月的第三个星期五上午 10:15 触发</p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p>
</article>
{% endblock point1 %}
