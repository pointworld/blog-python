{% extends 'c-word.html' %}

{% block title %} Web - JS | ES | obj | built-in | Object | Regexp {% endblock title %}

{% block point1 %}
<div class="tm-main uk-width-medium-3-4" contenteditable="true">
<article class="uk-article">
<div id="maincontent">
<div><h3 id="blogTitle0"><span style="font-weight: 700; background-color: yellow;">计算机 | 全栈 | 前端脚本 | JS |&nbsp;</span><span style="font-weight: 700; background-color: yellow;">ES | obj | built-in | RegExp</span></h3></div><div><div><h1 id="blogTitle1" style="margin-top: 20px; margin-bottom: 30px; line-height: 1; word-wrap: break-word; padding: 0px; border: 0px;"><span style="font-weight: 700;">正则表达式 (RegExp)</span></h1><h2 id="blogTitle2"><span style="font-weight: 700;"><font color="#000000">简介</font></span></h2><p style="margin-bottom: 24px; padding: 0px; border: 0px;"><span style="font-weight: 700;"><font size="4" style="background-color: white;">正则表达式&nbsp;</font></span>用于匹配字符串中字符组合的模式。在 JavaScript 中，正则表达式也是对象。这些模式被用于&nbsp;<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/RegExp" title="此页面仍未被本地化, 期待您的翻译!" style="margin: 0px; padding: 0px; border: 0px;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">RegExp</span></font></a>&nbsp;的&nbsp;<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/RegExp/exec" title="exec() 方法在一个指定字符串中执行一个搜索匹配。返回一个结果数组或 null。" style="margin: 0px; padding: 0px; border: 0px;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">exec</span></font></a>&nbsp;和&nbsp;<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/RegExp/test" title="test() 方法执行一个检索，用来查看正则表达式与指定的字符串是否匹配。返回 true 或 false。" style="margin: 0px; padding: 0px; border: 0px;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">test</span></font></a>&nbsp;方法, 以及&nbsp;<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/String" title="此页面仍未被本地化, 期待您的翻译!" style="margin: 0px; padding: 0px; border: 0px;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">String</span></font></a>&nbsp;的&nbsp;<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/match" title="当一个字符串与一个正则表达式匹配时，&nbsp;match()方法检索匹配项。" style="margin: 0px; padding: 0px; border: 0px;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">match</span></font></a>、<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/replace" title="replace()&nbsp;方法返回一个由替换值替换一些或所有匹配的模式后的新字符串。模式可以是一个字符串或者一个正则表达式, 替换值可以是一个字符串或者一个每次匹配都要调用的函数。" style="margin: 0px; padding: 0px; border: 0px;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">replace</span></font></a>、<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/search" title="search()&nbsp;方法执行正则表达式和 String对象之间的一个搜索匹配。" style="margin: 0px; padding: 0px; border: 0px;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">search</span></font></a>&nbsp;和&nbsp;<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/split" title="split()&nbsp;方法将一个String对象分割成字符串数组，通过将字符串分成子串。" style="margin: 0px; padding: 0px; border: 0px;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">split</span></font></a>&nbsp;方法。本章介绍 JavaScript 正则表达式。</p><div><div>RegExp 正则表达式() -- '一种用来匹配字符串的强有力的武器' -- 参见 Python，有区别</div><h3 id="blogTitle3"><span style="font-weight: 700;"><font color="#000000">设计思想</font></span></h3><p>是用一种描述性的语言来给字符串定义一个规则，凡是符合规则的字符串，我们就认为它“匹配”了，否则，该字符串就是不合法的。 &nbsp; &nbsp;&nbsp;</p><div><br></div></div><h2 id="blogTitle4" style="margin-top: 0px; margin-bottom: 12px; line-height: 1; word-wrap: break-word; padding: 0px; border: 0px;"><span style="font-weight: 700;"><font color="#000000">创建方法</font></span></h2><div><p style="margin-bottom: 24px; padding: 0px; border: 0px;">字面量, 构造函数和工厂符号：</p><pre class="syntaxbox" style="margin-top: 0px; margin-bottom: 20px; padding: 15px; background-color: rgb(221, 228, 233); font-size: 15px; line-height: 19px; font-family: consolas, monaco, &quot;Andale Mono&quot;, monospace; color: rgb(59, 60, 64); border-width: 0px 0px 0px 5px; border-top-style: initial; border-right-style: initial; border-bottom-style: initial; border-top-color: initial; border-right-color: initial; border-bottom-color: initial; border-left-color: rgb(85, 138, 187); direction: ltr; hyphens: none; white-space: pre-wrap;"><code class="ruby" style="word-wrap: break-word; margin: 0px; padding: 0px; border: 0px; font-weight: inherit; font-family: inherit;">/pattern/flags 

//</code>字面量:&nbsp;模式&nbsp;标志

<code class="javascript" style="word-wrap: break-word; margin: 0px; padding: 0px; border: 0px; font-weight: inherit; font-family: inherit;">new RegExp(pattern [, flags])

//</code>构造函数: 模式&nbsp;标志

<code class="css" style="word-wrap: break-word; margin: 0px; padding: 0px; border: 0px; font-weight: inherit; font-family: inherit;">RegExp(pattern [, flags])</code>
<code class="ruby" style="word-wrap: break-word; margin: 0px; padding: 0px; border: 0px; font-weight: inherit; font-family: inherit;">//</code>工厂符号: 模式&nbsp;标志</pre></div><h3 id="blogTitle5" style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;"><span style="font-weight: 700;"><font color="#000000">字面量</font></span></h3><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;">正则表达式字面量，由包含在斜杠之间的模式组成，如下所示：</p><pre class="line-numbers  language-html" style="margin-top: 0px; margin-bottom: 20px; padding: 1em 1em 1em 3.8em; background-image: url(&quot;../../img/blueprint-dark.fd85a7a074ae.png&quot;); background-position: center top; font-size: 15px; line-height: 1.5; border-width: 0px 0px 0px 5px; border-top-style: initial; border-right-style: initial; border-bottom-style: initial; border-top-color: initial; border-right-color: initial; border-bottom-color: initial; border-left-color: rgb(85, 138, 187); text-shadow: none; direction: ltr; word-break: normal; word-wrap: normal; hyphens: none; position: relative; counter-reset: linenumber 0;"><font face="Consolas, Monaco, Andale Mono, Ubuntu Mono, monospace"><span style="border-style: initial; border-color: initial; border-image: initial; line-height: 1.5; position: relative; word-spacing: normal; font-weight: inherit;">/*
   /pattern/flags 
*/

const regex = /ab+c/;
const regex = /^[a-zA-Z]+[0-9]*\W?_$/gi;</span></font><span class="line-numbers-rows" style="margin: 0px; padding: 0px; border-width: 0px 1px 0px 0px; border-top-style: initial; border-right-style: solid; border-bottom-style: initial; border-left-style: initial; border-top-color: initial; border-right-color: rgb(153, 153, 153); border-bottom-color: initial; border-left-color: initial; border-image: initial; display: block; position: absolute; pointer-events: none; top: 0px; left: -3.8em; width: 3em; user-select: none;"><span style="margin: 0px; padding: 0px; border: 0px; pointer-events: none; display: block; counter-increment: linenumber 1;"></span><span style="margin: 0px; padding: 0px; border: 0px; pointer-events: none; display: block; counter-increment: linenumber 1;"></span><span style="margin: 0px; padding: 0px; border: 0px; pointer-events: none; display: block; counter-increment: linenumber 1;"></span><span style="margin: 0px; padding: 0px; border: 0px; pointer-events: none; display: block; counter-increment: linenumber 1;"></span><span style="margin: 0px; padding: 0px; border: 0px; pointer-events: none; display: block; counter-increment: linenumber 1;"></span><span style="margin: 0px; padding: 0px; border: 0px; pointer-events: none; display: block; counter-increment: linenumber 1;"></span><span style="margin: 0px; padding: 0px; border: 0px; pointer-events: none; display: block; counter-increment: linenumber 1;"></span></span></pre><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;">在加载脚本后，正则表达式字面值提供正则表达式的编译。<span style="font-weight: 700;">当正则表达式保持不变时，使用此方法可获得更好的性能。</span></p><h3 id="blogTitle6" style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;"><span style="font-weight: 700;"><font color="#000000">构造函数</font></span></h3><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;">或者调用<a href="https://developer.mozilla.org/zh-CN/docs/JavaScript/Reference/Global_Objects/RegExp" title="zh-CN/docs/JavaScript/Reference/Global Objects/RegExp" style="word-wrap: break-word; margin: 0px; padding: 0px; border: 0px;">RegExp</a><span style="border-style: initial; border-color: initial;">对象的构造函数，如下所示：</span></p><pre class="line-numbers  language-html" style="margin-top: 0px; margin-bottom: 20px; padding: 1em 1em 1em 3.8em; background-image: url(&quot;../../img/blueprint-dark.fd85a7a074ae.png&quot;); background-position: center top; font-size: 15px; line-height: 1.5; border-width: 0px 0px 0px 5px; border-top-style: initial; border-right-style: initial; border-bottom-style: initial; border-top-color: initial; border-right-color: initial; border-bottom-color: initial; border-left-color: rgb(85, 138, 187); text-shadow: none; direction: ltr; word-break: normal; word-wrap: normal; hyphens: none; position: relative; counter-reset: linenumber 0;"><font face="Consolas, Monaco, Andale Mono, Ubuntu Mono, monospace"><span style="border-style: initial; border-color: initial; border-image: initial; line-height: 1.5; position: relative; word-spacing: normal; font-weight: inherit;">/* 
    new RegExp(pattern [, flags])
*/

let regex = new RegExp("ab+c");
let regex = new RegExp(/^[a-zA-Z]+[0-9]*\W?_$, "gi");
let regex = new RegExp("^[a-zA-Z]+[0-9]*\W?_$", "gi");</span></font><span class="line-numbers-rows" style="margin: 0px; padding: 0px; border-width: 0px 1px 0px 0px; border-top-style: initial; border-right-style: solid; border-bottom-style: initial; border-left-style: initial; border-top-color: initial; border-right-color: rgb(153, 153, 153); border-bottom-color: initial; border-left-color: initial; border-image: initial; display: block; position: absolute; pointer-events: none; top: 0px; left: -3.8em; width: 3em; user-select: none;"><span style="margin: 0px; padding: 0px; border: 0px; pointer-events: none; display: block; counter-increment: linenumber 1;"></span><span style="margin: 0px; padding: 0px; border: 0px; pointer-events: none; display: block; counter-increment: linenumber 1;"></span><span style="margin: 0px; padding: 0px; border: 0px; pointer-events: none; display: block; counter-increment: linenumber 1;"></span><span style="margin: 0px; padding: 0px; border: 0px; pointer-events: none; display: block; counter-increment: linenumber 1;"></span><span style="margin: 0px; padding: 0px; border: 0px; pointer-events: none; display: block; counter-increment: linenumber 1;"></span><span style="margin: 0px; padding: 0px; border: 0px; pointer-events: none; display: block; counter-increment: linenumber 1;"></span><span style="margin: 0px; padding: 0px; border: 0px; pointer-events: none; display: block; counter-increment: linenumber 1;"></span><span style="margin: 0px; padding: 0px; border: 0px; pointer-events: none; display: block; counter-increment: linenumber 1;"></span><span style="margin: 0px; padding: 0px; border: 0px; pointer-events: none; display: block; counter-increment: linenumber 1;"></span></span></pre><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;">使用构造函数提供正则表达式的运行时编译。使用构造函数，当你知道正则表达式模式将会改变，或者你不知道模式，并从另一个来源，如用户输入。</p></div><div><p style="margin-bottom: 24px; padding: 0px; border: 0px;"><span style="font-weight: 700;">参数</span><br></p><dt style="cursor: pointer; margin: 0px; padding: 0px; border: 0px; color: rgb(59, 60, 64); font-family: &quot;Open Sans&quot;, arial, sans-serif; background-color: rgb(255, 255, 255);"><code style="font-family: consolas, &quot;Liberation Mono&quot;, courier, monospace; padding-right: 0px; padding-left: 0px; border-width: 0px; border-style: initial; border-color: initial; word-wrap: break-word; margin: 0px; font-style: inherit; font-weight: inherit;">pattern</code></dt><dd style="margin-top: 0px; margin-right: 0px; margin-bottom: 24px; padding: 0px 0px 0px 20px; border: 0px; color: rgb(59, 60, 64); font-family: &quot;Open Sans&quot;, arial, sans-serif; background-color: rgb(255, 255, 255);">正则表达式的文本。</dd><dt style="cursor: pointer; margin: 0px; padding: 0px; border: 0px; color: rgb(59, 60, 64); font-family: &quot;Open Sans&quot;, arial, sans-serif; background-color: rgb(255, 255, 255);"><code style="font-family: consolas, &quot;Liberation Mono&quot;, courier, monospace; padding-right: 0px; padding-left: 0px; border-width: 0px; border-style: initial; border-color: initial; word-wrap: break-word; margin: 0px; font-style: inherit; font-weight: inherit;">flags</code></dt><dd style="margin-top: 0px; margin-right: 0px; margin-bottom: 24px; padding: 0px 0px 0px 20px; border: 0px; background-color: rgb(255, 255, 255);"><p style="color: rgb(59, 60, 64); font-family: &quot;Open Sans&quot;, arial, sans-serif; margin-bottom: 24px; padding: 0px; border: 0px;">如果指定，标志（修饰符）可以具有以下值的任意组合：</p><dl style="margin-top: 0px; margin-bottom: 20px; padding: 0px; border: 0px;"><dt style="color: rgb(59, 60, 64); font-family: &quot;Open Sans&quot;, arial, sans-serif; cursor: pointer; margin: 0px; padding: 0px; border: 0px;"><code style="font-family: consolas, &quot;Liberation Mono&quot;, courier, monospace; padding-right: 0px; padding-left: 0px; border-width: 0px; border-style: initial; border-color: initial; word-wrap: break-word; margin: 0px; font-style: inherit; font-weight: inherit;">g</code></dt><dd style="color: rgb(59, 60, 64); font-family: &quot;Open Sans&quot;, arial, sans-serif; margin-top: 0px; margin-right: 0px; margin-bottom: 24px; padding: 0px 0px 0px 20px; border: 0px;">全局匹配;找到所有匹配，而不是在第一个匹配后停止</dd><dt style="color: rgb(59, 60, 64); font-family: &quot;Open Sans&quot;, arial, sans-serif; cursor: pointer; margin: 0px; padding: 0px; border: 0px;"><code style="font-family: consolas, &quot;Liberation Mono&quot;, courier, monospace; padding-right: 0px; padding-left: 0px; border-width: 0px; border-style: initial; border-color: initial; word-wrap: break-word; margin: 0px; font-style: inherit; font-weight: inherit;">i</code></dt><dd style="color: rgb(59, 60, 64); font-family: &quot;Open Sans&quot;, arial, sans-serif; margin-top: 0px; margin-right: 0px; margin-bottom: 24px; padding: 0px 0px 0px 20px; border: 0px;">忽略大小写</dd><dt style="color: rgb(59, 60, 64); font-family: &quot;Open Sans&quot;, arial, sans-serif; cursor: pointer; margin: 0px; padding: 0px; border: 0px;"><code style="font-family: consolas, &quot;Liberation Mono&quot;, courier, monospace; padding-right: 0px; padding-left: 0px; border-width: 0px; border-style: initial; border-color: initial; word-wrap: break-word; margin: 0px; font-style: inherit; font-weight: inherit;">m</code></dt><dd style="color: rgb(59, 60, 64); font-family: &quot;Open Sans&quot;, arial, sans-serif; margin-top: 0px; margin-right: 0px; margin-bottom: 24px; padding: 0px 0px 0px 20px; border: 0px;">多行; 将开始和结束字符（^和$）视为在多行上工作（例如，分别匹配每一行的开始和结束（由 \n 或 \r 分割），而不只是只匹配整个输入字符串的最开始和最末尾处。</dd><dt style="cursor: pointer; margin: 0px; padding: 0px; border: 0px;"><dt style="margin: 0px; padding: 0px; border: 0px;"><font color="#dd0055" face="consolas, Liberation Mono, courier, monospace"><span style="font-size: 12px; white-space: nowrap;">s</span></font></dt><dd style="color: rgb(59, 60, 64); font-family: &quot;Open Sans&quot;, arial, sans-serif; margin-top: 0px; margin-right: 0px; margin-bottom: 24px; font-weight: normal; padding: 0px 0px 0px 20px; border: 0px;">s 修饰符：dotAll 模式</dd></dt><dt style="cursor: pointer; margin: 0px; padding: 0px; border: 0px;"><dd style="color: rgb(59, 60, 64); font-family: &quot;Open Sans&quot;, arial, sans-serif; margin-top: 0px; margin-right: 0px; margin-bottom: 24px; font-weight: normal; padding: 0px 0px 0px 20px; border: 0px;"><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">正则表达式中，点（<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">.</code>）是一个特殊字符，代表任意的单个字符，但是行终止符（line terminator character）除外。</p><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">以下四个字符属于”行终止符“。</p><ul style="list-style-type: none; padding-top: 0.5rem; padding-bottom: 0.5rem; color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;"><li style="text-indent: -5px; font-size: 0.8rem;">U+000A 换行符（<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">\n</code>）</li><li style="text-indent: -5px; font-size: 0.8rem;">U+000D 回车符（<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">\r</code>）</li><li style="text-indent: -5px; font-size: 0.8rem;">U+2028 行分隔符（line separator）</li><li style="text-indent: -5px; font-size: 0.8rem;">U+2029 段分隔符（paragraph separator）</li></ul><pre class=" language-javascript" style="font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; font-size: 14.336px; color: rgb(255, 255, 255); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; padding-right: 1em; padding-left: 0.7rem; margin: 0.5em auto; border-radius: 5px; background-color: rgb(17, 17, 17); line-height: 1.2;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;"><span class="token regex" style="color: rgb(253, 151, 31);">/foo.bar/</span><span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">test<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span><span class="token string">'foo\nbar'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);">
// false
</span></code></pre><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">上面代码中，因为<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">.</code>不匹配<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">\n</code>，所以正则表达式返回<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">false</code>。</p><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">但是，很多时候我们希望匹配的是任意单个字符，这时有一种变通的写法。</p><pre class=" language-javascript" style="font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; font-size: 14.336px; color: rgb(255, 255, 255); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; padding-right: 1em; padding-left: 0.7rem; margin: 0.5em auto; border-radius: 5px; background-color: rgb(17, 17, 17); line-height: 1.2;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;"><span class="token regex" style="color: rgb(253, 151, 31);">/foo[^]bar/</span><span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">test<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span><span class="token string">'foo\nbar'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);">
// true
</span></code></pre><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">这种解决方案毕竟不太符合直觉，所以现在有一个<a href="https://github.com/mathiasbynens/es-regexp-dotall-flag" style="background-position: initial; color: rgb(70, 130, 190);">提案</a>，引入<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">/s</code>修饰符，使得<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">.</code>可以匹配任意单个字符。</p><pre class=" language-javascript" style="font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; font-size: 14.336px; color: rgb(255, 255, 255); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; padding-right: 1em; padding-left: 0.7rem; margin: 0.5em auto; border-radius: 5px; background-color: rgb(17, 17, 17); line-height: 1.2;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;"><span class="token operator" style="color: rgb(249, 38, 114);">/</span>foo<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span>bar<span class="token operator" style="color: rgb(249, 38, 114);">/</span>s<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">test<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span><span class="token string">'foo\nbar'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // true
</span></code></pre><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">这被称为<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">dotAll</code>模式，即点（dot）代表一切字符。所以，正则表达式还引入了一个<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">dotAll</code>属性，返回一个布尔值，表示该正则表达式是否处在<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">dotAll</code>模式。</p><pre class=" language-javascript" style="font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; font-size: 14.336px; color: rgb(255, 255, 255); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; padding-right: 1em; padding-left: 0.7rem; margin: 0.5em auto; border-radius: 5px; background-color: rgb(17, 17, 17); line-height: 1.2;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;">const re <span class="token operator" style="color: rgb(249, 38, 114);">=</span> <span class="token operator" style="color: rgb(249, 38, 114);">/</span>foo<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span>bar<span class="token operator" style="color: rgb(249, 38, 114);">/</span>s<span class="token punctuation" style="color: rgb(248, 248, 242);">;</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);">
// 另一种写法
</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);">// const re = new RegExp('foo.bar', 's');
</span>
re<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">test<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span><span class="token string">'foo\nbar'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // true
</span>re<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span>dotAll<span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // true
</span>re<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span>flags<span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // 's'
</span></code></pre><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;"><code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">/s</code>修饰符和多行修饰符<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">/m</code>不冲突，两者一起使用的情况下，<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">.</code>匹配所有字符，而<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">^</code>和<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">$</code>匹配每一行的行首和行尾。</p></dd></dt><dt style="color: rgb(59, 60, 64); font-family: &quot;Open Sans&quot;, arial, sans-serif; cursor: pointer; margin: 0px; padding: 0px; border: 0px;"><br></dt><dt style="color: rgb(59, 60, 64); font-family: &quot;Open Sans&quot;, arial, sans-serif; cursor: pointer; margin: 0px; padding: 0px; border: 0px;">u</dt><dd style="color: rgb(59, 60, 64); font-family: &quot;Open Sans&quot;, arial, sans-serif; margin-top: 0px; margin-right: 0px; margin-bottom: 24px; padding: 0px 0px 0px 20px; border: 0px;">Unicode;&nbsp;将模式视为Unicode序列点的序列</dd><dd style="color: rgb(59, 60, 64); font-family: &quot;Open Sans&quot;, arial, sans-serif; margin-top: 0px; margin-right: 0px; margin-bottom: 24px; padding: 0px 0px 0px 20px; border: 0px;"><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">ES6 对正则表达式添加了<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">u</code>修饰符，含义为“Unicode 模式”，用来正确处理大于<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">\uFFFF</code>的 Unicode 字符。也就是说，会正确处理四个字节的 UTF-16 编码。</p><pre class=" language-javascript" style="font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; font-size: 14.336px; color: rgb(255, 255, 255); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; padding-right: 1em; padding-left: 0.7rem; margin: 0.5em auto; border-radius: 5px; background-color: rgb(17, 17, 17); line-height: 1.2;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;"><span class="token operator" style="color: rgb(249, 38, 114);">/</span><span class="token operator" style="color: rgb(249, 38, 114);">^</span>\uD83D<span class="token operator" style="color: rgb(249, 38, 114);">/</span>u<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">test<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span><span class="token string">'\uD83D\uDC2A'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // false
</span><span class="token regex" style="color: rgb(253, 151, 31);">/^\uD83D/</span><span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">test<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span><span class="token string">'\uD83D\uDC2A'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // true
</span></code></pre><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">上面代码中，<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">\uD83D\uDC2A</code>是一个四个字节的 UTF-16 编码，代表一个字符。但是，ES5 不支持四个字节的 UTF-16 编码，会将其识别为两个字符，导致第二行代码结果为<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">true</code>。加了<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">u</code>修饰符以后，ES6 就会识别其为一个字符，所以第一行代码结果为<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">false</code>。</p><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">一旦加上<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">u</code>修饰符号，就会修改下面这些正则表达式的行为。</p><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;"><strong>（1）点字符</strong></p><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">点（<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">.</code>）字符在正则表达式中，含义是除了换行符以外的任意单个字符。对于码点大于<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">0xFFFF</code>的 Unicode 字符，点字符不能识别，必须加上<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">u</code>修饰符。</p><pre class=" language-javascript" style="font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; font-size: 14.336px; color: rgb(255, 255, 255); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; padding-right: 1em; padding-left: 0.7rem; margin: 0.5em auto; border-radius: 5px; background-color: rgb(17, 17, 17); line-height: 1.2;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;"><span class="token keyword" style="color: rgb(102, 217, 239);">var</span> s <span class="token operator" style="color: rgb(249, 38, 114);">=</span> <span class="token string">'𠮷'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>

<span class="token regex" style="color: rgb(253, 151, 31);">/^.$/</span><span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">test<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span>s<span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // false
</span><span class="token operator" style="color: rgb(249, 38, 114);">/</span><span class="token operator" style="color: rgb(249, 38, 114);">^</span><span class="token punctuation" style="color: rgb(248, 248, 242);">.</span>$<span class="token operator" style="color: rgb(249, 38, 114);">/</span>u<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">test<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span>s<span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // true
</span></code></pre><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">上面代码表示，如果不添加<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">u</code>修饰符，正则表达式就会认为字符串为两个字符，从而匹配失败。</p><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;"><strong>（2）Unicode 字符表示法</strong></p><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">ES6 新增了使用大括号表示 Unicode 字符，这种表示法在正则表达式中必须加上<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">u</code>修饰符，才能识别当中的大括号，否则会被解读为量词。</p><pre class=" language-javascript" style="font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; font-size: 14.336px; color: rgb(255, 255, 255); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; padding-right: 1em; padding-left: 0.7rem; margin: 0.5em auto; border-radius: 5px; background-color: rgb(17, 17, 17); line-height: 1.2;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;"><span class="token regex" style="color: rgb(253, 151, 31);">/\u{61}/</span><span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">test<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span><span class="token string">'a'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // false
</span><span class="token operator" style="color: rgb(249, 38, 114);">/</span>\u<span class="token punctuation" style="color: rgb(248, 248, 242);">{</span><span class="token number" style="color: rgb(174, 129, 255);">61</span><span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token operator" style="color: rgb(249, 38, 114);">/</span>u<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">test<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span><span class="token string">'a'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // true
</span><span class="token operator" style="color: rgb(249, 38, 114);">/</span>\u<span class="token punctuation" style="color: rgb(248, 248, 242);">{</span>20BB7<span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token operator" style="color: rgb(249, 38, 114);">/</span>u<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">test<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span><span class="token string">'𠮷'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // true
</span></code></pre><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">上面代码表示，如果不加<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">u</code>修饰符，正则表达式无法识别<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">\u{61}</code>这种表示法，只会认为这匹配 61 个连续的<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">u</code>。</p><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;"><strong>（3）量词</strong></p><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">使用<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">u</code>修饰符后，所有量词都会正确识别码点大于<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">0xFFFF</code>的 Unicode 字符。</p><pre class=" language-javascript" style="font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; font-size: 14.336px; color: rgb(255, 255, 255); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; padding-right: 1em; padding-left: 0.7rem; margin: 0.5em auto; border-radius: 5px; background-color: rgb(17, 17, 17); line-height: 1.2;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;"><span class="token regex" style="color: rgb(253, 151, 31);">/a{2}/</span><span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">test<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span><span class="token string">'aa'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // true
</span><span class="token operator" style="color: rgb(249, 38, 114);">/</span>a<span class="token punctuation" style="color: rgb(248, 248, 242);">{</span><span class="token number" style="color: rgb(174, 129, 255);">2</span><span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token operator" style="color: rgb(249, 38, 114);">/</span>u<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">test<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span><span class="token string">'aa'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // true
</span><span class="token regex" style="color: rgb(253, 151, 31);">/𠮷{2}/</span><span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">test<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span><span class="token string">'𠮷𠮷'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // false
</span><span class="token operator" style="color: rgb(249, 38, 114);">/</span>𠮷<span class="token punctuation" style="color: rgb(248, 248, 242);">{</span><span class="token number" style="color: rgb(174, 129, 255);">2</span><span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token operator" style="color: rgb(249, 38, 114);">/</span>u<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">test<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span><span class="token string">'𠮷𠮷'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // true
</span></code></pre><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;"><strong>（4）预定义模式</strong></p><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;"><code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">u</code>修饰符也影响到预定义模式，能否正确识别码点大于<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">0xFFFF</code>的 Unicode 字符。</p><pre class=" language-javascript" style="font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; font-size: 14.336px; color: rgb(255, 255, 255); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; padding-right: 1em; padding-left: 0.7rem; margin: 0.5em auto; border-radius: 5px; background-color: rgb(17, 17, 17); line-height: 1.2;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;"><span class="token regex" style="color: rgb(253, 151, 31);">/^\S$/</span><span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">test<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span><span class="token string">'𠮷'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // false
</span><span class="token operator" style="color: rgb(249, 38, 114);">/</span><span class="token operator" style="color: rgb(249, 38, 114);">^</span>\S$<span class="token operator" style="color: rgb(249, 38, 114);">/</span>u<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">test<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span><span class="token string">'𠮷'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // true
</span></code></pre><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">上面代码的<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">\S</code>是预定义模式，匹配所有不是空格的字符。只有加了<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">u</code>修饰符，它才能正确匹配码点大于<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">0xFFFF</code>的 Unicode 字符。</p><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">利用这一点，可以写出一个正确返回字符串长度的函数。</p><pre class=" language-javascript" style="font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; font-size: 14.336px; color: rgb(255, 255, 255); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; padding-right: 1em; padding-left: 0.7rem; margin: 0.5em auto; border-radius: 5px; background-color: rgb(17, 17, 17); line-height: 1.2;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;"><span class="token keyword" style="color: rgb(102, 217, 239);">function</span> <span class="token function">codePointLength<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span>text<span class="token punctuation" style="color: rgb(248, 248, 242);">)</span> <span class="token punctuation" style="color: rgb(248, 248, 242);">{</span>
  <span class="token keyword" style="color: rgb(102, 217, 239);">var</span> result <span class="token operator" style="color: rgb(249, 38, 114);">=</span> text<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">match<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span><span class="token operator" style="color: rgb(249, 38, 114);">/</span><span class="token punctuation" style="color: rgb(248, 248, 242);">[</span>\s\S<span class="token punctuation" style="color: rgb(248, 248, 242);">]</span><span class="token operator" style="color: rgb(249, 38, 114);">/</span>gu<span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
  <span class="token keyword" style="color: rgb(102, 217, 239);">return</span> result <span class="token operator" style="color: rgb(249, 38, 114);">?</span> result<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span>length <span class="token punctuation" style="color: rgb(248, 248, 242);">:</span> <span class="token number" style="color: rgb(174, 129, 255);">0</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
<span class="token punctuation" style="color: rgb(248, 248, 242);">}</span>

<span class="token keyword" style="color: rgb(102, 217, 239);">var</span> s <span class="token operator" style="color: rgb(249, 38, 114);">=</span> <span class="token string">'𠮷𠮷'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>

s<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span>length<span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // 4
</span><span class="token function">codePointLength<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span>s<span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // 2
</span></code></pre><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;"><strong>（5）i 修饰符</strong></p><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">有些 Unicode 字符的编码不同，但是字型很相近，比如，<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">\u004B</code>与<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">\u212A</code>都是大写的<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">K</code>。</p><pre class=" language-javascript" style="font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; font-size: 14.336px; color: rgb(255, 255, 255); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; padding-right: 1em; padding-left: 0.7rem; margin: 0.5em auto; border-radius: 5px; background-color: rgb(17, 17, 17); line-height: 1.2;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;"><span class="token regex" style="color: rgb(253, 151, 31);">/[a-z]/i</span><span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">test<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span><span class="token string">'\u212A'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // false
</span><span class="token operator" style="color: rgb(249, 38, 114);">/</span><span class="token punctuation" style="color: rgb(248, 248, 242);">[</span>a<span class="token operator" style="color: rgb(249, 38, 114);">-</span>z<span class="token punctuation" style="color: rgb(248, 248, 242);">]</span><span class="token operator" style="color: rgb(249, 38, 114);">/</span>iu<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">test<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span><span class="token string">'\u212A'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // true
</span></code></pre><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">上面代码中，不加<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">u</code>修饰符，就无法识别非规范的<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">K</code>字符。</p></dd><dt style="color: rgb(59, 60, 64); font-family: &quot;Open Sans&quot;, arial, sans-serif; cursor: pointer; margin: 0px; padding: 0px; border: 0px;"><code style="font-family: consolas, &quot;Liberation Mono&quot;, courier, monospace; padding-right: 0px; padding-left: 0px; border-width: 0px; border-style: initial; border-color: initial; word-wrap: break-word; margin: 0px; font-style: inherit; font-weight: inherit;">y</code></dt><dd style="color: rgb(59, 60, 64); font-family: &quot;Open Sans&quot;, arial, sans-serif; margin-top: 0px; margin-right: 0px; margin-bottom: 24px; padding: 0px 0px 0px 20px; border: 0px;">粘性匹配;&nbsp;仅匹配目标字符串中此正则表达式的lastIndex属性指示的索引(并且不尝试从任何后续的索引匹配)。</dd><dd style="color: rgb(59, 60, 64); font-family: &quot;Open Sans&quot;, arial, sans-serif; margin-top: 0px; margin-right: 0px; margin-bottom: 24px; padding: 0px 0px 0px 20px; border: 0px;"><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">除了<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">u</code>修饰符，ES6 还为正则表达式添加了<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">y</code>修饰符，叫做“粘连”（sticky）修饰符。</p><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;"><code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">y</code>修饰符的作用与<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">g</code>修饰符类似，也是全局匹配，后一次匹配都从上一次匹配成功的下一个位置开始。不同之处在于，<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">g</code>修饰符只要剩余位置中存在匹配就可，而<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">y</code>修饰符确保匹配必须从剩余的第一个位置开始，这也就是“粘连”的涵义。</p><pre class=" language-javascript" style="font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; font-size: 14.336px; color: rgb(255, 255, 255); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; padding-right: 1em; padding-left: 0.7rem; margin: 0.5em auto; border-radius: 5px; background-color: rgb(17, 17, 17); line-height: 1.2;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;"><span class="token keyword" style="color: rgb(102, 217, 239);">var</span> s <span class="token operator" style="color: rgb(249, 38, 114);">=</span> <span class="token string">'aaa_aa_a'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
<span class="token keyword" style="color: rgb(102, 217, 239);">var</span> r1 <span class="token operator" style="color: rgb(249, 38, 114);">=</span> <span class="token regex" style="color: rgb(253, 151, 31);">/a+/g</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
<span class="token keyword" style="color: rgb(102, 217, 239);">var</span> r2 <span class="token operator" style="color: rgb(249, 38, 114);">=</span> <span class="token operator" style="color: rgb(249, 38, 114);">/</span>a<span class="token operator" style="color: rgb(249, 38, 114);">+</span><span class="token operator" style="color: rgb(249, 38, 114);">/</span>y<span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>

r1<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">exec<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span>s<span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // ["aaa"]
</span>r2<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">exec<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span>s<span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // ["aaa"]
</span>
r1<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">exec<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span>s<span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // ["aa"]
</span>r2<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">exec<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span>s<span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // null
</span></code></pre><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">上面代码有两个正则表达式，一个使用<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">g</code>修饰符，另一个使用<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">y</code>修饰符。这两个正则表达式各执行了两次，第一次执行的时候，两者行为相同，剩余字符串都是<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">_aa_a</code>。由于<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">g</code>修饰没有位置要求，所以第二次执行会返回结果，而<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">y</code>修饰符要求匹配必须从头部开始，所以返回<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">null</code>。</p><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">如果改一下正则表达式，保证每次都能头部匹配，<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">y</code>修饰符就会返回结果了。</p><pre class=" language-javascript" style="font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; font-size: 14.336px; color: rgb(255, 255, 255); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; padding-right: 1em; padding-left: 0.7rem; margin: 0.5em auto; border-radius: 5px; background-color: rgb(17, 17, 17); line-height: 1.2;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;"><span class="token keyword" style="color: rgb(102, 217, 239);">var</span> s <span class="token operator" style="color: rgb(249, 38, 114);">=</span> <span class="token string">'aaa_aa_a'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
<span class="token keyword" style="color: rgb(102, 217, 239);">var</span> r <span class="token operator" style="color: rgb(249, 38, 114);">=</span> <span class="token operator" style="color: rgb(249, 38, 114);">/</span>a<span class="token operator" style="color: rgb(249, 38, 114);">+</span>_<span class="token operator" style="color: rgb(249, 38, 114);">/</span>y<span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>

r<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">exec<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span>s<span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // ["aaa_"]
</span>r<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">exec<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span>s<span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // ["aa_"]
</span></code></pre><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">上面代码每次匹配，都是从剩余字符串的头部开始。</p><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">使用<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">lastIndex</code>属性，可以更好地说明<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">y</code>修饰符。</p><pre class=" language-javascript" style="font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; font-size: 14.336px; color: rgb(255, 255, 255); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; padding-right: 1em; padding-left: 0.7rem; margin: 0.5em auto; border-radius: 5px; background-color: rgb(17, 17, 17); line-height: 1.2;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;">const REGEX <span class="token operator" style="color: rgb(249, 38, 114);">=</span> <span class="token regex" style="color: rgb(253, 151, 31);">/a/g</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
<span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);">
// 指定从2号位置（y）开始匹配
</span>REGEX<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span>lastIndex <span class="token operator" style="color: rgb(249, 38, 114);">=</span> <span class="token number" style="color: rgb(174, 129, 255);">2</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
<span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);">
// 匹配成功
</span>const match <span class="token operator" style="color: rgb(249, 38, 114);">=</span> REGEX<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">exec<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span><span class="token string">'xaya'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
<span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);">
// 在3号位置匹配成功
</span>match<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span>index<span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // 3
</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);">
// 下一次匹配从4号位开始
</span>REGEX<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span>lastIndex<span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // 4
</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);">
// 4号位开始匹配失败
</span>REGEX<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">exec<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span><span class="token string">'xaxa'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // null
</span></code></pre><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">上面代码中，<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">lastIndex</code>属性指定每次搜索的开始位置，<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">g</code>修饰符从这个位置开始向后搜索，直到发现匹配为止。</p><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;"><code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">y</code>修饰符同样遵守<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">lastIndex</code>属性，但是要求必须在<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">lastIndex</code>指定的位置发现匹配。</p><pre class=" language-javascript" style="font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; font-size: 14.336px; color: rgb(255, 255, 255); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; padding-right: 1em; padding-left: 0.7rem; margin: 0.5em auto; border-radius: 5px; background-color: rgb(17, 17, 17); line-height: 1.2;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;">const REGEX <span class="token operator" style="color: rgb(249, 38, 114);">=</span> <span class="token operator" style="color: rgb(249, 38, 114);">/</span>a<span class="token operator" style="color: rgb(249, 38, 114);">/</span>y<span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
<span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);">
// 指定从2号位置开始匹配
</span>REGEX<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span>lastIndex <span class="token operator" style="color: rgb(249, 38, 114);">=</span> <span class="token number" style="color: rgb(174, 129, 255);">2</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
<span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);">
// 不是粘连，匹配失败
</span>REGEX<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">exec<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span><span class="token string">'xaya'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // null
</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);">
// 指定从3号位置开始匹配
</span>REGEX<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span>lastIndex <span class="token operator" style="color: rgb(249, 38, 114);">=</span> <span class="token number" style="color: rgb(174, 129, 255);">3</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
<span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);">
// 3号位置是粘连，匹配成功
</span>const match <span class="token operator" style="color: rgb(249, 38, 114);">=</span> REGEX<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">exec<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span><span class="token string">'xaxa'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
match<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span>index<span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // 3
</span>REGEX<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span>lastIndex<span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // 4
</span></code></pre><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">实际上，<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">y</code>修饰符号隐含了头部匹配的标志<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">^</code>。</p><pre class=" language-javascript" style="font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; font-size: 14.336px; color: rgb(255, 255, 255); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; padding-right: 1em; padding-left: 0.7rem; margin: 0.5em auto; border-radius: 5px; background-color: rgb(17, 17, 17); line-height: 1.2;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;"><span class="token operator" style="color: rgb(249, 38, 114);">/</span>b<span class="token operator" style="color: rgb(249, 38, 114);">/</span>y<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">exec<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span><span class="token string">'aba'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);">
// null
</span></code></pre><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">上面代码由于不能保证头部匹配，所以返回<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">null</code>。<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">y</code>修饰符的设计本意，就是让头部匹配的标志<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">^</code>在全局匹配中都有效。</p><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">在<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">split</code>方法中使用<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">y</code>修饰符，原字符串必须以分隔符开头。这也意味着，只要匹配成功，数组的第一个成员肯定是空字符串。</p><pre class=" language-javascript" style="font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; font-size: 14.336px; color: rgb(255, 255, 255); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; padding-right: 1em; padding-left: 0.7rem; margin: 0.5em auto; border-radius: 5px; background-color: rgb(17, 17, 17); line-height: 1.2;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;"><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);">// 没有找到匹配
</span><span class="token string">'x##'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">split<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span><span class="token operator" style="color: rgb(249, 38, 114);">/</span>#<span class="token operator" style="color: rgb(249, 38, 114);">/</span>y<span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);">
// [ 'x##' ]
</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);">
// 找到两个匹配
</span><span class="token string">'##x'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">split<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span><span class="token operator" style="color: rgb(249, 38, 114);">/</span>#<span class="token operator" style="color: rgb(249, 38, 114);">/</span>y<span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);">
// [ '', '', 'x' ]
</span></code></pre><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">后续的分隔符只有紧跟前面的分隔符，才会被识别。</p><pre class=" language-javascript" style="font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; font-size: 14.336px; color: rgb(255, 255, 255); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; padding-right: 1em; padding-left: 0.7rem; margin: 0.5em auto; border-radius: 5px; background-color: rgb(17, 17, 17); line-height: 1.2;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;"><span class="token string">'#x#'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">split<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span><span class="token operator" style="color: rgb(249, 38, 114);">/</span>#<span class="token operator" style="color: rgb(249, 38, 114);">/</span>y<span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);">
// [ '', 'x#' ]
</span>
<span class="token string">'##'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">split<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span><span class="token operator" style="color: rgb(249, 38, 114);">/</span>#<span class="token operator" style="color: rgb(249, 38, 114);">/</span>y<span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);">
// [ '', '', '' ]
</span></code></pre><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">下面是字符串对象的<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">replace</code>方法的例子。</p><pre class=" language-javascript" style="font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; font-size: 14.336px; color: rgb(255, 255, 255); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; padding-right: 1em; padding-left: 0.7rem; margin: 0.5em auto; border-radius: 5px; background-color: rgb(17, 17, 17); line-height: 1.2;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;">const REGEX <span class="token operator" style="color: rgb(249, 38, 114);">=</span> <span class="token operator" style="color: rgb(249, 38, 114);">/</span>a<span class="token operator" style="color: rgb(249, 38, 114);">/</span>gy<span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
<span class="token string">'aaxa'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">replace<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span>REGEX<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> <span class="token string">'-'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // '--xa'
</span></code></pre><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">上面代码中，最后一个<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">a</code>因为不是出现在下一次匹配的头部，所以不会被替换。</p><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">单单一个<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">y</code>修饰符对<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">match</code>方法，只能返回第一个匹配，必须与<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">g</code>修饰符联用，才能返回所有匹配。</p><pre class=" language-javascript" style="font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; font-size: 14.336px; color: rgb(255, 255, 255); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; padding-right: 1em; padding-left: 0.7rem; margin: 0.5em auto; border-radius: 5px; background-color: rgb(17, 17, 17); line-height: 1.2;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;"><span class="token string">'a1a2a3'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">match<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span><span class="token operator" style="color: rgb(249, 38, 114);">/</span>a\d<span class="token operator" style="color: rgb(249, 38, 114);">/</span>y<span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // ["a1"]
</span><span class="token string">'a1a2a3'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">match<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span><span class="token operator" style="color: rgb(249, 38, 114);">/</span>a\d<span class="token operator" style="color: rgb(249, 38, 114);">/</span>gy<span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // ["a1", "a2", "a3"]
</span></code></pre><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;"><code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">y</code>修饰符的一个应用，是从字符串提取 token（词元），<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">y</code>修饰符确保了匹配之间不会有漏掉的字符。</p><pre class=" language-javascript" style="font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; font-size: 14.336px; color: rgb(255, 255, 255); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; padding-right: 1em; padding-left: 0.7rem; margin: 0.5em auto; border-radius: 5px; background-color: rgb(17, 17, 17); line-height: 1.2;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;">const TOKEN_Y <span class="token operator" style="color: rgb(249, 38, 114);">=</span> <span class="token operator" style="color: rgb(249, 38, 114);">/</span>\s<span class="token operator" style="color: rgb(249, 38, 114);">*</span><span class="token punctuation" style="color: rgb(248, 248, 242);">(</span>\<span class="token operator" style="color: rgb(249, 38, 114);">+</span><span class="token operator" style="color: rgb(249, 38, 114);">|</span><span class="token punctuation" style="color: rgb(248, 248, 242);">[</span><span class="token number" style="color: rgb(174, 129, 255);">0</span><span class="token operator" style="color: rgb(249, 38, 114);">-</span><span class="token number" style="color: rgb(174, 129, 255);">9</span><span class="token punctuation" style="color: rgb(248, 248, 242);">]</span><span class="token operator" style="color: rgb(249, 38, 114);">+</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span>\s<span class="token operator" style="color: rgb(249, 38, 114);">*</span><span class="token operator" style="color: rgb(249, 38, 114);">/</span>y<span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
const TOKEN_G  <span class="token operator" style="color: rgb(249, 38, 114);">=</span> <span class="token regex" style="color: rgb(253, 151, 31);">/\s*(\+|[0-9]+)\s*/g</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>

<span class="token function">tokenize<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span>TOKEN_Y<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> <span class="token string">'3 + 4'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);">
// [ '3', '+', '4' ]
</span><span class="token function">tokenize<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span>TOKEN_G<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> <span class="token string">'3 + 4'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);">
// [ '3', '+', '4' ]
</span>
<span class="token keyword" style="color: rgb(102, 217, 239);">function</span> <span class="token function">tokenize<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span>TOKEN_REGEX<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> str<span class="token punctuation" style="color: rgb(248, 248, 242);">)</span> <span class="token punctuation" style="color: rgb(248, 248, 242);">{</span>
  <span class="token keyword" style="color: rgb(102, 217, 239);">let</span> result <span class="token operator" style="color: rgb(249, 38, 114);">=</span> <span class="token punctuation" style="color: rgb(248, 248, 242);">[</span><span class="token punctuation" style="color: rgb(248, 248, 242);">]</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
  <span class="token keyword" style="color: rgb(102, 217, 239);">let</span> match<span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
  <span class="token keyword" style="color: rgb(102, 217, 239);">while</span> <span class="token punctuation" style="color: rgb(248, 248, 242);">(</span>match <span class="token operator" style="color: rgb(249, 38, 114);">=</span> TOKEN_REGEX<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">exec<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span>str<span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span> <span class="token punctuation" style="color: rgb(248, 248, 242);">{</span>
    result<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">push<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span>match<span class="token punctuation" style="color: rgb(248, 248, 242);">[</span><span class="token number" style="color: rgb(174, 129, 255);">1</span><span class="token punctuation" style="color: rgb(248, 248, 242);">]</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
  <span class="token punctuation" style="color: rgb(248, 248, 242);">}</span>
  <span class="token keyword" style="color: rgb(102, 217, 239);">return</span> result<span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
<span class="token punctuation" style="color: rgb(248, 248, 242);">}</span>
</code></pre><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">上面代码中，如果字符串里面没有非法字符，<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">y</code>修饰符与<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">g</code>修饰符的提取结果是一样的。但是，一旦出现非法字符，两者的行为就不一样了。</p><pre class=" language-javascript" style="font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; font-size: 14.336px; color: rgb(255, 255, 255); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; padding-right: 1em; padding-left: 0.7rem; margin: 0.5em auto; border-radius: 5px; background-color: rgb(17, 17, 17); line-height: 1.2;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;"><span class="token function">tokenize<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span>TOKEN_Y<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> <span class="token string">'3x + 4'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);">
// [ '3' ]
</span><span class="token function">tokenize<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span>TOKEN_G<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> <span class="token string">'3x + 4'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);">
// [ '3', '+', '4' ]
</span></code></pre><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">上面代码中，<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">g</code>修饰符会忽略非法字符，而<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">y</code>修饰符不会，这样就很容易发现错误。</p></dd></dl></dd><div><span style="font-weight: 700;"><font color="#000000"><br></font></span></div><div><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">在 ES5 中，<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">RegExp</code>构造函数的参数有两种情况。</p><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">第一种情况是，参数是字符串，这时第二个参数表示正则表达式的修饰符（flag）。</p><pre class=" language-javascript" style="font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; font-size: 14.336px; color: rgb(255, 255, 255); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; padding-right: 1em; padding-left: 0.7rem; margin: 0.5em auto; border-radius: 5px; background-color: rgb(17, 17, 17); line-height: 1.2;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;"><span class="token keyword" style="color: rgb(102, 217, 239);">var</span> regex <span class="token operator" style="color: rgb(249, 38, 114);">=</span> <span class="token keyword" style="color: rgb(102, 217, 239);">new</span> <span class="token class-name">RegExp</span><span class="token punctuation" style="color: rgb(248, 248, 242);">(</span><span class="token string">'xyz'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> <span class="token string">'i'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);">
// 等价于
</span><span class="token keyword" style="color: rgb(102, 217, 239);">var</span> regex <span class="token operator" style="color: rgb(249, 38, 114);">=</span> <span class="token regex" style="color: rgb(253, 151, 31);">/xyz/i</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
</code></pre><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">第二种情况是，参数是一个正则表示式，这时会返回一个原有正则表达式的拷贝。</p><pre class=" language-javascript" style="font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; font-size: 14.336px; color: rgb(255, 255, 255); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; padding-right: 1em; padding-left: 0.7rem; margin: 0.5em auto; border-radius: 5px; background-color: rgb(17, 17, 17); line-height: 1.2;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;"><span class="token keyword" style="color: rgb(102, 217, 239);">var</span> regex <span class="token operator" style="color: rgb(249, 38, 114);">=</span> <span class="token keyword" style="color: rgb(102, 217, 239);">new</span> <span class="token class-name">RegExp</span><span class="token punctuation" style="color: rgb(248, 248, 242);">(</span><span class="token regex" style="color: rgb(253, 151, 31);">/xyz/i</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);">
// 等价于
</span><span class="token keyword" style="color: rgb(102, 217, 239);">var</span> regex <span class="token operator" style="color: rgb(249, 38, 114);">=</span> <span class="token regex" style="color: rgb(253, 151, 31);">/xyz/i</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
</code></pre><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">但是，ES5 不允许此时使用第二个参数添加修饰符，否则会报错。</p><pre class=" language-javascript" style="font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; font-size: 14.336px; color: rgb(255, 255, 255); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; padding-right: 1em; padding-left: 0.7rem; margin: 0.5em auto; border-radius: 5px; background-color: rgb(17, 17, 17); line-height: 1.2;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;"><span class="token keyword" style="color: rgb(102, 217, 239);">var</span> regex <span class="token operator" style="color: rgb(249, 38, 114);">=</span> <span class="token keyword" style="color: rgb(102, 217, 239);">new</span> <span class="token class-name">RegExp</span><span class="token punctuation" style="color: rgb(248, 248, 242);">(</span><span class="token regex" style="color: rgb(253, 151, 31);">/xyz/</span><span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> <span class="token string">'i'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);">
// Uncaught TypeError: Cannot supply flags when constructing one RegExp from another
</span></code></pre><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">ES6 改变了这种行为。如果<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">RegExp</code>构造函数第一个参数是一个正则对象，那么可以使用第二个参数指定修饰符。而且，返回的正则表达式会忽略原有的正则表达式的修饰符，只使用新指定的修饰符。</p><pre class=" language-javascript" style="font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; font-size: 14.336px; color: rgb(255, 255, 255); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; padding-right: 1em; padding-left: 0.7rem; margin: 0.5em auto; border-radius: 5px; background-color: rgb(17, 17, 17); line-height: 1.2;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;"><span class="token keyword" style="color: rgb(102, 217, 239);">new</span> <span class="token class-name">RegExp</span><span class="token punctuation" style="color: rgb(248, 248, 242);">(</span><span class="token regex" style="color: rgb(253, 151, 31);">/abc/ig</span><span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> <span class="token string">'i'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token punctuation" style="color: rgb(248, 248, 242);">.</span>flags<span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);">
// "i"
</span></code></pre><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">上面代码中，原有正则对象的修饰符是<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">ig</code>，它会被第二个参数<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">i</code>覆盖。</p></div><div><span style="font-weight: 700;"><font color="#000000"><br></font></span></div><h2 id="blogTitle7" style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;"><span style="font-weight: 700;"><font color="#000000">特殊字符的含义</font></span></h2><ul style="margin-top: 0px; margin-bottom: 24px; padding: 0px 0px 0px 40px; list-style-position: initial; list-style-image: initial; border: 0px;"><li style="margin: 0px 0px 6px; padding: 0px; border: 0px;"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/RegExp#character-classes" style="margin: 0px; padding: 0px; border: 0px;">字符类别（Character Classes）</a></li><li style="margin: 0px 0px 6px; padding: 0px; border: 0px;"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/RegExp#character-sets" style="margin: 0px; padding: 0px; border: 0px;">字符集合（Character Sets）</a></li><li style="margin: 0px 0px 6px; padding: 0px; border: 0px;"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/RegExp#boundaries" style="margin: 0px; padding: 0px; border: 0px;">边界（Boundaries）</a></li><li style="margin: 0px 0px 6px; padding: 0px; border: 0px;"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/RegExp#grouping-back-references" style="margin: 0px; padding: 0px; border: 0px;">分组（grouping）与反向引用（back references）</a></li><li style="margin: 0px 0px 6px; padding: 0px; border: 0px;"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/RegExp#quantifiers" style="margin: 0px; padding: 0px; border: 0px;">数量词（Quantifiers）</a></li></ul><h3 id="blogTitle8"><font color="#000000"><span style="font-weight: 700;">字符类别（Character Classes）</span></font></h3><table style=""><tbody style="margin: 0px; padding: 0px; border: 0px;"><tr style="margin: 0px; padding: 0px; border: 0px;"><th style="">字符</th><th style="">含义</th></tr><tr style="margin: 0px; padding: 0px; border: 0px;"><td style="border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); margin: 0px; padding: 5px; vertical-align: top;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">.</span></font></td><td style="border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); margin: 0px; padding: 5px; vertical-align: top;"><p style="margin-bottom: 24px; padding: 0px; border: 0px;"><font color="#ff0000"><span style="font-weight: 700;">(点号，小数点) 匹配任意单个字符，但是回车\r换行\n符除外</span></font>：<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">\n</span></font>&nbsp;<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">\r</span></font>&nbsp;<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">\u2028</span></font>&nbsp;或&nbsp;<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">\u2029</span></font>。<span style="font-weight: 700;"><font color="#ff0000">等价于 [^\r\n]</font></span></p><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;">在字符集中，点( . )失去其特殊含义，并匹配一个字面点( . )。</p><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;">需要注意的是，<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">m</span></font>&nbsp;多行（multiline）标志不会改变点号的表现。因此为了匹配多行中的字符集，可使用<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">[^]</span></font>&nbsp;（当然你不是打算用在旧版本 IE 中），它将会匹配任意字符，包括换行符。</p><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;">例如，<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">/.y/</span></font>&nbsp;匹配 "yes make my day" 中的&nbsp;"my" 和 "ay"，但是不匹配 "yes"。</p></td></tr><tr style="margin: 0px; padding: 0px; border: 0px;"><td style="border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); margin: 0px; padding: 5px; vertical-align: top;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">\d</span></font></td><td style="border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); margin: 0px; padding: 5px; vertical-align: top;"><p style="margin-bottom: 24px; padding: 0px; border: 0px;"><font color="#ff0000"><span style="font-weight: 700;">匹配基本拉丁字母表（basic Latin alphabet）中的一个数字字符。等价于</span></font><span style="font-weight: 700; color: rgb(255, 0, 0);">&nbsp;<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-style: inherit;">[0-9]</span></font>。</span></p><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;">例如，<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">/\d/</span></font>&nbsp;或&nbsp;<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">/[0-9]/</span></font>&nbsp;匹配 "B2 is the suite number." 中的&nbsp;'2'。&nbsp;</p></td></tr><tr style="margin: 0px; padding: 0px; border: 0px;"><td style="border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); margin: 0px; padding: 5px; vertical-align: top;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">\D</span></font></td><td style="border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); margin: 0px; padding: 5px; vertical-align: top;"><p style="margin-bottom: 24px; padding: 0px; border: 0px;"><font color="#ff0000"><span style="font-weight: 700;">匹配任意一个不是基本拉丁字母表中数字的字符。等价于<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-style: inherit;">[^0-9]</span></font>。</span></font></p><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;">例如，<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">/\D/</span></font>&nbsp;或&nbsp;<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">/[^0-9]/</span></font>&nbsp;匹配 "B2 is the suite number." 中的&nbsp;'B'。</p></td></tr><tr style="margin: 0px; padding: 0px; border: 0px;"><td style="border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); margin: 0px; padding: 5px; vertical-align: top;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">\w</span></font></td><td style="border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); margin: 0px; padding: 5px; vertical-align: top;"><p style="margin-bottom: 24px; padding: 0px; border: 0px;"><span style="font-weight: 700;"><font color="#ff0000">匹配任意来自基本拉丁字母表中的字母数字字符，还包括下划线。等价于&nbsp;<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-style: inherit;">[A-Za-z0-9_]</span></font>。</font></span></p><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;">例如，<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">/\w/</span></font>&nbsp;匹配 "apple" 中的 'a'，"$5.28" 中的 '5' 和 "3D" 中的 '3'。</p></td></tr><tr style="margin: 0px; padding: 0px; border: 0px;"><td style="border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); margin: 0px; padding: 5px; vertical-align: top;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">\W</span></font></td><td style="border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); margin: 0px; padding: 5px; vertical-align: top;"><p style="margin-bottom: 24px; padding: 0px; border: 0px;"><span style="font-weight: 700;"><font color="#ff0000">匹配任意不是基本拉丁字母表中单词（字母数字下划线）字符的字符。等价于&nbsp;<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-style: inherit;">[^A-Za-z0-9_]</span></font>。</font></span></p><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;">例如，<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">/\W/</span></font>&nbsp;或&nbsp;<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">/[^A-Za-z0-9_]/</span></font>&nbsp;匹配 "50%" 中的 '%'。</p></td></tr><tr style="margin: 0px; padding: 0px; border: 0px;"><td style="border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); margin: 0px; padding: 5px; vertical-align: top;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">\s</span></font></td><td style="border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); margin: 0px; padding: 5px; vertical-align: top;"><p style="margin-bottom: 24px; padding: 0px; border: 0px;"><span style="font-weight: 700;"><font color="#ff0000">匹配一个空白符，包括空格、制表符、换页符、换行符和其他 Unicode 空格。</font></span></p><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;"><span style="font-weight: 700;">等价于&nbsp;<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-style: inherit;">[ \f\n\r\t\v​\u00a0\u1680​\u180e\u2000​\u2001\u2002​\u2003\u2004​ \u2005\u2006​\u2007\u2008​\u2009\u200a​\u2028\u2029​​\u202f\u205f​ \u3000]。</span></font></span></p><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;">例如&nbsp;<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">/\s\w*/</span></font>&nbsp;匹配 "foo bar" 中的 ' bar'。</p></td></tr><tr style="margin: 0px; padding: 0px; border: 0px;"><td style="border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); margin: 0px; padding: 5px; vertical-align: top;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">\S</span></font></td><td style="border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); margin: 0px; padding: 5px; vertical-align: top;"><p style="margin-bottom: 24px; padding: 0px; border: 0px;"><span style="font-weight: 700;"><font color="#ff0000">匹配一个非空白符。</font>等价于&nbsp;<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-style: inherit;">[^ \f\n\r\t\v​\u00a0\u1680​\u180e\u2000​\u2001\u2002​\u2003\u2004​&nbsp;\u2005\u2006​\u2007\u2008​\u2009\u200a​\u2028\u2029​\u202f\u205f​\u3000]<span style="border-style: initial; border-color: initial;">。</span></span></font></span></p><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;">例如，<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">/\S\w*/</span></font>&nbsp;匹配 "foo bar" 中的 'foo'。</p></td></tr><tr style="margin: 0px; padding: 0px; border: 0px;"><td style="border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); margin: 0px; padding: 5px; vertical-align: top;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">\t</span></font></td><td style="border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); margin: 0px; padding: 5px; vertical-align: top;">匹配一个水平制表符（tab）</td></tr><tr style="margin: 0px; padding: 0px; border: 0px;"><td style="border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); margin: 0px; padding: 5px; vertical-align: top;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">\r</span></font></td><td style="border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); margin: 0px; padding: 5px; vertical-align: top;">匹配一个回车符（carriage return）</td></tr><tr style="margin: 0px; padding: 0px; border: 0px;"><td style="border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); margin: 0px; padding: 5px; vertical-align: top;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">\n</span></font></td><td style="border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); margin: 0px; padding: 5px; vertical-align: top;">匹配一个换行符（linefeed）</td></tr><tr style="margin: 0px; padding: 0px; border: 0px;"><td style="border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); margin: 0px; padding: 5px; vertical-align: top;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">\v</span></font></td><td style="border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); margin: 0px; padding: 5px; vertical-align: top;">匹配一个垂直制表符（vertical tab）</td></tr><tr style="margin: 0px; padding: 0px; border: 0px;"><td style="border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); margin: 0px; padding: 5px; vertical-align: top;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">\f</span></font></td><td style="border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); margin: 0px; padding: 5px; vertical-align: top;">匹配一个换页符（form-feed）</td></tr><tr style="margin: 0px; padding: 0px; border: 0px;"><td style="border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); margin: 0px; padding: 5px; vertical-align: top;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">[\b]</span></font></td><td style="border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); margin: 0px; padding: 5px; vertical-align: top;">匹配一个退格符（backspace）（不要与&nbsp;<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">\b</span></font>&nbsp;混淆）</td></tr><tr style="margin: 0px; padding: 0px; border: 0px;"><td style="border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); margin: 0px; padding: 5px; vertical-align: top;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">\0</span></font></td><td style="border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); margin: 0px; padding: 5px; vertical-align: top;">匹配一个 NUL 字符。不要在此后面跟小数点。</td></tr><tr style="margin: 0px; padding: 0px; border: 0px;"><td style="border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); margin: 0px; padding: 5px; vertical-align: top;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">\c</span></font><span style="border-style: initial; border-color: initial; border-image: initial;">X</span></td><td style="border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); margin: 0px; padding: 5px; vertical-align: top;"><p style="margin-bottom: 24px; padding: 0px; border: 0px;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; border-image: initial; font-weight: inherit; font-style: inherit;">X</span><span style="border-style: initial; border-color: initial;">&nbsp;是 A - Z 的一个字母。匹配字符串中的一个控制字符。</span></font></p><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;">例如，<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">/\cM/</span></font>&nbsp;匹配字符串中的 control-M。</p></td></tr><tr style="margin: 0px; padding: 0px; border: 0px;"><td style="border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); margin: 0px; padding: 5px; vertical-align: top;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">\x</span></font><span style="border-style: initial; border-color: initial; border-image: initial;">hh</span></td><td style="border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); margin: 0px; padding: 5px; vertical-align: top;">匹配编码为&nbsp;<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; border-image: initial; font-weight: inherit; font-style: inherit;">hh</span><span style="border-style: initial; border-color: initial;">&nbsp;（两个十六进制数字）的字符。</span></font></td></tr><tr style="margin: 0px; padding: 0px; border: 0px;"><td style="border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); margin: 0px; padding: 5px; vertical-align: top;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">\u</span></font><span style="border-style: initial; border-color: initial; border-image: initial;">hhhh</span></td><td style="border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); margin: 0px; padding: 5px; vertical-align: top;">匹配 Unicode 值为&nbsp;<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; border-image: initial; font-weight: inherit; font-style: inherit;">hhhh</span><span style="border-style: initial; border-color: initial;">&nbsp;（四个十六进制数字）的字符。</span></font></td></tr><tr style="margin: 0px; padding: 0px; border: 0px;"><td style="border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); margin: 0px; padding: 5px; vertical-align: top;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">\</span></font></td><td style="border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); margin: 0px; padding: 5px; vertical-align: top;"><p style="margin-bottom: 24px; padding: 0px; border: 0px;"><span style="font-weight: 700;"><font color="#ff0000">转译字符</font></span></p><p style="margin-bottom: 24px; padding: 0px; border: 0px;">对于那些通常被认为字面意义的字符来说，表示下一个字符具有特殊用处，并且不会被按照字面意义解释。</p><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;">例如&nbsp;<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">/b/</span></font>&nbsp;匹配字符 'b'。在 b 前面加上一个反斜杠，即使用&nbsp;<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">/\b/</span></font>，则该字符变得特殊，以为这匹配一个单词边界。</p><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;"><span style="border-style: initial; border-color: initial; border-image: initial;">或</span></p><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;">对于那些通常特殊对待的字符，表示下一个字符不具有特殊用途，会被按照字面意义解释。</p><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;">例如，* 是一个特殊字符，表示匹配某个字符 0 或多次，如&nbsp;<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">/a*/</span></font>&nbsp;意味着 0 或多个 "a"。 为了匹配字面意义上的&nbsp;<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">*</span></font>&nbsp;，在它前面加上一个反斜杠，例如，<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">/a\*/</span></font>匹配 'a*'。</p></td></tr></tbody></table><h3 id="blogTitle9"><span style="font-weight: 700;"><font color="#000000">字符集合（Character Sets）<br></font></span></h3><table style=""><tbody style="margin: 0px; padding: 0px; border: 0px;"><tr style="margin: 0px; padding: 0px; border: 0px;"><th style="">字符</th><th>含义</th></tr><tr style="margin: 0px; padding: 0px; border: 0px;"><td style="border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); margin: 0px; padding: 5px; vertical-align: top;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">[xyz]</span></font></td><td style="border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); margin: 0px; padding: 5px; vertical-align: top;"><p style="margin-bottom: 24px; padding: 0px; border: 0px;"><span style="font-weight: 700;"><font color="#ff0000">一个字符集合，也叫字符组。匹配集合中的任意一个字符。你可以使用连字符'-'指定一个范围。</font></span></p><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;">例如，[abcd] 等价于 [a-d]，匹配"brisket"中的'b'和"chop"中的'c'。</p></td></tr><tr style="margin: 0px; padding: 0px; border: 0px;"><td style="border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); margin: 0px; padding: 5px; vertical-align: top;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">[^xyz]</span></font></td><td style="border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); margin: 0px; padding: 5px; vertical-align: top;"><p style="margin-bottom: 24px; padding: 0px; border: 0px;"><span style="font-weight: 700;"><font color="#ff0000">一个反义或补充字符集，也叫反义字符组。也就是说，它匹配任意不在括号内的字符。你也可以通过使用连字符 '-' 指定一个范围内的字符。</font></span></p><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;">例如，<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">[^abc]</span></font>&nbsp;等价于&nbsp;<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">[^a-c]。</span></font>&nbsp;第一个匹配的是 "bacon" 中的'o' 和 "chop" 中的 'h'。</p></td></tr></tbody></table><h3 id="blogTitle10"><span style="font-weight: 700;">边界（Boundaries）</span></h3><table style=""><tbody style="margin: 0px; padding: 0px; border: 0px;"><tr style="margin: 0px; padding: 0px; border: 0px;"><th style="">字符</th><th style="">含义</th></tr><tr style="margin: 0px; padding: 0px; border: 0px;"><td style="border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); margin: 0px; padding: 5px; vertical-align: top;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">^</span></font></td><td style="border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); margin: 0px; padding: 5px; vertical-align: top;"><p style="margin-bottom: 24px; padding: 0px; border: 0px;"><span style="font-weight: 700;"><font color="#ff0000">匹配输入开始。如果多行（multiline）标志被设为 true，该字符也会匹配一个断行（line break）符后的开始处。</font></span></p><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;">例如，<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">/^A/</span></font>&nbsp;不匹配 "an A" 中的 "A"，但匹配 "An A" 中的 "A"。</p></td></tr><tr style="margin: 0px; padding: 0px; border: 0px;"><td style="border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); margin: 0px; padding: 5px; vertical-align: top;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">$</span></font></td><td style="border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); margin: 0px; padding: 5px; vertical-align: top;"><p style="margin-bottom: 24px; padding: 0px; border: 0px;"><span style="font-weight: 700;"><font color="#ff0000">匹配输入结尾。如果多行（multiline）标志被设为 true，该字符也会匹配一个断行（line break）符的前的结尾处。</font></span></p><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;">例如，<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">/t$/</span></font>&nbsp;不匹配 "eater" 中的 "t"，但匹配 "eat" 中的 "t"。</p></td></tr><tr style="margin: 0px; padding: 0px; border: 0px;"><td style="border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); margin: 0px; padding: 5px; vertical-align: top;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">\b</span></font></td><td style="border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); margin: 0px; padding: 5px; vertical-align: top;"><p style="margin-bottom: 24px; padding: 0px; border: 0px;"><span style="font-weight: 700;"><font color="#ff0000">匹配一个零宽单词边界（zero-width word boundary），如一个字母与一个空格之间。 （不要和&nbsp;<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-style: inherit;">[\b]</span></font>&nbsp;混淆）</font></span></p><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;">例如，<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">/\bno/</span></font>&nbsp;匹配 "at noon" 中的 "no"，<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">/ly\b/</span></font>&nbsp;匹配 "possibly yesterday." 中的 "ly"。</p></td></tr><tr style="margin: 0px; padding: 0px; border: 0px;"><td style="border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); margin: 0px; padding: 5px; vertical-align: top;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">\B</span></font></td><td style="border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); margin: 0px; padding: 5px; vertical-align: top;"><p style="margin-bottom: 24px; padding: 0px; border: 0px;"><font color="#ff0000"><span style="font-weight: 700;">匹配一个零宽非单词边界（zero-width non-word boundary），如两个字母之间或两个空格之间。</span></font></p><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;">例如，<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">/\Bon/</span></font>&nbsp;匹配 "at noon" 中的 "on"，<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">/ye\B/</span></font>&nbsp;匹配 "possibly yesterday." 中的 "ye"。</p></td></tr></tbody></table><h3 id="blogTitle11"><span style="font-weight: 700;"><font color="#000000">分组（Grouping）与反向引用（back references）</font></span></h3><table style=""><tbody style="margin: 0px; padding: 0px; border: 0px;"><tr style="margin: 0px; padding: 0px; border: 0px;"><th style="">字符</th><th style="">含义</th></tr><tr style="margin: 0px; padding: 0px; border: 0px;"><td style="border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); margin: 0px; padding: 5px; vertical-align: top;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">(</span></font><span style="border-style: initial; border-color: initial; border-image: initial;">x</span>)</td><td style="border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); margin: 0px; padding: 5px; vertical-align: top;"><p style="margin-bottom: 24px; padding: 0px; border: 0px;"><span style="font-weight: 700;"><font color="#ff0000">匹配&nbsp;<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; border-image: initial; font-style: inherit;">x</span><span style="border-style: initial; border-color: initial;">&nbsp;并且捕获匹配项。 这被称为捕获括号（capturing parentheses）。</span></font></font></span></p><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;">例如，<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">/(foo)/</span></font>&nbsp;匹配且捕获 "foo bar." 中的 "foo"。被匹配的子字符串可以在结果数组的元素&nbsp;<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">[1], ..., [n]</span></font>&nbsp;中找到，或在被定义的&nbsp;<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">RegExp</span></font>&nbsp;对象的属性&nbsp;<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">$1, ..., $9</span></font>&nbsp;中找到。</p><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;">捕获组（Capturing groups）有性能惩罚。如果不需再次访问被匹配的子字符串，最好使用非捕获括号（non-capturing parentheses），见下面。</p></td></tr><tr style="margin: 0px; padding: 0px; border: 0px;"><td style="border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); margin: 0px; padding: 5px; vertical-align: top;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">\</span></font><span style="border-style: initial; border-color: initial; border-image: initial;">n</span></td><td style="border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); margin: 0px; padding: 5px; vertical-align: top;"><p style="margin-bottom: 24px; padding: 0px; border: 0px;"><span style="font-weight: 700;"><font color="#ff0000"><span style="border-style: initial; border-color: initial; border-image: initial;">n</span><span style="border-style: initial; border-color: initial;">&nbsp;是一个正整数。一个反向引用（back reference），指向正则表达式中第 n 个括号（从左开始数）中匹配的子字符串。</span></font></span></p><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;">例如，<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">/apple(,)\sorange\1/</span></font>&nbsp;匹配 "apple, orange, cherry, peach." 中的 "apple,orange,"。一个更全面的例子在该表格下面。</p></td></tr><tr style="margin: 0px; padding: 0px; border: 0px;"><td style="border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); margin: 0px; padding: 5px; vertical-align: top;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">(?:</span></font><span style="border-style: initial; border-color: initial; border-image: initial;">x</span>)</td><td style="border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); margin: 0px; padding: 5px; vertical-align: top;">匹配&nbsp;<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; border-image: initial; font-weight: inherit; font-style: inherit;">x</span><span style="border-style: initial; border-color: initial;">&nbsp;不会捕获匹配项。这被称为非捕获括号（non-capturing parentheses）。匹配项不能够从结果数组的元素&nbsp;</span><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">[1], ..., [n]</span></font>&nbsp;或已被定义的&nbsp;<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">RegExp</span></font>&nbsp;对象的属性&nbsp;<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">$1, ..., $9</span></font>&nbsp;再次访问到。</td></tr></tbody></table><h3 id="blogTitle12"><span style="font-weight: 700;"><font color="#000000">数量词（Quantifiers）</font></span></h3><table style=""><tbody style="margin: 0px; padding: 0px; border: 0px;"><tr style="margin: 0px; padding: 0px; border: 0px;"><th style="">字符</th><th style="">含义</th></tr><tr style="margin: 0px; padding: 0px; border: 0px;"><td style="border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); margin: 0px; padding: 5px; vertical-align: top;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; border-image: initial; font-weight: inherit; font-style: inherit;">x</span><span style="border-style: initial; border-color: initial;">*</span></font></td><td style="border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); margin: 0px; padding: 5px; vertical-align: top;"><p style="margin-bottom: 24px; padding: 0px; border: 0px;"><span style="font-weight: 700;"><font color="#ff0000">匹配前面的模式&nbsp;<span style="border-style: initial; border-color: initial; border-image: initial;">x</span>&nbsp;0 或多次。</font></span></p><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;">例如，<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">/bo*/</span></font>&nbsp;匹配 "A ghost booooed" 中的 "boooo"，"A bird warbled" 中的 "b"，但是不匹配 "A goat grunted"。</p></td></tr><tr style="margin: 0px; padding: 0px; border: 0px;"><td style="border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); margin: 0px; padding: 5px; vertical-align: top;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; border-image: initial; font-weight: inherit; font-style: inherit;">x</span><span style="border-style: initial; border-color: initial;">+</span></font></td><td style="border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); margin: 0px; padding: 5px; vertical-align: top;"><p style="margin-bottom: 24px; padding: 0px; border: 0px;"><span style="font-weight: 700;"><font color="#ff0000">匹配前面的模式&nbsp;<span style="border-style: initial; border-color: initial; border-image: initial;">x</span>&nbsp;1 或多次。等价于&nbsp;<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-style: inherit;">{1,}</span></font>。</font></span></p><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;">例如，<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">/a+/</span></font>&nbsp;匹配 "candy" 中的 "a"，"caaaaaaandy" 中所有的 "a"。</p></td></tr><tr style="margin: 0px; padding: 0px; border: 0px;"><td style="border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); margin: 0px; padding: 5px; vertical-align: top;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; border-image: initial; font-weight: inherit; font-style: inherit;">x</span><span style="border-style: initial; border-color: initial;">*?</span></font><br><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; border-image: initial; font-weight: inherit; font-style: inherit;">x</span><span style="border-style: initial; border-color: initial;">+?</span></font></td><td style="border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); margin: 0px; padding: 5px; vertical-align: top;"><p style="margin-bottom: 24px; padding: 0px; border: 0px;"><span style="font-weight: 700;"><font color="#ff0000">像上面的 * 和 + 一样匹配前面的模式&nbsp;<span style="border-style: initial; border-color: initial; border-image: initial;">x</span>，然而匹配是最小可能匹配。</font></span></p><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;">例如，<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">/".*?"/</span></font>&nbsp;匹配 '"foo" "bar"' 中的 '"foo"'，而 * 后面没有 ? 时匹配 '"foo" "bar"'。</p></td></tr><tr style="margin: 0px; padding: 0px; border: 0px;"><td style="border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); margin: 0px; padding: 5px; vertical-align: top;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; border-image: initial; font-weight: inherit; font-style: inherit;">x</span><span style="border-style: initial; border-color: initial;">?</span></font></td><td style="border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); margin: 0px; padding: 5px; vertical-align: top;"><p style="margin-bottom: 24px; padding: 0px; border: 0px;"><span style="font-weight: 700;"><font color="#ff0000">匹配前面的模式&nbsp;<span style="border-style: initial; border-color: initial; border-image: initial;">x</span>&nbsp;0 或 1 次。</font></span></p><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;">例如，<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">/e?le?/</span></font>&nbsp;匹配 "angel" 中的 "el"，"angle" 中的 "le"。</p><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;">如果在数量词&nbsp;<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">*</span></font>、<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">+</span></font>、<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">?</span></font>&nbsp;或&nbsp;<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">{}</span></font>, 任意一个后面紧跟该符号（?），会使数量词变为非贪婪（ non-greedy） ，即匹配次数最小化。反之，默认情况下，是贪婪的（greedy），即匹配次数最大化。</p><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;">在使用于向前断言（lookahead assertions）时，见该表格中&nbsp;<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">(?=)、(?!)</span></font>&nbsp;和&nbsp;<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">(?:)</span></font>&nbsp;的说明。</p></td></tr><tr style="margin: 0px; padding: 0px; border: 0px;"><td style="border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); margin: 0px; padding: 5px; vertical-align: top;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; border-image: initial; font-weight: inherit; font-style: inherit;">x</span><span style="border-style: initial; border-color: initial;">(?=</span></font><span style="border-style: initial; border-color: initial; border-image: initial;">y</span>)</td><td style="border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); margin: 0px; padding: 5px; vertical-align: top;"><font color="#ff0000"><span style="font-weight: 700;">只有当&nbsp;<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; border-image: initial; font-style: inherit;">x</span><span style="border-style: initial; border-color: initial;">&nbsp;后面紧跟着&nbsp;</span><span style="border-style: initial; border-color: initial; border-image: initial; font-style: inherit;">y</span><span style="border-style: initial; border-color: initial;">&nbsp;时，才匹配</span></font>&nbsp;<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; border-image: initial; font-style: inherit;">x</span></font></span></font><span style="border-style: initial; border-color: initial; border-image: initial;"><font color="#ff0000"><span style="font-weight: 700;">。<br></span></font>&nbsp;例如，</span><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">/Jack(?=Sprat)/</span></font>&nbsp;只有在 'Jack' 后面紧跟着 'Sprat' 时，才会匹配它。<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">/Jack(?=Sprat|Frost)/</span></font>&nbsp;只有在 'Jack' 后面紧跟着 'Sprat' 或 'Frost' 时，才会匹配它。然而，'Sprat' 或 'Frost' 都不是匹配结果的一部分。</td></tr><tr style="margin: 0px; padding: 0px; border: 0px;"><td style="border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); margin: 0px; padding: 5px; vertical-align: top;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; border-image: initial; font-weight: inherit; font-style: inherit;">x</span><span style="border-style: initial; border-color: initial;">(?!</span></font><span style="border-style: initial; border-color: initial; border-image: initial;">y</span>)</td><td style="border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); margin: 0px; padding: 5px; vertical-align: top;"><p style="margin-bottom: 24px; padding: 0px; border: 0px;"><span style="font-weight: 700;"><font color="#ff0000">只有当&nbsp;<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; border-image: initial; font-style: inherit;">x</span><span style="border-style: initial; border-color: initial;">&nbsp;后面不是紧跟着&nbsp;</span><span style="border-style: initial; border-color: initial; border-image: initial; font-style: inherit;">y</span><span style="border-style: initial; border-color: initial;">&nbsp;时，才匹配</span></font>&nbsp;<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; border-image: initial; font-style: inherit;">x</span><span style="border-style: initial; border-color: initial;">。</span></font></font></span></p><p style="margin-bottom: 24px; padding: 0px; border: 0px;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial;">例如，</span><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">/\d+(?!\.)/</span></font>&nbsp;只有当一个数字后面没有紧跟着一个小数点时，才会匹配该数字。</p><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">/\d+(?!\.)/.exec("3.141")</span></font>&nbsp;匹配 141 而不是 3.141。</p></td></tr><tr style="margin: 0px; padding: 0px; border: 0px;"><td style="border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); margin: 0px; padding: 5px; vertical-align: top;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; border-image: initial; font-weight: inherit; font-style: inherit;">x</span><span style="border-style: initial; border-color: initial;">|</span></font><span style="border-style: initial; border-color: initial; border-image: initial;">y</span></td><td style="border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); margin: 0px; padding: 5px; vertical-align: top;"><p style="margin-bottom: 24px; padding: 0px; border: 0px;"><span style="font-weight: 700;"><font color="#ff0000">匹配&nbsp;<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; border-image: initial; font-style: inherit;">x</span><span style="border-style: initial; border-color: initial;">&nbsp;或&nbsp;</span><span style="border-style: initial; border-color: initial; border-image: initial; font-style: inherit;">y</span></font></font></span></p><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;">例如，<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">/green|red/</span></font>&nbsp;匹配 "green apple" 中的 ‘green'，"red apple." 中的 'red'。</p></td></tr><tr style="margin: 0px; padding: 0px; border: 0px;"><td style="border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); margin: 0px; padding: 5px; vertical-align: top;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; border-image: initial; font-weight: inherit; font-style: inherit;">x</span><span style="border-style: initial; border-color: initial;">{</span></font><span style="border-style: initial; border-color: initial; border-image: initial;">n</span>}</td><td style="border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); margin: 0px; padding: 5px; vertical-align: top;"><p style="margin-bottom: 24px; padding: 0px; border: 0px;"><span style="font-weight: 700;"><font color="#ff0000"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; border-image: initial; font-style: inherit;">n</span><span style="border-style: initial; border-color: initial;">&nbsp;是一个正整数。前面的模式</span></font>&nbsp;<span style="border-style: initial; border-color: initial; border-image: initial;">x</span>&nbsp;连续出现 n 次时匹配。</font></span></p><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;">例如，<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">/a{2}/</span></font>&nbsp;不匹配 "candy," 中的 "a"，但是匹配 "caandy," 中的两个 "a"，且匹配 "caaandy." 中的前两个 "a"。</p></td></tr><tr style="margin: 0px; padding: 0px; border: 0px;"><td style="border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); margin: 0px; padding: 5px; vertical-align: top;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; border-image: initial; font-weight: inherit; font-style: inherit;">x</span><span style="border-style: initial; border-color: initial;">{</span></font><span style="border-style: initial; border-color: initial; border-image: initial;">n</span>,}</td><td style="border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); margin: 0px; padding: 5px; vertical-align: top;"><p style="margin-bottom: 24px; padding: 0px; border: 0px;"><span style="font-weight: 700;"><font color="#ff0000"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; border-image: initial; font-style: inherit;">n</span><span style="border-style: initial; border-color: initial;">&nbsp;是一个正整数。前面的模式&nbsp;</span></font><span style="border-style: initial; border-color: initial; border-image: initial;">x</span>&nbsp;连续出现至少 n 次时匹配。</font></span></p><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;">例如，<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">/a{2,}/</span></font>&nbsp;不匹配 "candy" 中的 "a"，但是匹配 "caandy" 和 "caaaaaaandy." 中所有的 "a"。</p></td></tr><tr style="margin: 0px; padding: 0px; border: 0px;"><td style="border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); margin: 0px; padding: 5px; vertical-align: top;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; border-image: initial; font-weight: inherit; font-style: inherit;">x</span><span style="border-style: initial; border-color: initial;">{</span></font><span style="border-style: initial; border-color: initial; border-image: initial;">n</span>,<span style="border-style: initial; border-color: initial; border-image: initial;">m</span>}</td><td style="border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); margin: 0px; padding: 5px; vertical-align: top;"><p style="margin-bottom: 24px; padding: 0px; border: 0px;"><font face="consolas, Liberation Mono, courier, monospace" color="#ff0000"><span style="font-weight: 700;"><span style="border-style: initial; border-color: initial; border-image: initial; font-style: inherit;">n</span><span style="border-style: initial; border-color: initial;">&nbsp;和&nbsp;</span><span style="border-style: initial; border-color: initial; border-image: initial; font-style: inherit;">m</span><span style="border-style: initial; border-color: initial;">&nbsp;为正整数。前面的模式 x 连续出现至少 n 次，至多 m 次时匹配。</span></span></font></p><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;">例如，<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">/a{1,3}/</span></font>&nbsp;不匹配 "cndy"，匹配 "candy," 中的 "a"，"caandy," 中的两个 "a"，匹配 "caaaaaaandy" 中的前面三个 "a"。注意，当匹配 "caaaaaaandy" 时，即使原始字符串拥有更多的 "a"，匹配项也是 "aaa"。</p></td></tr></tbody></table><div><span style="font-weight: 700;"><br></span></div><div><span style="font-weight: 700;"><br></span></div><div><h2><b>字符串的正则方法</b></h2><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">字符串对象共有 4 个方法，可以使用正则表达式：<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">match()</code>、<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">replace()</code>、<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">search()</code>和<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">split()</code>。</p><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">ES6 将这 4 个方法，在语言内部全部调用<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">RegExp</code>的实例方法，从而做到所有与正则相关的方法，全都定义在<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">RegExp</code>对象上。</p><ul style="list-style-type: none; padding-top: 0.5rem; padding-bottom: 0.5rem; color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;"><li style="text-indent: -5px; font-size: 0.8rem;"><code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">String.prototype.match</code>&nbsp;调用&nbsp;<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">RegExp.prototype[Symbol.match]</code></li><li style="text-indent: -5px; font-size: 0.8rem;"><code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">String.prototype.replace</code>&nbsp;调用&nbsp;<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">RegExp.prototype[Symbol.replace]</code></li><li style="text-indent: -5px; font-size: 0.8rem;"><code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">String.prototype.search</code>&nbsp;调用&nbsp;<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">RegExp.prototype[Symbol.search]</code></li><li style="text-indent: -5px; font-size: 0.8rem;"><code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">String.prototype.split</code>&nbsp;调用&nbsp;<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">RegExp.prototype[Symbol.split]</code></li></ul></div><div><span style="font-weight: 700;"><br></span></div><h2><b>后行断言</b></h2><div><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">JavaScript 语言的正则表达式，只支持先行断言（lookahead）和先行否定断言（negative lookahead），不支持后行断言（lookbehind）和后行否定断言（negative lookbehind）。目前，有一个<a href="https://github.com/goyakin/es-regexp-lookbehind" style="background-position: initial; color: rgb(70, 130, 190);">提案</a>，引入后行断言，V8 引擎 4.9 版已经支持。</p><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">”先行断言“指的是，<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">x</code>只有在<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">y</code>前面才匹配，必须写成<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">/x(?=y)/</code>。比如，只匹配百分号之前的数字，要写成<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">/\d+(?=%)/</code>。”先行否定断言“指的是，<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">x</code>只有不在<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">y</code>前面才匹配，必须写成<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">/x(?!y)/</code>。比如，只匹配不在百分号之前的数字，要写成<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">/\d+(?!%)/</code>。</p><pre class=" language-javascript" style="font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; font-size: 14.336px; color: rgb(255, 255, 255); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; padding-right: 1em; padding-left: 0.7rem; margin: 0.5em auto; border-radius: 5px; background-color: rgb(17, 17, 17); line-height: 1.2;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;"><span class="token regex" style="color: rgb(253, 151, 31);">/\d+(?=%)/</span><span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">exec<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span><span class="token string">'100% of US presidents have been male'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span> <span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // ["100"]
</span><span class="token regex" style="color: rgb(253, 151, 31);">/\d+(?!%)/</span><span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">exec<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span><span class="token string">'that’s all 44 of them'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span>                <span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // ["44"]
</span></code></pre><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">上面两个字符串，如果互换正则表达式，就不会得到相同结果。另外，还可以看到，”先行断言“括号之中的部分（<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">(?=%)</code>），是不计入返回结果的。</p><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">“后行断言”正好与“先行断言”相反，<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">x</code>只有在<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">y</code>后面才匹配，必须写成<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">/(?&lt;=y)x/</code>。比如，只匹配美元符号之后的数字，要写成<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">/(?&lt;=\$)\d+/</code>。”后行否定断言“则与”先行否定断言“相反，<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">x</code>只有不在<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">y</code>后面才匹配，必须写成<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">/(?&lt;!y)x/</code>。比如，只匹配不在美元符号后面的数字，要写成<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">/(?&lt;!\$)\d+/</code>。</p><pre class=" language-javascript" style="font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; font-size: 14.336px; color: rgb(255, 255, 255); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; padding-right: 1em; padding-left: 0.7rem; margin: 0.5em auto; border-radius: 5px; background-color: rgb(17, 17, 17); line-height: 1.2;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;"><span class="token regex" style="color: rgb(253, 151, 31);">/(?&lt;=\$)\d+/</span><span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">exec<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span><span class="token string">'Benjamin Franklin is on the $100 bill'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span> <span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // ["100"]
</span><span class="token regex" style="color: rgb(253, 151, 31);">/(?&lt;!\$)\d+/</span><span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">exec<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span><span class="token string">'it’s is worth about €90'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span>               <span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // ["90"]
</span></code></pre><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">上面的例子中，“后行断言”的括号之中的部分（<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">(?&lt;=\$)</code>），也是不计入返回结果。</p><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">下面的例子是使用后行断言进行字符串替换。</p><pre class=" language-javascript" style="font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; font-size: 14.336px; color: rgb(255, 255, 255); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; padding-right: 1em; padding-left: 0.7rem; margin: 0.5em auto; border-radius: 5px; background-color: rgb(17, 17, 17); line-height: 1.2;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;">const RE_DOLLAR_PREFIX <span class="token operator" style="color: rgb(249, 38, 114);">=</span> <span class="token regex" style="color: rgb(253, 151, 31);">/(?&lt;=\$)foo/g</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
<span class="token string">'$foo %foo foo'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">replace<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span>RE_DOLLAR_PREFIX<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> <span class="token string">'bar'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);">
// '$bar %foo foo'
</span></code></pre><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">上面代码中，只有在美元符号后面的<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">foo</code>才会被替换。</p><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">“后行断言”的实现，需要先匹配<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">/(?&lt;=y)x/</code>的<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">x</code>，然后再回到左边，匹配<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">y</code>的部分。这种“先右后左”的执行顺序，与所有其他正则操作相反，导致了一些不符合预期的行为。</p><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">首先，”后行断言“的组匹配，与正常情况下结果是不一样的。</p><pre class=" language-javascript" style="font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; font-size: 14.336px; color: rgb(255, 255, 255); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; padding-right: 1em; padding-left: 0.7rem; margin: 0.5em auto; border-radius: 5px; background-color: rgb(17, 17, 17); line-height: 1.2;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;"><span class="token regex" style="color: rgb(253, 151, 31);">/(?&lt;=(\d+)(\d+))$/</span><span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">exec<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span><span class="token string">'1053'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // ["", "1", "053"]
</span><span class="token regex" style="color: rgb(253, 151, 31);">/^(\d+)(\d+)$/</span><span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">exec<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span><span class="token string">'1053'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // ["1053", "105", "3"]
</span></code></pre><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">上面代码中，需要捕捉两个组匹配。没有"后行断言"时，第一个括号是贪婪模式，第二个括号只能捕获一个字符，所以结果是<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">105</code>和<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">3</code>。而"后行断言"时，由于执行顺序是从右到左，第二个括号是贪婪模式，第一个括号只能捕获一个字符，所以结果是<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">1</code>和<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">053</code>。</p><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">其次，"后行断言"的反斜杠引用，也与通常的顺序相反，必须放在对应的那个括号之前。</p><pre class=" language-javascript" style="font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; font-size: 14.336px; color: rgb(255, 255, 255); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; padding-right: 1em; padding-left: 0.7rem; margin: 0.5em auto; border-radius: 5px; background-color: rgb(17, 17, 17); line-height: 1.2;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;"><span class="token regex" style="color: rgb(253, 151, 31);">/(?&lt;=(o)d\1)r/</span><span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">exec<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span><span class="token string">'hodor'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span> <span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // null
</span><span class="token regex" style="color: rgb(253, 151, 31);">/(?&lt;=\1d(o))r/</span><span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">exec<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span><span class="token string">'hodor'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span> <span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // ["r", "o"]
</span></code></pre><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">上面代码中，如果后行断言的反斜杠引用（<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">\1</code>）放在括号的后面，就不会得到匹配结果，必须放在前面才可以。因为后行断言是先从左到右扫描，发现匹配以后再回过头，从右到左完成反斜杠引用。</p></div><h2><b>Unicode 属性类</b></h2><div><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">目前，有一个<a href="https://github.com/mathiasbynens/es-regexp-unicode-property-escapes" style="background-position: initial; color: rgb(70, 130, 190);">提案</a>，引入了一种新的类的写法<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">\p{...}</code>和<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">\P{...}</code>，允许正则表达式匹配符合 Unicode 某种属性的所有字符。</p><pre class=" language-javascript" style="font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; font-size: 14.336px; color: rgb(255, 255, 255); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; padding-right: 1em; padding-left: 0.7rem; margin: 0.5em auto; border-radius: 5px; background-color: rgb(17, 17, 17); line-height: 1.2;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;">const regexGreekSymbol <span class="token operator" style="color: rgb(249, 38, 114);">=</span> <span class="token operator" style="color: rgb(249, 38, 114);">/</span>\p<span class="token punctuation" style="color: rgb(248, 248, 242);">{</span>Script<span class="token operator" style="color: rgb(249, 38, 114);">=</span>Greek<span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token operator" style="color: rgb(249, 38, 114);">/</span>u<span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
regexGreekSymbol<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">test<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span><span class="token string">'π'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // true
</span></code></pre><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">上面代码中，<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">\p{Script=Greek}</code>指定匹配一个希腊文字母，所以匹配<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">π</code>成功。</p><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">Unicode 属性类要指定属性名和属性值。</p><pre class=" language-javascript" style="font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; font-size: 14.336px; color: rgb(255, 255, 255); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; padding-right: 1em; padding-left: 0.7rem; margin: 0.5em auto; border-radius: 5px; background-color: rgb(17, 17, 17); line-height: 1.2;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;">\p<span class="token punctuation" style="color: rgb(248, 248, 242);">{</span>UnicodePropertyName<span class="token operator" style="color: rgb(249, 38, 114);">=</span>UnicodePropertyValue<span class="token punctuation" style="color: rgb(248, 248, 242);">}</span>
</code></pre><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">对于某些属性，可以只写属性名。</p><pre class=" language-javascript" style="font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; font-size: 14.336px; color: rgb(255, 255, 255); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; padding-right: 1em; padding-left: 0.7rem; margin: 0.5em auto; border-radius: 5px; background-color: rgb(17, 17, 17); line-height: 1.2;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;">\p<span class="token punctuation" style="color: rgb(248, 248, 242);">{</span>UnicodePropertyName<span class="token punctuation" style="color: rgb(248, 248, 242);">}</span>
</code></pre><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;"><code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">\P{…}</code>是<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">\p{…}</code>的反向匹配，即匹配不满足条件的字符。</p><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">注意，这两种类只对 Unicode 有效，所以使用的时候一定要加上<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">u</code>修饰符。如果不加<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">u</code>修饰符，正则表达式使用<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">\p</code>和<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">\P</code>会报错，ECMAScript 预留了这两个类。</p><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">由于 Unicode 的各种属性非常多，所以这种新的类的表达能力非常强。</p><pre class=" language-javascript" style="font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; font-size: 14.336px; color: rgb(255, 255, 255); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; padding-right: 1em; padding-left: 0.7rem; margin: 0.5em auto; border-radius: 5px; background-color: rgb(17, 17, 17); line-height: 1.2;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;">const regex <span class="token operator" style="color: rgb(249, 38, 114);">=</span> <span class="token operator" style="color: rgb(249, 38, 114);">/</span><span class="token operator" style="color: rgb(249, 38, 114);">^</span>\p<span class="token punctuation" style="color: rgb(248, 248, 242);">{</span>Decimal_Number<span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token operator" style="color: rgb(249, 38, 114);">+</span>$<span class="token operator" style="color: rgb(249, 38, 114);">/</span>u<span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
regex<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">test<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span><span class="token string">'𝟏𝟐𝟑𝟜𝟝𝟞𝟩𝟪𝟫𝟬𝟭𝟮𝟯𝟺𝟻𝟼'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // true
</span></code></pre><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">上面代码中，属性类指定匹配所有十进制字符，可以看到各种字型的十进制字符都会匹配成功。</p><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;"><code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">\p{Number}</code>甚至能匹配罗马数字。</p><pre class=" language-javascript" style="font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; font-size: 14.336px; color: rgb(255, 255, 255); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; padding-right: 1em; padding-left: 0.7rem; margin: 0.5em auto; border-radius: 5px; background-color: rgb(17, 17, 17); line-height: 1.2;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;"><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);">// 匹配所有数字
</span>const regex <span class="token operator" style="color: rgb(249, 38, 114);">=</span> <span class="token operator" style="color: rgb(249, 38, 114);">/</span><span class="token operator" style="color: rgb(249, 38, 114);">^</span>\p<span class="token punctuation" style="color: rgb(248, 248, 242);">{</span>Number<span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token operator" style="color: rgb(249, 38, 114);">+</span>$<span class="token operator" style="color: rgb(249, 38, 114);">/</span>u<span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
regex<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">test<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span><span class="token string">'²³¹¼½¾'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // true
</span>regex<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">test<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span><span class="token string">'㉛㉜㉝'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // true
</span>regex<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">test<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span><span class="token string">'ⅠⅡⅢⅣⅤⅥⅦⅧⅨⅩⅪⅫ'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // true
</span></code></pre><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">下面是其他一些例子。</p><pre class=" language-javascript" style="font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; font-size: 14.336px; color: rgb(255, 255, 255); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; padding-right: 1em; padding-left: 0.7rem; margin: 0.5em auto; border-radius: 5px; background-color: rgb(17, 17, 17); line-height: 1.2;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;"><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);">// 匹配各种文字的所有字母，等同于 Unicode 版的 \w
</span><span class="token punctuation" style="color: rgb(248, 248, 242);">[</span>\p<span class="token punctuation" style="color: rgb(248, 248, 242);">{</span>Alphabetic<span class="token punctuation" style="color: rgb(248, 248, 242);">}</span>\p<span class="token punctuation" style="color: rgb(248, 248, 242);">{</span>Mark<span class="token punctuation" style="color: rgb(248, 248, 242);">}</span>\p<span class="token punctuation" style="color: rgb(248, 248, 242);">{</span>Decimal_Number<span class="token punctuation" style="color: rgb(248, 248, 242);">}</span>\p<span class="token punctuation" style="color: rgb(248, 248, 242);">{</span>Connector_Punctuation<span class="token punctuation" style="color: rgb(248, 248, 242);">}</span>\p<span class="token punctuation" style="color: rgb(248, 248, 242);">{</span>Join_Control<span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token punctuation" style="color: rgb(248, 248, 242);">]</span>
<span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);">
// 匹配各种文字的所有非字母的字符，等同于 Unicode 版的 \W
</span><span class="token punctuation" style="color: rgb(248, 248, 242);">[</span><span class="token operator" style="color: rgb(249, 38, 114);">^</span>\p<span class="token punctuation" style="color: rgb(248, 248, 242);">{</span>Alphabetic<span class="token punctuation" style="color: rgb(248, 248, 242);">}</span>\p<span class="token punctuation" style="color: rgb(248, 248, 242);">{</span>Mark<span class="token punctuation" style="color: rgb(248, 248, 242);">}</span>\p<span class="token punctuation" style="color: rgb(248, 248, 242);">{</span>Decimal_Number<span class="token punctuation" style="color: rgb(248, 248, 242);">}</span>\p<span class="token punctuation" style="color: rgb(248, 248, 242);">{</span>Connector_Punctuation<span class="token punctuation" style="color: rgb(248, 248, 242);">}</span>\p<span class="token punctuation" style="color: rgb(248, 248, 242);">{</span>Join_Control<span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token punctuation" style="color: rgb(248, 248, 242);">]</span>
<span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);">
// 匹配所有的箭头字符
</span>const regexArrows <span class="token operator" style="color: rgb(249, 38, 114);">=</span> <span class="token operator" style="color: rgb(249, 38, 114);">/</span><span class="token operator" style="color: rgb(249, 38, 114);">^</span>\p<span class="token punctuation" style="color: rgb(248, 248, 242);">{</span>Block<span class="token operator" style="color: rgb(249, 38, 114);">=</span>Arrows<span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token operator" style="color: rgb(249, 38, 114);">+</span>$<span class="token operator" style="color: rgb(249, 38, 114);">/</span>u<span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
regexArrows<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">test<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span><span class="token string">'←↑→↓↔↕↖↗↘↙⇏⇐⇑⇒⇓⇔⇕⇖⇗⇘⇙⇧⇩'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // true</span></code></pre></div><div><span style="font-weight: 700;"><br></span></div><h2><b>具名组匹配</b></h2><div><h3 id="简介" class="简介" style="margin-top: 50px; margin-bottom: 0px; padding-top: 20px; padding-bottom: 0px; border-top: 1px dotted rgb(119, 119, 119); color: rgb(51, 51, 51); font-family: Verdana, Arial;">简介</h3><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">正则表达式使用圆括号进行组匹配。</p><pre class=" language-javascript" style="font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; font-size: 14.336px; color: rgb(255, 255, 255); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; padding-right: 1em; padding-left: 0.7rem; margin: 0.5em auto; border-radius: 5px; background-color: rgb(17, 17, 17); line-height: 1.2;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;">const RE_DATE <span class="token operator" style="color: rgb(249, 38, 114);">=</span> <span class="token regex" style="color: rgb(253, 151, 31);">/(\d{4})-(\d{2})-(\d{2})/</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
</code></pre><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">上面代码中，正则表达式里面有三组圆括号。使用<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">exec</code>方法，就可以将这三组匹配结果提取出来。</p><pre class=" language-javascript" style="font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; font-size: 14.336px; color: rgb(255, 255, 255); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; padding-right: 1em; padding-left: 0.7rem; margin: 0.5em auto; border-radius: 5px; background-color: rgb(17, 17, 17); line-height: 1.2;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;">const matchObj <span class="token operator" style="color: rgb(249, 38, 114);">=</span> RE_DATE<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">exec<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span><span class="token string">'1999-12-31'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
const year <span class="token operator" style="color: rgb(249, 38, 114);">=</span> matchObj<span class="token punctuation" style="color: rgb(248, 248, 242);">[</span><span class="token number" style="color: rgb(174, 129, 255);">1</span><span class="token punctuation" style="color: rgb(248, 248, 242);">]</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // 1999
</span>const month <span class="token operator" style="color: rgb(249, 38, 114);">=</span> matchObj<span class="token punctuation" style="color: rgb(248, 248, 242);">[</span><span class="token number" style="color: rgb(174, 129, 255);">2</span><span class="token punctuation" style="color: rgb(248, 248, 242);">]</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // 12
</span>const day <span class="token operator" style="color: rgb(249, 38, 114);">=</span> matchObj<span class="token punctuation" style="color: rgb(248, 248, 242);">[</span><span class="token number" style="color: rgb(174, 129, 255);">3</span><span class="token punctuation" style="color: rgb(248, 248, 242);">]</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // 31
</span></code></pre><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">组匹配的一个问题是，每一组的匹配含义不容易看出来，而且只能用数字序号引用，要是组的顺序变了，引用的时候就必须修改序号。</p><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">现在有一个“具名组匹配”（Named Capture Groups）的<a href="https://github.com/tc39/proposal-regexp-named-groups" style="background-position: initial; color: rgb(70, 130, 190);">提案</a>，允许为每一个组匹配指定一个名字，既便于阅读代码，又便于引用。</p><pre class=" language-javascript" style="font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; font-size: 14.336px; color: rgb(255, 255, 255); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; padding-right: 1em; padding-left: 0.7rem; margin: 0.5em auto; border-radius: 5px; background-color: rgb(17, 17, 17); line-height: 1.2;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;">const RE_DATE <span class="token operator" style="color: rgb(249, 38, 114);">=</span> <span class="token regex" style="color: rgb(253, 151, 31);">/(?&lt;year&gt;\d{4})-(?&lt;month&gt;\d{2})-(?&lt;day&gt;\d{2})/</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>

const matchObj <span class="token operator" style="color: rgb(249, 38, 114);">=</span> RE_DATE<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">exec<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span><span class="token string">'1999-12-31'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
const year <span class="token operator" style="color: rgb(249, 38, 114);">=</span> matchObj<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span>groups<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span>year<span class="token punctuation" style="color: rgb(248, 248, 242);">;</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // 1999
</span>const month <span class="token operator" style="color: rgb(249, 38, 114);">=</span> matchObj<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span>groups<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span>month<span class="token punctuation" style="color: rgb(248, 248, 242);">;</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // 12
</span>const day <span class="token operator" style="color: rgb(249, 38, 114);">=</span> matchObj<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span>groups<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span>day<span class="token punctuation" style="color: rgb(248, 248, 242);">;</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // 31
</span></code></pre><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">上面代码中，“具名组匹配”在圆括号内部，模式的头部添加“问号 + 尖括号 + 组名”（<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">?&lt;year&gt;</code>），然后就可以在<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">exec</code>方法返回结果的<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">groups</code>属性上引用该组名。同时，数字序号（<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">matchObj[1]</code>）依然有效。</p><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">具名组匹配等于为每一组匹配加上了 ID，便于描述匹配的目的。如果组的顺序变了，也不用改变匹配后的处理代码。</p><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">如果具名组没有匹配，那么对应的<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">groups</code>对象属性会是<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">undefined</code>。</p><pre class=" language-javascript" style="font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; font-size: 14.336px; color: rgb(255, 255, 255); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; padding-right: 1em; padding-left: 0.7rem; margin: 0.5em auto; border-radius: 5px; background-color: rgb(17, 17, 17); line-height: 1.2;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;">const RE_OPT_A <span class="token operator" style="color: rgb(249, 38, 114);">=</span> <span class="token regex" style="color: rgb(253, 151, 31);">/^(?&lt;as&gt;a+)?$/</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
const matchObj <span class="token operator" style="color: rgb(249, 38, 114);">=</span> RE_OPT_A<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">exec<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span><span class="token string">''</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>

matchObj<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span>groups<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span>as<span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // undefined
</span><span class="token string">'as'</span> <span class="token keyword" style="color: rgb(102, 217, 239);">in</span> matchObj<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span>groups<span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // true
</span></code></pre><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">上面代码中，具名组<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">as</code>没有找到匹配，那么<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">matchObj.groups.as</code>属性值就是<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">undefined</code>，并且<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">as</code>这个键名在<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">groups</code>是始终存在的。</p><h3 id="解构赋值和替换" class="解构赋值和替换" style="margin-top: 50px; margin-bottom: 0px; padding-top: 20px; padding-bottom: 0px; border-top: 1px dotted rgb(119, 119, 119); color: rgb(51, 51, 51); font-family: Verdana, Arial;">解构赋值和替换</h3><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">有了具名组匹配以后，可以使用解构赋值直接从匹配结果上为变量赋值。</p><pre class=" language-javascript" style="font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; font-size: 14.336px; color: rgb(255, 255, 255); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; padding-right: 1em; padding-left: 0.7rem; margin: 0.5em auto; border-radius: 5px; background-color: rgb(17, 17, 17); line-height: 1.2;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;"><span class="token keyword" style="color: rgb(102, 217, 239);">let</span> <span class="token punctuation" style="color: rgb(248, 248, 242);">{</span>groups<span class="token punctuation" style="color: rgb(248, 248, 242);">:</span> <span class="token punctuation" style="color: rgb(248, 248, 242);">{</span>one<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> two<span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token punctuation" style="color: rgb(248, 248, 242);">}</span> <span class="token operator" style="color: rgb(249, 38, 114);">=</span> <span class="token operator" style="color: rgb(249, 38, 114);">/</span><span class="token operator" style="color: rgb(249, 38, 114);">^</span><span class="token punctuation" style="color: rgb(248, 248, 242);">(</span><span class="token operator" style="color: rgb(249, 38, 114);">?</span><span class="token operator" style="color: rgb(249, 38, 114);">&lt;</span>one<span class="token operator" style="color: rgb(249, 38, 114);">&gt;</span><span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token operator" style="color: rgb(249, 38, 114);">*</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span><span class="token punctuation" style="color: rgb(248, 248, 242);">(</span><span class="token operator" style="color: rgb(249, 38, 114);">?</span><span class="token operator" style="color: rgb(249, 38, 114);">&lt;</span>two<span class="token operator" style="color: rgb(249, 38, 114);">&gt;</span><span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token operator" style="color: rgb(249, 38, 114);">*</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span>$<span class="token operator" style="color: rgb(249, 38, 114);">/</span>u<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">exec<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span><span class="token string">'foo:bar'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
one <span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // foo
</span>two <span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // bar
</span></code></pre><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">字符串替换时，使用<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">$&lt;组名&gt;</code>引用具名组。</p><pre class=" language-javascript" style="font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; font-size: 14.336px; color: rgb(255, 255, 255); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; padding-right: 1em; padding-left: 0.7rem; margin: 0.5em auto; border-radius: 5px; background-color: rgb(17, 17, 17); line-height: 1.2;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;"><span class="token keyword" style="color: rgb(102, 217, 239);">let</span> re <span class="token operator" style="color: rgb(249, 38, 114);">=</span> <span class="token operator" style="color: rgb(249, 38, 114);">/</span><span class="token punctuation" style="color: rgb(248, 248, 242);">(</span><span class="token operator" style="color: rgb(249, 38, 114);">?</span><span class="token operator" style="color: rgb(249, 38, 114);">&lt;</span>year<span class="token operator" style="color: rgb(249, 38, 114);">&gt;</span>\d<span class="token punctuation" style="color: rgb(248, 248, 242);">{</span><span class="token number" style="color: rgb(174, 129, 255);">4</span><span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token operator" style="color: rgb(249, 38, 114);">-</span><span class="token punctuation" style="color: rgb(248, 248, 242);">(</span><span class="token operator" style="color: rgb(249, 38, 114);">?</span><span class="token operator" style="color: rgb(249, 38, 114);">&lt;</span>month<span class="token operator" style="color: rgb(249, 38, 114);">&gt;</span>\d<span class="token punctuation" style="color: rgb(248, 248, 242);">{</span><span class="token number" style="color: rgb(174, 129, 255);">2</span><span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token operator" style="color: rgb(249, 38, 114);">-</span><span class="token punctuation" style="color: rgb(248, 248, 242);">(</span><span class="token operator" style="color: rgb(249, 38, 114);">?</span><span class="token operator" style="color: rgb(249, 38, 114);">&lt;</span>day<span class="token operator" style="color: rgb(249, 38, 114);">&gt;</span>\d<span class="token punctuation" style="color: rgb(248, 248, 242);">{</span><span class="token number" style="color: rgb(174, 129, 255);">2</span><span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token operator" style="color: rgb(249, 38, 114);">/</span>u<span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>

<span class="token string">'2015-01-02'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">replace<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span>re<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> <span class="token string">'$&lt;day&gt;/$&lt;month&gt;/$&lt;year&gt;'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);">
// '02/01/2015'
</span></code></pre><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">上面代码中，<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">replace</code>方法的第二个参数是一个字符串，而不是正则表达式。</p><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;"><code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">replace</code>方法的第二个参数也可以是函数，该函数的参数序列如下。</p><pre class=" language-javascript" style="font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; font-size: 14.336px; color: rgb(255, 255, 255); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; padding-right: 1em; padding-left: 0.7rem; margin: 0.5em auto; border-radius: 5px; background-color: rgb(17, 17, 17); line-height: 1.2;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;"><span class="token string">'2015-01-02'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">replace<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span>re<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> <span class="token punctuation" style="color: rgb(248, 248, 242);">(</span>
   matched<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // 整个匹配结果 2015-01-02
</span>   capture1<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // 第一个组匹配 2015
</span>   capture2<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // 第二个组匹配 01
</span>   capture3<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // 第三个组匹配 02
</span>   position<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // 匹配开始的位置 0
</span>   S<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // 原字符串 2015-01-02
</span>   groups<span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // 具名组构成的一个对象 {year, month, day}
</span> <span class="token punctuation" style="color: rgb(248, 248, 242);">)</span> <span class="token operator" style="color: rgb(249, 38, 114);">=</span><span class="token operator" style="color: rgb(249, 38, 114);">&gt;</span> <span class="token punctuation" style="color: rgb(248, 248, 242);">{</span>
 <span class="token keyword" style="color: rgb(102, 217, 239);">let</span> <span class="token punctuation" style="color: rgb(248, 248, 242);">{</span>day<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> month<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> year<span class="token punctuation" style="color: rgb(248, 248, 242);">}</span> <span class="token operator" style="color: rgb(249, 38, 114);">=</span> args<span class="token punctuation" style="color: rgb(248, 248, 242);">[</span>args<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span>length <span class="token operator" style="color: rgb(249, 38, 114);">-</span> <span class="token number" style="color: rgb(174, 129, 255);">1</span><span class="token punctuation" style="color: rgb(248, 248, 242);">]</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
 <span class="token keyword" style="color: rgb(102, 217, 239);">return</span> `$<span class="token punctuation" style="color: rgb(248, 248, 242);">{</span>day<span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token operator" style="color: rgb(249, 38, 114);">/</span>$<span class="token punctuation" style="color: rgb(248, 248, 242);">{</span>month<span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token operator" style="color: rgb(249, 38, 114);">/</span>$<span class="token punctuation" style="color: rgb(248, 248, 242);">{</span>year<span class="token punctuation" style="color: rgb(248, 248, 242);">}</span>`<span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
<span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
</code></pre><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">具名组匹配在原来的基础上，新增了最后一个函数参数：具名组构成的一个对象。函数内部可以直接对这个对象进行解构赋值。</p><h3 id="引用" class="引用" style="margin-top: 50px; margin-bottom: 0px; padding-top: 20px; padding-bottom: 0px; border-top: 1px dotted rgb(119, 119, 119); color: rgb(51, 51, 51); font-family: Verdana, Arial;">引用</h3><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">如果要在正则表达式内部引用某个“具名组匹配”，可以使用<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">\k&lt;组名&gt;</code>的写法。</p><pre class=" language-javascript" style="font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; font-size: 14.336px; color: rgb(255, 255, 255); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; padding-right: 1em; padding-left: 0.7rem; margin: 0.5em auto; border-radius: 5px; background-color: rgb(17, 17, 17); line-height: 1.2;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;">const RE_TWICE <span class="token operator" style="color: rgb(249, 38, 114);">=</span> <span class="token regex" style="color: rgb(253, 151, 31);">/^(?&lt;word&gt;[a-z]+)!\k&lt;word&gt;$/</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
RE_TWICE<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">test<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span><span class="token string">'abc!abc'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // true
</span>RE_TWICE<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">test<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span><span class="token string">'abc!ab'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // false
</span></code></pre><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">数字引用（<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">\1</code>）依然有效。</p><pre class=" language-javascript" style="font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; font-size: 14.336px; color: rgb(255, 255, 255); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; padding-right: 1em; padding-left: 0.7rem; margin: 0.5em auto; border-radius: 5px; background-color: rgb(17, 17, 17); line-height: 1.2;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;">const RE_TWICE <span class="token operator" style="color: rgb(249, 38, 114);">=</span> <span class="token regex" style="color: rgb(253, 151, 31);">/^(?&lt;word&gt;[a-z]+)!\1$/</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
RE_TWICE<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">test<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span><span class="token string">'abc!abc'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // true
</span>RE_TWICE<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">test<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span><span class="token string">'abc!ab'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // false
</span></code></pre><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">这两种引用语法还可以同时使用。</p><pre class=" language-javascript" style="font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; font-size: 14.336px; color: rgb(255, 255, 255); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; padding-right: 1em; padding-left: 0.7rem; margin: 0.5em auto; border-radius: 5px; background-color: rgb(17, 17, 17); line-height: 1.2;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;">const RE_TWICE <span class="token operator" style="color: rgb(249, 38, 114);">=</span> <span class="token regex" style="color: rgb(253, 151, 31);">/^(?&lt;word&gt;[a-z]+)!\k&lt;word&gt;!\1$/</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
RE_TWICE<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">test<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span><span class="token string">'abc!abc!abc'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // true
</span>RE_TWICE<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">test<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span><span class="token string">'abc!abc!ab'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // false</span></code></pre></div><div><span style="font-weight: 700;"><br></span></div><div><h2 id="blogTitle20" style="margin-bottom: 12px; line-height: 1; word-wrap: break-word; padding: 0px; border: 0px;"><span style="font-weight: 700;">编写一个正则表达式的模式</span></h2><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;">一个正则表达式模式是由简单的字符所构成的，比如<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">/abc/</span></font>, 或者是简单和特殊字符的组合，比如&nbsp;<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">/ab*c/</span></font>&nbsp;或&nbsp;<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">/Chapter (\d+)\.\d*/。后者</span></font>用到了括号，它在正则表达式中可以被用作是一个记忆设备。这一部分正则所匹配的字符将会被记住，在后面可以被利用。正如&nbsp;<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Regular_Expressions#使用括号的子字符串匹配" style="margin: 0px; padding: 0px; border: 0px;">使用括号的子字符串匹配</a></p><h3 id="blogTitle21" style="margin-top: 0px; margin-bottom: 12px; line-height: 1; word-wrap: break-word; padding: 0px; border: 0px;"><span style="font-weight: 700;">使用简单的模式</span></h3><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;">简单的模式是有你找到的直接匹配所构成的。比如，<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">/abc/</span></font>这个模式就匹配了在一个字符串中，仅仅字符 'abc' 同时出现并按照这个顺序。在 "Hi, do you know your abc's?" 和 "The latest airplane designs evolved from slabcraft." 就会匹配成功。在上面的两个实例中，匹配的是子字符串 'abc'。在字符串 "Grab crab" 中将不会被匹配，因为它不包含任何的 'abc' 子字符串。</p><h3 id="blogTitle22" style="margin-top: 0px; margin-bottom: 12px; line-height: 1; word-wrap: break-word; padding: 0px; border: 0px;"><span style="font-weight: 700;">使用特殊字符</span></h3><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;">当你需要搜索一个比直接匹配需要更多条件的匹配时，比如寻找一个或多个 'b'，或者寻找空格，那么这时模式将要包含特殊字符。比如， 模式<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">/ab*c/</span></font>匹配了一个单独的 'a'&nbsp;后面跟了零个或者多个 'b'（*的意思是前面一项出现了零个或者多个），且后面跟着 'c'&nbsp;的任何字符组合。在字符串 "cbbabbbbcdebc" 中，这个模式匹配了子字符串 "abbbbc"。</p><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;">将用户输入转义为正则表达式中的一个字面字符串, 可以通过简单的替换来实现：<br></p><pre class="line-numbers  language-html" style="margin-top: 0px; margin-bottom: 20px; padding: 1em 1em 1em 3.8em; background-image: url(&quot;../../img/blueprint-dark.fd85a7a074ae.png&quot;); background-position: center top; line-height: 1.5; border-width: 0px 0px 0px 5px; border-top-style: initial; border-right-style: initial; border-bottom-style: initial; border-top-color: initial; border-right-color: initial; border-bottom-color: initial; border-left-color: rgb(85, 138, 187); text-shadow: none; direction: ltr; word-break: normal; word-wrap: normal; hyphens: none; position: relative; counter-reset: linenumber 0;"><font face="Consolas, Monaco, Andale Mono, Ubuntu Mono, monospace"><span style="border-style: initial; border-color: initial; border-image: initial; line-height: 1.5; position: relative; word-spacing: normal; font-weight: inherit;">function escapeRegExp(string){
    return string.replace(/([.*+?^=!:${}()|[\]\/\\])/g, "\\$&amp;"); 
    //$&amp;表示整个被匹配的字符串
}</span></font><span class="line-numbers-rows" style="margin: 0px; padding: 0px; border-width: 0px 1px 0px 0px; border-top-style: initial; border-right-style: solid; border-bottom-style: initial; border-left-style: initial; border-top-color: initial; border-right-color: rgb(153, 153, 153); border-bottom-color: initial; border-left-color: initial; border-image: initial; display: block; position: absolute; pointer-events: none; top: 0px; left: -3.8em; width: 3em; user-select: none;"><span style="margin: 0px; padding: 0px; border: 0px; pointer-events: none; display: block; counter-increment: linenumber 1;"></span><span style="margin: 0px; padding: 0px; border: 0px; pointer-events: none; display: block; counter-increment: linenumber 1;"></span><span style="margin: 0px; padding: 0px; border: 0px; pointer-events: none; display: block; counter-increment: linenumber 1;"></span><span style="margin: 0px; padding: 0px; border: 0px; pointer-events: none; display: block; counter-increment: linenumber 1;"></span></span></pre><h3 id="blogTitle23" style="margin-top: 0px; margin-bottom: 12px; line-height: 1; word-wrap: break-word; padding: 0px; border: 0px;"><span style="font-weight: 700;">使用插入语</span></h3><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;">任何正则表达式的插入语都会使这部分匹配的副字符串被记忆。一旦被记忆，这个副字符串就可以被调用于其它用途，如同&nbsp;<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Regular_Expressions#使用括号的子字符串匹配" style="margin: 0px; padding: 0px; border: 0px;">使用括号的子字符串匹配</a>之中所述。</p><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;">比如，&nbsp;<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">/Chapter (\d+)\.\d*/</span></font>&nbsp;解释了额外转义的和特殊的字符，并说明了这部分pattern应该被记忆。它精确地匹配后面跟着一个以上数字字符的字符 'Chapter ' &nbsp;(<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">\d</span></font>&nbsp;意为任何数字字符，<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">+ 意为1次以上</span></font>)，跟着一个小数点（在这个字符中本身也是一个特殊字符；小数点前的 \ 意味着这个pattern必须寻找字面字符 '.')，跟着任何数字字符0次以上。 (<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">\d</span></font>&nbsp;意为数字字符，&nbsp;<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">*</span></font>&nbsp;意为0次以上)。另外，插入语也用来记忆第一个匹配的数字字符。</p><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;">此模式可以匹配字符串"Open Chapter 4.3, paragraph 6"，并且'4'将会被记住。此模式并不能匹配"Chapter 3 and 4"，因为在这个字符串中'3'的后面没有点号'.'。</p><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;">括号中的"?:"，这种模式匹配的子字符串将不会被记住。比如，(?:\d+)匹配一次或多次数字字符，但是不能记住匹配的字符。</p></div><div><span style="font-weight: 700;"><br></span></div><h1><span style="font-weight: 700;">RegExp 对象</span></h1><p></p><h3 id="blogTitle14" style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;"><span style="font-weight: 700;">静态属性</span></h3><div style="margin: 0px; padding: 0px; border: 0px;"><span style="border-style: initial; border-color: initial; border-image: initial;">For properties available on&nbsp;</span><font color="#3b3c40" face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; border-image: initial; background-color: rgb(255, 255, 255); font-weight: inherit; font-style: inherit;">RegExp</span></font><span style="border-style: initial; border-color: initial; border-image: initial;">&nbsp;instances, see&nbsp;</span><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/RegExp/prototype#Properties" style="margin: 0px; padding: 0px; border: 0px;">Properties of RegExp instances</a><span style="border-style: initial; border-color: initial; border-image: initial;">.</span></div><div style="margin: 0px; padding: 0px; border: 0px;"><br></div><dl style="margin-top: 0px; margin-bottom: 20px; padding: 0px; border: 0px;"><dt style="cursor: pointer; margin: 0px; padding: 0px; border: 0px;"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/RegExp/prototype" title="RegExp.prototype 属性表示&nbsp;RegExp&nbsp;构造函数的原型对象。" style="margin: 0px; padding: 0px; border: 0px;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">RegExp.prototype</span></font></a></dt><dd style="margin-top: 0px; margin-right: 0px; margin-bottom: 24px; padding: 0px 0px 0px 20px; border: 0px;">允许为所有正则对象添加属性。</dd><dt style="cursor: pointer; margin: 0px; padding: 0px; border: 0px;">RegExp.length</dt><dd style="margin-top: 0px; margin-right: 0px; margin-bottom: 24px; padding: 0px 0px 0px 20px; border: 0px;"><font color="#3b3c40" face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; background-color: rgb(255, 255, 255); font-weight: inherit; font-style: inherit;">RegExp.length</span></font>&nbsp;值为 2。</dd></dl><div style="margin: 0px; padding: 0px; border: 0px; color: rgb(59, 60, 64); font-family: &quot;Open Sans&quot;, arial, sans-serif; background-color: rgb(255, 255, 255);"><div class="inheritsbox template-jsOverrides" style="margin: 25px 0px; padding: 2px 10px; border: 5px solid rgb(209, 209, 255); overflow: hidden; clear: none; background: rgb(245, 245, 255); font-size: 12px;"><div style="margin: 0px; padding: 0px; border: 0px;"><span style="margin: 0px; padding: 0px; border: 0px; font-weight: 700;">Properties inherited from&nbsp;<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Function" style="color: rgb(33, 122, 192); margin: 0px; padding: 0px; border: 0px;"><code style="font-family: consolas, &quot;Liberation Mono&quot;, courier, monospace; padding-right: 0px; padding-left: 0px; border-width: 0px; border-style: initial; border-color: initial; word-wrap: break-word; margin: 0px; font-style: inherit; font-weight: inherit;">Function</code></a>:</span></div><div style="margin: 0px; padding: 0px; border: 0px;"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Function/Arity" class="internal" style="color: rgb(33, 122, 192); margin: 0px; padding: 0px; border: 0px;"><code style="font-family: consolas, &quot;Liberation Mono&quot;, courier, monospace; padding-right: 0px; padding-left: 0px; border-width: 0px; border-style: initial; border-color: initial; word-wrap: break-word; margin: 0px; font-style: inherit; font-weight: inherit;">arity</code></a>,&nbsp;<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Function/Caller" class="internal" style="color: rgb(33, 122, 192); margin: 0px; padding: 0px; border: 0px;"><code style="font-family: consolas, &quot;Liberation Mono&quot;, courier, monospace; padding-right: 0px; padding-left: 0px; border-width: 0px; border-style: initial; border-color: initial; word-wrap: break-word; margin: 0px; font-style: inherit; font-weight: inherit;">caller</code></a>,&nbsp;<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Function/Constructor" class="new internal" style="color: rgb(153, 0, 0); margin: 0px; padding: 0px; border: 0px;"><code style="font-family: consolas, &quot;Liberation Mono&quot;, courier, monospace; padding-right: 0px; padding-left: 0px; border-width: 0px; border-style: initial; border-color: initial; word-wrap: break-word; margin: 0px; font-style: inherit; font-weight: inherit;">constructor</code></a>,&nbsp;<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Function/Length" class="internal" style="color: rgb(33, 122, 192); text-decoration-line: underline; margin: 0px; padding: 0px; border: 0px;"><code style="font-family: consolas, &quot;Liberation Mono&quot;, courier, monospace; padding-right: 0px; padding-left: 0px; border-width: 0px; border-style: initial; border-color: initial; word-wrap: break-word; margin: 0px; font-style: inherit; font-weight: inherit;">length</code></a>,&nbsp;<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Function/Name" class="internal" style="color: rgb(33, 122, 192); margin: 0px; padding: 0px; border: 0px;"><code style="font-family: consolas, &quot;Liberation Mono&quot;, courier, monospace; padding-right: 0px; padding-left: 0px; border-width: 0px; border-style: initial; border-color: initial; word-wrap: break-word; margin: 0px; font-style: inherit; font-weight: inherit;">name</code></a></div></div></div><h3 id="blogTitle15" style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;"><span style="font-weight: 700;">静态方法</span></h3><div style="margin: 0px; padding: 0px; border: 0px;"><span style="border-style: initial; border-color: initial; border-image: initial;">For methods available on&nbsp;</span><font color="#3b3c40" face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; border-image: initial; background-color: rgb(255, 255, 255); font-weight: inherit; font-style: inherit;">RegExp</span></font><span style="border-style: initial; border-color: initial; border-image: initial;">&nbsp;instances, see&nbsp;</span><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/RegExp/prototype#Methods" style="margin: 0px; padding: 0px; border: 0px;">Methods of RegExp instances</a><span style="border-style: initial; border-color: initial; border-image: initial;">.</span></div><div style="margin: 0px; padding: 0px; border: 0px;">全局对象<span style="margin: 0px; padding: 0px; border: 0px; line-height: 1.5;">&nbsp;</span><font color="#3b3c40" face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; background-color: rgb(255, 255, 255); font-weight: inherit; font-style: inherit;">RegExp</span></font><span style="margin: 0px; padding: 0px; border: 0px; line-height: 1.5;">&nbsp;自身没有方法, 不过它会继承一些方法通过原型链</span></div><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px; color: rgb(59, 60, 64); font-family: &quot;Open Sans&quot;, arial, sans-serif; background-color: rgb(255, 255, 255);"></p><div class="inheritsbox template-jsOverrides" style="margin: 25px 0px; padding: 2px 10px; border: 5px solid rgb(209, 209, 255); overflow: hidden; clear: none; background: rgb(245, 245, 255); color: rgb(59, 60, 64); font-family: &quot;Open Sans&quot;, arial, sans-serif;"><div style="margin: 0px; padding: 0px; border: 0px;"><span style="margin: 0px; padding: 0px; border: 0px; font-weight: 700;">Methods inherited from&nbsp;<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Function" style="color: rgb(33, 122, 192); margin: 0px; padding: 0px; border: 0px;"><code style="font-family: consolas, &quot;Liberation Mono&quot;, courier, monospace; padding-right: 0px; padding-left: 0px; border-width: 0px; border-style: initial; border-color: initial; word-wrap: break-word; margin: 0px; font-style: inherit; font-weight: inherit;">Function</code></a>:</span></div><div style="margin: 0px; padding: 0px; border: 0px;"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Function/Apply" class="internal" style="color: rgb(33, 122, 192); margin: 0px; padding: 0px; border: 0px;"><code style="font-family: consolas, &quot;Liberation Mono&quot;, courier, monospace; padding-right: 0px; padding-left: 0px; border-width: 0px; border-style: initial; border-color: initial; word-wrap: break-word; margin: 0px; font-style: inherit; font-weight: inherit;">apply</code></a>,&nbsp;<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Function/Call" class="internal" style="color: rgb(33, 122, 192); margin: 0px; padding: 0px; border: 0px;"><code style="font-family: consolas, &quot;Liberation Mono&quot;, courier, monospace; padding-right: 0px; padding-left: 0px; border-width: 0px; border-style: initial; border-color: initial; word-wrap: break-word; margin: 0px; font-style: inherit; font-weight: inherit;">call</code></a>,&nbsp;<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Function/ToSource" class="internal" style="color: rgb(33, 122, 192); margin: 0px; padding: 0px; border: 0px;"><code style="font-family: consolas, &quot;Liberation Mono&quot;, courier, monospace; padding-right: 0px; padding-left: 0px; border-width: 0px; border-style: initial; border-color: initial; word-wrap: break-word; margin: 0px; font-style: inherit; font-weight: inherit;">toSource</code></a>,&nbsp;<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Function/ToString" class="internal" style="color: rgb(33, 122, 192); margin: 0px; padding: 0px; border: 0px;"><code style="font-family: consolas, &quot;Liberation Mono&quot;, courier, monospace; padding-right: 0px; padding-left: 0px; border-width: 0px; border-style: initial; border-color: initial; word-wrap: break-word; margin: 0px; font-style: inherit; font-weight: inherit;">toString</code></a></div></div><h1 style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;"><span style="font-weight: 700;">RegExp 原型对象</span></h1><h3 style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;" id="blogTitle17"><span style="font-weight: 700;">属性</span></h3><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;">查看<a href="https://developer.mozilla.org/zh-CN/docs/JavaScript/Reference/Deprecated_Features#RegExp_Properties" class="new" title="zh-CN/docs/JavaScript/Reference/Deprecated_Features#RegExp_Properties" style="margin: 0px; padding: 0px; border: 0px;">已废弃的RegExp属性</a></p><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;">注意，<font color="#3b3c40" face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; background-color: rgb(255, 255, 255); font-weight: inherit; font-style: inherit;">RegExp</span></font>&nbsp;对象的几个属性既有完整的长属性名，也有对应的类 Perl 的短属性名。两个属性都有着同样的值。JavaScript 的正则语法就是基于 Perl 的。</p><dl style="margin-top: 0px; margin-bottom: 20px; padding: 0px; border: 0px; color: rgb(59, 60, 64); font-family: &quot;Open Sans&quot;, arial, sans-serif; background-color: rgb(255, 255, 255);"><dt style="cursor: pointer; margin: 0px; padding: 0px; border: 0px;"><code style="font-family: consolas, &quot;Liberation Mono&quot;, courier, monospace; padding-right: 0px; padding-left: 0px; border-width: 0px; border-style: initial; border-color: initial; word-wrap: break-word; margin: 0px;">RegExp.prototype.</code><code style="font-family: consolas, &quot;Liberation Mono&quot;, courier, monospace; padding-right: 0px; padding-left: 0px; border-width: 0px; border-style: initial; border-color: initial; word-wrap: break-word; margin: 0px;">constructor</code></dt><dd style="margin-top: 0px; margin-right: 0px; margin-bottom: 24px; padding: 0px 0px 0px 20px; border: 0px;">创建该正则对象的构造函数。</dd><dt style="cursor: pointer; margin: 0px; padding: 0px; border: 0px;"><dt style="color: rgb(59, 60, 64); margin: 0px; padding: 0px; border: 0px;"><code style="font-family: consolas, &quot;Liberation Mono&quot;, courier, monospace; color: rgb(33, 122, 192); margin: 0px; padding: 0px; border: 0px; word-wrap: break-word; font-style: inherit; font-weight: inherit;"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/RegExp/global" title="global 属性表明正则表达式是否使用了 &quot;g&quot; 标志。global 是一个正则表达式实例的只读属性。" style="color: rgb(33, 122, 192); margin: 0px; padding: 0px; border: 0px;">RegExp.prototype.f</a>lags</code></dt><dd style="margin-top: 0px; margin-right: 0px; margin-bottom: 24px; color: rgb(59, 60, 64); font-weight: normal; padding: 0px 0px 0px 20px; border: 0px;"><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">ES6 为正则表达式新增了<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">flags</code>属性，会返回正则表达式的修饰符。</p><pre class=" language-javascript" style="font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; font-size: 14.336px; color: rgb(255, 255, 255); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; padding-right: 1em; padding-left: 0.7rem; margin: 0.5em auto; border-radius: 5px; background-color: rgb(17, 17, 17); line-height: 1.2;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;"><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);">// ES5 的 source 属性
</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);">// 返回正则表达式的正文
</span><span class="token regex" style="color: rgb(253, 151, 31);">/abc/ig</span><span class="token punctuation" style="color: rgb(248, 248, 242);">.</span>source<span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);">
// "abc"
</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);">
// ES6 的 flags 属性
</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);">// 返回正则表达式的修饰符
</span><span class="token regex" style="color: rgb(253, 151, 31);">/abc/ig</span><span class="token punctuation" style="color: rgb(248, 248, 242);">.</span>flags<span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);">
// 'gi'</span></code></pre></dd></dt><dt style="cursor: pointer; margin: 0px; padding: 0px; border: 0px;"><br></dt><dt style="cursor: pointer; margin: 0px; padding: 0px; border: 0px;"><code style="color: rgb(33, 122, 192); margin: 0px; padding: 0px; border: 0px; font-family: consolas, &quot;Liberation Mono&quot;, courier, monospace; word-wrap: break-word; font-style: inherit; font-weight: inherit;"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/RegExp/global" title="global 属性表明正则表达式是否使用了 &quot;g&quot; 标志。global 是一个正则表达式实例的只读属性。" style="color: rgb(33, 122, 192); margin: 0px; padding: 0px; border: 0px;">RegExp.prototype.global</a></code></dt><dd style="margin-top: 0px; margin-right: 0px; margin-bottom: 24px; padding: 0px 0px 0px 20px; border: 0px;">是否开启全局匹配，也就是匹配目标字符串中所有可能的匹配项，而不是只进行第一次匹配。</dd><dt style="cursor: pointer; margin: 0px; padding: 0px; border: 0px;"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/RegExp/ignoreCase" title="ignoreCase 属性表明正则表达式是否使用了 &quot;i&quot; 标志。ignoreCase&nbsp;是正则表达式实例的只读属性。" style="color: rgb(33, 122, 192); margin: 0px; padding: 0px; border: 0px;"><code style="font-family: consolas, &quot;Liberation Mono&quot;, courier, monospace; padding-right: 0px; padding-left: 0px; border-width: 0px; border-style: initial; border-color: initial; word-wrap: break-word; margin: 0px; font-style: inherit; font-weight: inherit;">RegExp.prototype.ignoreCase</code></a></dt><dd style="margin-top: 0px; margin-right: 0px; margin-bottom: 24px; padding: 0px 0px 0px 20px; border: 0px;">在匹配字符串时是否要忽略字符的大小写。</dd><dt style="cursor: pointer; margin: 0px; padding: 0px; border: 0px;"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/RegExp/lastIndex" title="lastIndex&nbsp;是正则表达式的一个可读可写的整型属性，用来指定下一次匹配的起始索引。" style="color: rgb(33, 122, 192); margin: 0px; padding: 0px; border: 0px;"><code style="font-family: consolas, &quot;Liberation Mono&quot;, courier, monospace; padding-right: 0px; padding-left: 0px; border-width: 0px; border-style: initial; border-color: initial; word-wrap: break-word; margin: 0px; font-style: inherit; font-weight: inherit;">RegExp.prototype.lastIndex</code></a></dt><dd style="margin-top: 0px; margin-right: 0px; margin-bottom: 24px; padding: 0px 0px 0px 20px; border: 0px;">下次匹配开始的字符串索引位置。</dd><dt style="cursor: pointer; margin: 0px; padding: 0px; border: 0px;"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/RegExp/multiline" title="multiline 属性表明正则表达式是否使用了 &quot;m&quot; 标志。multiline&nbsp;是正则表达式实例的一个只读属性。" style="color: rgb(33, 122, 192); margin: 0px; padding: 0px; border: 0px;"><code style="font-family: consolas, &quot;Liberation Mono&quot;, courier, monospace; padding-right: 0px; padding-left: 0px; border-width: 0px; border-style: initial; border-color: initial; word-wrap: break-word; margin: 0px; font-style: inherit; font-weight: inherit;">RegExp.prototype.multiline</code></a></dt><dd style="margin-top: 0px; margin-right: 0px; margin-bottom: 24px; padding: 0px 0px 0px 20px; border: 0px;">是否开启多行模式匹配（影响 ^ 和 $ 的行为）。</dd><dt style="cursor: pointer; margin: 0px; padding: 0px; border: 0px;"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/RegExp/source" title="source 属性返回一个值为当前正则表达式对象的模式文本的字符串，该字符串不会包含正则字面量两边的斜杠以及任何的标志字符。" style="color: rgb(33, 122, 192); margin: 0px; padding: 0px; border: 0px;"><code style="font-family: consolas, &quot;Liberation Mono&quot;, courier, monospace; padding-right: 0px; padding-left: 0px; border-width: 0px; border-style: initial; border-color: initial; word-wrap: break-word; margin: 0px; font-style: inherit; font-weight: inherit;">RegExp.prototype.source</code></a></dt><dd style="margin-top: 0px; margin-right: 0px; margin-bottom: 24px; padding: 0px 0px 0px 20px; border: 0px;">正则对象的源模式文本。</dd><dt style="cursor: pointer; margin: 0px; padding: 0px; border: 0px;"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/RegExp/sticky" title="sticky&nbsp;属性反映了搜索是否具有粘性（&nbsp;仅从正则表达式的 lastIndex 属性表示的索引处搜索 ）。sticky&nbsp;是正则表达式对象的只读属性。" style="color: rgb(33, 122, 192); margin: 0px; padding: 0px; border: 0px;"><code style="font-family: consolas, &quot;Liberation Mono&quot;, courier, monospace; padding-right: 0px; padding-left: 0px; border-width: 0px; border-style: initial; border-color: initial; word-wrap: break-word; margin: 0px; font-style: inherit; font-weight: inherit;">RegExp.prototype.sticky</code></a>&nbsp;<span title="这是一个实验性的 API，请尽量不要在生产环境中使用它。" style="margin: 0px; padding: 0px; border: 0px;"><span class="icon-beaker" style="margin: 0px; padding: 0px; border: 0px; display: inline-block; font-family: FontAwesome; font-weight: 400; line-height: 1; -webkit-font-smoothing: antialiased; cursor: default; color: rgb(0, 153, 221);"></span></span></dt><dd style="margin-top: 0px; margin-right: 0px; margin-bottom: 24px; padding: 0px 0px 0px 20px; border: 0px;">是否开启粘滞匹配。</dd><dd style="margin-top: 0px; margin-right: 0px; margin-bottom: 24px; padding: 0px 0px 0px 20px; border: 0px;"><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">与<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">y</code>修饰符相匹配，ES6 的正则对象多了<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">sticky</code>属性，表示是否设置了<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">y</code>修饰符。</p><pre class=" language-javascript" style="font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; font-size: 14.336px; color: rgb(255, 255, 255); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; padding-right: 1em; padding-left: 0.7rem; margin: 0.5em auto; border-radius: 5px; background-color: rgb(17, 17, 17); line-height: 1.2;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;"><span class="token keyword" style="color: rgb(102, 217, 239);">var</span> r <span class="token operator" style="color: rgb(249, 38, 114);">=</span> <span class="token operator" style="color: rgb(249, 38, 114);">/</span>hello\d<span class="token operator" style="color: rgb(249, 38, 114);">/</span>y<span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
r<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span>sticky<span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // true</span></code></pre></dd></dl><div style="margin: 0px; padding: 0px; border: 0px; color: rgb(59, 60, 64); font-family: &quot;Open Sans&quot;, arial, sans-serif; background-color: rgb(255, 255, 255);"><div class="inheritsbox template-jsOverrides" style="margin: 25px 0px; padding: 2px 10px; border: 5px solid rgb(209, 209, 255); overflow: hidden; clear: none; background: rgb(245, 245, 255); font-size: 12px;"><div style="margin: 0px; padding: 0px; border: 0px;"><span style="margin: 0px; padding: 0px; border: 0px; font-weight: 700;">Properties inherited from&nbsp;<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object" style="color: rgb(33, 122, 192); margin: 0px; padding: 0px; border: 0px;"><code style="font-family: consolas, &quot;Liberation Mono&quot;, courier, monospace; padding-right: 0px; padding-left: 0px; border-width: 0px; border-style: initial; border-color: initial; word-wrap: break-word; margin: 0px; font-style: inherit; font-weight: inherit;">Object</code></a>:</span></div><div style="margin: 0px; padding: 0px; border: 0px;"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/Parent" class="internal" style="color: rgb(33, 122, 192); margin: 0px; padding: 0px; border: 0px;"><code style="font-family: consolas, &quot;Liberation Mono&quot;, courier, monospace; padding-right: 0px; padding-left: 0px; border-width: 0px; border-style: initial; border-color: initial; word-wrap: break-word; margin: 0px; font-style: inherit; font-weight: inherit;">__parent__</code></a>,&nbsp;<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/Proto" class="internal" style="color: rgb(33, 122, 192); margin: 0px; padding: 0px; border: 0px;"><code style="font-family: consolas, &quot;Liberation Mono&quot;, courier, monospace; padding-right: 0px; padding-left: 0px; border-width: 0px; border-style: initial; border-color: initial; word-wrap: break-word; margin: 0px; font-style: inherit; font-weight: inherit;">__proto__</code></a></div></div></div><h3 style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;" id="blogTitle18"><span style="font-weight: 700;">方法</span></h3><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;">查看<a href="https://developer.mozilla.org/zh-CN/docs/JavaScript/Reference/Deprecated_Features#RegExp_Methods" class="new" title="zh-CN/docs/JavaScript/Reference/Deprecated_Features#RegExp_Methods" style="margin: 0px; padding: 0px; border: 0px;">已废弃的RegExp方法</a></p><dl style="margin-top: 0px; margin-bottom: 20px; padding: 0px; border: 0px; background-color: rgb(255, 255, 255); font-family: &quot;Open Sans&quot;, arial, sans-serif; color: rgb(59, 60, 64);"><dt style="cursor: pointer; margin: 0px; padding: 0px; border: 0px;"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/RegExp/exec" title="exec() 方法为指定的一段字符串执行搜索匹配操作。它的返回值是一个数组或者 null。" style="color: rgb(33, 122, 192); margin: 0px; padding: 0px; border: 0px;"><code style="font-family: consolas, &quot;Liberation Mono&quot;, courier, monospace; padding-right: 0px; padding-left: 0px; border-width: 0px; border-style: initial; border-color: initial; word-wrap: break-word; margin: 0px; font-style: inherit; font-weight: inherit;">RegExp.prototype.exec()</code></a></dt><dd style="margin-top: 0px; margin-right: 0px; margin-bottom: 24px; padding: 0px 0px 0px 20px; border: 0px;">在目标字符串中执行一次正则匹配操作。</dd><dt style="cursor: pointer; margin: 0px; padding: 0px; border: 0px;"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/RegExp/test" title="test() 方法执行一个检索，用来查看正则表达式与指定的字符串是否匹配。返回 true 或 false。" style="color: rgb(33, 122, 192); margin: 0px; padding: 0px; border: 0px;"><code style="font-family: consolas, &quot;Liberation Mono&quot;, courier, monospace; padding-right: 0px; padding-left: 0px; border-width: 0px; border-style: initial; border-color: initial; word-wrap: break-word; margin: 0px; font-style: inherit; font-weight: inherit;">RegExp.prototype.test()</code></a></dt><dd style="margin-top: 0px; margin-right: 0px; margin-bottom: 24px; padding: 0px 0px 0px 20px; border: 0px;">测试当前正则是否能匹配目标字符串。</dd><dt style="cursor: pointer; margin: 0px; padding: 0px; border: 0px;"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/RegExp/toSource" title="返回一个字符串,代表当前对象的源代码" style="color: rgb(33, 122, 192); margin: 0px; padding: 0px; border: 0px;"><code style="font-family: consolas, &quot;Liberation Mono&quot;, courier, monospace; padding-right: 0px; padding-left: 0px; border-width: 0px; border-style: initial; border-color: initial; word-wrap: break-word; margin: 0px; font-style: inherit; font-weight: inherit;">RegExp.prototype.toSource()</code></a>&nbsp;<span title="This API has not been standardized." style="margin: 0px; padding: 0px; border: 0px;"><span class="icon-warning-sign" style="margin: 0px; padding: 0px; border: 0px; display: inline-block; font-family: FontAwesome; font-weight: 400; line-height: 1; -webkit-font-smoothing: antialiased; cursor: default; color: rgb(221, 187, 0);"></span></span></dt><dd style="margin-top: 0px; margin-right: 0px; margin-bottom: 24px; padding: 0px 0px 0px 20px; border: 0px;">返回一个字符串，其值为该正则对象的字面量形式。覆盖了<code style="font-family: consolas, &quot;Liberation Mono&quot;, courier, monospace; padding-right: 0px; padding-left: 0px; border-width: 0px; border-style: initial; border-color: initial; word-wrap: break-word; margin: 0px; font-style: inherit; font-weight: inherit;">Object.prototype.toSource</code>&nbsp;方法.</dd><dt style="cursor: pointer; margin: 0px; padding: 0px; border: 0px;"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/RegExp/toString" title="toString() 返回一个表示该正则表达式的字符串。" style="color: rgb(33, 122, 192); margin: 0px; padding: 0px; border: 0px;"><code style="font-family: consolas, &quot;Liberation Mono&quot;, courier, monospace; padding-right: 0px; padding-left: 0px; border-width: 0px; border-style: initial; border-color: initial; word-wrap: break-word; margin: 0px; font-style: inherit; font-weight: inherit;">RegExp.prototype.toString()</code></a></dt><dd style="margin-top: 0px; margin-right: 0px; margin-bottom: 24px; padding: 0px 0px 0px 20px; border: 0px;">返回一个字符串，其值为该正则对象的字面量形式。覆盖了<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/toString" title="toString() 方法返回一个表示该对象的字符串。" style="color: rgb(33, 122, 192); margin: 0px; padding: 0px; border: 0px;"><code style="font-family: consolas, &quot;Liberation Mono&quot;, courier, monospace; padding-right: 0px; padding-left: 0px; border-width: 0px; border-style: initial; border-color: initial; word-wrap: break-word; margin: 0px; font-style: inherit; font-weight: inherit;">Object.prototype.toString()</code></a>&nbsp;方法。</dd></dl><div style="margin: 0px; padding: 0px; border: 0px; color: rgb(59, 60, 64); font-family: &quot;Open Sans&quot;, arial, sans-serif; background-color: rgb(255, 255, 255);"><div class="inheritsbox template-jsOverrides" style="margin: 25px 0px; padding: 2px 10px; border: 5px solid rgb(209, 209, 255); overflow: hidden; clear: none; background: rgb(245, 245, 255); font-size: 12px;"><div style="margin: 0px; padding: 0px; border: 0px;"><span style="margin: 0px; padding: 0px; border: 0px; font-weight: 700;">Methods inherited from&nbsp;<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object" style="color: rgb(33, 122, 192); margin: 0px; padding: 0px; border: 0px;"><code style="font-family: consolas, &quot;Liberation Mono&quot;, courier, monospace; padding-right: 0px; padding-left: 0px; border-width: 0px; border-style: initial; border-color: initial; word-wrap: break-word; margin: 0px; font-style: inherit; font-weight: inherit;">Object</code></a>:</span></div><div style="margin: 0px; padding: 0px; border: 0px;"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/DefineGetter" class="new internal" style="color: rgb(153, 0, 0); margin: 0px; padding: 0px; border: 0px;"><code style="font-family: consolas, &quot;Liberation Mono&quot;, courier, monospace; padding-right: 0px; padding-left: 0px; border-width: 0px; border-style: initial; border-color: initial; word-wrap: break-word; margin: 0px; font-style: inherit; font-weight: inherit;">__defineGetter__</code></a>,&nbsp;<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/DefineSetter" class="new internal" style="color: rgb(153, 0, 0); margin: 0px; padding: 0px; border: 0px;"><code style="font-family: consolas, &quot;Liberation Mono&quot;, courier, monospace; padding-right: 0px; padding-left: 0px; border-width: 0px; border-style: initial; border-color: initial; word-wrap: break-word; margin: 0px; font-style: inherit; font-weight: inherit;">__defineSetter__</code></a>,&nbsp;<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/HasOwnProperty" class="internal" style="color: rgb(33, 122, 192); margin: 0px; padding: 0px; border: 0px;"><code style="font-family: consolas, &quot;Liberation Mono&quot;, courier, monospace; padding-right: 0px; padding-left: 0px; border-width: 0px; border-style: initial; border-color: initial; word-wrap: break-word; margin: 0px; font-style: inherit; font-weight: inherit;">hasOwnProperty</code></a>,&nbsp;<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/IsPrototypeOf" class="internal" style="color: rgb(33, 122, 192); margin: 0px; padding: 0px; border: 0px;"><code style="font-family: consolas, &quot;Liberation Mono&quot;, courier, monospace; padding-right: 0px; padding-left: 0px; border-width: 0px; border-style: initial; border-color: initial; word-wrap: break-word; margin: 0px; font-style: inherit; font-weight: inherit;">isPrototypeOf</code></a>,&nbsp;<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/LookupGetter" class="internal" style="color: rgb(33, 122, 192); margin: 0px; padding: 0px; border: 0px;"><code style="font-family: consolas, &quot;Liberation Mono&quot;, courier, monospace; padding-right: 0px; padding-left: 0px; border-width: 0px; border-style: initial; border-color: initial; word-wrap: break-word; margin: 0px; font-style: inherit; font-weight: inherit;">__lookupGetter__</code></a>,&nbsp;<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/LookupSetter" class="new internal" style="color: rgb(153, 0, 0); margin: 0px; padding: 0px; border: 0px;"><code style="font-family: consolas, &quot;Liberation Mono&quot;, courier, monospace; padding-right: 0px; padding-left: 0px; border-width: 0px; border-style: initial; border-color: initial; word-wrap: break-word; margin: 0px; font-style: inherit; font-weight: inherit;">__lookupSetter__</code></a>,&nbsp;<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/NoSuchMethod" class="internal" style="color: rgb(33, 122, 192); margin: 0px; padding: 0px; border: 0px;"><code style="font-family: consolas, &quot;Liberation Mono&quot;, courier, monospace; padding-right: 0px; padding-left: 0px; border-width: 0px; border-style: initial; border-color: initial; word-wrap: break-word; margin: 0px; font-style: inherit; font-weight: inherit;">__noSuchMethod__</code></a>,&nbsp;<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/PropertyIsEnumerable" class="internal" style="color: rgb(33, 122, 192); margin: 0px; padding: 0px; border: 0px;"><code style="font-family: consolas, &quot;Liberation Mono&quot;, courier, monospace; padding-right: 0px; padding-left: 0px; border-width: 0px; border-style: initial; border-color: initial; word-wrap: break-word; margin: 0px; font-style: inherit; font-weight: inherit;">propertyIsEnumerable</code></a>,&nbsp;<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/ToLocaleString" class="internal" style="color: rgb(33, 122, 192); margin: 0px; padding: 0px; border: 0px;"><code style="font-family: consolas, &quot;Liberation Mono&quot;, courier, monospace; padding-right: 0px; padding-left: 0px; border-width: 0px; border-style: initial; border-color: initial; word-wrap: break-word; margin: 0px; font-style: inherit; font-weight: inherit;">toLocaleString</code></a>,&nbsp;<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/Unwatch" class="internal" style="color: rgb(33, 122, 192); margin: 0px; padding: 0px; border: 0px;"><code style="font-family: consolas, &quot;Liberation Mono&quot;, courier, monospace; padding-right: 0px; padding-left: 0px; border-width: 0px; border-style: initial; border-color: initial; word-wrap: break-word; margin: 0px; font-style: inherit; font-weight: inherit;">unwatch</code></a>,&nbsp;<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/ValueOf" class="internal" style="color: rgb(33, 122, 192); margin: 0px; padding: 0px; border: 0px;"><code style="font-family: consolas, &quot;Liberation Mono&quot;, courier, monospace; padding-right: 0px; padding-left: 0px; border-width: 0px; border-style: initial; border-color: initial; word-wrap: break-word; margin: 0px; font-style: inherit; font-weight: inherit;">valueOf</code></a>,&nbsp;<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/Watch" class="internal" style="color: rgb(33, 122, 192); margin: 0px; padding: 0px; border: 0px;"><code style="font-family: consolas, &quot;Liberation Mono&quot;, courier, monospace; padding-right: 0px; padding-left: 0px; border-width: 0px; border-style: initial; border-color: initial; word-wrap: break-word; margin: 0px; font-style: inherit; font-weight: inherit;">watch</code></a></div></div></div><h3 style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;" id="blogTitle19"><span style="font-weight: 700;">例子</span></h3><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;"><span style="font-weight: 700;">例子：使用正则改变数据结构<br></span></p><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;">下例使用&nbsp;<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/replace" title="replace()&nbsp;方法返回一个由替换值替换一些或所有匹配的模式后的新字符串。模式可以是一个字符串或者一个正则表达式, 替换值可以是一个字符串或者一个每次匹配都要调用的函数。" style="margin: 0px; padding: 0px; border: 0px;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">replace</span></font></a>&nbsp;方法 （继承自&nbsp;<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String" title="String&nbsp;全局对象是一个用于字符串或一个字符序列的构造函数。。" style="margin: 0px; padding: 0px; border: 0px;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">String</span></font></a>）去匹配姓名&nbsp;<font color="#3b3c40" face="Open Sans, arial, sans-serif"><span style="border-style: initial; border-color: initial; border-image: initial; background-color: rgb(255, 255, 255);">first last</span></font>&nbsp;输出新的格式&nbsp;<font color="#3b3c40" face="Open Sans, arial, sans-serif"><span style="border-style: initial; border-color: initial; border-image: initial; background-color: rgb(255, 255, 255);">last</span>,&nbsp;<span style="border-style: initial; border-color: initial; border-image: initial; background-color: rgb(255, 255, 255);">first</span>。脚本中使用&nbsp;</font><font color="#3b3c40" face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; background-color: rgb(255, 255, 255); font-weight: inherit; font-style: inherit;">$1 和</span></font>&nbsp;<font color="#3b3c40" face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; background-color: rgb(255, 255, 255); font-weight: inherit; font-style: inherit;">$2</span></font>&nbsp;指明括号里先前的匹配.</p><pre class="brush: js line-numbers  language-js" style="margin-top: 0px; margin-bottom: 20px; padding: 1em 1em 1em 3.8em; background-image: url(&quot;../../img/blueprint-dark.fd85a7a074ae.png&quot;); background-position: center top; background-color: rgb(250, 251, 252); font-size: 15px; line-height: 1.5; font-family: consolas, monaco, &quot;Andale Mono&quot;, monospace; color: rgb(59, 60, 64); border-width: 0px 0px 0px 5px; border-top-style: initial; border-right-style: initial; border-bottom-style: initial; border-top-color: initial; border-right-color: initial; border-bottom-color: initial; border-left-color: rgb(85, 138, 187); text-shadow: none; direction: ltr; word-break: normal; word-wrap: normal; hyphens: none; position: relative; counter-reset: linenumber 0;"><code class=" language-js javascript" style="word-wrap: normal; margin: 0px; padding: 0px; border: 0px; font-weight: inherit; font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; text-shadow: none; direction: ltr; word-spacing: normal; word-break: normal; line-height: 1.5; tab-size: 4; hyphens: none; position: relative;">var re = /(\w+)\s(\w+)/;
var str = "John Smith";
var newstr = str.replace(re, "$2, $1");
print(newstr);</code></pre><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;">显示 "Smith, John".</p><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;"><span style="font-weight: 700;">例子：在多行中使用正则表达式<br></span></p><pre class="brush: js line-numbers  language-js" style="margin-top: 0px; margin-bottom: 20px; padding: 1em 1em 1em 3.8em; background-image: url(&quot;../../img/blueprint-dark.fd85a7a074ae.png&quot;); background-position: center top; background-color: rgb(250, 251, 252); font-size: 15px; line-height: 1.5; font-family: consolas, monaco, &quot;Andale Mono&quot;, monospace; color: rgb(59, 60, 64); border-width: 0px 0px 0px 5px; border-top-style: initial; border-right-style: initial; border-bottom-style: initial; border-top-color: initial; border-right-color: initial; border-bottom-color: initial; border-left-color: rgb(85, 138, 187); text-shadow: none; direction: ltr; word-break: normal; word-wrap: normal; hyphens: none; position: relative; counter-reset: linenumber 0;"><code class=" language-js javascript" style="word-wrap: normal; margin: 0px; padding: 0px; border: 0px; font-weight: inherit; font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; text-shadow: none; direction: ltr; word-spacing: normal; word-break: normal; line-height: 1.5; tab-size: 4; hyphens: none; position: relative;">var s = "Please yes\nmake my day!";
s.match(/yes.*day/);
// Returns null
s.match(/yes[^]*day/);
// Returns 'yes\nmake my day'</code></pre><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;"><span style="font-weight: 700;">例子: 使用带有 ”sticky“ 标志的正则表达式<br></span></p><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;">该例展示了，如何在正则表达式上使用 sticky 标志，用来匹配多行输入的单独行。</p><pre class="brush: js line-numbers  language-js" style="margin-top: 0px; margin-bottom: 20px; padding: 1em 1em 1em 3.8em; background-image: url(&quot;../../img/blueprint-dark.fd85a7a074ae.png&quot;); background-position: center top; background-color: rgb(250, 251, 252); font-size: 15px; line-height: 1.5; font-family: consolas, monaco, &quot;Andale Mono&quot;, monospace; color: rgb(59, 60, 64); border-width: 0px 0px 0px 5px; border-top-style: initial; border-right-style: initial; border-bottom-style: initial; border-top-color: initial; border-right-color: initial; border-bottom-color: initial; border-left-color: rgb(85, 138, 187); text-shadow: none; direction: ltr; word-break: normal; word-wrap: normal; hyphens: none; position: relative; counter-reset: linenumber 0;"><code class=" language-js php" style="word-wrap: normal; margin: 0px; padding: 0px; border: 0px; font-weight: inherit; font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; text-shadow: none; direction: ltr; word-spacing: normal; word-break: normal; line-height: 1.5; tab-size: 4; hyphens: none; position: relative;">var text = "First line\nsecond line";
var regex = /(\S+) line\n?/y;

var match = regex.exec(text);
print(match[1]);  // prints "First"
print(regex.lastIndex); // prints 11

var match2 = regex.exec(text);
print(match2[1]); // prints "Second"
print(regex.lastIndex); // prints "22"

var match3 = regex.exec(text);
print(match3 === null); // prints "true"</code></pre><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;">可以使用&nbsp;<font color="#3b3c40" face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; background-color: rgb(255, 255, 255); font-weight: inherit; font-style: inherit;">try { … } catch { … }</span></font>&nbsp;来测试运行时（run-time）是否支持&nbsp;<font color="#3b3c40" face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; background-color: rgb(255, 255, 255); font-weight: inherit; font-style: inherit;">sticky</span></font>&nbsp;标志。这种情况下，必须使用&nbsp;<font color="#3b3c40" face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; background-color: rgb(255, 255, 255); font-weight: inherit; font-style: inherit;">eval(…)</span></font>&nbsp;表达式或&nbsp;<font color="#3b3c40" face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; background-color: rgb(255, 255, 255); font-weight: inherit; font-style: inherit;">RegExp(</span></font><span style="border-style: initial; border-color: initial; border-image: initial; font-weight: inherit;">regex-string</span>,&nbsp;<span style="border-style: initial; border-color: initial; border-image: initial; font-weight: inherit;">flags-string</span>)&nbsp;语法（这是由于&nbsp;<font color="#3b3c40" face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; background-color: rgb(255, 255, 255); font-weight: inherit; font-style: inherit;">/</span></font><span style="border-style: initial; border-color: initial; border-image: initial; font-weight: inherit;">regex</span>/<span style="border-style: initial; border-color: initial; border-image: initial; font-weight: inherit;">flags</span>&nbsp;表示法将会在编译时刻被处理，因此在&nbsp;<font color="#3b3c40" face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; background-color: rgb(255, 255, 255); font-weight: inherit; font-style: inherit;">catch</span></font>&nbsp;语句块处理异常前就会抛出一个异常。例如：</p><pre class="brush: js line-numbers  language-js" style="margin-top: 0px; margin-bottom: 20px; padding: 1em 1em 1em 3.8em; background-image: url(&quot;../../img/blueprint-dark.fd85a7a074ae.png&quot;); background-position: center top; background-color: rgb(250, 251, 252); font-size: 15px; line-height: 1.5; font-family: consolas, monaco, &quot;Andale Mono&quot;, monospace; color: rgb(59, 60, 64); border-width: 0px 0px 0px 5px; border-top-style: initial; border-right-style: initial; border-bottom-style: initial; border-top-color: initial; border-right-color: initial; border-bottom-color: initial; border-left-color: rgb(85, 138, 187); text-shadow: none; direction: ltr; word-break: normal; word-wrap: normal; hyphens: none; position: relative; counter-reset: linenumber 0;"><code class=" language-js javascript" style="word-wrap: normal; margin: 0px; padding: 0px; border: 0px; font-weight: inherit; font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; text-shadow: none; direction: ltr; word-spacing: normal; word-break: normal; line-height: 1.5; tab-size: 4; hyphens: none; position: relative;">var supports_sticky;
try { RegExp('','y'); supports_sticky = true; }
catch(e) { supports_sticky = false; }
alert(supports_sticky); // alerts "false" in Firefox 2, "true" in Firefox 3+</code></pre><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;"><span style="font-weight: 700;">例子：使用正则表达式和 Unicode 字符<br></span></p><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;">正如上面表格提到的，<font color="#3b3c40" face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; background-color: rgb(255, 255, 255); font-weight: inherit; font-style: inherit;">\w</span></font>&nbsp;或&nbsp;<font color="#3b3c40" face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; background-color: rgb(255, 255, 255); font-weight: inherit; font-style: inherit;">\W</span></font>&nbsp;只会匹配基本的 ASCII 字符；如 'a' 到 'z'、 'A' 到 'Z'、 0 到 9 及 '_'。为了匹配其他语言中的字符，如西里尔（Cyrillic）或 希伯来语（Hebrew），要使用&nbsp;<font color="#3b3c40" face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; background-color: rgb(255, 255, 255); font-weight: inherit; font-style: inherit;">\uhhhh</span></font>，"hhhh" 表示以十六进制表示的字符的 Unicode 值。下例展示了怎样从一个单词中分离出 Unicode 字符。</p><pre class="brush: js line-numbers  language-js" style="margin-top: 0px; margin-bottom: 20px; padding: 1em 1em 1em 3.8em; background-image: url(&quot;../../img/blueprint-dark.fd85a7a074ae.png&quot;); background-position: center top; background-color: rgb(250, 251, 252); font-size: 15px; line-height: 1.5; font-family: consolas, monaco, &quot;Andale Mono&quot;, monospace; color: rgb(59, 60, 64); border-width: 0px 0px 0px 5px; border-top-style: initial; border-right-style: initial; border-bottom-style: initial; border-top-color: initial; border-right-color: initial; border-bottom-color: initial; border-left-color: rgb(85, 138, 187); text-shadow: none; direction: ltr; word-break: normal; word-wrap: normal; hyphens: none; position: relative; counter-reset: linenumber 0;"><code class=" language-js php" style="word-wrap: normal; margin: 0px; padding: 0px; border: 0px; font-weight: inherit; font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; text-shadow: none; direction: ltr; word-spacing: normal; word-break: normal; line-height: 1.5; tab-size: 4; hyphens: none; position: relative;">var text = "Образец text на русском языке";
var regex = /[\u0400-\u04FF]+/g;

var match = regex.exec(text);
print(match[1]);  // prints "Образец"
print(regex.lastIndex);  // prints "7"

var match2 = regex.exec(text);
print(match2[1]);  // prints "на" [did not print "text"]
print(regex.lastIndex);  // prints "15"

// and so on</code></pre><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;">这里有一个外部资源，用来获取 Unicode 中的不同区块范围：<a href="http://kourge.net/projects/regexp-unicode-block" class="external external-icon" title="http://kourge.net/projects/regexp-unicode-block" style="margin: 0px; padding: 0px; border: 0px;">Regexp-unicode-block</a></p><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;"><span style="font-weight: 700;">例子：从 URL 中提取子域名<br></span></p><pre class="brush: js line-numbers  language-js" style="margin-top: 0px; margin-bottom: 20px; padding: 1em 1em 1em 3.8em; background-image: url(&quot;../../img/blueprint-dark.fd85a7a074ae.png&quot;); background-position: center top; background-color: rgb(250, 251, 252); font-size: 15px; line-height: 1.5; font-family: consolas, monaco, &quot;Andale Mono&quot;, monospace; color: rgb(59, 60, 64); border-width: 0px 0px 0px 5px; border-top-style: initial; border-right-style: initial; border-bottom-style: initial; border-top-color: initial; border-right-color: initial; border-bottom-color: initial; border-left-color: rgb(85, 138, 187); text-shadow: none; direction: ltr; word-break: normal; word-wrap: normal; hyphens: none; position: relative; counter-reset: linenumber 0;"><code class=" language-js javascript" style="word-wrap: normal; margin: 0px; padding: 0px; border: 0px; font-weight: inherit; font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; text-shadow: none; direction: ltr; word-spacing: normal; word-break: normal; line-height: 1.5; tab-size: 4; hyphens: none; position: relative;">var url = "http://xxx.domain.com";
print(/[^.]+/.exec(url)[0].substr(7)); // prints "xxx"</code></pre><div><br></div><div><br></div><h2 id="blogTitle24" style="margin-top: 0px; margin-bottom: 12px; line-height: 1; word-wrap: break-word; padding: 0px; border: 0px;"><span style="font-weight: 700;">使用正则表达式</span></h2><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;">正则表达式可以被用于<a href="https://developer.mozilla.org/zh-CN/docs/JavaScript/Reference/Global_Objects/RegExp" title="RegExp" style="word-wrap: break-word; margin: 0px; padding: 0px; border: 0px; line-height: 1.5;">RegExp</a><span style="border-style: initial; border-color: initial;">的</span><a href="https://developer.mozilla.org/zh-CN/docs/JavaScript/Reference/Global_Objects/RegExp/exec" title="exec" style="margin: 0px; padding: 0px; border: 0px; line-height: 1.5;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">exec</span></font></a>和<a href="https://developer.mozilla.org/zh-CN/docs/JavaScript/Reference/Global_Objects/RegExp/test" class="new" title="test" style="margin: 0px; padding: 0px; border: 0px; line-height: 1.5;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">test</span></font></a>方法以及&nbsp;<a href="https://developer.mozilla.org/zh-CN/docs/JavaScript/Reference/Global_Objects/String" title="String" style="margin: 0px; padding: 0px; border: 0px; line-height: 1.5;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">String</span></font></a>的<a href="https://developer.mozilla.org/zh-CN/docs/JavaScript/Reference/Global_Objects/String/match" class="new" title="match" style="margin: 0px; padding: 0px; border: 0px; line-height: 1.5;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">match</span></font></a>、<a href="https://developer.mozilla.org/zh-CN/docs/JavaScript/Reference/Global_Objects/String/replace" title="zh-CN/docs/JavaScript/Reference/Global_Objects/String/replace" style="margin: 0px; padding: 0px; border: 0px; line-height: 1.5;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">replace</span></font></a>、<a href="https://developer.mozilla.org/zh-CN/docs/JavaScript/Reference/Global_Objects/String/search" class="new" title="search" style="margin: 0px; padding: 0px; border: 0px; line-height: 1.5;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">search</span></font></a>和<a href="https://developer.mozilla.org/zh-CN/docs/JavaScript/Reference/Global_Objects/String/split" class="new" title="split" style="margin: 0px; padding: 0px; border: 0px; line-height: 1.5;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">split</span></font></a>方法。这些方法在<a href="https://developer.mozilla.org/zh-CN/docs/JavaScript/Reference" title="zh-CN/docs/JavaScript/Reference" style="margin: 0px; padding: 0px; border: 0px;">JavaScript 手册</a>中有详细的解释。</p><h3 id="blogTitle25"><span style="font-weight: 700;">正则表达式的方法</span></h3><table class="standard-table"><thead style="border: 0px; margin: 0px; padding: 0px;"><tr style="margin: 0px; padding: 0px; border: 0px;"><th scope="col" style="border-width: 2px; border-top-style: solid; border-right-style: solid; border-left-style: solid; border-color: rgb(255, 255, 255) rgb(255, 255, 255) rgb(212, 221, 228); margin: 0px; padding: 2px 8px 4px; border-image: initial; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">方法</th><th scope="col" style="border-width: 2px; border-top-style: solid; border-right-style: solid; border-left-style: solid; border-color: rgb(255, 255, 255) rgb(255, 255, 255) rgb(212, 221, 228); margin: 0px; padding: 2px 8px 4px; border-image: initial; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">描述</th></tr></thead><tbody style="margin: 0px; padding: 0px; border: 0px;"><tr style="margin: 0px; padding: 0px; border: 0px;"><td style="border-width: 2px; border-style: solid; border-color: rgb(255, 255, 255); margin: 0px; padding: 6px 8px; box-shadow: rgba(212, 221, 228, 0.498) 0px -1px 0px 0px inset;"><a href="https://developer.mozilla.org/zh-CN/docs/JavaScript/Reference/Global_Objects/RegExp/exec" title="zh-CN/docs/JavaScript/Reference/Global_Objects/RegExp/exec" style="word-wrap: break-word; margin: 0px; padding: 0px; border: 0px;">exec</a></td><td style="border-width: 2px; border-style: solid; border-color: rgb(255, 255, 255); margin: 0px; padding: 6px 8px; box-shadow: rgba(212, 221, 228, 0.498) 0px -1px 0px 0px inset;">一个在字符串中执行查找匹配的RegExp方法，它返回一个数组（未匹配到则返回null）。</td></tr><tr style="margin: 0px; padding: 0px; border: 0px;"><td style="border-width: 2px; border-style: solid; border-color: rgb(255, 255, 255); margin: 0px; padding: 6px 8px; box-shadow: rgba(212, 221, 228, 0.498) 0px -1px 0px 0px inset;"><a href="https://developer.mozilla.org/zh-CN/docs/JavaScript/Reference/Global_Objects/RegExp/test" class="new" title="zh-CN/docs/JavaScript/Reference/Global_Objects/RegExp/test" style="word-wrap: break-word; margin: 0px; padding: 0px; border: 0px;">test</a></td><td style="border-width: 2px; border-style: solid; border-color: rgb(255, 255, 255); margin: 0px; padding: 6px 8px; box-shadow: rgba(212, 221, 228, 0.498) 0px -1px 0px 0px inset;">一个在字符串中测试是否匹配的RegExp方法，它返回true或false。</td></tr><tr style="margin: 0px; padding: 0px; border: 0px;"><td style="border-width: 2px; border-style: solid; border-color: rgb(255, 255, 255); margin: 0px; padding: 6px 8px; box-shadow: rgba(212, 221, 228, 0.498) 0px -1px 0px 0px inset;"><a href="https://developer.mozilla.org/zh-CN/docs/JavaScript/Reference/Global_Objects/String/match" class="new" title="zh-CN/docs/JavaScript/Reference/Global_Objects/String/match" style="word-wrap: break-word; margin: 0px; padding: 0px; border: 0px;">match</a></td><td style="border-width: 2px; border-style: solid; border-color: rgb(255, 255, 255); margin: 0px; padding: 6px 8px; box-shadow: rgba(212, 221, 228, 0.498) 0px -1px 0px 0px inset;">一个在字符串中执行查找匹配的String方法，它返回一个数组或者在未匹配到时返回null。</td></tr><tr style="margin: 0px; padding: 0px; border: 0px;"><td style="border-width: 2px; border-style: solid; border-color: rgb(255, 255, 255); margin: 0px; padding: 6px 8px; box-shadow: rgba(212, 221, 228, 0.498) 0px -1px 0px 0px inset;"><a href="https://developer.mozilla.org/zh-CN/docs/JavaScript/Reference/Global_Objects/String/search" class="new" title="zh-CN/docs/JavaScript/Reference/Global_Objects/String/search" style="word-wrap: break-word; margin: 0px; padding: 0px; border: 0px;">search</a></td><td style="border-width: 2px; border-style: solid; border-color: rgb(255, 255, 255); margin: 0px; padding: 6px 8px; box-shadow: rgba(212, 221, 228, 0.498) 0px -1px 0px 0px inset;">一个在字符串中测试匹配的String方法，它返回匹配到的位置索引，或者在失败时返回-1。</td></tr><tr style="margin: 0px; padding: 0px; border: 0px;"><td style="border-width: 2px; border-style: solid; border-color: rgb(255, 255, 255); margin: 0px; padding: 6px 8px; box-shadow: rgba(212, 221, 228, 0.498) 0px -1px 0px 0px inset;"><a href="https://developer.mozilla.org/zh-CN/docs/JavaScript/Reference/Global_Objects/String/replace" title="zh-CN/docs/JavaScript/Reference/Global_Objects/String/replace" style="word-wrap: break-word; margin: 0px; padding: 0px; border: 0px;">replace</a></td><td style="border-width: 2px; border-style: solid; border-color: rgb(255, 255, 255); margin: 0px; padding: 6px 8px; box-shadow: rgba(212, 221, 228, 0.498) 0px -1px 0px 0px inset;">一个在字符串中执行查找匹配的String方法，并且使用替换字符串替换掉匹配到的子字符串。</td></tr><tr style="margin: 0px; padding: 0px; border: 0px;"><td style="border-width: 2px; border-style: solid; border-color: rgb(255, 255, 255); margin: 0px; padding: 6px 8px; box-shadow: rgba(212, 221, 228, 0.498) 0px -1px 0px 0px inset;"><a href="https://developer.mozilla.org/zh-CN/docs/JavaScript/Reference/Global_Objects/String/split" class="new" title="zh-CN/docs/JavaScript/Reference/Global_Objects/String/split" style="word-wrap: break-word; margin: 0px; padding: 0px; border: 0px;">split</a></td><td style="border-width: 2px; border-style: solid; border-color: rgb(255, 255, 255); margin: 0px; padding: 6px 8px; box-shadow: rgba(212, 221, 228, 0.498) 0px -1px 0px 0px inset;">一个使用正则表达式或者一个固定字符串分隔一个字符串，并将分隔后的子字符串存储到数组中的String方法。</td></tr></tbody></table><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;">当你想要知道在一个字符串中的一个匹配是否被找到，你可以使用test或search方法；想得到更多的信息（但是比较慢）则可以使用exec或match方法。如果你使用exec或match方法并且匹配成功了，那么这些方法将返回一个数组并且更新相关的正则表达式对象的属性和预定义的正则表达式对象（详见下）。如果匹配失败，那么exec方法返回null（也就是false）。</p><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;">在接下来的例子中，脚本将使用exec方法在一个字符串中查找一个匹配。</p><pre class="line-numbers  language-html" style="margin-top: 0px; margin-bottom: 20px; padding: 1em 1em 1em 3.8em; background-image: url(&quot;../../img/blueprint-dark.fd85a7a074ae.png&quot;); background-position: center top; line-height: 1.5; border-width: 0px 0px 0px 5px; border-top-style: initial; border-right-style: initial; border-bottom-style: initial; border-top-color: initial; border-right-color: initial; border-bottom-color: initial; border-left-color: rgb(85, 138, 187); text-shadow: none; direction: ltr; word-break: normal; word-wrap: normal; hyphens: none; position: relative; counter-reset: linenumber 0;"><font face="Consolas, Monaco, Andale Mono, Ubuntu Mono, monospace"><span style="border-style: initial; border-color: initial; border-image: initial; line-height: 1.5; position: relative; word-spacing: normal; font-weight: inherit;">var myRe = /d(b+)d/g;
var myArray = myRe.exec("cdbbdbsbz");</span></font><span class="line-numbers-rows" style="margin: 0px; padding: 0px; border-width: 0px 1px 0px 0px; border-top-style: initial; border-right-style: solid; border-bottom-style: initial; border-left-style: initial; border-top-color: initial; border-right-color: rgb(153, 153, 153); border-bottom-color: initial; border-left-color: initial; border-image: initial; display: block; position: absolute; pointer-events: none; top: 0px; left: -3.8em; width: 3em; user-select: none;"><span style="margin: 0px; padding: 0px; border: 0px; pointer-events: none; display: block; counter-increment: linenumber 1;"></span><span style="margin: 0px; padding: 0px; border: 0px; pointer-events: none; display: block; counter-increment: linenumber 1;"></span></span></pre><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;">如果你不需要访问正则表达式的属性，这个脚本通过另一个方法来创建myArray：</p><pre class="line-numbers  language-html" style="margin-top: 0px; margin-bottom: 20px; padding: 1em 1em 1em 3.8em; background-image: url(&quot;../../img/blueprint-dark.fd85a7a074ae.png&quot;); background-position: center top; line-height: 1.5; border-width: 0px 0px 0px 5px; border-top-style: initial; border-right-style: initial; border-bottom-style: initial; border-top-color: initial; border-right-color: initial; border-bottom-color: initial; border-left-color: rgb(85, 138, 187); text-shadow: none; direction: ltr; word-break: normal; word-wrap: normal; hyphens: none; position: relative; counter-reset: linenumber 0;"><font face="Consolas, Monaco, Andale Mono, Ubuntu Mono, monospace"><span style="border-style: initial; border-color: initial; border-image: initial; line-height: 1.5; position: relative; word-spacing: normal; font-weight: inherit;">var myArray = /d(b+)d/g.exec("cdbbdbsbz");</span></font><span class="line-numbers-rows" style="margin: 0px; padding: 0px; border-width: 0px 1px 0px 0px; border-top-style: initial; border-right-style: solid; border-bottom-style: initial; border-left-style: initial; border-top-color: initial; border-right-color: rgb(153, 153, 153); border-bottom-color: initial; border-left-color: initial; border-image: initial; display: block; position: absolute; pointer-events: none; top: 0px; left: -3.8em; width: 3em; user-select: none;"><span style="margin: 0px; padding: 0px; border: 0px; pointer-events: none; display: block; counter-increment: linenumber 1;"></span></span></pre><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;">如果你想通过一个字符串构建正则表达式，那么这个脚本还有另一种方法：</p><pre class="line-numbers  language-html" style="margin-top: 0px; margin-bottom: 20px; padding: 1em 1em 1em 3.8em; background-image: url(&quot;../../img/blueprint-dark.fd85a7a074ae.png&quot;); background-position: center top; line-height: 1.5; border-width: 0px 0px 0px 5px; border-top-style: initial; border-right-style: initial; border-bottom-style: initial; border-top-color: initial; border-right-color: initial; border-bottom-color: initial; border-left-color: rgb(85, 138, 187); text-shadow: none; direction: ltr; word-break: normal; word-wrap: normal; hyphens: none; position: relative; counter-reset: linenumber 0;"><font face="Consolas, Monaco, Andale Mono, Ubuntu Mono, monospace"><span style="border-style: initial; border-color: initial; border-image: initial; line-height: 1.5; position: relative; word-spacing: normal; font-weight: inherit;">var myRe = new RegExp("d(b+)d", "g");
var myArray = myRe.exec("cdbbdbsbz");</span></font><span class="line-numbers-rows" style="margin: 0px; padding: 0px; border-width: 0px 1px 0px 0px; border-top-style: initial; border-right-style: solid; border-bottom-style: initial; border-left-style: initial; border-top-color: initial; border-right-color: rgb(153, 153, 153); border-bottom-color: initial; border-left-color: initial; border-image: initial; display: block; position: absolute; pointer-events: none; top: 0px; left: -3.8em; width: 3em; user-select: none;"><span style="margin: 0px; padding: 0px; border: 0px; pointer-events: none; display: block; counter-increment: linenumber 1;"></span><span style="margin: 0px; padding: 0px; border: 0px; pointer-events: none; display: block; counter-increment: linenumber 1;"></span></span></pre><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;">通过这些脚本，匹配成功后将返回一个数组并且更新正则表达式的属性，如下表所示。</p><table class="fullwidth-table" style="width: 598px; border-color: rgba(212, 221, 228, 0.498); margin: 0px 0px 20px; padding: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;"><caption style="margin: 0px; padding: 0px; border: 0px; text-align: left;"><span style="font-weight: 700;">表 4.3 正则表达式执行返回信息</span></caption><thead style="border: 0px; margin: 0px; padding: 0px;"><tr style="margin: 0px; padding: 0px; border: 0px;"><th scope="col" style="border-top: 1px solid rgb(212, 221, 228); border-right: 1px solid rgb(212, 221, 228); border-left: 1px solid rgb(212, 221, 228); border-bottom-color: rgb(212, 221, 228); border-image: initial; margin: 0px; padding: 5px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">对象</th><th scope="col" style="border-top: 1px solid rgb(212, 221, 228); border-right: 1px solid rgb(212, 221, 228); border-left: 1px solid rgb(212, 221, 228); border-bottom-color: rgb(212, 221, 228); border-image: initial; margin: 0px; padding: 5px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">属性或索引</th><th scope="col" style="border-top: 1px solid rgb(212, 221, 228); border-right: 1px solid rgb(212, 221, 228); border-left: 1px solid rgb(212, 221, 228); border-bottom-color: rgb(212, 221, 228); border-image: initial; margin: 0px; padding: 5px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">描述</th><th scope="col" style="border-top: 1px solid rgb(212, 221, 228); border-right: 1px solid rgb(212, 221, 228); border-left: 1px solid rgb(212, 221, 228); border-bottom-color: rgb(212, 221, 228); border-image: initial; margin: 0px; padding: 5px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">在例子中对应的值</th></tr></thead><tbody style="margin: 0px; padding: 0px; border: 0px;"><tr style="margin: 0px; padding: 0px; border: 0px;"><td rowspan="4" style="border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); margin: 0px; padding: 5px; vertical-align: top;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">myArray</span></font></td><td style="border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); margin: 0px; padding: 5px; vertical-align: top;">&nbsp;</td><td style="border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); margin: 0px; padding: 5px; vertical-align: top;">匹配到的字符串和所有被记住的子字符串。</td><td style="border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); margin: 0px; padding: 5px; vertical-align: top;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">["dbbd", "bb"]</span></font></td></tr><tr style="margin: 0px; padding: 0px; border: 0px;"><td style="border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); margin: 0px; padding: 5px; vertical-align: top;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">index</span></font></td><td style="border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); margin: 0px; padding: 5px; vertical-align: top;">在输入的字符串中匹配到的以0开始的索引值。</td><td style="border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); margin: 0px; padding: 5px; vertical-align: top;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">1</span></font></td></tr><tr style="margin: 0px; padding: 0px; border: 0px;"><td style="border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); margin: 0px; padding: 5px; vertical-align: top;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">input</span></font></td><td style="border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); margin: 0px; padding: 5px; vertical-align: top;">初始字符串。</td><td style="border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); margin: 0px; padding: 5px; vertical-align: top;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">"cdbbdbsbz"</span></font></td></tr><tr style="margin: 0px; padding: 0px; border: 0px;"><td style="border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); margin: 0px; padding: 5px; vertical-align: top;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">[0]</span></font></td><td style="border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); margin: 0px; padding: 5px; vertical-align: top;">匹配到的所有字符串（并不是匹配后记住的字符串）。注：原文"The last matched characters."，应该是原版错误。匹配到的最后一个字符索引。</td><td style="border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); margin: 0px; padding: 5px; vertical-align: top;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">"dbbd"</span></font></td></tr><tr style="margin: 0px; padding: 0px; border: 0px;"><td rowspan="2" style="border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); margin: 0px; padding: 5px; vertical-align: top;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">myRe</span></font></td><td style="border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); margin: 0px; padding: 5px; vertical-align: top;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">lastIndex</span></font></td><td style="border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); margin: 0px; padding: 5px; vertical-align: top;">下一个匹配的索引值。（这个属性只有在使用g参数时可用在&nbsp;<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Regular_Expressions#.E9.80.9A.E8.BF.87.E5.8F.82.E6.95.B0.E8.BF.9B.E8.A1.8C.E9.AB.98.E7.BA.A7.E6.90.9C.E7.B4.A2" style="margin: 0px; padding: 0px; border: 0px;">通过参数进行高级搜索</a>&nbsp;一节有详细的描述.)</td><td style="border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); margin: 0px; padding: 5px; vertical-align: top;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">5</span></font></td></tr><tr style="margin: 0px; padding: 0px; border: 0px;"><td style="border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); margin: 0px; padding: 5px; vertical-align: top;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">source</span></font></td><td style="border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); margin: 0px; padding: 5px; vertical-align: top;">模式文本。在正则表达式创建时更新，不执行。</td><td style="border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); margin: 0px; padding: 5px; vertical-align: top;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">"d(b+)d"</span></font></td></tr></tbody></table><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;">在这个例子中如第二种形式所示，你可以使用一个正则表达式创建一个没有分配给变量的对象初始化容器。如果你这样做，那么，每一次使用时都好比在使用一个新的正则表达式。因为这个原因，如果你使用这个未分配给一个变量的正则表达式，你将在随后不能访问这个正则表达式的属性。例如，假如你有如下脚本：</p><pre class="line-numbers  language-html" style="margin-top: 0px; margin-bottom: 20px; padding: 1em 1em 1em 3.8em; background-image: url(&quot;../../img/blueprint-dark.fd85a7a074ae.png&quot;); background-position: center top; line-height: 1.5; border-width: 0px 0px 0px 5px; border-top-style: initial; border-right-style: initial; border-bottom-style: initial; border-top-color: initial; border-right-color: initial; border-bottom-color: initial; border-left-color: rgb(85, 138, 187); text-shadow: none; direction: ltr; word-break: normal; word-wrap: normal; hyphens: none; position: relative; counter-reset: linenumber 0;"><font face="Consolas, Monaco, Andale Mono, Ubuntu Mono, monospace"><span style="border-style: initial; border-color: initial; border-image: initial; line-height: 1.5; position: relative; word-spacing: normal; font-weight: inherit;">var myRe = /d(b+)d/g;
var myArray = myRe.exec("cdbbdbsbz");
console.log("The value of lastIndex is " + myRe.lastIndex);</span></font><span class="line-numbers-rows" style="margin: 0px; padding: 0px; border-width: 0px 1px 0px 0px; border-top-style: initial; border-right-style: solid; border-bottom-style: initial; border-left-style: initial; border-top-color: initial; border-right-color: rgb(153, 153, 153); border-bottom-color: initial; border-left-color: initial; border-image: initial; display: block; position: absolute; pointer-events: none; top: 0px; left: -3.8em; width: 3em; user-select: none;"><span style="margin: 0px; padding: 0px; border: 0px; pointer-events: none; display: block; counter-increment: linenumber 1;"></span><span style="margin: 0px; padding: 0px; border: 0px; pointer-events: none; display: block; counter-increment: linenumber 1;"></span><span style="margin: 0px; padding: 0px; border: 0px; pointer-events: none; display: block; counter-increment: linenumber 1;"></span></span></pre><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;">这个脚本输出如下：</p><pre class="line-numbers  language-html" style="margin-top: 0px; margin-bottom: 20px; padding: 1em 1em 1em 3.8em; background-image: url(&quot;../../img/blueprint-dark.fd85a7a074ae.png&quot;); background-position: center top; line-height: 1.5; border-width: 0px 0px 0px 5px; border-top-style: initial; border-right-style: initial; border-bottom-style: initial; border-top-color: initial; border-right-color: initial; border-bottom-color: initial; border-left-color: rgb(85, 138, 187); text-shadow: none; direction: ltr; word-break: normal; word-wrap: normal; hyphens: none; position: relative; counter-reset: linenumber 0;"><font face="Consolas, Monaco, Andale Mono, Ubuntu Mono, monospace"><span style="border-style: initial; border-color: initial; border-image: initial; line-height: 1.5; position: relative; word-spacing: normal; font-weight: inherit;">The value of lastIndex is 5</span></font><span class="line-numbers-rows" style="margin: 0px; padding: 0px; border-width: 0px 1px 0px 0px; border-top-style: initial; border-right-style: solid; border-bottom-style: initial; border-left-style: initial; border-top-color: initial; border-right-color: rgb(153, 153, 153); border-bottom-color: initial; border-left-color: initial; border-image: initial; display: block; position: absolute; pointer-events: none; top: 0px; left: -3.8em; width: 3em; user-select: none;"><span style="margin: 0px; padding: 0px; border: 0px; pointer-events: none; display: block; counter-increment: linenumber 1;"></span></span></pre><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;">然而，如果你有如下脚本：</p><pre class="line-numbers  language-html" style="margin-top: 0px; margin-bottom: 20px; padding: 1em 1em 1em 3.8em; background-image: url(&quot;../../img/blueprint-dark.fd85a7a074ae.png&quot;); background-position: center top; line-height: 1.5; border-width: 0px 0px 0px 5px; border-top-style: initial; border-right-style: initial; border-bottom-style: initial; border-top-color: initial; border-right-color: initial; border-bottom-color: initial; border-left-color: rgb(85, 138, 187); text-shadow: none; direction: ltr; word-break: normal; word-wrap: normal; hyphens: none; position: relative; counter-reset: linenumber 0;"><font face="Consolas, Monaco, Andale Mono, Ubuntu Mono, monospace"><span style="border-style: initial; border-color: initial; border-image: initial; line-height: 1.5; position: relative; word-spacing: normal; font-weight: inherit;">var myArray = /d(b+)d/g.exec("cdbbdbsbz");
console.log("The value of lastIndex is " + /d(b+)d/g.lastIndex);</span></font><span class="line-numbers-rows" style="margin: 0px; padding: 0px; border-width: 0px 1px 0px 0px; border-top-style: initial; border-right-style: solid; border-bottom-style: initial; border-left-style: initial; border-top-color: initial; border-right-color: rgb(153, 153, 153); border-bottom-color: initial; border-left-color: initial; border-image: initial; display: block; position: absolute; pointer-events: none; top: 0px; left: -3.8em; width: 3em; user-select: none;"><span style="margin: 0px; padding: 0px; border: 0px; pointer-events: none; display: block; counter-increment: linenumber 1;"></span><span style="margin: 0px; padding: 0px; border: 0px; pointer-events: none; display: block; counter-increment: linenumber 1;"></span></span></pre><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;">它显示为：</p><pre class="line-numbers  language-html" style="margin-top: 0px; margin-bottom: 20px; padding: 1em 1em 1em 3.8em; background-image: url(&quot;../../img/blueprint-dark.fd85a7a074ae.png&quot;); background-position: center top; line-height: 1.5; border-width: 0px 0px 0px 5px; border-top-style: initial; border-right-style: initial; border-bottom-style: initial; border-top-color: initial; border-right-color: initial; border-bottom-color: initial; border-left-color: rgb(85, 138, 187); text-shadow: none; direction: ltr; word-break: normal; word-wrap: normal; hyphens: none; position: relative; counter-reset: linenumber 0;"><font face="Consolas, Monaco, Andale Mono, Ubuntu Mono, monospace"><span style="border-style: initial; border-color: initial; border-image: initial; line-height: 1.5; position: relative; word-spacing: normal; font-weight: inherit;">The value of lastIndex is 0</span></font><span class="line-numbers-rows" style="margin: 0px; padding: 0px; border-width: 0px 1px 0px 0px; border-top-style: initial; border-right-style: solid; border-bottom-style: initial; border-left-style: initial; border-top-color: initial; border-right-color: rgb(153, 153, 153); border-bottom-color: initial; border-left-color: initial; border-image: initial; display: block; position: absolute; pointer-events: none; top: 0px; left: -3.8em; width: 3em; user-select: none;"><span style="margin: 0px; padding: 0px; border: 0px; pointer-events: none; display: block; counter-increment: linenumber 1;"></span></span></pre><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;">当发生/d(b+)d/g使用两个不同状态的正则表达式对象，lastIndex属性会得到不同的值。如果你需要访问一个正则表达式的属性，则需要创建一个对象初始化生成器，你应该首先把它赋值给一个变量。</p><h3 id="blogTitle26" style="margin-top: 0px; margin-bottom: 12px; line-height: 1; word-wrap: break-word; padding: 0px; border: 0px;"><span style="font-weight: 700;">使用括号的子字符串匹配</span></h3><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;">一个正则表达式模式使用括号，将导致相应的子匹配被记住。例如，/a(b)c /可以匹配字符串“abc”，并且记得“b”。回调这些括号中匹配的子串，使用数组元素[1],……[n]。</p><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;">使用括号匹配的子字符串的数量是无限的。返回的数组中保存所有被发现的子匹配。下面的例子说明了如何使用括号的子字符串匹配。</p><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;">下面的脚本使用replace()方法来转换字符串中的单词。在匹配到的替换文本中，脚本使用替代的$ 1,$ 2表示第一个和第二个括号的子字符串匹配。</p><pre class="line-numbers  language-html" style="margin-top: 0px; margin-bottom: 20px; padding: 1em 1em 1em 3.8em; background-image: url(&quot;../../img/blueprint-dark.fd85a7a074ae.png&quot;); background-position: center top; line-height: 1.5; border-width: 0px 0px 0px 5px; border-top-style: initial; border-right-style: initial; border-bottom-style: initial; border-top-color: initial; border-right-color: initial; border-bottom-color: initial; border-left-color: rgb(85, 138, 187); text-shadow: none; direction: ltr; word-break: normal; word-wrap: normal; hyphens: none; position: relative; counter-reset: linenumber 0;"><font face="Consolas, Monaco, Andale Mono, Ubuntu Mono, monospace"><span style="border-style: initial; border-color: initial; border-image: initial; line-height: 1.5; position: relative; word-spacing: normal; font-weight: inherit;">var re = /(\w+)\s(\w+)/;
var str = "John Smith";
var newstr = str.replace(re, "$2, $1");
console.log(newstr);</span></font><span class="line-numbers-rows" style="margin: 0px; padding: 0px; border-width: 0px 1px 0px 0px; border-top-style: initial; border-right-style: solid; border-bottom-style: initial; border-left-style: initial; border-top-color: initial; border-right-color: rgb(153, 153, 153); border-bottom-color: initial; border-left-color: initial; border-image: initial; display: block; position: absolute; pointer-events: none; top: 0px; left: -3.8em; width: 3em; user-select: none;"><span style="margin: 0px; padding: 0px; border: 0px; pointer-events: none; display: block; counter-increment: linenumber 1;"></span><span style="margin: 0px; padding: 0px; border: 0px; pointer-events: none; display: block; counter-increment: linenumber 1;"></span><span style="margin: 0px; padding: 0px; border: 0px; pointer-events: none; display: block; counter-increment: linenumber 1;"></span><span style="margin: 0px; padding: 0px; border: 0px; pointer-events: none; display: block; counter-increment: linenumber 1;"></span></span></pre><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;">这个表达式输出 "Smith, John"。</p><h3 id="blogTitle27" style="margin-top: 0px; margin-bottom: 12px; line-height: 1; word-wrap: break-word; padding: 0px; border: 0px;"><span style="font-weight: 700;">通过标志进行高级搜索</span></h3><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;">正则表达式有四个可选参数进行全局和不分大小写搜索。这些参数既可以单独使用也可以一起使用在任何顺序和包含正则表达式的部分中。</p><table dir="ltr" class="standard-table" style=""><caption style="margin: 0px; padding: 0px; border: 0px; text-align: left;">正则表达式标志</caption><thead style="border: 0px; margin: 0px; padding: 0px;"><tr style="margin: 0px; padding: 0px; border: 0px;"><th scope="col" style="border-width: 2px; border-top-style: solid; border-right-style: solid; border-left-style: solid; border-color: rgb(255, 255, 255) rgb(255, 255, 255) rgb(212, 221, 228); margin: 0px; padding: 2px 8px 4px; border-image: initial; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">标志</th><th scope="col" style="border-width: 2px; border-top-style: solid; border-right-style: solid; border-left-style: solid; border-color: rgb(255, 255, 255) rgb(255, 255, 255) rgb(212, 221, 228); margin: 0px; padding: 2px 8px 4px; border-image: initial; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">描述</th></tr></thead><tbody style="margin: 0px; padding: 0px; border: 0px;"><tr style="margin: 0px; padding: 0px; border: 0px;"><td style="border-width: 2px; border-style: solid; border-color: rgb(255, 255, 255); margin: 0px; padding: 6px 8px; text-align: center; box-shadow: rgba(212, 221, 228, 0.498) 0px -1px 0px 0px inset;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">g</span></font></td><td style="border-width: 2px; border-style: solid; border-color: rgb(255, 255, 255); margin: 0px; padding: 6px 8px; box-shadow: rgba(212, 221, 228, 0.498) 0px -1px 0px 0px inset;">全局搜索。</td></tr><tr style="margin: 0px; padding: 0px; border: 0px;"><td style="border-width: 2px; border-style: solid; border-color: rgb(255, 255, 255); margin: 0px; padding: 6px 8px; text-align: center; box-shadow: rgba(212, 221, 228, 0.498) 0px -1px 0px 0px inset;">i</td><td style="border-width: 2px; border-style: solid; border-color: rgb(255, 255, 255); margin: 0px; padding: 6px 8px; box-shadow: rgba(212, 221, 228, 0.498) 0px -1px 0px 0px inset;">不区分大小写搜索。</td></tr><tr style="margin: 0px; padding: 0px; border: 0px;"><td style="border-width: 2px; border-style: solid; border-color: rgb(255, 255, 255); margin: 0px; padding: 6px 8px; text-align: center; box-shadow: rgba(212, 221, 228, 0.498) 0px -1px 0px 0px inset;">m</td><td style="border-width: 2px; border-style: solid; border-color: rgb(255, 255, 255); margin: 0px; padding: 6px 8px; box-shadow: rgba(212, 221, 228, 0.498) 0px -1px 0px 0px inset;">多行搜索。</td></tr><tr style="margin: 0px; padding: 0px; border: 0px;"><td style="border-width: 2px; border-style: solid; border-color: rgb(255, 255, 255); margin: 0px; padding: 6px 8px; text-align: center; box-shadow: rgba(212, 221, 228, 0.498) 0px -1px 0px 0px inset;">y</td><td style="border-width: 2px; border-style: solid; border-color: rgb(255, 255, 255); margin: 0px; padding: 6px 8px; box-shadow: rgba(212, 221, 228, 0.498) 0px -1px 0px 0px inset;">执行“粘性”搜索,匹配从目标字符串的当前位置开始，可以使用y标志。</td></tr></tbody></table><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;">包含一个标志的正则表达式，使用这个表达式：</p><pre class="line-numbers  language-html" style="margin-top: 0px; margin-bottom: 20px; padding: 1em 1em 1em 3.8em; background-image: url(&quot;../../img/blueprint-dark.fd85a7a074ae.png&quot;); background-position: center top; line-height: 1.5; border-width: 0px 0px 0px 5px; border-top-style: initial; border-right-style: initial; border-bottom-style: initial; border-top-color: initial; border-right-color: initial; border-bottom-color: initial; border-left-color: rgb(85, 138, 187); text-shadow: none; direction: ltr; word-break: normal; word-wrap: normal; hyphens: none; position: relative; counter-reset: linenumber 0;"><font face="Consolas, Monaco, Andale Mono, Ubuntu Mono, monospace"><span style="border-style: initial; border-color: initial; border-image: initial; line-height: 1.5; position: relative; word-spacing: normal; font-weight: inherit;">var re = /pattern/flags;</span></font><span class="line-numbers-rows" style="margin: 0px; padding: 0px; border-width: 0px 1px 0px 0px; border-top-style: initial; border-right-style: solid; border-bottom-style: initial; border-left-style: initial; border-top-color: initial; border-right-color: rgb(153, 153, 153); border-bottom-color: initial; border-left-color: initial; border-image: initial; display: block; position: absolute; pointer-events: none; top: 0px; left: -3.8em; width: 3em; user-select: none;"><span style="margin: 0px; padding: 0px; border: 0px; pointer-events: none; display: block; counter-increment: linenumber 1;"></span></span></pre><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;">或者</p><pre class="line-numbers  language-html" style="margin-top: 0px; margin-bottom: 20px; padding: 1em 1em 1em 3.8em; background-image: url(&quot;../../img/blueprint-dark.fd85a7a074ae.png&quot;); background-position: center top; line-height: 1.5; border-width: 0px 0px 0px 5px; border-top-style: initial; border-right-style: initial; border-bottom-style: initial; border-top-color: initial; border-right-color: initial; border-bottom-color: initial; border-left-color: rgb(85, 138, 187); text-shadow: none; direction: ltr; word-break: normal; word-wrap: normal; hyphens: none; position: relative; counter-reset: linenumber 0;"><font face="Consolas, Monaco, Andale Mono, Ubuntu Mono, monospace"><span style="border-style: initial; border-color: initial; border-image: initial; line-height: 1.5; position: relative; word-spacing: normal; font-weight: inherit;">var re = new RegExp("pattern", "flags");</span></font><span class="line-numbers-rows" style="margin: 0px; padding: 0px; border-width: 0px 1px 0px 0px; border-top-style: initial; border-right-style: solid; border-bottom-style: initial; border-left-style: initial; border-top-color: initial; border-right-color: rgb(153, 153, 153); border-bottom-color: initial; border-left-color: initial; border-image: initial; display: block; position: absolute; pointer-events: none; top: 0px; left: -3.8em; width: 3em; user-select: none;"><span style="margin: 0px; padding: 0px; border: 0px; pointer-events: none; display: block; counter-increment: linenumber 1;"></span></span></pre><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;">值得注意的是，标志是一个正则表达式的一部分，它们在接下来的时间将不能添加或删除。</p><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;">例如，re = /\w+\s/g 将创建一个查找一个或多个字符后有一个空格的正则表达式，或者组合起来像此要求的字符串。</p><pre class="line-numbers  language-html" style="margin-top: 0px; margin-bottom: 20px; padding: 1em 1em 1em 3.8em; background-image: url(&quot;../../img/blueprint-dark.fd85a7a074ae.png&quot;); background-position: center top; line-height: 1.5; border-width: 0px 0px 0px 5px; border-top-style: initial; border-right-style: initial; border-bottom-style: initial; border-top-color: initial; border-right-color: initial; border-bottom-color: initial; border-left-color: rgb(85, 138, 187); text-shadow: none; direction: ltr; word-break: normal; word-wrap: normal; hyphens: none; position: relative; counter-reset: linenumber 0;"><font face="Consolas, Monaco, Andale Mono, Ubuntu Mono, monospace"><span style="border-style: initial; border-color: initial; border-image: initial; line-height: 1.5; position: relative; word-spacing: normal; font-weight: inherit;">var re = /\w+\s/g;
var str = "fee fi fo fum";
var myArray = str.match(re);
console.log(myArray);</span></font><span class="line-numbers-rows" style="margin: 0px; padding: 0px; border-width: 0px 1px 0px 0px; border-top-style: initial; border-right-style: solid; border-bottom-style: initial; border-left-style: initial; border-top-color: initial; border-right-color: rgb(153, 153, 153); border-bottom-color: initial; border-left-color: initial; border-image: initial; display: block; position: absolute; pointer-events: none; top: 0px; left: -3.8em; width: 3em; user-select: none;"><span style="margin: 0px; padding: 0px; border: 0px; pointer-events: none; display: block; counter-increment: linenumber 1;"></span><span style="margin: 0px; padding: 0px; border: 0px; pointer-events: none; display: block; counter-increment: linenumber 1;"></span><span style="margin: 0px; padding: 0px; border: 0px; pointer-events: none; display: block; counter-increment: linenumber 1;"></span><span style="margin: 0px; padding: 0px; border: 0px; pointer-events: none; display: block; counter-increment: linenumber 1;"></span></span></pre><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;">这段代码将输出&nbsp;["fee ", "fi ", "fo "]。在这个例子中，你可以将：</p><pre class="line-numbers  language-html" style="margin-top: 0px; margin-bottom: 20px; padding: 1em 1em 1em 3.8em; background-image: url(&quot;../../img/blueprint-dark.fd85a7a074ae.png&quot;); background-position: center top; line-height: 1.5; border-width: 0px 0px 0px 5px; border-top-style: initial; border-right-style: initial; border-bottom-style: initial; border-top-color: initial; border-right-color: initial; border-bottom-color: initial; border-left-color: rgb(85, 138, 187); text-shadow: none; direction: ltr; word-break: normal; word-wrap: normal; hyphens: none; position: relative; counter-reset: linenumber 0;"><font face="Consolas, Monaco, Andale Mono, Ubuntu Mono, monospace"><span style="border-style: initial; border-color: initial; border-image: initial; line-height: 1.5; position: relative; word-spacing: normal; font-weight: inherit;">var re = /\w+\s/g;</span></font><span class="line-numbers-rows" style="margin: 0px; padding: 0px; border-width: 0px 1px 0px 0px; border-top-style: initial; border-right-style: solid; border-bottom-style: initial; border-left-style: initial; border-top-color: initial; border-right-color: rgb(153, 153, 153); border-bottom-color: initial; border-left-color: initial; border-image: initial; display: block; position: absolute; pointer-events: none; top: 0px; left: -3.8em; width: 3em; user-select: none;"><span style="margin: 0px; padding: 0px; border: 0px; pointer-events: none; display: block; counter-increment: linenumber 1;"></span></span></pre><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;">替换成：</p><pre class="line-numbers  language-html" style="margin-top: 0px; margin-bottom: 20px; padding: 1em 1em 1em 3.8em; background-image: url(&quot;../../img/blueprint-dark.fd85a7a074ae.png&quot;); background-position: center top; background-color: rgb(250, 251, 252); font-size: 15px; line-height: 1.5; font-family: consolas, monaco, &quot;Andale Mono&quot;, monospace; color: rgb(59, 60, 64); border-width: 0px 0px 0px 5px; border-top-style: initial; border-right-style: initial; border-bottom-style: initial; border-top-color: initial; border-right-color: initial; border-bottom-color: initial; border-left-color: rgb(85, 138, 187); text-shadow: none; direction: ltr; word-break: normal; word-wrap: normal; hyphens: none; position: relative; counter-reset: linenumber 0;"><code class=" language-html javascript" style="word-wrap: normal; margin: 0px; padding: 0px; border: 0px; font-weight: inherit; font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; text-shadow: none; direction: ltr; word-spacing: normal; word-break: normal; line-height: 1.5; tab-size: 4; hyphens: none; position: relative;">var re = new RegExp("\\w+\\s", "g");</code></pre><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;">并且能获取到相同的结果。</p><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;">m标志用于指定多行输入字符串应该被视为多个行。如果使用m标志，^和$匹配的开始或结束输入字符串中的每一行，而不是整个字符串的开始或结束。</p><h2 id="blogTitle28" style="margin-top: 0px; margin-bottom: 12px; line-height: 1; word-wrap: break-word; padding: 0px; border: 0px;"><span style="font-weight: 700;">例子</span></h2><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;">以下例子说明了一些正值表达式的用途。</p><h3 id="blogTitle29" style="margin-top: 0px; margin-bottom: 12px; line-height: 1; word-wrap: break-word; padding: 0px; border: 0px;"><span style="font-weight: 700;">改变输入字符串的顺序</span></h3><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;">以下例子解释了正值表达式的构成和<span style="border-style: initial; border-color: initial;">string.split()</span>&nbsp;以及&nbsp;<span style="border-style: initial; border-color: initial;">string.replace()的用途。它会整理一个只有粗略格式的含有全名（名字首先出现）的输入字符串，这个字符串被空格、换行符和一个分号分隔。</span>最终，它会颠倒名字顺序（姓氏首先出现）和list的类型。</p><pre class="line-numbers  language-html" style="margin-top: 0px; margin-bottom: 20px; padding: 1em 1em 1em 3.8em; background-image: url(&quot;../../img/blueprint-dark.fd85a7a074ae.png&quot;); background-position: center top; background-color: rgb(250, 251, 252); font-size: 15px; line-height: 1.5; font-family: consolas, monaco, &quot;Andale Mono&quot;, monospace; color: rgb(59, 60, 64); border-width: 0px 0px 0px 5px; border-top-style: initial; border-right-style: initial; border-bottom-style: initial; border-top-color: initial; border-right-color: initial; border-bottom-color: initial; border-left-color: rgb(85, 138, 187); text-shadow: none; direction: ltr; word-break: normal; word-wrap: normal; hyphens: none; position: relative; counter-reset: linenumber 0;"><code class=" language-html javascript" style="word-wrap: normal; margin: 0px; padding: 0px; border: 0px; font-weight: inherit; font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; text-shadow: none; direction: ltr; word-spacing: normal; word-break: normal; line-height: 1.5; tab-size: 4; hyphens: none; position: relative;">// The name string contains multiple spaces and tabs,
// and may have multiple spaces between first and last names.
var names = "Harry Trump ;Fred Barney; Helen Rigby ; Bill Abel ; Chris Hand ";

var output = ["---------- Original String\n", names + "\n"];

// Prepare two regular expression patterns and array storage.
// Split the string into array elements.

// pattern: possible white space then semicolon then possible white space
var pattern = /\s*;\s*/;

// Break the string into pieces separated by the pattern above and
// store the pieces in an array called nameList
var nameList = names.split(pattern);

// new pattern: one or more characters then spaces then characters.
// Use parentheses to "memorize" portions of the pattern.
// The memorized portions are referred to later.
pattern = /(\w+)\s+(\w+)/;

// New array for holding names being processed.
var bySurnameList = [];

// Display the name array and populate the new array
// with comma-separated names, last first.
//
// The replace method removes anything matching the pattern
// and replaces it with the memorized string—second memorized portion
// followed by comma space followed by first memorized portion.
//
// The variables $1 and $2 refer to the portions
// memorized while matching the pattern.

output.push("---------- After Split by Regular Expression");

var i, len;
for (i = 0, len = nameList.length; i &lt; len; i++){
  output.push(nameList[i]);
  bySurnameList[i] = nameList[i].replace(pattern, "$2, $1");
}

// Display the new array.
output.push("---------- Names Reversed");
for (i = 0, len = bySurnameList.length; i &lt; len; i++){
  output.push(bySurnameList[i]);
}

// Sort by last name, then display the sorted array.
bySurnameList.sort();
output.push("---------- Sorted");
for (i = 0, len = bySurnameList.length; i &lt; len; i++){
  output.push(bySurnameList[i]);
}

output.push("---------- End");

console.log(output.join("\n"));</code></pre><h3 id="blogTitle30" style="margin-top: 0px; margin-bottom: 12px; line-height: 1; word-wrap: break-word; padding: 0px; border: 0px;"><span style="font-weight: 700;">用特殊字符检验输入</span></h3><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;">在以下例子中，我们期望用户输入一个电话号码。当用户点击“Check”按钮，我们的脚本开始检查这些数字是否合法。如果数字合法（匹配正值表达式所规定的字符序列），脚本显示一条感谢用户的信息并确认该数字。如果这串数字不合法，脚本提示用户电话号码不合法。.</p><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;">包含非捕获括号&nbsp;<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">(?:</span></font>&nbsp;这个正值表达式寻找三个数字字符<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">\d{3}</span></font>&nbsp;或者&nbsp;<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">|</span></font>&nbsp;一个左半括号<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">\(</span></font>跟着三位数字<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">\d{3}</span></font>, 跟着一个封闭括号&nbsp;<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">\)</span></font>, (结束非捕获括号&nbsp;<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">)</span></font>)， 后跟着一个短破折号或左斜杠或小数点，随后跟随三个数字字符，当记忆字符&nbsp;<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">([-\/\.])捕获并记住，后面跟着三位小数</span></font>&nbsp;<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">\d{3}，再后面跟随记住的左斜杠、右斜杠或小数点</span></font>&nbsp;<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">\1，最后跟着四位小数</span></font>&nbsp;<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">\d{4}。</span></font></p><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;">当用户按下Enter设置RegExp.input，这些变化也能被激活。</p><pre class="line-numbers  language-html" style="margin-top: 0px; margin-bottom: 20px; padding: 1em 1em 1em 3.8em; background-image: url(&quot;../../img/blueprint-dark.fd85a7a074ae.png&quot;); background-position: center top; background-color: rgb(250, 251, 252); font-size: 15px; line-height: 1.5; font-family: consolas, monaco, &quot;Andale Mono&quot;, monospace; color: rgb(59, 60, 64); border-width: 0px 0px 0px 5px; border-top-style: initial; border-right-style: initial; border-bottom-style: initial; border-top-color: initial; border-right-color: initial; border-bottom-color: initial; border-left-color: rgb(85, 138, 187); text-shadow: none; direction: ltr; word-break: normal; word-wrap: normal; hyphens: none; position: relative; counter-reset: linenumber 0;"><code class=" language-html xml" style="word-wrap: normal; margin: 0px; padding: 0px; border: 0px; font-weight: inherit; font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; text-shadow: none; direction: ltr; word-spacing: normal; word-break: normal; line-height: 1.5; tab-size: 4; hyphens: none; position: relative;">&lt;!DOCTYPE html&gt;
&lt;html&gt;  
  &lt;head&gt;  
    &lt;meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"&gt;  
    &lt;meta http-equiv="Content-Script-Type" content="text/javascript"&gt;  
    &lt;script type="text/javascript"&gt;  
      var re = /(?:\d{3}|\(\d{3}\))([-\/\.])\d{3}\1\d{4}/;  
      function testInfo(phoneInput) {  
        var OK = re.exec(phoneInput.value);  
        if (!OK)  
          window.alert(phoneInput.value + ' isn\'t a phone number with area code!');  
        else
          window.alert('Thanks, your phone number is ' + OK[0]);  
      }  
    &lt;/script&gt;  
  &lt;/head&gt;  
  &lt;body&gt;  
    &lt;p&gt;Enter your phone number (with area code) and then click "Check".
        &lt;br&gt;The expected format is like ###-###-####.&lt;/p&gt;
    &lt;form action="#"&gt;  
      &lt;input id="phone"&gt;&lt;button onclick="testInfo(document.getElementById('phone'));"&gt;Check&lt;/button&gt;
    &lt;/form&gt;  
  &lt;/body&gt;  
&lt;/html&gt;</code></pre></div></div><div><code class=" language-html xml" style="word-wrap: normal; margin: 0px; padding: 0px; border: 0px; font-weight: inherit; font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; text-shadow: none; direction: ltr; word-spacing: normal; word-break: normal; line-height: 1.5; tab-size: 4; hyphens: none; position: relative;"><br></code></div><div><br></div>
</div>
</article>
</div>      
{% endblock %}