{% extends 'c-word.html' %}

{% block title %} multiprocessing - Python | standard library | concurrent execution {% endblock title %}

{% block point1 %}
<article contenteditable="true">
  <p><b style="background-color: yellow;">Category: 计算机 | 程序设计语言 | Python | standard library | multiprocessing</b></p>
  <h1 id="blogTitle0">multiprocessing</h1><div>— Process-based parallelism<br></div><div><strong style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; text-align: justify; background-color: rgb(255, 255, 255);">Source code:</strong><span style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; text-align: justify; background-color: rgb(255, 255, 255);">&nbsp;</span><a class="reference external" href="https://github.com/python/cpython/tree/3.7/Lib/multiprocessing/" style="color: rgb(99, 99, 187); text-decoration-line: none; font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; text-align: justify; background-color: rgb(255, 255, 255);">Lib/multiprocessing/</a><br></div><h2 id="blogTitle1">概述</h2><h3 id="blogTitle2">进程上下文</h3><div><br></div><div><br></div><div><br></div><pre><h3 id="blogTitle3">Help on package multiprocessing</h3>
<h4 id="blogTitle4">NAME</h4>    multiprocessing

<h4 id="blogTitle5">MODULE REFERENCE</h4>    https://docs.python.org/3.7/library/multiprocessing

    The following documentation is automatically generated from the Python
    source files.  It may be incomplete, incorrect or include features that
    are considered implementation detail and may vary between Python
    implementations.  When in doubt, consult the module reference at the
    location listed above.

<h4 id="blogTitle6">DESCRIPTION</h4>    # Package analogous to 'threading.py' but using processes
    #
    # multiprocessing/__init__.py
    #
    # This package is intended to duplicate the functionality (and much of
    # the API) of threading.py but uses processes instead of threads.  A
    # subpackage 'multiprocessing.dummy' has the same API but is a simple
    # wrapper for 'threading'.
    #
    # Copyright (c) 2006-2008, R Oudkerk
    # Licensed to PSF under a Contributor Agreement.
    #

<h4 id="blogTitle7">PACKAGE CONTENTS</h4>    connection
    context
    dummy (package)
    forkserver
    heap
    managers
    pool
    popen_fork
    popen_forkserver
    popen_spawn_posix
    popen_spawn_win32
    process
    queues
    reduction
    resource_sharer
    semaphore_tracker
    sharedctypes
    spawn
    synchronize
    util

<h4 id="blogTitle8">SUBMODULES</h4>    reducer

<h4 id="blogTitle9">CLASSES</h4>    builtins.Exception(builtins.BaseException)
        multiprocessing.context.ProcessError
            multiprocessing.context.AuthenticationError
            multiprocessing.context.BufferTooShort
            multiprocessing.context.TimeoutError
    multiprocessing.process.BaseProcess(builtins.object)
        multiprocessing.context.Process

<h5 id="blogTitle10">    class AuthenticationError(ProcessError)</h5>     |  Common base class for all non-exit exceptions.
     |
     |  Method resolution order:
     |      AuthenticationError
     |      ProcessError
     |      builtins.Exception
     |      builtins.BaseException
     |      builtins.object
     |
     |  Data descriptors inherited from ProcessError:
     |
     |  __weakref__
     |      list of weak references to the object (if defined)
     |
     |  ----------------------------------------------------------------------
     |  Methods inherited from builtins.Exception:
     |
     |  __init__(self, /, *args, **kwargs)
     |      Initialize self.  See help(type(self)) for accurate signature.
     |
     |  ----------------------------------------------------------------------
     |  Static methods inherited from builtins.Exception:
     |
     |  __new__(*args, **kwargs) from builtins.type
     |      Create and return a new object.  See help(type) for accurate signature.
     |
     |  ----------------------------------------------------------------------
     |  Methods inherited from builtins.BaseException:
     |
     |  __delattr__(self, name, /)
     |      Implement delattr(self, name).
     |
     |  __getattribute__(self, name, /)
     |      Return getattr(self, name).
     |
     |  __reduce__(...)
     |      Helper for pickle.
     |
     |  __repr__(self, /)
     |      Return repr(self).
     |
     |  __setattr__(self, name, value, /)
     |      Implement setattr(self, name, value).
     |
     |  __setstate__(...)
     |
     |  __str__(self, /)
     |      Return str(self).
     |
     |  with_traceback(...)
     |      Exception.with_traceback(tb) --
     |      set self.__traceback__ to tb and return self.
     |
     |  ----------------------------------------------------------------------
     |  Data descriptors inherited from builtins.BaseException:
     |
     |  __cause__
     |      exception cause
     |
     |  __context__
     |      exception context
     |
     |  __dict__
     |
     |  __suppress_context__
     |
     |  __traceback__
     |
     |  args

<h5 id="blogTitle11">    class BufferTooShort(ProcessError)</h5>     |  Common base class for all non-exit exceptions.
     |
     |  Method resolution order:
     |      BufferTooShort
     |      ProcessError
     |      builtins.Exception
     |      builtins.BaseException
     |      builtins.object
     |
     |  Data descriptors inherited from ProcessError:
     |
     |  __weakref__
     |      list of weak references to the object (if defined)
     |
     |  ----------------------------------------------------------------------
     |  Methods inherited from builtins.Exception:
     |
     |  __init__(self, /, *args, **kwargs)
     |      Initialize self.  See help(type(self)) for accurate signature.
     |
     |  ----------------------------------------------------------------------
     |  Static methods inherited from builtins.Exception:
     |
     |  __new__(*args, **kwargs) from builtins.type
     |      Create and return a new object.  See help(type) for accurate signature.
     |
     |  ----------------------------------------------------------------------
     |  Methods inherited from builtins.BaseException:
     |
     |  __delattr__(self, name, /)
     |      Implement delattr(self, name).
     |
     |  __getattribute__(self, name, /)
     |      Return getattr(self, name).
     |
     |  __reduce__(...)
     |      Helper for pickle.
     |
     |  __repr__(self, /)
     |      Return repr(self).
     |
     |  __setattr__(self, name, value, /)
     |      Implement setattr(self, name, value).
     |
     |  __setstate__(...)
     |
     |  __str__(self, /)
     |      Return str(self).
     |
     |  with_traceback(...)
     |      Exception.with_traceback(tb) --
     |      set self.__traceback__ to tb and return self.
     |
     |  ----------------------------------------------------------------------
     |  Data descriptors inherited from builtins.BaseException:
     |
     |  __cause__
     |      exception cause
     |
     |  __context__
     |      exception context
     |
     |  __dict__
     |
     |  __suppress_context__
     |
     |  __traceback__
     |
     |  args

<h5 id="blogTitle12">    class Process(multiprocessing.process.BaseProcess)</h5>     |  Process(group=None, target=None, name=None, args=(), kwargs={}, *, daemon=None)
     |
     |  Process objects represent activity that is run in a separate process
     |
     |  The class is analogous to `threading.Thread`
     |
     |  Method resolution order:
     |      Process
     |      multiprocessing.process.BaseProcess
     |      builtins.object
     |
     |  Methods inherited from multiprocessing.process.BaseProcess:
     |
     |  __init__(self, group=None, target=None, name=None, args=(), kwargs={}, *, daemon=None)
     |      Initialize self.  See help(type(self)) for accurate signature.
     |
     |  __repr__(self)
     |      Return repr(self).
     |
     |  close(self)
     |      Close the Process object.
     |
     |      This method releases resources held by the Process object.  It is
     |      an error to call this method if the child process is still running.
     |
     |  is_alive(self)
     |      Return whether process is alive
     |
     |  join(self, timeout=None)
     |      Wait until child process terminates
     |
     |  kill(self)
     |      Terminate process; sends SIGKILL signal or uses TerminateProcess()
     |
     |  run(self)
     |      Method to be run in sub-process; can be overridden in sub-class
     |
     |  start(self)
     |      Start child process
     |
     |  terminate(self)
     |      Terminate process; sends SIGTERM signal or uses TerminateProcess()
     |
     |  ----------------------------------------------------------------------
     |  Data descriptors inherited from multiprocessing.process.BaseProcess:
     |
     |  __dict__
     |      dictionary for instance variables (if defined)
     |
     |  __weakref__
     |      list of weak references to the object (if defined)
     |
     |  authkey
     |
     |  daemon
     |      Return whether process is a daemon
     |
     |  exitcode
     |      Return exit code of process or `None` if it has yet to stop
     |
     |  ident
     |      Return identifier (PID) of process or `None` if it has yet to start
     |
     |  name
     |
     |  pid
     |      Return identifier (PID) of process or `None` if it has yet to start
     |
     |  sentinel
     |      Return a file descriptor (Unix) or handle (Windows) suitable for
     |      waiting for process termination.

<h5 id="blogTitle13">    class ProcessError(builtins.Exception)</h5>     |  Common base class for all non-exit exceptions.
     |
     |  Method resolution order:
     |      ProcessError
     |      builtins.Exception
     |      builtins.BaseException
     |      builtins.object
     |
     |  Data descriptors defined here:
     |
     |  __weakref__
     |      list of weak references to the object (if defined)
     |
     |  ----------------------------------------------------------------------
     |  Methods inherited from builtins.Exception:
     |
     |  __init__(self, /, *args, **kwargs)
     |      Initialize self.  See help(type(self)) for accurate signature.
     |
     |  ----------------------------------------------------------------------
     |  Static methods inherited from builtins.Exception:
     |
     |  __new__(*args, **kwargs) from builtins.type
     |      Create and return a new object.  See help(type) for accurate signature.
     |
     |  ----------------------------------------------------------------------
     |  Methods inherited from builtins.BaseException:
     |
     |  __delattr__(self, name, /)
     |      Implement delattr(self, name).
     |
     |  __getattribute__(self, name, /)
     |      Return getattr(self, name).
     |
     |  __reduce__(...)
     |      Helper for pickle.
     |
     |  __repr__(self, /)
     |      Return repr(self).
     |
     |  __setattr__(self, name, value, /)
     |      Implement setattr(self, name, value).
     |
     |  __setstate__(...)
     |
     |  __str__(self, /)
     |      Return str(self).
     |
     |  with_traceback(...)
     |      Exception.with_traceback(tb) --
     |      set self.__traceback__ to tb and return self.
     |
     |  ----------------------------------------------------------------------
     |  Data descriptors inherited from builtins.BaseException:
     |
     |  __cause__
     |      exception cause
     |
     |  __context__
     |      exception context
     |
     |  __dict__
     |
     |  __suppress_context__
     |
     |  __traceback__
     |
     |  args

<h5 id="blogTitle14">    class TimeoutError(ProcessError)</h5>     |  Common base class for all non-exit exceptions.
     |
     |  Method resolution order:
     |      TimeoutError
     |      ProcessError
     |      builtins.Exception
     |      builtins.BaseException
     |      builtins.object
     |
     |  Data descriptors inherited from ProcessError:
     |
     |  __weakref__
     |      list of weak references to the object (if defined)
     |
     |  ----------------------------------------------------------------------
     |  Methods inherited from builtins.Exception:
     |
     |  __init__(self, /, *args, **kwargs)
     |      Initialize self.  See help(type(self)) for accurate signature.
     |
     |  ----------------------------------------------------------------------
     |  Static methods inherited from builtins.Exception:
     |
     |  __new__(*args, **kwargs) from builtins.type
     |      Create and return a new object.  See help(type) for accurate signature.
     |
     |  ----------------------------------------------------------------------
     |  Methods inherited from builtins.BaseException:
     |
     |  __delattr__(self, name, /)
     |      Implement delattr(self, name).
     |
     |  __getattribute__(self, name, /)
     |      Return getattr(self, name).
     |
     |  __reduce__(...)
     |      Helper for pickle.
     |
     |  __repr__(self, /)
     |      Return repr(self).
     |
     |  __setattr__(self, name, value, /)
     |      Implement setattr(self, name, value).
     |
     |  __setstate__(...)
     |
     |  __str__(self, /)
     |      Return str(self).
     |
     |  with_traceback(...)
     |      Exception.with_traceback(tb) --
     |      set self.__traceback__ to tb and return self.
     |
     |  ----------------------------------------------------------------------
     |  Data descriptors inherited from builtins.BaseException:
     |
     |  __cause__
     |      exception cause
     |
     |  __context__
     |      exception context
     |
     |  __dict__
     |
     |  __suppress_context__
     |
     |  __traceback__
     |
     |  args

<h4 id="blogTitle15">FUNCTIONS</h4>    Array(typecode_or_type, size_or_initializer, *, lock=True) method of multiprocessing.context.DefaultContext instance
        Returns a synchronized shared array

    Barrier(parties, action=None, timeout=None) method of multiprocessing.context.DefaultContext instance
        Returns a barrier object

    BoundedSemaphore(value=1) method of multiprocessing.context.DefaultContext instance
        Returns a bounded semaphore object

    Condition(lock=None) method of multiprocessing.context.DefaultContext instance
        Returns a condition object

    Event() method of multiprocessing.context.DefaultContext instance
        Returns an event object

    JoinableQueue(maxsize=0) method of multiprocessing.context.DefaultContext instance
        Returns a queue object

    Lock() method of multiprocessing.context.DefaultContext instance
        Returns a non-recursive lock object

    Manager() method of multiprocessing.context.DefaultContext instance
        Returns a manager associated with a running server process

        The managers methods such as `Lock()`, `Condition()` and `Queue()`
        can be used to create shared objects.

    Pipe(duplex=True) method of multiprocessing.context.DefaultContext instance
        Returns two connection object connected by a pipe

    Pool(processes=None, initializer=None, initargs=(), maxtasksperchild=None) method of multiprocessing.context.DefaultContext instance
        Returns a process pool object

    Queue(maxsize=0) method of multiprocessing.context.DefaultContext instance
        Returns a queue object

    RLock() method of multiprocessing.context.DefaultContext instance
        Returns a recursive lock object

    RawArray(typecode_or_type, size_or_initializer) method of multiprocessing.context.DefaultContext instance
        Returns a shared array

    RawValue(typecode_or_type, *args) method of multiprocessing.context.DefaultContext instance
        Returns a shared object

    Semaphore(value=1) method of multiprocessing.context.DefaultContext instance
        Returns a semaphore object

    SimpleQueue() method of multiprocessing.context.DefaultContext instance
        Returns a queue object

    Value(typecode_or_type, *args, lock=True) method of multiprocessing.context.DefaultContext instance
        Returns a synchronized shared object

    active_children()
        Return list of process objects corresponding to live child processes

    allow_connection_pickling() method of multiprocessing.context.DefaultContext instance
        Install support for sending connections and sockets
        between processes

    cpu_count() method of multiprocessing.context.DefaultContext instance
        Returns the number of CPUs in the system

    current_process()
        Return process object representing the current process

    freeze_support() method of multiprocessing.context.DefaultContext instance
        Check whether this is a fake forked process in a frozen executable.
        If so then run code specified by commandline and exit.

    get_all_start_methods() method of multiprocessing.context.DefaultContext instance

    get_context(method=None) method of multiprocessing.context.DefaultContext instance

    get_logger() method of multiprocessing.context.DefaultContext instance
        Return package logger -- if it does not already exist then
        it is created.

    get_start_method(allow_none=False) method of multiprocessing.context.DefaultContext instance

    log_to_stderr(level=None) method of multiprocessing.context.DefaultContext instance
        Turn on logging and add a handler which prints to stderr

    set_executable(executable) method of multiprocessing.context.DefaultContext instance
        Sets the path to a python.exe or pythonw.exe binary used to run
        child processes instead of sys.executable when using the 'spawn'
        start method.  Useful for people embedding Python.

    set_forkserver_preload(module_names) method of multiprocessing.context.DefaultContext instance
        Set list of module names to try to load in forkserver process.
        This is really just a hint.

    set_start_method(method, force=False) method of multiprocessing.context.DefaultContext instance

<h4 id="blogTitle16">DATA</h4>    __all__ = ['Array', 'AuthenticationError', 'Barrier', 'BoundedSemaphor...

<h4 id="blogTitle17">FILE</h4>    /usr/local/Cellar/python/3.7.2_1/Frameworks/Python.framework/Versions/3.7/lib/python3.7/multiprocessing/__init__.py<br></pre><div><br></div><div><br></div><div><br></div><div><div class="section" id="introduction" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><h2 style="font-weight: normal; color: rgb(26, 26, 26); border: 0px; margin: 0px; padding: 0.3em 0px; font-size: 25.6px;" id="blogTitle18">Introduction<a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#introduction" title="Permalink to this headline" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></h2><p style="hyphens: auto; text-align: justify; line-height: 22.4px;"><a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#module-multiprocessing" title="multiprocessing: Process-based parallelism." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">multiprocessing</span></code></a>&nbsp;is a package that supports spawning processes using an API similar to the&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/threading.html#module-threading" title="threading: Thread-based parallelism." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">threading</span></code></a>&nbsp;module. The&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#module-multiprocessing" title="multiprocessing: Process-based parallelism." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">multiprocessing</span></code></a>&nbsp;package offers both local and remote concurrency, effectively side-stepping the&nbsp;<a class="reference internal" href="https://docs.python.org/3/glossary.html#term-global-interpreter-lock" style="color: rgb(99, 99, 187); text-decoration-line: none;">Global Interpreter Lock</a>&nbsp;by using subprocesses instead of threads. Due to this, the&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#module-multiprocessing" title="multiprocessing: Process-based parallelism." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">multiprocessing</span></code></a>&nbsp;module allows the programmer to fully leverage multiple processors on a given machine. It runs on both Unix and Windows.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">The&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#module-multiprocessing" title="multiprocessing: Process-based parallelism." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">multiprocessing</span></code></a>&nbsp;module also introduces APIs which do not have analogs in the&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/threading.html#module-threading" title="threading: Thread-based parallelism." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">threading</span></code></a>&nbsp;module. A prime example of this is the&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.pool.Pool" title="multiprocessing.pool.Pool" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Pool</span></code></a>&nbsp;object which offers a convenient means of parallelizing the execution of a function across multiple input values, distributing the input data across processes (data parallelism). The following example demonstrates the common practice of defining such functions in a module so that child processes can successfully import that module. This basic example of data parallelism using&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.pool.Pool" title="multiprocessing.pool.Pool" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Pool</span></code></a>,</p><div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="kn" style="color: rgb(0, 112, 32); font-weight: bold;">from</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">multiprocessing</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">import</span> <span class="n">Pool</span>

<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">def</span> <span class="nf" style="color: rgb(6, 40, 126);">f</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">return</span> <span class="n">x</span><span class="o" style="color: rgb(102, 102, 102);">*</span><span class="n">x</span>

<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">if</span> <span class="vm" style="color: rgb(187, 96, 213);">__name__</span> <span class="o" style="color: rgb(102, 102, 102);">==</span> <span class="s1" style="color: rgb(64, 112, 160);">'__main__'</span><span class="p">:</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">with</span> <span class="n">Pool</span><span class="p">(</span><span class="mi" style="color: rgb(32, 128, 80);">5</span><span class="p">)</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">as</span> <span class="n">p</span><span class="p">:</span>
        <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="n">p</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">map</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="p">[</span><span class="mi" style="color: rgb(32, 128, 80);">1</span><span class="p">,</span> <span class="mi" style="color: rgb(32, 128, 80);">2</span><span class="p">,</span> <span class="mi" style="color: rgb(32, 128, 80);">3</span><span class="p">]))</span>
</pre></div></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">will print to standard output</p><div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="p">[</span><span class="mi" style="color: rgb(32, 128, 80);">1</span><span class="p">,</span> <span class="mi" style="color: rgb(32, 128, 80);">4</span><span class="p">,</span> <span class="mi" style="color: rgb(32, 128, 80);">9</span><span class="p">]</span>
</pre></div></div><div class="section" id="the-process-class"><h3 style="font-weight: normal; color: rgb(26, 26, 26); border: 0px; margin: 0px; padding: 0.3em 0px; font-size: 22.4px;" id="blogTitle19">The&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Process" title="multiprocessing.Process" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 21.616px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Process</span></code></a>&nbsp;class<a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#the-process-class" title="Permalink to this headline" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></h3><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">In&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#module-multiprocessing" title="multiprocessing: Process-based parallelism." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">multiprocessing</span></code></a>, processes are spawned by creating a&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Process" title="multiprocessing.Process" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Process</span></code></a>&nbsp;object and then calling its&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Process.start" title="multiprocessing.Process.start" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">start()</span></code></a>&nbsp;method.&nbsp;<code class="xref py py-class docutils literal notranslate" style="color: rgb(99, 99, 187); text-decoration-line: none; background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;"><a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Process" title="multiprocessing.Process" style="color: rgb(99, 99, 187); text-decoration-line: none;">Process</a>&nbsp;</span></code>follows the API of&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/threading.html#threading.Thread" title="threading.Thread" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">threading.Thread</span></code></a>. A trivial example of a multiprocess program is</p><div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="kn" style="color: rgb(0, 112, 32); font-weight: bold;">from</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">multiprocessing</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">import</span> <span class="n">Process</span>

<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">def</span> <span class="nf" style="color: rgb(6, 40, 126);">f</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
    <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'hello'</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>

<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">if</span> <span class="vm" style="color: rgb(187, 96, 213);">__name__</span> <span class="o" style="color: rgb(102, 102, 102);">==</span> <span class="s1" style="color: rgb(64, 112, 160);">'__main__'</span><span class="p">:</span>
    <span class="n">p</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">Process</span><span class="p">(</span><span class="n">target</span><span class="o" style="color: rgb(102, 102, 102);">=</span><span class="n">f</span><span class="p">,</span> <span class="n">args</span><span class="o" style="color: rgb(102, 102, 102);">=</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'bob'</span><span class="p">,))</span>
    <span class="n">p</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">start</span><span class="p">()</span>
    <span class="n">p</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">join</span><span class="p">()</span>
</pre></div></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">To show the individual process IDs involved, here is an expanded example:</p><div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="kn" style="color: rgb(0, 112, 32); font-weight: bold;">from</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">multiprocessing</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">import</span> <span class="n">Process</span>
<span class="kn" style="color: rgb(0, 112, 32); font-weight: bold;">import</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">os</span>

<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">def</span> <span class="nf" style="color: rgb(6, 40, 126);">info</span><span class="p">(</span><span class="n">title</span><span class="p">):</span>
    <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="n">title</span><span class="p">)</span>
    <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'module name:'</span><span class="p">,</span> <span class="vm" style="color: rgb(187, 96, 213);">__name__</span><span class="p">)</span>
    <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'parent process:'</span><span class="p">,</span> <span class="n">os</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">getppid</span><span class="p">())</span>
    <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'process id:'</span><span class="p">,</span> <span class="n">os</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">getpid</span><span class="p">())</span>

<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">def</span> <span class="nf" style="color: rgb(6, 40, 126);">f</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
    <span class="n">info</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'function f'</span><span class="p">)</span>
    <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'hello'</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>

<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">if</span> <span class="vm" style="color: rgb(187, 96, 213);">__name__</span> <span class="o" style="color: rgb(102, 102, 102);">==</span> <span class="s1" style="color: rgb(64, 112, 160);">'__main__'</span><span class="p">:</span>
    <span class="n">info</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'main line'</span><span class="p">)</span>
    <span class="n">p</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">Process</span><span class="p">(</span><span class="n">target</span><span class="o" style="color: rgb(102, 102, 102);">=</span><span class="n">f</span><span class="p">,</span> <span class="n">args</span><span class="o" style="color: rgb(102, 102, 102);">=</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'bob'</span><span class="p">,))</span>
    <span class="n">p</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">start</span><span class="p">()</span>
    <span class="n">p</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">join</span><span class="p">()</span>
</pre></div></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">For an explanation of why the&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">if</span>&nbsp;<span class="pre" style="hyphens: none;">__name__</span>&nbsp;<span class="pre" style="hyphens: none;">==</span>&nbsp;<span class="pre" style="hyphens: none;">'__main__'&nbsp;</span></code>part is necessary, see&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing-programming" style="color: rgb(99, 99, 187); text-decoration-line: none;">Programming guidelines</a>.</p></div><div class="section" id="contexts-and-start-methods"><h3 style="font-weight: normal; color: rgb(26, 26, 26); border: 0px; margin: 0px; padding: 0.3em 0px; font-size: 22.4px;" id="blogTitle20">Contexts and start methods<a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#contexts-and-start-methods" title="Permalink to this headline" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></h3><p id="multiprocessing-start-methods" style="hyphens: auto; text-align: justify; line-height: 22.4px;">Depending on the platform,&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#module-multiprocessing" title="multiprocessing: Process-based parallelism." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">multiprocessing</span></code></a>&nbsp;supports three ways to start a process. These&nbsp;<em>start methods</em>&nbsp;are</p><blockquote style="hyphens: auto; text-align: justify; line-height: 20.8px;"><dl class="docutils" style="margin-bottom: 15px;"><dt><em>spawn</em></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p class="first" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;">The parent process starts a fresh python interpreter process. The child process will only inherit those resources necessary to run the process objects&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Process.run" title="multiprocessing.Process.run" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">run()</span></code></a>&nbsp;method. In particular, unnecessary file descriptors and handles from the parent process will not be inherited. Starting a process using this method is rather slow compared to using&nbsp;<em>fork</em>&nbsp;or&nbsp;<em>forkserver</em>.</p><p class="last" style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Available on Unix and Windows. The default on Windows.</p></dd><dt><em>fork</em></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p class="first" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;">The parent process uses&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/os.html#os.fork" title="os.fork" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">os.fork()</span></code></a>&nbsp;to fork the Python interpreter. The child process, when it begins, is effectively identical to the parent process. All resources of the parent are inherited by the child process. Note that safely forking a multithreaded process is problematic.</p><p class="last" style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Available on Unix only. The default on Unix.</p></dd><dt><em>forkserver</em></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p class="first" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;">When the program starts and selects the&nbsp;<em>forkserver</em>&nbsp;start method, a server process is started. From then on, whenever a new process is needed, the parent process connects to the server and requests that it fork a new process. The fork server process is single threaded so it is safe for it to use&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/os.html#os.fork" title="os.fork" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">os.fork()</span></code></a>. No unnecessary resources are inherited.</p><p class="last" style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Available on Unix platforms which support passing file descriptors over Unix pipes.</p></dd></dl></blockquote><div class="versionchanged"><p style="hyphens: auto; text-align: justify; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">Changed in version 3.4:&nbsp;</span><em>spawn</em>&nbsp;added on all unix platforms, and&nbsp;<em>forkserver</em>&nbsp;added for some unix platforms. Child processes no longer inherit all of the parents inheritable handles on Windows.</p></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">On Unix using the&nbsp;<em>spawn</em>&nbsp;or&nbsp;<em>forkserver</em>&nbsp;start methods will also start a&nbsp;<em>semaphore tracker</em>&nbsp;process which tracks the unlinked named semaphores created by processes of the program. When all processes have exited the semaphore tracker unlinks any remaining semaphores. Usually there should be none, but if a process was killed by a signal there may be some “leaked” semaphores. (Unlinking the named semaphores is a serious matter since the system allows only a limited number, and they will not be automatically unlinked until the next reboot.)</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">To select a start method you use the&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.set_start_method" title="multiprocessing.set_start_method" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">set_start_method()</span></code></a>&nbsp;in the&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">if</span>&nbsp;<span class="pre" style="hyphens: none;">__name__</span>&nbsp;<span class="pre" style="hyphens: none;">==</span>&nbsp;<span class="pre" style="hyphens: none;">'__main__'</span></code>&nbsp;clause of the main module. For example:</p><div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="kn" style="color: rgb(0, 112, 32); font-weight: bold;">import</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">multiprocessing</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">as</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">mp</span>

<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">def</span> <span class="nf" style="color: rgb(6, 40, 126);">foo</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
    <span class="n">q</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">put</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'hello'</span><span class="p">)</span>

<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">if</span> <span class="vm" style="color: rgb(187, 96, 213);">__name__</span> <span class="o" style="color: rgb(102, 102, 102);">==</span> <span class="s1" style="color: rgb(64, 112, 160);">'__main__'</span><span class="p">:</span>
    <span class="n">mp</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">set_start_method</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'spawn'</span><span class="p">)</span>
    <span class="n">q</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">mp</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">Queue</span><span class="p">()</span>
    <span class="n">p</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">mp</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">Process</span><span class="p">(</span><span class="n">target</span><span class="o" style="color: rgb(102, 102, 102);">=</span><span class="n">foo</span><span class="p">,</span> <span class="n">args</span><span class="o" style="color: rgb(102, 102, 102);">=</span><span class="p">(</span><span class="n">q</span><span class="p">,))</span>
    <span class="n">p</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">start</span><span class="p">()</span>
    <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="n">q</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">get</span><span class="p">())</span>
    <span class="n">p</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">join</span><span class="p">()</span>
</pre></div></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px;"><a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.set_start_method" title="multiprocessing.set_start_method" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">set_start_method()</span></code></a>&nbsp;should not be used more than once in the program.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">Alternatively, you can use&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.get_context" title="multiprocessing.get_context" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">get_context()</span></code></a>&nbsp;to obtain a context object. Context objects have the same API as the multiprocessing module, and allow one to use multiple start methods in the same program.</p><div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="kn" style="color: rgb(0, 112, 32); font-weight: bold;">import</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">multiprocessing</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">as</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">mp</span>

<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">def</span> <span class="nf" style="color: rgb(6, 40, 126);">foo</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
    <span class="n">q</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">put</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'hello'</span><span class="p">)</span>

<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">if</span> <span class="vm" style="color: rgb(187, 96, 213);">__name__</span> <span class="o" style="color: rgb(102, 102, 102);">==</span> <span class="s1" style="color: rgb(64, 112, 160);">'__main__'</span><span class="p">:</span>
    <span class="n">ctx</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">mp</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">get_context</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'spawn'</span><span class="p">)</span>
    <span class="n">q</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">ctx</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">Queue</span><span class="p">()</span>
    <span class="n">p</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">ctx</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">Process</span><span class="p">(</span><span class="n">target</span><span class="o" style="color: rgb(102, 102, 102);">=</span><span class="n">foo</span><span class="p">,</span> <span class="n">args</span><span class="o" style="color: rgb(102, 102, 102);">=</span><span class="p">(</span><span class="n">q</span><span class="p">,))</span>
    <span class="n">p</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">start</span><span class="p">()</span>
    <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="n">q</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">get</span><span class="p">())</span>
    <span class="n">p</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">join</span><span class="p">()</span>
</pre></div></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">Note that objects related to one context may not be compatible with processes for a different context. In particular, locks created using the&nbsp;<em>fork</em>&nbsp;context cannot be passed to processes started using the&nbsp;<em>spawn</em>&nbsp;or&nbsp;<em>forkserver</em>&nbsp;start methods.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">A library which wants to use a particular start method should probably use&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.get_context" title="multiprocessing.get_context" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">get_context()</span></code></a>&nbsp;to avoid interfering with the choice of the library user.</p><div class="admonition warning" style="margin-top: 10px; margin-bottom: 10px; padding: 7px; background-color: rgb(255, 228, 228); border: 1px solid rgb(255, 102, 102); border-radius: 3px;"><p class="first admonition-title" style="margin: 0px 10px 5px 0px; font-weight: bold; display: inline; hyphens: auto; text-align: justify; line-height: 22.4px;">Warning</p>&nbsp;<p class="last" style="hyphens: auto; text-align: justify; line-height: 22.4px; margin-bottom: 5px; display: inline;">The&nbsp;<code class="docutils literal notranslate" style="background: rgb(239, 194, 194); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">'spawn'</span></code>&nbsp;and&nbsp;<code class="docutils literal notranslate" style="background: rgb(239, 194, 194); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">'forkserver'</span></code>&nbsp;start methods cannot currently be used with “frozen” executables (i.e., binaries produced by packages like&nbsp;<strong>PyInstaller</strong>&nbsp;and&nbsp;<strong>cx_Freeze</strong>) on Unix. The&nbsp;<code class="docutils literal notranslate" style="background: rgb(239, 194, 194); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">'fork'</span></code>&nbsp;start method does work.</p></div></div><div class="section" id="exchanging-objects-between-processes"><h3 style="font-weight: normal; color: rgb(26, 26, 26); border: 0px; margin: 0px; padding: 0.3em 0px; font-size: 22.4px;" id="blogTitle21">Exchanging objects between processes<a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#exchanging-objects-between-processes" title="Permalink to this headline" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></h3><p style="hyphens: auto; text-align: justify; line-height: 22.4px;"><a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#module-multiprocessing" title="multiprocessing: Process-based parallelism." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">multiprocessing</span></code></a>&nbsp;supports two types of communication channel between processes:</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px;"><strong>Queues</strong></p><blockquote style="hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="hyphens: auto; line-height: 22.4px;">The&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Queue" title="multiprocessing.Queue" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Queue</span></code></a>&nbsp;class is a near clone of&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/queue.html#queue.Queue" title="queue.Queue" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">queue.Queue</span></code></a>. For example:</p><div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="kn" style="color: rgb(0, 112, 32); font-weight: bold;">from</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">multiprocessing</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">import</span> <span class="n">Process</span><span class="p">,</span> <span class="n">Queue</span>

<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">def</span> <span class="nf" style="color: rgb(6, 40, 126);">f</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
    <span class="n">q</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">put</span><span class="p">([</span><span class="mi" style="color: rgb(32, 128, 80);">42</span><span class="p">,</span> <span class="kc" style="color: rgb(0, 112, 32); font-weight: bold;">None</span><span class="p">,</span> <span class="s1" style="color: rgb(64, 112, 160);">'hello'</span><span class="p">])</span>

<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">if</span> <span class="vm" style="color: rgb(187, 96, 213);">__name__</span> <span class="o" style="color: rgb(102, 102, 102);">==</span> <span class="s1" style="color: rgb(64, 112, 160);">'__main__'</span><span class="p">:</span>
    <span class="n">q</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">Queue</span><span class="p">()</span>
    <span class="n">p</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">Process</span><span class="p">(</span><span class="n">target</span><span class="o" style="color: rgb(102, 102, 102);">=</span><span class="n">f</span><span class="p">,</span> <span class="n">args</span><span class="o" style="color: rgb(102, 102, 102);">=</span><span class="p">(</span><span class="n">q</span><span class="p">,))</span>
    <span class="n">p</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">start</span><span class="p">()</span>
    <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="n">q</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">get</span><span class="p">())</span>    <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># prints "[42, None, 'hello']"</span>
    <span class="n">p</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">join</span><span class="p">()</span>
</pre></div></div><p style="hyphens: auto; line-height: 22.4px;">Queues are thread and process safe.</p></blockquote><p style="hyphens: auto; text-align: justify; line-height: 22.4px;"><strong>Pipes</strong></p><blockquote style="hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="hyphens: auto; line-height: 22.4px;">The&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Pipe" title="multiprocessing.Pipe" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Pipe()</span></code></a>&nbsp;function returns a pair of connection objects connected by a pipe which by default is duplex (two-way). For example:</p><div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="kn" style="color: rgb(0, 112, 32); font-weight: bold;">from</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">multiprocessing</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">import</span> <span class="n">Process</span><span class="p">,</span> <span class="n">Pipe</span>

<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">def</span> <span class="nf" style="color: rgb(6, 40, 126);">f</span><span class="p">(</span><span class="n">conn</span><span class="p">):</span>
    <span class="n">conn</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">send</span><span class="p">([</span><span class="mi" style="color: rgb(32, 128, 80);">42</span><span class="p">,</span> <span class="kc" style="color: rgb(0, 112, 32); font-weight: bold;">None</span><span class="p">,</span> <span class="s1" style="color: rgb(64, 112, 160);">'hello'</span><span class="p">])</span>
    <span class="n">conn</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">close</span><span class="p">()</span>

<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">if</span> <span class="vm" style="color: rgb(187, 96, 213);">__name__</span> <span class="o" style="color: rgb(102, 102, 102);">==</span> <span class="s1" style="color: rgb(64, 112, 160);">'__main__'</span><span class="p">:</span>
    <span class="n">parent_conn</span><span class="p">,</span> <span class="n">child_conn</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">Pipe</span><span class="p">()</span>
    <span class="n">p</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">Process</span><span class="p">(</span><span class="n">target</span><span class="o" style="color: rgb(102, 102, 102);">=</span><span class="n">f</span><span class="p">,</span> <span class="n">args</span><span class="o" style="color: rgb(102, 102, 102);">=</span><span class="p">(</span><span class="n">child_conn</span><span class="p">,))</span>
    <span class="n">p</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">start</span><span class="p">()</span>
    <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="n">parent_conn</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">recv</span><span class="p">())</span>   <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># prints "[42, None, 'hello']"</span>
    <span class="n">p</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">join</span><span class="p">()</span>
</pre></div></div><p style="hyphens: auto; line-height: 22.4px;">The two connection objects returned by&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Pipe" title="multiprocessing.Pipe" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Pipe()</span></code></a>&nbsp;represent the two ends of the pipe. Each connection object has&nbsp;<code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">send()</span></code>&nbsp;and&nbsp;<code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">recv()</span></code>&nbsp;methods (among others). Note that data in a pipe may become corrupted if two processes (or threads) try to read from or write to the&nbsp;<em>same</em>&nbsp;end of the pipe at the same time. Of course there is no risk of corruption from processes using different ends of the pipe at the same time.</p></blockquote></div><div class="section" id="synchronization-between-processes"><h3 style="font-weight: normal; color: rgb(26, 26, 26); border: 0px; margin: 0px; padding: 0.3em 0px; font-size: 22.4px;" id="blogTitle22">Synchronization between processes<a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#synchronization-between-processes" title="Permalink to this headline" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></h3><p style="hyphens: auto; text-align: justify; line-height: 22.4px;"><a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#module-multiprocessing" title="multiprocessing: Process-based parallelism." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">multiprocessing</span></code></a>&nbsp;contains equivalents of all the synchronization primitives from&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/threading.html#module-threading" title="threading: Thread-based parallelism." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">threading</span></code></a>. For instance one can use a lock to ensure that only one process prints to standard output at a time:</p><div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="kn" style="color: rgb(0, 112, 32); font-weight: bold;">from</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">multiprocessing</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">import</span> <span class="n">Process</span><span class="p">,</span> <span class="n">Lock</span>

<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">def</span> <span class="nf" style="color: rgb(6, 40, 126);">f</span><span class="p">(</span><span class="n">l</span><span class="p">,</span> <span class="n">i</span><span class="p">):</span>
    <span class="n">l</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">acquire</span><span class="p">()</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">try</span><span class="p">:</span>
        <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'hello world'</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">finally</span><span class="p">:</span>
        <span class="n">l</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">release</span><span class="p">()</span>

<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">if</span> <span class="vm" style="color: rgb(187, 96, 213);">__name__</span> <span class="o" style="color: rgb(102, 102, 102);">==</span> <span class="s1" style="color: rgb(64, 112, 160);">'__main__'</span><span class="p">:</span>
    <span class="n">lock</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">Lock</span><span class="p">()</span>

    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">for</span> <span class="n">num</span> <span class="ow" style="color: rgb(0, 112, 32); font-weight: bold;">in</span> <span class="nb" style="color: rgb(0, 112, 32);">range</span><span class="p">(</span><span class="mi" style="color: rgb(32, 128, 80);">10</span><span class="p">):</span>
        <span class="n">Process</span><span class="p">(</span><span class="n">target</span><span class="o" style="color: rgb(102, 102, 102);">=</span><span class="n">f</span><span class="p">,</span> <span class="n">args</span><span class="o" style="color: rgb(102, 102, 102);">=</span><span class="p">(</span><span class="n">lock</span><span class="p">,</span> <span class="n">num</span><span class="p">))</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">start</span><span class="p">()</span>
</pre></div></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">Without using the lock output from the different processes is liable to get all mixed up.</p></div><div class="section" id="sharing-state-between-processes"><h3 style="font-weight: normal; color: rgb(26, 26, 26); border: 0px; margin: 0px; padding: 0.3em 0px; font-size: 22.4px;" id="blogTitle23">Sharing state between processes<a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#sharing-state-between-processes" title="Permalink to this headline" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></h3><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">As mentioned above, when doing concurrent programming it is usually best to avoid using shared state as far as possible. This is particularly true when using multiple processes.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">However, if you really do need to use some shared data then&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#module-multiprocessing" title="multiprocessing: Process-based parallelism." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">multiprocessing</span></code></a>&nbsp;provides a couple of ways of doing so.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px;"><strong>Shared memory</strong></p><blockquote style="hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="hyphens: auto; line-height: 22.4px;">Data can be stored in a shared memory map using&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Value" title="multiprocessing.Value" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Value</span></code></a>&nbsp;or&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Array" title="multiprocessing.Array" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Array</span></code></a>. For example, the following code</p><div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="kn" style="color: rgb(0, 112, 32); font-weight: bold;">from</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">multiprocessing</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">import</span> <span class="n">Process</span><span class="p">,</span> <span class="n">Value</span><span class="p">,</span> <span class="n">Array</span>

<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">def</span> <span class="nf" style="color: rgb(6, 40, 126);">f</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">a</span><span class="p">):</span>
    <span class="n">n</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">value</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="mf" style="color: rgb(32, 128, 80);">3.1415927</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">for</span> <span class="n">i</span> <span class="ow" style="color: rgb(0, 112, 32); font-weight: bold;">in</span> <span class="nb" style="color: rgb(0, 112, 32);">range</span><span class="p">(</span><span class="nb" style="color: rgb(0, 112, 32);">len</span><span class="p">(</span><span class="n">a</span><span class="p">)):</span>
        <span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="o" style="color: rgb(102, 102, 102);">-</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>

<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">if</span> <span class="vm" style="color: rgb(187, 96, 213);">__name__</span> <span class="o" style="color: rgb(102, 102, 102);">==</span> <span class="s1" style="color: rgb(64, 112, 160);">'__main__'</span><span class="p">:</span>
    <span class="n">num</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">Value</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'d'</span><span class="p">,</span> <span class="mf" style="color: rgb(32, 128, 80);">0.0</span><span class="p">)</span>
    <span class="n">arr</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">Array</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'i'</span><span class="p">,</span> <span class="nb" style="color: rgb(0, 112, 32);">range</span><span class="p">(</span><span class="mi" style="color: rgb(32, 128, 80);">10</span><span class="p">))</span>

    <span class="n">p</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">Process</span><span class="p">(</span><span class="n">target</span><span class="o" style="color: rgb(102, 102, 102);">=</span><span class="n">f</span><span class="p">,</span> <span class="n">args</span><span class="o" style="color: rgb(102, 102, 102);">=</span><span class="p">(</span><span class="n">num</span><span class="p">,</span> <span class="n">arr</span><span class="p">))</span>
    <span class="n">p</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">start</span><span class="p">()</span>
    <span class="n">p</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">join</span><span class="p">()</span>

    <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="n">num</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">value</span><span class="p">)</span>
    <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="n">arr</span><span class="p">[:])</span>
</pre></div></div><p style="hyphens: auto; line-height: 22.4px;">will print</p><div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="mf" style="color: rgb(32, 128, 80);">3.1415927</span>
<span class="p">[</span><span class="mi" style="color: rgb(32, 128, 80);">0</span><span class="p">,</span> <span class="o" style="color: rgb(102, 102, 102);">-</span><span class="mi" style="color: rgb(32, 128, 80);">1</span><span class="p">,</span> <span class="o" style="color: rgb(102, 102, 102);">-</span><span class="mi" style="color: rgb(32, 128, 80);">2</span><span class="p">,</span> <span class="o" style="color: rgb(102, 102, 102);">-</span><span class="mi" style="color: rgb(32, 128, 80);">3</span><span class="p">,</span> <span class="o" style="color: rgb(102, 102, 102);">-</span><span class="mi" style="color: rgb(32, 128, 80);">4</span><span class="p">,</span> <span class="o" style="color: rgb(102, 102, 102);">-</span><span class="mi" style="color: rgb(32, 128, 80);">5</span><span class="p">,</span> <span class="o" style="color: rgb(102, 102, 102);">-</span><span class="mi" style="color: rgb(32, 128, 80);">6</span><span class="p">,</span> <span class="o" style="color: rgb(102, 102, 102);">-</span><span class="mi" style="color: rgb(32, 128, 80);">7</span><span class="p">,</span> <span class="o" style="color: rgb(102, 102, 102);">-</span><span class="mi" style="color: rgb(32, 128, 80);">8</span><span class="p">,</span> <span class="o" style="color: rgb(102, 102, 102);">-</span><span class="mi" style="color: rgb(32, 128, 80);">9</span><span class="p">]</span>
</pre></div></div><p style="hyphens: auto; line-height: 22.4px;">The&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">'d'</span></code>&nbsp;and&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">'i'</span></code>&nbsp;arguments used when creating&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">num&nbsp;</span></code>and&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">arr</span></code>&nbsp;are typecodes of the kind used by the&nbsp;<code class="xref py py-mod docutils literal notranslate" style="color: rgb(99, 99, 187); text-decoration-line: none; background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;"><a class="reference internal" href="https://docs.python.org/3/library/array.html#module-array" title="array: Space efficient arrays of uniformly typed numeric values." style="color: rgb(99, 99, 187); text-decoration-line: none;">array</a>&nbsp;</span></code>module:&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">'d'</span></code>&nbsp;indicates a double precision float and&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">'i'</span></code>&nbsp;indicates a signed integer. These shared objects will be process and thread-safe.</p><p style="hyphens: auto; line-height: 22.4px;">For more flexibility in using shared memory one can use the&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#module-multiprocessing.sharedctypes" title="multiprocessing.sharedctypes: Allocate ctypes objects from shared memory." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">multiprocessing.sharedctypes</span></code></a>&nbsp;module which supports the creation of arbitrary ctypes objects allocated from shared memory.</p></blockquote><p style="hyphens: auto; text-align: justify; line-height: 22.4px;"><strong>Server process</strong></p><blockquote style="hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="hyphens: auto; line-height: 22.4px;">A manager object returned by&nbsp;<code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Manager()</span></code>&nbsp;controls a server process which holds Python objects and allows other processes to manipulate them using proxies.</p><p style="hyphens: auto; line-height: 22.4px;">A manager returned by&nbsp;<code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Manager()</span></code>&nbsp;will support types&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/stdtypes.html#list" title="list" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">list</span></code></a>,&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/stdtypes.html#dict" title="dict" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">dict</span></code></a>,&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.managers.Namespace" title="multiprocessing.managers.Namespace" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Namespace</span></code></a>,&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Lock" title="multiprocessing.Lock" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Lock</span></code></a>,&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.RLock" title="multiprocessing.RLock" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">RLock</span></code></a>,&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Semaphore" title="multiprocessing.Semaphore" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Semaphore</span></code></a>,&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.BoundedSemaphore" title="multiprocessing.BoundedSemaphore" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">BoundedSemaphore</span></code></a>,&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Condition" title="multiprocessing.Condition" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Condition</span></code></a>,&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Event" title="multiprocessing.Event" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Event</span></code></a>,&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Barrier" title="multiprocessing.Barrier" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Barrier</span></code></a>,&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Queue" title="multiprocessing.Queue" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Queue</span></code></a>,&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Value" title="multiprocessing.Value" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Value</span></code></a>&nbsp;and&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Array" title="multiprocessing.Array" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Array</span></code></a>. For example,</p><div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="kn" style="color: rgb(0, 112, 32); font-weight: bold;">from</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">multiprocessing</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">import</span> <span class="n">Process</span><span class="p">,</span> <span class="n">Manager</span>

<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">def</span> <span class="nf" style="color: rgb(6, 40, 126);">f</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="n">l</span><span class="p">):</span>
    <span class="n">d</span><span class="p">[</span><span class="mi" style="color: rgb(32, 128, 80);">1</span><span class="p">]</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="s1" style="color: rgb(64, 112, 160);">'1'</span>
    <span class="n">d</span><span class="p">[</span><span class="s1" style="color: rgb(64, 112, 160);">'2'</span><span class="p">]</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="mi" style="color: rgb(32, 128, 80);">2</span>
    <span class="n">d</span><span class="p">[</span><span class="mf" style="color: rgb(32, 128, 80);">0.25</span><span class="p">]</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="kc" style="color: rgb(0, 112, 32); font-weight: bold;">None</span>
    <span class="n">l</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">reverse</span><span class="p">()</span>

<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">if</span> <span class="vm" style="color: rgb(187, 96, 213);">__name__</span> <span class="o" style="color: rgb(102, 102, 102);">==</span> <span class="s1" style="color: rgb(64, 112, 160);">'__main__'</span><span class="p">:</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">with</span> <span class="n">Manager</span><span class="p">()</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">as</span> <span class="n">manager</span><span class="p">:</span>
        <span class="n">d</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">manager</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">dict</span><span class="p">()</span>
        <span class="n">l</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">manager</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">list</span><span class="p">(</span><span class="nb" style="color: rgb(0, 112, 32);">range</span><span class="p">(</span><span class="mi" style="color: rgb(32, 128, 80);">10</span><span class="p">))</span>

        <span class="n">p</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">Process</span><span class="p">(</span><span class="n">target</span><span class="o" style="color: rgb(102, 102, 102);">=</span><span class="n">f</span><span class="p">,</span> <span class="n">args</span><span class="o" style="color: rgb(102, 102, 102);">=</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="n">l</span><span class="p">))</span>
        <span class="n">p</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">start</span><span class="p">()</span>
        <span class="n">p</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">join</span><span class="p">()</span>

        <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
        <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="n">l</span><span class="p">)</span>
</pre></div></div><p style="hyphens: auto; line-height: 22.4px;">will print</p><div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="p">{</span><span class="mf" style="color: rgb(32, 128, 80);">0.25</span><span class="p">:</span> <span class="kc" style="color: rgb(0, 112, 32); font-weight: bold;">None</span><span class="p">,</span> <span class="mi" style="color: rgb(32, 128, 80);">1</span><span class="p">:</span> <span class="s1" style="color: rgb(64, 112, 160);">'1'</span><span class="p">,</span> <span class="s1" style="color: rgb(64, 112, 160);">'2'</span><span class="p">:</span> <span class="mi" style="color: rgb(32, 128, 80);">2</span><span class="p">}</span>
<span class="p">[</span><span class="mi" style="color: rgb(32, 128, 80);">9</span><span class="p">,</span> <span class="mi" style="color: rgb(32, 128, 80);">8</span><span class="p">,</span> <span class="mi" style="color: rgb(32, 128, 80);">7</span><span class="p">,</span> <span class="mi" style="color: rgb(32, 128, 80);">6</span><span class="p">,</span> <span class="mi" style="color: rgb(32, 128, 80);">5</span><span class="p">,</span> <span class="mi" style="color: rgb(32, 128, 80);">4</span><span class="p">,</span> <span class="mi" style="color: rgb(32, 128, 80);">3</span><span class="p">,</span> <span class="mi" style="color: rgb(32, 128, 80);">2</span><span class="p">,</span> <span class="mi" style="color: rgb(32, 128, 80);">1</span><span class="p">,</span> <span class="mi" style="color: rgb(32, 128, 80);">0</span><span class="p">]</span>
</pre></div></div><p style="hyphens: auto; line-height: 22.4px;">Server process managers are more flexible than using shared memory objects because they can be made to support arbitrary object types. Also, a single manager can be shared by processes on different computers over a network. They are, however, slower than using shared memory.</p></blockquote></div><div class="section" id="using-a-pool-of-workers"><h3 style="font-weight: normal; color: rgb(26, 26, 26); border: 0px; margin: 0px; padding: 0.3em 0px; font-size: 22.4px;" id="blogTitle24">Using a pool of workers<a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#using-a-pool-of-workers" title="Permalink to this headline" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></h3><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">The&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.pool.Pool" title="multiprocessing.pool.Pool" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Pool</span></code></a>&nbsp;class represents a pool of worker processes. It has methods which allows tasks to be offloaded to the worker processes in a few different ways.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">For example:</p><div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="kn" style="color: rgb(0, 112, 32); font-weight: bold;">from</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">multiprocessing</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">import</span> <span class="n">Pool</span><span class="p">,</span> <span class="ne" style="color: rgb(0, 112, 32);">TimeoutError</span>
<span class="kn" style="color: rgb(0, 112, 32); font-weight: bold;">import</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">time</span>
<span class="kn" style="color: rgb(0, 112, 32); font-weight: bold;">import</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">os</span>

<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">def</span> <span class="nf" style="color: rgb(6, 40, 126);">f</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">return</span> <span class="n">x</span><span class="o" style="color: rgb(102, 102, 102);">*</span><span class="n">x</span>

<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">if</span> <span class="vm" style="color: rgb(187, 96, 213);">__name__</span> <span class="o" style="color: rgb(102, 102, 102);">==</span> <span class="s1" style="color: rgb(64, 112, 160);">'__main__'</span><span class="p">:</span>
    <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># start 4 worker processes</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">with</span> <span class="n">Pool</span><span class="p">(</span><span class="n">processes</span><span class="o" style="color: rgb(102, 102, 102);">=</span><span class="mi" style="color: rgb(32, 128, 80);">4</span><span class="p">)</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">as</span> <span class="n">pool</span><span class="p">:</span>

        <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># print "[0, 1, 4,..., 81]"</span>
        <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="n">pool</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">map</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="nb" style="color: rgb(0, 112, 32);">range</span><span class="p">(</span><span class="mi" style="color: rgb(32, 128, 80);">10</span><span class="p">)))</span>

        <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># print same numbers in arbitrary order</span>
        <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">for</span> <span class="n">i</span> <span class="ow" style="color: rgb(0, 112, 32); font-weight: bold;">in</span> <span class="n">pool</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">imap_unordered</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="nb" style="color: rgb(0, 112, 32);">range</span><span class="p">(</span><span class="mi" style="color: rgb(32, 128, 80);">10</span><span class="p">)):</span>
            <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>

        <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># evaluate "f(20)" asynchronously</span>
        <span class="n">res</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">pool</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">apply_async</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="p">(</span><span class="mi" style="color: rgb(32, 128, 80);">20</span><span class="p">,))</span>      <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># runs in *only* one process</span>
        <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="n">res</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">get</span><span class="p">(</span><span class="n">timeout</span><span class="o" style="color: rgb(102, 102, 102);">=</span><span class="mi" style="color: rgb(32, 128, 80);">1</span><span class="p">))</span>             <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># prints "400"</span>

        <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># evaluate "os.getpid()" asynchronously</span>
        <span class="n">res</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">pool</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">apply_async</span><span class="p">(</span><span class="n">os</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">getpid</span><span class="p">,</span> <span class="p">())</span> <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># runs in *only* one process</span>
        <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="n">res</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">get</span><span class="p">(</span><span class="n">timeout</span><span class="o" style="color: rgb(102, 102, 102);">=</span><span class="mi" style="color: rgb(32, 128, 80);">1</span><span class="p">))</span>             <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># prints the PID of that process</span>

        <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># launching multiple evaluations asynchronously *may* use more processes</span>
        <span class="n">multiple_results</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="p">[</span><span class="n">pool</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">apply_async</span><span class="p">(</span><span class="n">os</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">getpid</span><span class="p">,</span> <span class="p">())</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">for</span> <span class="n">i</span> <span class="ow" style="color: rgb(0, 112, 32); font-weight: bold;">in</span> <span class="nb" style="color: rgb(0, 112, 32);">range</span><span class="p">(</span><span class="mi" style="color: rgb(32, 128, 80);">4</span><span class="p">)]</span>
        <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">([</span><span class="n">res</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">get</span><span class="p">(</span><span class="n">timeout</span><span class="o" style="color: rgb(102, 102, 102);">=</span><span class="mi" style="color: rgb(32, 128, 80);">1</span><span class="p">)</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">for</span> <span class="n">res</span> <span class="ow" style="color: rgb(0, 112, 32); font-weight: bold;">in</span> <span class="n">multiple_results</span><span class="p">])</span>

        <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># make a single worker sleep for 10 secs</span>
        <span class="n">res</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">pool</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">apply_async</span><span class="p">(</span><span class="n">time</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">sleep</span><span class="p">,</span> <span class="p">(</span><span class="mi" style="color: rgb(32, 128, 80);">10</span><span class="p">,))</span>
        <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">try</span><span class="p">:</span>
            <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="n">res</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">get</span><span class="p">(</span><span class="n">timeout</span><span class="o" style="color: rgb(102, 102, 102);">=</span><span class="mi" style="color: rgb(32, 128, 80);">1</span><span class="p">))</span>
        <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">except</span> <span class="ne" style="color: rgb(0, 112, 32);">TimeoutError</span><span class="p">:</span>
            <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="s2" style="color: rgb(64, 112, 160);">"We lacked patience and got a multiprocessing.TimeoutError"</span><span class="p">)</span>

        <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="s2" style="color: rgb(64, 112, 160);">"For the moment, the pool remains available for more work"</span><span class="p">)</span>

    <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># exiting the 'with'-block has stopped the pool</span>
    <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="s2" style="color: rgb(64, 112, 160);">"Now the pool is closed and no longer available"</span><span class="p">)</span>
</pre></div></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">Note that the methods of a pool should only ever be used by the process which created it.</p><div class="admonition note" style="margin-top: 10px; margin-bottom: 10px; padding: 7px; background-color: rgb(238, 238, 238); border: 1px solid rgb(204, 204, 204); border-radius: 3px;"><p class="first admonition-title" style="margin: 0px 10px 5px 0px; font-weight: bold; display: inline; hyphens: auto; text-align: justify; line-height: 22.4px;">Note</p>&nbsp;<p style="hyphens: auto; text-align: justify; line-height: 22.4px; margin-bottom: 5px; display: inline;">Functionality within this package requires that the<code class="docutils literal notranslate" style="background: rgb(214, 214, 214); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__main__</span></code>&nbsp;module be importable by the children. This is covered in&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing-programming" style="color: rgb(99, 99, 187); text-decoration-line: none;"><span class="std std-ref">Programming guidelines</span></a>&nbsp;however it is worth pointing out here. This means that some examples, such as the&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.pool.Pool" title="multiprocessing.pool.Pool" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background: rgb(214, 214, 214); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">multiprocessing.pool.Pool</span></code></a>&nbsp;examples will not work in the interactive interpreter. For example:</p><div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><span class="copybutton" title="Hide the prompts and output" style="cursor: pointer; position: absolute; top: 0px; right: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</span><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px; margin-bottom: 5px;"><span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="kn" style="color: rgb(0, 112, 32); font-weight: bold;">from</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">multiprocessing</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">import</span> <span class="n">Pool</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">p</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">Pool</span><span class="p">(</span><span class="mi" style="color: rgb(32, 128, 80);">5</span><span class="p">)</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">def</span> <span class="nf" style="color: rgb(6, 40, 126);">f</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">... </span>    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">return</span> <span class="n">x</span><span class="o" style="color: rgb(102, 102, 102);">*</span><span class="n">x</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">...</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">p</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">map</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="p">[</span><span class="mi" style="color: rgb(32, 128, 80);">1</span><span class="p">,</span><span class="mi" style="color: rgb(32, 128, 80);">2</span><span class="p">,</span><span class="mi" style="color: rgb(32, 128, 80);">3</span><span class="p">])</span>
<span class="go">Process PoolWorker-1:</span>
<span class="go">Process PoolWorker-2:</span>
<span class="go">Process PoolWorker-3:</span>
<span class="gt" style="color: rgb(0, 68, 221);">Traceback (most recent call last):</span>
<span class="gr" style="color: rgb(255, 0, 0);">AttributeError</span>: <span class="n">'module' object has no attribute 'f'</span>
<span class="go">AttributeError: 'module' object has no attribute 'f'</span>
<span class="go">AttributeError: 'module' object has no attribute 'f'</span>
</pre></div></div><p class="last" style="hyphens: auto; text-align: justify; line-height: 22.4px; margin-bottom: 5px;">(If you try this it will actually output three full tracebacks interleaved in a semi-random fashion, and then you may have to stop the master process somehow.)</p></div></div></div><div class="section" id="reference" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><h2 style="font-weight: normal; color: rgb(26, 26, 26); border: 0px; margin: 0px; padding: 0.3em 0px; font-size: 25.6px;" id="blogTitle25">Reference<a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#reference" title="Permalink to this headline" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></h2><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">The&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#module-multiprocessing" title="multiprocessing: Process-based parallelism." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">multiprocessing</span></code></a>&nbsp;package mostly replicates the API of the&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/threading.html#module-threading" title="threading: Thread-based parallelism." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">threading</span></code></a>&nbsp;module.</p><div class="section" id="process-and-exceptions"><h3 style="font-weight: normal; color: rgb(26, 26, 26); border: 0px; margin: 0px; padding: 0.3em 0px; font-size: 22.4px;" id="blogTitle26"><a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Process" title="multiprocessing.Process" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 21.616px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Process</span></code></a>&nbsp;and exceptions<a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#process-and-exceptions" title="Permalink to this headline" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></h3><dl class="class" style="margin-bottom: 15px;"><dt id="multiprocessing.Process"><em class="property">class&nbsp;</em><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">multiprocessing.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">Process</code><span class="sig-paren" style="font-size: larger;">(</span><em>group=None</em>,&nbsp;<em>target=None</em>,&nbsp;<em>name=None</em>,&nbsp;<em>args=()</em>,&nbsp;<em>kwargs={}</em>,&nbsp;<em>*</em>,&nbsp;<em>daemon=None</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Process" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Process objects represent activity that is run in a separate process. The&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Process" title="multiprocessing.Process" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Process</span></code></a>&nbsp;class has equivalents of all the methods of&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/threading.html#threading.Thread" title="threading.Thread" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">threading.Thread</span></code></a>.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">The constructor should always be called with keyword arguments.&nbsp;<em>group</em>&nbsp;should always be&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code>; it exists solely for compatibility with&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/threading.html#threading.Thread" title="threading.Thread" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">threading.Thread</span></code></a>.&nbsp;<em>target</em>&nbsp;is the callable object to be invoked by the&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Process.run" title="multiprocessing.Process.run" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">run()</span></code></a>&nbsp;method. It defaults to&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code>, meaning nothing is called.&nbsp;<em>name</em>&nbsp;is the process name (see&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Process.name" title="multiprocessing.Process.name" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">name</span></code></a>&nbsp;for more details).&nbsp;<em>args</em>&nbsp;is the argument tuple for the target invocation.&nbsp;<em>kwargs</em>&nbsp;is a dictionary of keyword arguments for the target invocation. If provided, the keyword-only&nbsp;<em>daemon</em>&nbsp;argument sets the process&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Process.daemon" title="multiprocessing.Process.daemon" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">daemon</span></code></a>&nbsp;flag to&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">True</span></code>&nbsp;or&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">False</span></code>. If&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code>&nbsp;(the default), this flag will be inherited from the creating process.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">By default, no arguments are passed to&nbsp;<em>target</em>.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">If a subclass overrides the constructor, it must make sure it invokes the base class constructor (<code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Process.__init__()</span></code>) before doing anything else to the process.</p><div class="versionchanged"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">Changed in version 3.3:&nbsp;</span>Added the&nbsp;<em>daemon</em>&nbsp;argument.</p></div><dl class="method" style="margin-bottom: 15px;"><dt id="multiprocessing.Process.run"><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">run</code><span class="sig-paren" style="font-size: larger;">(</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Process.run" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Method representing the process’s activity.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">You may override this method in a subclass. The standard&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Process.run" title="multiprocessing.Process.run" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">run()</span></code></a>&nbsp;method invokes the callable object passed to the object’s constructor as the target argument, if any, with sequential and keyword arguments taken from the&nbsp;<em>args</em>&nbsp;and&nbsp;<em>kwargs</em>&nbsp;arguments, respectively.</p></dd></dl><dl class="method" style="margin-bottom: 15px;"><dt id="multiprocessing.Process.start"><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">start</code><span class="sig-paren" style="font-size: larger;">(</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Process.start" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Start the process’s activity.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">This must be called at most once per process object. It arranges for the object’s&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Process.run" title="multiprocessing.Process.run" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">run()</span></code></a>&nbsp;method to be invoked in a separate process.</p></dd></dl><dl class="method" style="margin-bottom: 15px;"><dt id="multiprocessing.Process.join"><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">join</code><span class="sig-paren" style="font-size: larger;">(</span><span class="optional" style="font-size: 1.3em;">[</span><em>timeout</em><span class="optional" style="font-size: 1.3em;">]</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Process.join" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">If the optional argument&nbsp;<em>timeout</em>&nbsp;is&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code>&nbsp;(the default), the method blocks until the process whose&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Process.join" title="multiprocessing.Process.join" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">join()</span></code></a>method is called terminates. If&nbsp;<em>timeout</em>&nbsp;is a positive number, it blocks at most&nbsp;<em>timeout</em>&nbsp;seconds. Note that the method returns&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code>&nbsp;if its process terminates or if the method times out. Check the process’s&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Process.exitcode" title="multiprocessing.Process.exitcode" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">exitcode</span></code></a>&nbsp;to determine if it terminated.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">A process can be joined many times.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">A process cannot join itself because this would cause a deadlock. It is an error to attempt to join a process before it has been started.</p></dd></dl><dl class="attribute" style="margin-bottom: 15px;"><dt id="multiprocessing.Process.name"><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">name</code><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Process.name" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">The process’s name. The name is a string used for identification purposes only. It has no semantics. Multiple processes may be given the same name.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">The initial name is set by the constructor. If no explicit name is provided to the constructor, a name of the form ‘Process-N<sub>1</sub>:N<sub>2</sub>:…:N<sub>k</sub>’ is constructed, where each N<sub>k</sub>&nbsp;is the N-th child of its parent.</p></dd></dl><dl class="method" style="margin-bottom: 15px;"><dt id="multiprocessing.Process.is_alive"><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">is_alive</code><span class="sig-paren" style="font-size: larger;">(</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Process.is_alive" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Return whether the process is alive.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Roughly, a process object is alive from the moment the&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Process.start" title="multiprocessing.Process.start" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">start()</span></code></a>&nbsp;method returns until the child process terminates.</p></dd></dl><dl class="attribute" style="margin-bottom: 15px;"><dt id="multiprocessing.Process.daemon"><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">daemon</code><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Process.daemon" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">The process’s daemon flag, a Boolean value. This must be set before&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Process.start" title="multiprocessing.Process.start" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">start()</span></code></a>&nbsp;is called.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">The initial value is inherited from the creating process.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">When a process exits, it attempts to terminate all of its daemonic child processes.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Note that a daemonic process is not allowed to create child processes. Otherwise a daemonic process would leave its children orphaned if it gets terminated when its parent process exits. Additionally, these are&nbsp;<strong>not</strong>Unix daemons or services, they are normal processes that will be terminated (and not joined) if non-daemonic processes have exited.</p></dd></dl><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">In addition to the&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/threading.html#threading.Thread" title="threading.Thread" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">threading.Thread</span></code></a>&nbsp;API,&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Process" title="multiprocessing.Process" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Process</span></code></a>&nbsp;objects also support the following attributes and methods:</p><dl class="attribute" style="margin-bottom: 15px;"><dt id="multiprocessing.Process.pid"><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">pid</code><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Process.pid" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Return the process ID. Before the process is spawned, this will be&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code>.</p></dd></dl><dl class="attribute" style="margin-bottom: 15px;"><dt id="multiprocessing.Process.exitcode"><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">exitcode</code><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Process.exitcode" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">The child’s exit code. This will be&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code>&nbsp;if the process has not yet terminated. A negative value&nbsp;<em>-N</em>&nbsp;indicates that the child was terminated by signal&nbsp;<em>N</em>.</p></dd></dl><dl class="attribute" style="margin-bottom: 15px;"><dt id="multiprocessing.Process.authkey"><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">authkey</code><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Process.authkey" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">The process’s authentication key (a byte string).</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">When&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#module-multiprocessing" title="multiprocessing: Process-based parallelism." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">multiprocessing</span></code></a>&nbsp;is initialized the main process is assigned a random string using&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/os.html#os.urandom" title="os.urandom" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">os.urandom()</span></code></a>.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">When a&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Process" title="multiprocessing.Process" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Process</span></code></a>&nbsp;object is created, it will inherit the authentication key of its parent process, although this may be changed by setting&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Process.authkey" title="multiprocessing.Process.authkey" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">authkey</span></code></a>&nbsp;to another byte string.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">See&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing-auth-keys" style="color: rgb(99, 99, 187); text-decoration-line: none;">Authentication keys</a>.</p></dd></dl><dl class="attribute" style="margin-bottom: 15px;"><dt id="multiprocessing.Process.sentinel"><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">sentinel</code><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Process.sentinel" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">A numeric handle of a system object which will become “ready” when the process ends.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">You can use this value if you want to wait on several events at once using&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.connection.wait" title="multiprocessing.connection.wait" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">multiprocessing.connection.wait()</span></code></a>. Otherwise calling&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Process.join" title="multiprocessing.Process.join" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">join()</span></code></a>&nbsp;is simpler.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">On Windows, this is an OS handle usable with the&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">WaitForSingleObject</span></code>&nbsp;and&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">WaitForMultipleObjects&nbsp;</span></code>family of API calls. On Unix, this is a file descriptor usable with primitives from the&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/select.html#module-select" title="select: Wait for I/O completion on multiple streams." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">select</span></code></a>&nbsp;module.</p><div class="versionadded"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">New in version 3.3.</span></p></div></dd></dl><dl class="method" style="margin-bottom: 15px;"><dt id="multiprocessing.Process.terminate"><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">terminate</code><span class="sig-paren" style="font-size: larger;">(</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Process.terminate" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Terminate the process. On Unix this is done using the&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">SIGTERM</span></code>&nbsp;signal; on Windows&nbsp;<code class="xref c c-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">TerminateProcess()</span></code>&nbsp;is used. Note that exit handlers and finally clauses, etc., will not be executed.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Note that descendant processes of the process will&nbsp;<em>not</em>be terminated – they will simply become orphaned.</p><div class="admonition warning" style="margin-top: 10px; margin-bottom: 10px; padding: 7px; background-color: rgb(255, 228, 228); border: 1px solid rgb(255, 102, 102); border-radius: 3px;"><p class="first admonition-title" style="margin: 0px 10px 5px 0px; font-weight: bold; display: inline; hyphens: auto; line-height: 22.4px;">Warning</p>&nbsp;<p class="last" style="margin-top: 0px; hyphens: auto; line-height: 22.4px; margin-bottom: 5px; display: inline;">If this method is used when the associated process is using a pipe or queue then the pipe or queue is liable to become corrupted and may become unusable by other process. Similarly, if the process has acquired a lock or semaphore etc. then terminating it is liable to cause other processes to deadlock.</p></div></dd></dl><dl class="method" style="margin-bottom: 15px;"><dt id="multiprocessing.Process.kill"><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">kill</code><span class="sig-paren" style="font-size: larger;">(</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Process.kill" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Same as&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Process.terminate" title="multiprocessing.Process.terminate" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">terminate()</span></code></a>&nbsp;but using the&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">SIGKILL</span></code>&nbsp;signal on Unix.</p><div class="versionadded"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">New in version 3.7.</span></p></div></dd></dl><dl class="method" style="margin-bottom: 15px;"><dt id="multiprocessing.Process.close"><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">close</code><span class="sig-paren" style="font-size: larger;">(</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Process.close" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Close the&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Process" title="multiprocessing.Process" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Process</span></code></a>&nbsp;object, releasing all resources associated with it.&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="ValueError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">ValueError</span></code></a>&nbsp;is raised if the underlying process is still running. Once&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Process.close" title="multiprocessing.Process.close" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">close()</span></code></a>&nbsp;returns successfully, most other methods and attributes of the&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Process" title="multiprocessing.Process" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Process</span></code></a>&nbsp;object will raise&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="ValueError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">ValueError</span></code></a>.</p><div class="versionadded"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">New in version 3.7.</span></p></div></dd></dl><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Note that the&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Process.start" title="multiprocessing.Process.start" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">start()</span></code></a>,&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Process.join" title="multiprocessing.Process.join" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">join()</span></code></a>,&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Process.is_alive" title="multiprocessing.Process.is_alive" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">is_alive()</span></code></a>,&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Process.terminate" title="multiprocessing.Process.terminate" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">terminate()</span></code></a>and&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Process.exitcode" title="multiprocessing.Process.exitcode" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">exitcode</span></code></a>&nbsp;methods should only be called by the process that created the process object.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Example usage of some of the methods of&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Process" title="multiprocessing.Process" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Process</span></code></a>:</p><div class="highlight-pycon notranslate"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="kn" style="color: rgb(0, 112, 32); font-weight: bold;">import</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">multiprocessing</span><span class="o" style="color: rgb(102, 102, 102);">,</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">time</span><span class="o" style="color: rgb(102, 102, 102);">,</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">signal</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">p</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">multiprocessing</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">Process</span><span class="p">(</span><span class="n">target</span><span class="o" style="color: rgb(102, 102, 102);">=</span><span class="n">time</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">sleep</span><span class="p">,</span> <span class="n">args</span><span class="o" style="color: rgb(102, 102, 102);">=</span><span class="p">(</span><span class="mi" style="color: rgb(32, 128, 80);">1000</span><span class="p">,))</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">print</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">p</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">is_alive</span><span class="p">())</span>
<span class="go">&lt;Process(Process-1, initial)&gt; False</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">p</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">start</span><span class="p">()</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">print</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">p</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">is_alive</span><span class="p">())</span>
<span class="go">&lt;Process(Process-1, started)&gt; True</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">p</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">terminate</span><span class="p">()</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">time</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf" style="color: rgb(32, 128, 80);">0.1</span><span class="p">)</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">print</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">p</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">is_alive</span><span class="p">())</span>
<span class="go">&lt;Process(Process-1, stopped[SIGTERM])&gt; False</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">p</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">exitcode</span> <span class="o" style="color: rgb(102, 102, 102);">==</span> <span class="o" style="color: rgb(102, 102, 102);">-</span><span class="n">signal</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">SIGTERM</span>
<span class="go">True</span>
</pre></div></div></dd></dl><dl class="exception" style="margin-bottom: 15px;"><dt id="multiprocessing.ProcessError"><em class="property">exception&nbsp;</em><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">multiprocessing.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">ProcessError</code><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.ProcessError" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">The base class of all&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#module-multiprocessing" title="multiprocessing: Process-based parallelism." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">multiprocessing</span></code></a>&nbsp;exceptions.</p></dd></dl><dl class="exception" style="margin-bottom: 15px;"><dt id="multiprocessing.BufferTooShort"><em class="property">exception&nbsp;</em><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">multiprocessing.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">BufferTooShort</code><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.BufferTooShort" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Exception raised by&nbsp;<code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Connection.recv_bytes_into()</span></code>&nbsp;when the supplied buffer object is too small for the message read.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">If&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">e</span></code>&nbsp;is an instance of&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.BufferTooShort" title="multiprocessing.BufferTooShort" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">BufferTooShort</span></code></a>&nbsp;then&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">e.args[0]</span></code>&nbsp;will give the message as a byte string.</p></dd></dl><dl class="exception" style="margin-bottom: 15px;"><dt id="multiprocessing.AuthenticationError"><em class="property">exception&nbsp;</em><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">multiprocessing.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">AuthenticationError</code><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.AuthenticationError" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Raised when there is an authentication error.</p></dd></dl><dl class="exception" style="margin-bottom: 15px;"><dt id="multiprocessing.TimeoutError"><em class="property">exception&nbsp;</em><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">multiprocessing.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">TimeoutError</code><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.TimeoutError" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Raised by methods with a timeout when the timeout expires.</p></dd></dl></div><div class="section" id="pipes-and-queues"><h3 style="font-weight: normal; color: rgb(26, 26, 26); border: 0px; margin: 0px; padding: 0.3em 0px; font-size: 22.4px;" id="blogTitle27">Pipes and Queues<a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#pipes-and-queues" title="Permalink to this headline" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></h3><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">When using multiple processes, one generally uses message passing for communication between processes and avoids having to use any synchronization primitives like locks.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">For passing messages one can use&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Pipe" title="multiprocessing.Pipe" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Pipe()</span></code></a>&nbsp;(for a connection between two processes) or a queue (which allows multiple producers and consumers).</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">The&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Queue" title="multiprocessing.Queue" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Queue</span></code></a>,&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.SimpleQueue" title="multiprocessing.SimpleQueue" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">SimpleQueue</span></code></a>&nbsp;and&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.JoinableQueue" title="multiprocessing.JoinableQueue" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">JoinableQueue</span></code></a>&nbsp;types are multi-producer, multi-consumer&nbsp;<abbr title="first-in, first-out" style="border-bottom: 1px dotted; cursor: help;">FIFO</abbr>&nbsp;queues modelled on the&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/queue.html#queue.Queue" title="queue.Queue" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">queue.Queue</span></code></a>&nbsp;class in the standard library. They differ in that&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Queue" title="multiprocessing.Queue" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Queue</span></code></a>&nbsp;lacks the&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/queue.html#queue.Queue.task_done" title="queue.Queue.task_done" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">task_done()</span></code></a>&nbsp;and&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/queue.html#queue.Queue.join" title="queue.Queue.join" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">join()</span></code></a>&nbsp;methods introduced into Python 2.5’s&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/queue.html#queue.Queue" title="queue.Queue" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">queue.Queue</span></code></a>&nbsp;class.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">If you use&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.JoinableQueue" title="multiprocessing.JoinableQueue" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">JoinableQueue</span></code></a>&nbsp;then you&nbsp;<strong>must</strong>&nbsp;call&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.JoinableQueue.task_done" title="multiprocessing.JoinableQueue.task_done" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">JoinableQueue.task_done()</span></code></a>&nbsp;for each task removed from the queue or else the semaphore used to count the number of unfinished tasks may eventually overflow, raising an exception.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">Note that one can also create a shared queue by using a manager object – see&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing-managers" style="color: rgb(99, 99, 187); text-decoration-line: none;">Managers</a>.</p><div class="admonition note" style="margin-top: 10px; margin-bottom: 10px; padding: 7px; background-color: rgb(238, 238, 238); border: 1px solid rgb(204, 204, 204); border-radius: 3px;"><p class="first admonition-title" style="margin: 0px 10px 5px 0px; font-weight: bold; display: inline; hyphens: auto; text-align: justify; line-height: 22.4px;">Note</p>&nbsp;<p class="last" style="hyphens: auto; text-align: justify; line-height: 22.4px; margin-bottom: 5px; display: inline;"><a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#module-multiprocessing" title="multiprocessing: Process-based parallelism." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background: rgb(214, 214, 214); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">multiprocessing</span></code></a>&nbsp;uses the usual&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/queue.html#queue.Empty" title="queue.Empty" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background: rgb(214, 214, 214); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">queue.Empty</span></code></a>&nbsp;and&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/queue.html#queue.Full" title="queue.Full" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background: rgb(214, 214, 214); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">queue.Full</span></code></a>&nbsp;exceptions to signal a timeout. They are not available in the&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#module-multiprocessing" title="multiprocessing: Process-based parallelism." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background: rgb(214, 214, 214); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">multiprocessing</span></code></a>&nbsp;namespace so you need to import them from&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/queue.html#module-queue" title="queue: A synchronized queue class." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background: rgb(214, 214, 214); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">queue</span></code></a>.</p></div><div class="admonition note" style="margin-top: 10px; margin-bottom: 10px; padding: 7px; background-color: rgb(238, 238, 238); border: 1px solid rgb(204, 204, 204); border-radius: 3px;"><p class="first admonition-title" style="margin: 0px 10px 5px 0px; font-weight: bold; display: inline; hyphens: auto; text-align: justify; line-height: 22.4px;">Note</p>&nbsp;<p style="hyphens: auto; text-align: justify; line-height: 22.4px; margin-bottom: 5px; display: inline;">When an object is put on a queue, the object is pickled and a background thread later flushes the pickled data to an underlying pipe. This has some consequences which are a little surprising, but should not cause any practical difficulties – if they really bother you then you can instead use a queue created with a&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing-managers" style="color: rgb(99, 99, 187); text-decoration-line: none;"><span class="std std-ref">manager</span></a>.</p><ol class="last arabic simple" style="list-style-position: initial; list-style-image: initial; margin-bottom: 5px;"><li style="hyphens: auto; text-align: justify; line-height: 20.8px;">After putting an object on an empty queue there may be an infinitesimal delay before the queue’s&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Queue.empty" title="multiprocessing.Queue.empty" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background: rgb(214, 214, 214); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">empty()</span></code></a>method returns&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/constants.html#False" title="False" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-const docutils literal notranslate" style="background: rgb(214, 214, 214); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">False</span></code></a>&nbsp;and&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Queue.get_nowait" title="multiprocessing.Queue.get_nowait" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background: rgb(214, 214, 214); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">get_nowait()</span></code></a>&nbsp;can return without raising&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/queue.html#queue.Empty" title="queue.Empty" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background: rgb(214, 214, 214); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">queue.Empty</span></code></a>.</li><li style="hyphens: auto; text-align: justify; line-height: 20.8px;">If multiple processes are enqueuing objects, it is possible for the objects to be received at the other end out-of-order. However, objects enqueued by the same process will always be in the expected order with respect to each other.</li></ol></div><div class="admonition warning" style="margin-top: 10px; margin-bottom: 10px; padding: 7px; background-color: rgb(255, 228, 228); border: 1px solid rgb(255, 102, 102); border-radius: 3px;"><p class="first admonition-title" style="margin: 0px 10px 5px 0px; font-weight: bold; display: inline; hyphens: auto; text-align: justify; line-height: 22.4px;">Warning</p>&nbsp;<p class="last" style="hyphens: auto; text-align: justify; line-height: 22.4px; margin-bottom: 5px; display: inline;">If a process is killed using&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Process.terminate" title="multiprocessing.Process.terminate" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background: rgb(239, 194, 194); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Process.terminate()</span></code></a>or&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/os.html#os.kill" title="os.kill" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background: rgb(239, 194, 194); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">os.kill()</span></code></a>&nbsp;while it is trying to use a&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Queue" title="multiprocessing.Queue" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background: rgb(239, 194, 194); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Queue</span></code></a>, then the data in the queue is likely to become corrupted. This may cause any other process to get an exception when it tries to use the queue later on.</p></div><div class="admonition warning" style="margin-top: 10px; margin-bottom: 10px; padding: 7px; background-color: rgb(255, 228, 228); border: 1px solid rgb(255, 102, 102); border-radius: 3px;"><p class="first admonition-title" style="margin: 0px 10px 5px 0px; font-weight: bold; display: inline; hyphens: auto; text-align: justify; line-height: 22.4px;">Warning</p>&nbsp;<p style="hyphens: auto; text-align: justify; line-height: 22.4px; margin-bottom: 5px; display: inline;">As mentioned above, if a child process has put items on a queue (and it has not used<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Queue.cancel_join_thread" title="multiprocessing.Queue.cancel_join_thread" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background: rgb(239, 194, 194); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">JoinableQueue.cancel_join_thread</span></code></a>), then that process will not terminate until all buffered items have been flushed to the pipe.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; margin-bottom: 5px;">This means that if you try joining that process you may get a deadlock unless you are sure that all items which have been put on the queue have been consumed. Similarly, if the child process is non-daemonic then the parent process may hang on exit when it tries to join all its non-daemonic children.</p><p class="last" style="hyphens: auto; text-align: justify; line-height: 22.4px; margin-bottom: 5px;">Note that a queue created using a manager does not have this issue. See&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing-programming" style="color: rgb(99, 99, 187); text-decoration-line: none;">Programming guidelines</a>.</p></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">For an example of the usage of queues for interprocess communication see&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing-examples" style="color: rgb(99, 99, 187); text-decoration-line: none;">Examples</a>.</p><dl class="function" style="margin-bottom: 15px;"><dt id="multiprocessing.Pipe"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">multiprocessing.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">Pipe</code><span class="sig-paren" style="font-size: larger;">(</span><span class="optional" style="font-size: 1.3em;">[</span><em>duplex</em><span class="optional" style="font-size: 1.3em;">]</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Pipe" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Returns a pair&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">(conn1,</span>&nbsp;<span class="pre" style="hyphens: none;">conn2)</span></code>&nbsp;of&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.connection.Connection" title="multiprocessing.connection.Connection" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Connection</span></code></a>&nbsp;objects representing the ends of a pipe.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">If&nbsp;<em>duplex</em>&nbsp;is&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">True</span></code>&nbsp;(the default) then the pipe is bidirectional. If&nbsp;<em>duplex</em>&nbsp;is&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">False</span></code>&nbsp;then the pipe is unidirectional:&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">conn1</span></code>can only be used for receiving messages and&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">conn2</span></code>&nbsp;can only be used for sending messages.</p></dd></dl><dl class="class" style="margin-bottom: 15px;"><dt id="multiprocessing.Queue"><em class="property">class&nbsp;</em><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">multiprocessing.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">Queue</code><span class="sig-paren" style="font-size: larger;">(</span><span class="optional" style="font-size: 1.3em;">[</span><em>maxsize</em><span class="optional" style="font-size: 1.3em;">]</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Queue" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Returns a process shared queue implemented using a pipe and a few locks/semaphores. When a process first puts an item on the queue a feeder thread is started which transfers objects from a buffer into the pipe.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">The usual&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/queue.html#queue.Empty" title="queue.Empty" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">queue.Empty</span></code></a>&nbsp;and&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/queue.html#queue.Full" title="queue.Full" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">queue.Full</span></code></a>&nbsp;exceptions from the standard library’s&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/queue.html#module-queue" title="queue: A synchronized queue class." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">queue</span></code></a>&nbsp;module are raised to signal timeouts.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Queue" title="multiprocessing.Queue" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Queue</span></code></a>&nbsp;implements all the methods of&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/queue.html#queue.Queue" title="queue.Queue" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">queue.Queue</span></code></a>&nbsp;except for&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/queue.html#queue.Queue.task_done" title="queue.Queue.task_done" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">task_done()</span></code></a>&nbsp;and&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/queue.html#queue.Queue.join" title="queue.Queue.join" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">join()</span></code></a>.</p><dl class="method" style="margin-bottom: 15px;"><dt id="multiprocessing.Queue.qsize"><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">qsize</code><span class="sig-paren" style="font-size: larger;">(</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Queue.qsize" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Return the approximate size of the queue. Because of multithreading/multiprocessing semantics, this number is not reliable.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Note that this may raise&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/exceptions.html#NotImplementedError" title="NotImplementedError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">NotImplementedError</span></code></a>&nbsp;on Unix platforms like Mac OS X where&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">sem_getvalue()</span></code>&nbsp;is not implemented.</p></dd></dl><dl class="method" style="margin-bottom: 15px;"><dt id="multiprocessing.Queue.empty"><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">empty</code><span class="sig-paren" style="font-size: larger;">(</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Queue.empty" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Return&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">True</span></code>&nbsp;if the queue is empty,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">False</span></code>&nbsp;otherwise. Because of multithreading/multiprocessing semantics, this is not reliable.</p></dd></dl><dl class="method" style="margin-bottom: 15px;"><dt id="multiprocessing.Queue.full"><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">full</code><span class="sig-paren" style="font-size: larger;">(</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Queue.full" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Return&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">True</span></code>&nbsp;if the queue is full,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">False</span></code>&nbsp;otherwise. Because of multithreading/multiprocessing semantics, this is not reliable.</p></dd></dl><dl class="method" style="margin-bottom: 15px;"><dt id="multiprocessing.Queue.put"><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">put</code><span class="sig-paren" style="font-size: larger;">(</span><em>obj</em><span class="optional" style="font-size: 1.3em;">[</span>,&nbsp;<em>block</em><span class="optional" style="font-size: 1.3em;">[</span>,&nbsp;<em>timeout</em><span class="optional" style="font-size: 1.3em;">]</span><span class="optional" style="font-size: 1.3em;">]</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Queue.put" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Put obj into the queue. If the optional argument&nbsp;<em>block</em>&nbsp;is&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">True</span></code>&nbsp;(the default) and&nbsp;<em>timeout</em>&nbsp;is&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code>&nbsp;(the default), block if necessary until a free slot is available. If&nbsp;<em>timeout</em>&nbsp;is a positive number, it blocks at most&nbsp;<em>timeout</em>&nbsp;seconds and raises the&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/queue.html#queue.Full" title="queue.Full" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">queue.Full</span></code></a>&nbsp;exception if no free slot was available within that time. Otherwise (<em>block</em>&nbsp;is<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">False</span></code>), put an item on the queue if a free slot is immediately available, else raise the&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/queue.html#queue.Full" title="queue.Full" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">queue.Full</span></code></a>&nbsp;exception (<em>timeout</em>&nbsp;is ignored in that case).</p></dd></dl><dl class="method" style="margin-bottom: 15px;"><dt id="multiprocessing.Queue.put_nowait"><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">put_nowait</code><span class="sig-paren" style="font-size: larger;">(</span><em>obj</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Queue.put_nowait" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Equivalent to&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">put(obj,</span>&nbsp;<span class="pre" style="hyphens: none;">False)</span></code>.</p></dd></dl><dl class="method" style="margin-bottom: 15px;"><dt id="multiprocessing.Queue.get"><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">get</code><span class="sig-paren" style="font-size: larger;">(</span><span class="optional" style="font-size: 1.3em;">[</span><em>block</em><span class="optional" style="font-size: 1.3em;">[</span>,&nbsp;<em>timeout</em><span class="optional" style="font-size: 1.3em;">]</span><span class="optional" style="font-size: 1.3em;">]</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Queue.get" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Remove and return an item from the queue. If optional args&nbsp;<em>block</em>&nbsp;is&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">True</span></code>&nbsp;(the default) and&nbsp;<em>timeout</em>&nbsp;is&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code>(the default), block if necessary until an item is available. If&nbsp;<em>timeout</em>&nbsp;is a positive number, it blocks at most&nbsp;<em>timeout</em>&nbsp;seconds and raises the&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/queue.html#queue.Empty" title="queue.Empty" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">queue.Empty</span></code></a>&nbsp;exception if no item was available within that time. Otherwise (block is&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">False</span></code>), return an item if one is immediately available, else raise the&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/queue.html#queue.Empty" title="queue.Empty" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">queue.Empty</span></code></a>&nbsp;exception (<em>timeout</em>&nbsp;is ignored in that case).</p></dd></dl><dl class="method" style="margin-bottom: 15px;"><dt id="multiprocessing.Queue.get_nowait"><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">get_nowait</code><span class="sig-paren" style="font-size: larger;">(</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Queue.get_nowait" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Equivalent to&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">get(False)</span></code>.</p></dd></dl><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Queue" title="multiprocessing.Queue" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">multiprocessing.Queue</span></code></a>&nbsp;has a few additional methods not found in&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/queue.html#queue.Queue" title="queue.Queue" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">queue.Queue</span></code></a>. These methods are usually unnecessary for most code:</p><dl class="method" style="margin-bottom: 15px;"><dt id="multiprocessing.Queue.close"><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">close</code><span class="sig-paren" style="font-size: larger;">(</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Queue.close" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Indicate that no more data will be put on this queue by the current process. The background thread will quit once it has flushed all buffered data to the pipe. This is called automatically when the queue is garbage collected.</p></dd></dl><dl class="method" style="margin-bottom: 15px;"><dt id="multiprocessing.Queue.join_thread"><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">join_thread</code><span class="sig-paren" style="font-size: larger;">(</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Queue.join_thread" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Join the background thread. This can only be used after&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Queue.close" title="multiprocessing.Queue.close" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">close()</span></code></a>&nbsp;has been called. It blocks until the background thread exits, ensuring that all data in the buffer has been flushed to the pipe.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">By default if a process is not the creator of the queue then on exit it will attempt to join the queue’s background thread. The process can call<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Queue.cancel_join_thread" title="multiprocessing.Queue.cancel_join_thread" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">cancel_join_thread()</span></code></a>&nbsp;to make&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Queue.join_thread" title="multiprocessing.Queue.join_thread" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">join_thread()</span></code></a>&nbsp;do nothing.</p></dd></dl><dl class="method" style="margin-bottom: 15px;"><dt id="multiprocessing.Queue.cancel_join_thread"><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">cancel_join_thread</code><span class="sig-paren" style="font-size: larger;">(</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Queue.cancel_join_thread" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Prevent&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Queue.join_thread" title="multiprocessing.Queue.join_thread" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">join_thread()</span></code></a>&nbsp;from blocking. In particular, this prevents the background thread from being joined automatically when the process exits – see&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Queue.join_thread" title="multiprocessing.Queue.join_thread" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">join_thread()</span></code></a>.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">A better name for this method might be<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">allow_exit_without_flush()</span></code>. It is likely to cause enqueued data to lost, and you almost certainly will not need to use it. It is really only there if you need the current process to exit immediately without waiting to flush enqueued data to the underlying pipe, and you don’t care about lost data.</p></dd></dl><div class="admonition note" style="margin-top: 10px; margin-bottom: 10px; padding: 7px; background-color: rgb(238, 238, 238); border: 1px solid rgb(204, 204, 204); border-radius: 3px;"><p class="first admonition-title" style="margin: 0px 10px 5px 0px; font-weight: bold; display: inline; hyphens: auto; line-height: 22.4px;">Note</p>&nbsp;<p class="last" style="margin-top: 0px; hyphens: auto; line-height: 22.4px; margin-bottom: 5px; display: inline;">This class’s functionality requires a functioning shared semaphore implementation on the host operating system. Without one, the functionality in this class will be disabled, and attempts to instantiate a&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Queue" title="multiprocessing.Queue" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background: rgb(214, 214, 214); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Queue</span></code></a>&nbsp;will result in an&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/exceptions.html#ImportError" title="ImportError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background: rgb(214, 214, 214); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">ImportError</span></code></a>. See&nbsp;<a class="reference external" href="https://bugs.python.org/issue3770" style="color: rgb(99, 99, 187); text-decoration-line: none;">bpo-3770</a>&nbsp;for additional information. The same holds true for any of the specialized queue types listed below.</p></div></dd></dl><dl class="class" style="margin-bottom: 15px;"><dt id="multiprocessing.SimpleQueue"><em class="property">class&nbsp;</em><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">multiprocessing.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">SimpleQueue</code><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.SimpleQueue" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">It is a simplified&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Queue" title="multiprocessing.Queue" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Queue</span></code></a>&nbsp;type, very close to a locked&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Pipe" title="multiprocessing.Pipe" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Pipe</span></code></a>.</p><dl class="method" style="margin-bottom: 15px;"><dt id="multiprocessing.SimpleQueue.empty"><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">empty</code><span class="sig-paren" style="font-size: larger;">(</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.SimpleQueue.empty" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Return&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">True</span></code>&nbsp;if the queue is empty,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">False</span></code>&nbsp;otherwise.</p></dd></dl><dl class="method" style="margin-bottom: 15px;"><dt id="multiprocessing.SimpleQueue.get"><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">get</code><span class="sig-paren" style="font-size: larger;">(</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.SimpleQueue.get" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Remove and return an item from the queue.</p></dd></dl><dl class="method" style="margin-bottom: 15px;"><dt id="multiprocessing.SimpleQueue.put"><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">put</code><span class="sig-paren" style="font-size: larger;">(</span><em>item</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.SimpleQueue.put" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Put&nbsp;<em>item</em>&nbsp;into the queue.</p></dd></dl></dd></dl><dl class="class" style="margin-bottom: 15px;"><dt id="multiprocessing.JoinableQueue"><em class="property">class&nbsp;</em><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">multiprocessing.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">JoinableQueue</code><span class="sig-paren" style="font-size: larger;">(</span><span class="optional" style="font-size: 1.3em;">[</span><em>maxsize</em><span class="optional" style="font-size: 1.3em;">]</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.JoinableQueue" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.JoinableQueue" title="multiprocessing.JoinableQueue" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">JoinableQueue</span></code></a>, a&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Queue" title="multiprocessing.Queue" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Queue</span></code></a>&nbsp;subclass, is a queue which additionally has&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.JoinableQueue.task_done" title="multiprocessing.JoinableQueue.task_done" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">task_done()</span></code></a>&nbsp;and&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.JoinableQueue.join" title="multiprocessing.JoinableQueue.join" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">join()</span></code></a>&nbsp;methods.</p><dl class="method" style="margin-bottom: 15px;"><dt id="multiprocessing.JoinableQueue.task_done"><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">task_done</code><span class="sig-paren" style="font-size: larger;">(</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.JoinableQueue.task_done" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Indicate that a formerly enqueued task is complete. Used by queue consumers. For each&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Queue.get" title="multiprocessing.Queue.get" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">get()</span></code></a>&nbsp;used to fetch a task, a subsequent call to&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.JoinableQueue.task_done" title="multiprocessing.JoinableQueue.task_done" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">task_done()</span></code></a>&nbsp;tells the queue that the processing on the task is complete.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">If a&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/queue.html#queue.Queue.join" title="queue.Queue.join" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">join()</span></code></a>&nbsp;is currently blocking, it will resume when all items have been processed (meaning that a&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.JoinableQueue.task_done" title="multiprocessing.JoinableQueue.task_done" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">task_done()</span></code></a>&nbsp;call was received for every item that had been&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Queue.put" title="multiprocessing.Queue.put" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">put()</span></code></a>&nbsp;into the queue).</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Raises a&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="ValueError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">ValueError</span></code></a>&nbsp;if called more times than there were items placed in the queue.</p></dd></dl><dl class="method" style="margin-bottom: 15px;"><dt id="multiprocessing.JoinableQueue.join"><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">join</code><span class="sig-paren" style="font-size: larger;">(</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.JoinableQueue.join" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Block until all items in the queue have been gotten and processed.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">The count of unfinished tasks goes up whenever an item is added to the queue. The count goes down whenever a consumer calls&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.JoinableQueue.task_done" title="multiprocessing.JoinableQueue.task_done" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">task_done()</span></code></a>&nbsp;to indicate that the item was retrieved and all work on it is complete. When the count of unfinished tasks drops to zero,&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/queue.html#queue.Queue.join" title="queue.Queue.join" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">join()</span></code></a>&nbsp;unblocks.</p></dd></dl></dd></dl></div><div class="section" id="miscellaneous"><h3 style="font-weight: normal; color: rgb(26, 26, 26); border: 0px; margin: 0px; padding: 0.3em 0px; font-size: 22.4px;" id="blogTitle28">Miscellaneous<a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#miscellaneous" title="Permalink to this headline" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></h3><dl class="function" style="margin-bottom: 15px;"><dt id="multiprocessing.active_children"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">multiprocessing.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">active_children</code><span class="sig-paren" style="font-size: larger;">(</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.active_children" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Return list of all live children of the current process.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Calling this has the side effect of “joining” any processes which have already finished.</p></dd></dl><dl class="function" style="margin-bottom: 15px;"><dt id="multiprocessing.cpu_count"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">multiprocessing.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">cpu_count</code><span class="sig-paren" style="font-size: larger;">(</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.cpu_count" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Return the number of CPUs in the system.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">This number is not equivalent to the number of CPUs the current process can use. The number of usable CPUs can be obtained with&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">len(os.sched_getaffinity(0))</span></code></p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">May raise&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/exceptions.html#NotImplementedError" title="NotImplementedError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">NotImplementedError</span></code></a>.</p><div class="admonition seealso" style="margin-top: 10px; margin-bottom: 10px; padding: 7px; background-color: rgb(255, 255, 204); border: 1px solid rgb(221, 221, 102); border-radius: 3px;"><p class="first admonition-title" style="margin: 0px 10px 5px 0px; font-weight: bold; display: inline; hyphens: auto; line-height: 22.4px;">See also</p>&nbsp;<p class="last" style="margin-top: 0px; hyphens: auto; line-height: 22.4px; margin-bottom: 5px; display: inline;"><a class="reference internal" href="https://docs.python.org/3/library/os.html#os.cpu_count" title="os.cpu_count" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">os.cpu_count()</span></code></a></p></div></dd></dl><dl class="function" style="margin-bottom: 15px;"><dt id="multiprocessing.current_process"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">multiprocessing.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">current_process</code><span class="sig-paren" style="font-size: larger;">(</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.current_process" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Return the&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Process" title="multiprocessing.Process" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Process</span></code></a>&nbsp;object corresponding to the current process.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">An analogue of&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/threading.html#threading.current_thread" title="threading.current_thread" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">threading.current_thread()</span></code></a>.</p></dd></dl><dl class="function" style="margin-bottom: 15px;"><dt id="multiprocessing.freeze_support"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">multiprocessing.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">freeze_support</code><span class="sig-paren" style="font-size: larger;">(</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.freeze_support" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Add support for when a program which uses&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#module-multiprocessing" title="multiprocessing: Process-based parallelism." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">multiprocessing</span></code></a>&nbsp;has been frozen to produce a Windows executable. (Has been tested with&nbsp;<strong>py2exe</strong>,&nbsp;<strong>PyInstaller</strong>&nbsp;and&nbsp;<strong>cx_Freeze</strong>.)</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">One needs to call this function straight after the&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">if</span><span class="pre" style="hyphens: none;">__name__</span>&nbsp;<span class="pre" style="hyphens: none;">==</span>&nbsp;<span class="pre" style="hyphens: none;">'__main__'</span></code>&nbsp;line of the main module. For example:</p><div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="kn" style="color: rgb(0, 112, 32); font-weight: bold;">from</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">multiprocessing</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">import</span> <span class="n">Process</span><span class="p">,</span> <span class="n">freeze_support</span>

<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">def</span> <span class="nf" style="color: rgb(6, 40, 126);">f</span><span class="p">():</span>
    <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'hello world!'</span><span class="p">)</span>

<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">if</span> <span class="vm" style="color: rgb(187, 96, 213);">__name__</span> <span class="o" style="color: rgb(102, 102, 102);">==</span> <span class="s1" style="color: rgb(64, 112, 160);">'__main__'</span><span class="p">:</span>
    <span class="n">freeze_support</span><span class="p">()</span>
    <span class="n">Process</span><span class="p">(</span><span class="n">target</span><span class="o" style="color: rgb(102, 102, 102);">=</span><span class="n">f</span><span class="p">)</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">start</span><span class="p">()</span>
</pre></div></div><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">If the&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">freeze_support()</span></code>&nbsp;line is omitted then trying to run the frozen executable will raise&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="RuntimeError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">RuntimeError</span></code></a>.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Calling&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">freeze_support()</span></code>&nbsp;has no effect when invoked on any operating system other than Windows. In addition, if the module is being run normally by the Python interpreter on Windows (the program has not been frozen), then&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">freeze_support()</span></code>&nbsp;has no effect.</p></dd></dl><dl class="function" style="margin-bottom: 15px;"><dt id="multiprocessing.get_all_start_methods"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">multiprocessing.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">get_all_start_methods</code><span class="sig-paren" style="font-size: larger;">(</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.get_all_start_methods" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Returns a list of the supported start methods, the first of which is the default. The possible start methods are&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">'fork'</span></code>,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">'spawn'</span></code>&nbsp;and&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">'forkserver'</span></code>. On Windows only&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">'spawn'</span></code>&nbsp;is available. On Unix&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">'fork'</span></code>&nbsp;and&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">'spawn'</span></code>&nbsp;are always supported, with&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">'fork'</span></code>&nbsp;being the default.</p><div class="versionadded"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">New in version 3.4.</span></p></div></dd></dl><dl class="function" style="margin-bottom: 15px;"><dt id="multiprocessing.get_context"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">multiprocessing.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">get_context</code><span class="sig-paren" style="font-size: larger;">(</span><em>method=None</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.get_context" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Return a context object which has the same attributes as the&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#module-multiprocessing" title="multiprocessing: Process-based parallelism." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">multiprocessing</span></code></a>&nbsp;module.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">If&nbsp;<em>method</em>&nbsp;is&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code>&nbsp;then the default context is returned. Otherwise&nbsp;<em>method</em>&nbsp;should be&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">'fork'</span></code>,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">'spawn'</span></code>,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">'forkserver'</span></code>.&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="ValueError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">ValueError</span></code></a>&nbsp;is raised if the specified start method is not available.</p><div class="versionadded"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">New in version 3.4.</span></p></div></dd></dl><dl class="function" style="margin-bottom: 15px;"><dt id="multiprocessing.get_start_method"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">multiprocessing.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">get_start_method</code><span class="sig-paren" style="font-size: larger;">(</span><em>allow_none=False</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.get_start_method" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Return the name of start method used for starting processes.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">If the start method has not been fixed and&nbsp;<em>allow_none</em>&nbsp;is false, then the start method is fixed to the default and the name is returned. If the start method has not been fixed and&nbsp;<em>allow_none</em>&nbsp;is true then&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code>&nbsp;is returned.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">The return value can be&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">'fork'</span></code>,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">'spawn'</span></code>,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">'forkserver'&nbsp;</span></code>or&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code>.&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">'fork'</span></code>&nbsp;is the default on Unix, while&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">'spawn'</span></code>&nbsp;is the default on Windows.</p><div class="versionadded"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">New in version 3.4.</span></p></div></dd></dl><dl class="function" style="margin-bottom: 15px;"><dt id="multiprocessing.set_executable"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">multiprocessing.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">set_executable</code><span class="sig-paren" style="font-size: larger;">(</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.set_executable" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Sets the path of the Python interpreter to use when starting a child process. (By default&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/sys.html#sys.executable" title="sys.executable" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-data docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">sys.executable</span></code></a>&nbsp;is used). Embedders will probably need to do some thing like</p><div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="n">set_executable</span><span class="p">(</span><span class="n">os</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">path</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">join</span><span class="p">(</span><span class="n">sys</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">exec_prefix</span><span class="p">,</span> <span class="s1" style="color: rgb(64, 112, 160);">'pythonw.exe'</span><span class="p">))</span>
</pre></div></div><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">before they can create child processes.</p><div class="versionchanged"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">Changed in version 3.4:&nbsp;</span>Now supported on Unix when the&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">'spawn'</span></code>&nbsp;start method is used.</p></div></dd></dl><dl class="function" style="margin-bottom: 15px;"><dt id="multiprocessing.set_start_method"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">multiprocessing.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">set_start_method</code><span class="sig-paren" style="font-size: larger;">(</span><em>method</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.set_start_method" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Set the method which should be used to start child processes.&nbsp;<em>method</em>&nbsp;can be&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">'fork'</span></code>,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">'spawn'</span></code>&nbsp;or&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">'forkserver'</span></code>.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Note that this should be called at most once, and it should be protected inside the&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">if</span>&nbsp;<span class="pre" style="hyphens: none;">__name__</span>&nbsp;<span class="pre" style="hyphens: none;">==</span>&nbsp;<span class="pre" style="hyphens: none;">'__main__'&nbsp;</span></code>clause of the main module.</p><div class="versionadded"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">New in version 3.4.</span></p></div></dd></dl><div class="admonition note" style="margin-top: 10px; margin-bottom: 10px; padding: 7px; background-color: rgb(238, 238, 238); border: 1px solid rgb(204, 204, 204); border-radius: 3px;"><p class="first admonition-title" style="margin: 0px 10px 5px 0px; font-weight: bold; display: inline; hyphens: auto; text-align: justify; line-height: 22.4px;">Note</p>&nbsp;<p class="last" style="hyphens: auto; text-align: justify; line-height: 22.4px; margin-bottom: 5px; display: inline;"><a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#module-multiprocessing" title="multiprocessing: Process-based parallelism." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background: rgb(214, 214, 214); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">multiprocessing</span></code></a>&nbsp;contains no analogues of&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/threading.html#threading.active_count" title="threading.active_count" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background: rgb(214, 214, 214); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">threading.active_count()</span></code></a>,&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/threading.html#threading.enumerate" title="threading.enumerate" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background: rgb(214, 214, 214); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">threading.enumerate()</span></code></a>,&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/threading.html#threading.settrace" title="threading.settrace" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background: rgb(214, 214, 214); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">threading.settrace()</span></code></a>,&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/threading.html#threading.setprofile" title="threading.setprofile" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background: rgb(214, 214, 214); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">threading.setprofile()</span></code></a>,&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/threading.html#threading.Timer" title="threading.Timer" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background: rgb(214, 214, 214); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">threading.Timer</span></code></a>, or&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/threading.html#threading.local" title="threading.local" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background: rgb(214, 214, 214); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">threading.local</span></code></a>.</p></div></div><div class="section" id="connection-objects"><h3 style="font-weight: normal; color: rgb(26, 26, 26); border: 0px; margin: 0px; padding: 0.3em 0px; font-size: 22.4px;" id="blogTitle29">Connection Objects<a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#connection-objects" title="Permalink to this headline" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></h3><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">Connection objects allow the sending and receiving of picklable objects or strings. They can be thought of as message oriented connected sockets.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">Connection objects are usually created using&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Pipe" title="multiprocessing.Pipe" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Pipe</span></code></a>&nbsp;– see also&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing-listeners-clients" style="color: rgb(99, 99, 187); text-decoration-line: none;">Listeners and Clients</a>.</p><dl class="class" style="margin-bottom: 15px;"><dt id="multiprocessing.connection.Connection"><em class="property">class&nbsp;</em><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">multiprocessing.connection.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">Connection</code><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.connection.Connection" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><dl class="method" style="margin-bottom: 15px;"><dt id="multiprocessing.connection.Connection.send"><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">send</code><span class="sig-paren" style="font-size: larger;">(</span><em>obj</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.connection.Connection.send" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Send an object to the other end of the connection which should be read using&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.connection.Connection.recv" title="multiprocessing.connection.Connection.recv" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">recv()</span></code></a>.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">The object must be picklable. Very large pickles (approximately 32 MiB+, though it depends on the OS) may raise a&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="ValueError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">ValueError</span></code></a>&nbsp;exception.</p></dd></dl><dl class="method" style="margin-bottom: 15px;"><dt id="multiprocessing.connection.Connection.recv"><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">recv</code><span class="sig-paren" style="font-size: larger;">(</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.connection.Connection.recv" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Return an object sent from the other end of the connection using&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.connection.Connection.send" title="multiprocessing.connection.Connection.send" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">send()</span></code></a>. Blocks until there is something to receive. Raises&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/exceptions.html#EOFError" title="EOFError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">EOFError</span></code></a>&nbsp;if there is nothing left to receive and the other end was closed.</p></dd></dl><dl class="method" style="margin-bottom: 15px;"><dt id="multiprocessing.connection.Connection.fileno"><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">fileno</code><span class="sig-paren" style="font-size: larger;">(</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.connection.Connection.fileno" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Return the file descriptor or handle used by the connection.</p></dd></dl><dl class="method" style="margin-bottom: 15px;"><dt id="multiprocessing.connection.Connection.close"><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">close</code><span class="sig-paren" style="font-size: larger;">(</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.connection.Connection.close" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Close the connection.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">This is called automatically when the connection is garbage collected.</p></dd></dl><dl class="method" style="margin-bottom: 15px;"><dt id="multiprocessing.connection.Connection.poll"><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">poll</code><span class="sig-paren" style="font-size: larger;">(</span><span class="optional" style="font-size: 1.3em;">[</span><em>timeout</em><span class="optional" style="font-size: 1.3em;">]</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.connection.Connection.poll" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Return whether there is any data available to be read.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">If&nbsp;<em>timeout</em>&nbsp;is not specified then it will return immediately. If&nbsp;<em>timeout</em>&nbsp;is a number then this specifies the maximum time in seconds to block. If&nbsp;<em>timeout</em>&nbsp;is&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code>&nbsp;then an infinite timeout is used.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Note that multiple connection objects may be polled at once by using&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.connection.wait" title="multiprocessing.connection.wait" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">multiprocessing.connection.wait()</span></code></a>.</p></dd></dl><dl class="method" style="margin-bottom: 15px;"><dt id="multiprocessing.connection.Connection.send_bytes"><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">send_bytes</code><span class="sig-paren" style="font-size: larger;">(</span><em>buffer</em><span class="optional" style="font-size: 1.3em;">[</span>,&nbsp;<em>offset</em><span class="optional" style="font-size: 1.3em;">[</span>,&nbsp;<em>size</em><span class="optional" style="font-size: 1.3em;">]</span><span class="optional" style="font-size: 1.3em;">]</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.connection.Connection.send_bytes" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Send byte data from a&nbsp;<a class="reference internal" href="https://docs.python.org/3/glossary.html#term-bytes-like-object" style="color: rgb(99, 99, 187); text-decoration-line: none;">bytes-like object</a>&nbsp;as a complete message.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">If&nbsp;<em>offset</em>&nbsp;is given then data is read from that position in&nbsp;<em>buffer</em>. If&nbsp;<em>size</em>&nbsp;is given then that many bytes will be read from buffer. Very large buffers (approximately 32 MiB+, though it depends on the OS) may raise a&nbsp;<code class="xref py py-exc docutils literal notranslate" style="color: rgb(99, 99, 187); text-decoration-line: none; background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;"><a class="reference internal" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="ValueError" style="color: rgb(99, 99, 187); text-decoration-line: none;">ValueError</a>&nbsp;</span></code>exception</p></dd></dl><dl class="method" style="margin-bottom: 15px;"><dt id="multiprocessing.connection.Connection.recv_bytes"><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">recv_bytes</code><span class="sig-paren" style="font-size: larger;">(</span><span class="optional" style="font-size: 1.3em;">[</span><em>maxlength</em><span class="optional" style="font-size: 1.3em;">]</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.connection.Connection.recv_bytes" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Return a complete message of byte data sent from the other end of the connection as a string. Blocks until there is something to receive. Raises&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/exceptions.html#EOFError" title="EOFError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">EOFError</span></code></a>&nbsp;if there is nothing left to receive and the other end has closed.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">If&nbsp;<em>maxlength</em>&nbsp;is specified and the message is longer than&nbsp;<em>maxlength</em>&nbsp;then&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/exceptions.html#OSError" title="OSError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">OSError</span></code></a>&nbsp;is raised and the connection will no longer be readable.</p><div class="versionchanged"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">Changed in version 3.3:&nbsp;</span>This function used to raise&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/exceptions.html#IOError" title="IOError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">IOError</span></code></a>, which is now an alias of&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/exceptions.html#OSError" title="OSError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">OSError</span></code></a>.</p></div></dd></dl><dl class="method" style="margin-bottom: 15px;"><dt id="multiprocessing.connection.Connection.recv_bytes_into"><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">recv_bytes_into</code><span class="sig-paren" style="font-size: larger;">(</span><em>buffer</em><span class="optional" style="font-size: 1.3em;">[</span>,&nbsp;<em>offset</em><span class="optional" style="font-size: 1.3em;">]</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.connection.Connection.recv_bytes_into" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Read into&nbsp;<em>buffer</em>&nbsp;a complete message of byte data sent from the other end of the connection and return the number of bytes in the message. Blocks until there is something to receive. Raises&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/exceptions.html#EOFError" title="EOFError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">EOFError</span></code></a>&nbsp;if there is nothing left to receive and the other end was closed.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><em>buffer</em>&nbsp;must be a writable&nbsp;<a class="reference internal" href="https://docs.python.org/3/glossary.html#term-bytes-like-object" style="color: rgb(99, 99, 187); text-decoration-line: none;">bytes-like object</a>. If&nbsp;<em>offset</em>&nbsp;is given then the message will be written into the buffer from that position. Offset must be a non-negative integer less than the length of&nbsp;<em>buffer</em>&nbsp;(in bytes).</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">If the buffer is too short then a&nbsp;<code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">BufferTooShort</span></code>&nbsp;exception is raised and the complete message is available as&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">e.args[0]</span></code>&nbsp;where&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">e</span></code>&nbsp;is the exception instance.</p></dd></dl><div class="versionchanged"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">Changed in version 3.3:&nbsp;</span>Connection objects themselves can now be transferred between processes using&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.connection.Connection.send" title="multiprocessing.connection.Connection.send" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Connection.send()</span></code></a>&nbsp;and&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.connection.Connection.recv" title="multiprocessing.connection.Connection.recv" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Connection.recv()</span></code></a>.</p></div><div class="versionadded"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">New in version 3.3:&nbsp;</span>Connection objects now support the context management protocol – see&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/stdtypes.html#typecontextmanager" style="color: rgb(99, 99, 187); text-decoration-line: none;">Context Manager Types</a>.&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/stdtypes.html#contextmanager.__enter__" title="contextmanager.__enter__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__enter__()</span></code></a>&nbsp;returns the connection object, and&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/stdtypes.html#contextmanager.__exit__" title="contextmanager.__exit__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__exit__()</span></code></a>&nbsp;calls&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.connection.Connection.close" title="multiprocessing.connection.Connection.close" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">close()</span></code></a>.</p></div></dd></dl><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">For example:</p><div class="highlight-pycon notranslate"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="kn" style="color: rgb(0, 112, 32); font-weight: bold;">from</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">multiprocessing</span> <span class="kn" style="color: rgb(0, 112, 32); font-weight: bold;">import</span> <span class="n">Pipe</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">Pipe</span><span class="p">()</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">a</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">send</span><span class="p">([</span><span class="mi" style="color: rgb(32, 128, 80);">1</span><span class="p">,</span> <span class="s1" style="color: rgb(64, 112, 160);">'hello'</span><span class="p">,</span> <span class="bp" style="color: rgb(0, 112, 32);">None</span><span class="p">])</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">b</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">recv</span><span class="p">()</span>
<span class="go">[1, 'hello', None]</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">b</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">send_bytes</span><span class="p">(</span><span class="sa" style="color: rgb(64, 112, 160);">b</span><span class="s1" style="color: rgb(64, 112, 160);">'thank you'</span><span class="p">)</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">a</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">recv_bytes</span><span class="p">()</span>
<span class="go">b'thank you'</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="kn" style="color: rgb(0, 112, 32); font-weight: bold;">import</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">array</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">arr1</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">array</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">array</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'i'</span><span class="p">,</span> <span class="nb" style="color: rgb(0, 112, 32);">range</span><span class="p">(</span><span class="mi" style="color: rgb(32, 128, 80);">5</span><span class="p">))</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">arr2</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">array</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">array</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'i'</span><span class="p">,</span> <span class="p">[</span><span class="mi" style="color: rgb(32, 128, 80);">0</span><span class="p">]</span> <span class="o" style="color: rgb(102, 102, 102);">*</span> <span class="mi" style="color: rgb(32, 128, 80);">10</span><span class="p">)</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">a</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">send_bytes</span><span class="p">(</span><span class="n">arr1</span><span class="p">)</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">count</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">b</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">recv_bytes_into</span><span class="p">(</span><span class="n">arr2</span><span class="p">)</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">assert</span> <span class="n">count</span> <span class="o" style="color: rgb(102, 102, 102);">==</span> <span class="nb" style="color: rgb(0, 112, 32);">len</span><span class="p">(</span><span class="n">arr1</span><span class="p">)</span> <span class="o" style="color: rgb(102, 102, 102);">*</span> <span class="n">arr1</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">itemsize</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">arr2</span>
<span class="go">array('i', [0, 1, 2, 3, 4, 0, 0, 0, 0, 0])</span>
</pre></div></div><div class="admonition warning" style="margin-top: 10px; margin-bottom: 10px; padding: 7px; background-color: rgb(255, 228, 228); border: 1px solid rgb(255, 102, 102); border-radius: 3px;"><p class="first admonition-title" style="margin: 0px 10px 5px 0px; font-weight: bold; display: inline; hyphens: auto; text-align: justify; line-height: 22.4px;">Warning</p>&nbsp;<p style="hyphens: auto; text-align: justify; line-height: 22.4px; margin-bottom: 5px; display: inline;">The&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.connection.Connection.recv" title="multiprocessing.connection.Connection.recv" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background: rgb(239, 194, 194); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Connection.recv()</span></code></a>&nbsp;method automatically unpickles the data it receives, which can be a security risk unless you can trust the process which sent the message.</p><p class="last" style="hyphens: auto; text-align: justify; line-height: 22.4px; margin-bottom: 5px;">Therefore, unless the connection object was produced using&nbsp;<code class="xref py py-func docutils literal notranslate" style="background: rgb(239, 194, 194); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Pipe()</span></code>&nbsp;you should only use the&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.connection.Connection.recv" title="multiprocessing.connection.Connection.recv" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background: rgb(239, 194, 194); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">recv()</span></code></a>&nbsp;and&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.connection.Connection.send" title="multiprocessing.connection.Connection.send" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background: rgb(239, 194, 194); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">send()</span></code></a>&nbsp;methods after performing some sort of authentication. See&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing-auth-keys" style="color: rgb(99, 99, 187); text-decoration-line: none;">Authentication keys</a>.</p></div><div class="admonition warning" style="margin-top: 10px; margin-bottom: 10px; padding: 7px; background-color: rgb(255, 228, 228); border: 1px solid rgb(255, 102, 102); border-radius: 3px;"><p class="first admonition-title" style="margin: 0px 10px 5px 0px; font-weight: bold; display: inline; hyphens: auto; text-align: justify; line-height: 22.4px;">Warning</p>&nbsp;<p class="last" style="hyphens: auto; text-align: justify; line-height: 22.4px; margin-bottom: 5px; display: inline;">If a process is killed while it is trying to read or write to a pipe then the data in the pipe is likely to become corrupted, because it may become impossible to be sure where the message boundaries lie.</p></div></div><div class="section" id="synchronization-primitives"><h3 style="font-weight: normal; color: rgb(26, 26, 26); border: 0px; margin: 0px; padding: 0.3em 0px; font-size: 22.4px;" id="blogTitle30">Synchronization primitives<a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#synchronization-primitives" title="Permalink to this headline" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></h3><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">Generally synchronization primitives are not as necessary in a multiprocess program as they are in a multithreaded program. See the documentation for&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/threading.html#module-threading" title="threading: Thread-based parallelism." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">threading</span></code></a>&nbsp;module.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">Note that one can also create synchronization primitives by using a manager object – see&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing-managers" style="color: rgb(99, 99, 187); text-decoration-line: none;">Managers</a>.</p><dl class="class" style="margin-bottom: 15px;"><dt id="multiprocessing.Barrier"><em class="property">class&nbsp;</em><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">multiprocessing.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">Barrier</code><span class="sig-paren" style="font-size: larger;">(</span><em>parties</em><span class="optional" style="font-size: 1.3em;">[</span>,&nbsp;<em>action</em><span class="optional" style="font-size: 1.3em;">[</span>,&nbsp;<em>timeout</em><span class="optional" style="font-size: 1.3em;">]</span><span class="optional" style="font-size: 1.3em;">]</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Barrier" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">A barrier object: a clone of&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/threading.html#threading.Barrier" title="threading.Barrier" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">threading.Barrier</span></code></a>.</p><div class="versionadded"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">New in version 3.3.</span></p></div></dd></dl><dl class="class" style="margin-bottom: 15px;"><dt id="multiprocessing.BoundedSemaphore"><em class="property">class&nbsp;</em><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">multiprocessing.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">BoundedSemaphore</code><span class="sig-paren" style="font-size: larger;">(</span><span class="optional" style="font-size: 1.3em;">[</span><em>value</em><span class="optional" style="font-size: 1.3em;">]</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.BoundedSemaphore" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">A bounded semaphore object: a close analog of&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/threading.html#threading.BoundedSemaphore" title="threading.BoundedSemaphore" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">threading.BoundedSemaphore</span></code></a>.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">A solitary difference from its close analog exists: its&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">acquire</span></code>&nbsp;method’s first argument is named&nbsp;<em>block</em>, as is consistent with&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Lock.acquire" title="multiprocessing.Lock.acquire" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Lock.acquire()</span></code></a>.</p><div class="admonition note" style="margin-top: 10px; margin-bottom: 10px; padding: 7px; background-color: rgb(238, 238, 238); border: 1px solid rgb(204, 204, 204); border-radius: 3px;"><p class="first admonition-title" style="margin: 0px 10px 5px 0px; font-weight: bold; display: inline; hyphens: auto; line-height: 22.4px;">Note</p>&nbsp;<p class="last" style="margin-top: 0px; hyphens: auto; line-height: 22.4px; margin-bottom: 5px; display: inline;">On Mac OS X, this is indistinguishable from<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Semaphore" title="multiprocessing.Semaphore" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background: rgb(214, 214, 214); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Semaphore</span></code></a>&nbsp;because&nbsp;<code class="docutils literal notranslate" style="background: rgb(214, 214, 214); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">sem_getvalue()</span></code>&nbsp;is not implemented on that platform.</p></div></dd></dl><dl class="class" style="margin-bottom: 15px;"><dt id="multiprocessing.Condition"><em class="property">class&nbsp;</em><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">multiprocessing.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">Condition</code><span class="sig-paren" style="font-size: larger;">(</span><span class="optional" style="font-size: 1.3em;">[</span><em>lock</em><span class="optional" style="font-size: 1.3em;">]</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Condition" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">A condition variable: an alias for&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/threading.html#threading.Condition" title="threading.Condition" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">threading.Condition</span></code></a>.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">If&nbsp;<em>lock</em>&nbsp;is specified then it should be a&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Lock" title="multiprocessing.Lock" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Lock</span></code></a>&nbsp;or&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.RLock" title="multiprocessing.RLock" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">RLock</span></code></a>&nbsp;object from&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#module-multiprocessing" title="multiprocessing: Process-based parallelism." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">multiprocessing</span></code></a>.</p><div class="versionchanged"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">Changed in version 3.3:&nbsp;</span>The&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/threading.html#threading.Condition.wait_for" title="threading.Condition.wait_for" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">wait_for()</span></code></a>&nbsp;method was added.</p></div></dd></dl><dl class="class" style="margin-bottom: 15px;"><dt id="multiprocessing.Event"><em class="property">class&nbsp;</em><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">multiprocessing.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">Event</code><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Event" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">A clone of&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/threading.html#threading.Event" title="threading.Event" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">threading.Event</span></code></a>.</p></dd></dl><dl class="class" style="margin-bottom: 15px;"><dt id="multiprocessing.Lock"><em class="property">class&nbsp;</em><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">multiprocessing.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">Lock</code><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Lock" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">A non-recursive lock object: a close analog of&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/threading.html#threading.Lock" title="threading.Lock" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">threading.Lock</span></code></a>. Once a process or thread has acquired a lock, subsequent attempts to acquire it from any process or thread will block until it is released; any process or thread may release it. The concepts and behaviors of&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/threading.html#threading.Lock" title="threading.Lock" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">threading.Lock</span></code></a>&nbsp;as it applies to threads are replicated here in&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Lock" title="multiprocessing.Lock" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">multiprocessing.Lock</span></code></a>&nbsp;as it applies to either processes or threads, except as noted.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Note that&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Lock" title="multiprocessing.Lock" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Lock</span></code></a>&nbsp;is actually a factory function which returns an instance of&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">multiprocessing.synchronize.Lock</span></code>&nbsp;initialized with a default context.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Lock" title="multiprocessing.Lock" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Lock</span></code></a>&nbsp;supports the&nbsp;<a class="reference internal" href="https://docs.python.org/3/glossary.html#term-context-manager" style="color: rgb(99, 99, 187); text-decoration-line: none;">context manager</a>&nbsp;protocol and thus may be used in&nbsp;<a class="reference internal" href="https://docs.python.org/3/reference/compound_stmts.html#with" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">with</span></code></a>&nbsp;statements.</p><dl class="method" style="margin-bottom: 15px;"><dt id="multiprocessing.Lock.acquire"><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">acquire</code><span class="sig-paren" style="font-size: larger;">(</span><em>block=True</em>,&nbsp;<em>timeout=None</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Lock.acquire" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Acquire a lock, blocking or non-blocking.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">With the&nbsp;<em>block</em>&nbsp;argument set to&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">True</span></code>&nbsp;(the default), the method call will block until the lock is in an unlocked state, then set it to locked and return&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">True</span></code>. Note that the name of this first argument differs from that in&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/threading.html#threading.Lock.acquire" title="threading.Lock.acquire" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">threading.Lock.acquire()</span></code></a>.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">With the&nbsp;<em>block</em>&nbsp;argument set to&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">False</span></code>, the method call does not block. If the lock is currently in a locked state, return&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">False</span></code>; otherwise set the lock to a locked state and return&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">True</span></code>.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">When invoked with a positive, floating-point value for&nbsp;<em>timeout</em>, block for at most the number of seconds specified by&nbsp;<em>timeout</em>&nbsp;as long as the lock can not be acquired. Invocations with a negative value for&nbsp;<em>timeout</em>&nbsp;are equivalent to a&nbsp;<em>timeout</em>&nbsp;of zero. Invocations with a&nbsp;<em>timeout</em>value of&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code>&nbsp;(the default) set the timeout period to infinite. Note that the treatment of negative or&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code>&nbsp;values for&nbsp;<em>timeout</em>&nbsp;differs from the implemented behavior in&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/threading.html#threading.Lock.acquire" title="threading.Lock.acquire" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">threading.Lock.acquire()</span></code></a>. The&nbsp;<em>timeout</em>&nbsp;argument has no practical implications if the&nbsp;<em>block</em>&nbsp;argument is set to&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">False</span></code>&nbsp;and is thus ignored. Returns&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">True</span></code>&nbsp;if the lock has been acquired or&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">False</span></code>&nbsp;if the timeout period has elapsed.</p></dd></dl><dl class="method" style="margin-bottom: 15px;"><dt id="multiprocessing.Lock.release"><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">release</code><span class="sig-paren" style="font-size: larger;">(</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Lock.release" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Release a lock. This can be called from any process or thread, not only the process or thread which originally acquired the lock.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Behavior is the same as in&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/threading.html#threading.Lock.release" title="threading.Lock.release" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">threading.Lock.release()</span></code></a>except that when invoked on an unlocked lock, a&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="ValueError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">ValueError</span></code></a>&nbsp;is raised.</p></dd></dl></dd></dl><dl class="class" style="margin-bottom: 15px;"><dt id="multiprocessing.RLock"><em class="property">class&nbsp;</em><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">multiprocessing.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">RLock</code><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.RLock" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">A recursive lock object: a close analog of&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/threading.html#threading.RLock" title="threading.RLock" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">threading.RLock</span></code></a>. A recursive lock must be released by the process or thread that acquired it. Once a process or thread has acquired a recursive lock, the same process or thread may acquire it again without blocking; that process or thread must release it once for each time it has been acquired.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Note that&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.RLock" title="multiprocessing.RLock" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">RLock</span></code></a>&nbsp;is actually a factory function which returns an instance of&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">multiprocessing.synchronize.RLock</span></code>&nbsp;initialized with a default context.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.RLock" title="multiprocessing.RLock" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">RLock</span></code></a>&nbsp;supports the&nbsp;<a class="reference internal" href="https://docs.python.org/3/glossary.html#term-context-manager" style="color: rgb(99, 99, 187); text-decoration-line: none;">context manager</a>&nbsp;protocol and thus may be used in&nbsp;<a class="reference internal" href="https://docs.python.org/3/reference/compound_stmts.html#with" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">with</span></code></a>&nbsp;statements.</p><dl class="method" style="margin-bottom: 15px;"><dt id="multiprocessing.RLock.acquire"><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">acquire</code><span class="sig-paren" style="font-size: larger;">(</span><em>block=True</em>,&nbsp;<em>timeout=None</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.RLock.acquire" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Acquire a lock, blocking or non-blocking.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">When invoked with the&nbsp;<em>block</em>&nbsp;argument set to&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">True</span></code>, block until the lock is in an unlocked state (not owned by any process or thread) unless the lock is already owned by the current process or thread. The current process or thread then takes ownership of the lock (if it does not already have ownership) and the recursion level inside the lock increments by one, resulting in a return value of&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">True</span></code>. Note that there are several differences in this first argument’s behavior compared to the implementation of&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/threading.html#threading.RLock.acquire" title="threading.RLock.acquire" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">threading.RLock.acquire()</span></code></a>, starting with the name of the argument itself.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">When invoked with the&nbsp;<em>block</em>&nbsp;argument set to&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">False</span></code>, do not block. If the lock has already been acquired (and thus is owned) by another process or thread, the current process or thread does not take ownership and the recursion level within the lock is not changed, resulting in a return value of&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">False</span></code>. If the lock is in an unlocked state, the current process or thread takes ownership and the recursion level is incremented, resulting in a return value of&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">True</span></code>.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Use and behaviors of the&nbsp;<em>timeout</em>&nbsp;argument are the same as in&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Lock.acquire" title="multiprocessing.Lock.acquire" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Lock.acquire()</span></code></a>. Note that some of these behaviors of&nbsp;<em>timeout</em>&nbsp;differ from the implemented behaviors in&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/threading.html#threading.RLock.acquire" title="threading.RLock.acquire" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">threading.RLock.acquire()</span></code></a>.</p></dd></dl><dl class="method" style="margin-bottom: 15px;"><dt id="multiprocessing.RLock.release"><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">release</code><span class="sig-paren" style="font-size: larger;">(</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.RLock.release" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Release a lock, decrementing the recursion level. If after the decrement the recursion level is zero, reset the lock to unlocked (not owned by any process or thread) and if any other processes or threads are blocked waiting for the lock to become unlocked, allow exactly one of them to proceed. If after the decrement the recursion level is still nonzero, the lock remains locked and owned by the calling process or thread.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Only call this method when the calling process or thread owns the lock. An&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/exceptions.html#AssertionError" title="AssertionError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">AssertionError</span></code></a>&nbsp;is raised if this method is called by a process or thread other than the owner or if the lock is in an unlocked (unowned) state. Note that the type of exception raised in this situation differs from the implemented behavior in&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/threading.html#threading.RLock.release" title="threading.RLock.release" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">threading.RLock.release()</span></code></a>.</p></dd></dl></dd></dl><dl class="class" style="margin-bottom: 15px;"><dt id="multiprocessing.Semaphore"><em class="property">class&nbsp;</em><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">multiprocessing.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">Semaphore</code><span class="sig-paren" style="font-size: larger;">(</span><span class="optional" style="font-size: 1.3em;">[</span><em>value</em><span class="optional" style="font-size: 1.3em;">]</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Semaphore" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">A semaphore object: a close analog of&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/threading.html#threading.Semaphore" title="threading.Semaphore" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">threading.Semaphore</span></code></a>.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">A solitary difference from its close analog exists: its&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">acquire</span></code>&nbsp;method’s first argument is named&nbsp;<em>block</em>, as is consistent with&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Lock.acquire" title="multiprocessing.Lock.acquire" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Lock.acquire()</span></code></a>.</p></dd></dl><div class="admonition note" style="margin-top: 10px; margin-bottom: 10px; padding: 7px; background-color: rgb(238, 238, 238); border: 1px solid rgb(204, 204, 204); border-radius: 3px;"><p class="first admonition-title" style="margin: 0px 10px 5px 0px; font-weight: bold; display: inline; hyphens: auto; text-align: justify; line-height: 22.4px;">Note</p>&nbsp;<p class="last" style="hyphens: auto; text-align: justify; line-height: 22.4px; margin-bottom: 5px; display: inline;">On Mac OS X,&nbsp;<code class="docutils literal notranslate" style="background: rgb(214, 214, 214); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">sem_timedwait</span></code>&nbsp;is unsupported, so calling&nbsp;<code class="docutils literal notranslate" style="background: rgb(214, 214, 214); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">acquire()</span></code>&nbsp;with a timeout will emulate that function’s behavior using a sleeping loop.</p></div><div class="admonition note" style="margin-top: 10px; margin-bottom: 10px; padding: 7px; background-color: rgb(238, 238, 238); border: 1px solid rgb(204, 204, 204); border-radius: 3px;"><p class="first admonition-title" style="margin: 0px 10px 5px 0px; font-weight: bold; display: inline; hyphens: auto; text-align: justify; line-height: 22.4px;">Note</p>&nbsp;<p style="hyphens: auto; text-align: justify; line-height: 22.4px; margin-bottom: 5px; display: inline;">If the SIGINT signal generated by&nbsp;<kbd class="kbd docutils literal notranslate">Ctrl-C</kbd>&nbsp;arrives while the main thread is blocked by a call to<code class="xref py py-meth docutils literal notranslate" style="background: rgb(214, 214, 214); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">BoundedSemaphore.acquire()</span></code>,&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Lock.acquire" title="multiprocessing.Lock.acquire" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background: rgb(214, 214, 214); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Lock.acquire()</span></code></a>,&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.RLock.acquire" title="multiprocessing.RLock.acquire" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background: rgb(214, 214, 214); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">RLock.acquire()</span></code></a>,&nbsp;<code class="xref py py-meth docutils literal notranslate" style="background: rgb(214, 214, 214); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Semaphore.acquire()</span></code>,<code class="xref py py-meth docutils literal notranslate" style="background: rgb(214, 214, 214); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Condition.acquire()</span></code>&nbsp;or&nbsp;<code class="xref py py-meth docutils literal notranslate" style="background: rgb(214, 214, 214); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Condition.wait()</span></code>&nbsp;then the call will be immediately interrupted and&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/exceptions.html#KeyboardInterrupt" title="KeyboardInterrupt" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background: rgb(214, 214, 214); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">KeyboardInterrupt</span></code></a>&nbsp;will be raised.</p><p class="last" style="hyphens: auto; text-align: justify; line-height: 22.4px; margin-bottom: 5px;">This differs from the behaviour of&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/threading.html#module-threading" title="threading: Thread-based parallelism." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background: rgb(214, 214, 214); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">threading</span></code></a>&nbsp;where SIGINT will be ignored while the equivalent blocking calls are in progress.</p></div><div class="admonition note" style="margin-top: 10px; margin-bottom: 10px; padding: 7px; background-color: rgb(238, 238, 238); border: 1px solid rgb(204, 204, 204); border-radius: 3px;"><p class="first admonition-title" style="margin: 0px 10px 5px 0px; font-weight: bold; display: inline; hyphens: auto; text-align: justify; line-height: 22.4px;">Note</p>&nbsp;<p class="last" style="hyphens: auto; text-align: justify; line-height: 22.4px; margin-bottom: 5px; display: inline;">Some of this package’s functionality requires a functioning shared semaphore implementation on the host operating system. Without one, the&nbsp;<code class="xref py py-mod docutils literal notranslate" style="background: rgb(214, 214, 214); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">multiprocessing.synchronize</span></code>&nbsp;module will be disabled, and attempts to import it will result in an&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/exceptions.html#ImportError" title="ImportError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background: rgb(214, 214, 214); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">ImportError</span></code></a>. See&nbsp;<a class="reference external" href="https://bugs.python.org/issue3770" style="color: rgb(99, 99, 187); text-decoration-line: none;">bpo-3770</a>&nbsp;for additional information.</p></div></div><div class="section" id="shared-ctypes-objects"><h3 style="font-weight: normal; color: rgb(26, 26, 26); border: 0px; margin: 0px; padding: 0.3em 0px; font-size: 22.4px;" id="blogTitle31">Shared&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/ctypes.html#module-ctypes" title="ctypes: A foreign function library for Python." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 21.616px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">ctypes</span></code></a>&nbsp;Objects<a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#shared-ctypes-objects" title="Permalink to this headline" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></h3><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">It is possible to create shared objects using shared memory which can be inherited by child processes.</p><dl class="function" style="margin-bottom: 15px;"><dt id="multiprocessing.Value"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">multiprocessing.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">Value</code><span class="sig-paren" style="font-size: larger;">(</span><em>typecode_or_type</em>,&nbsp;<em>*args</em>,&nbsp;<em>lock=True</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Value" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Return a&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/ctypes.html#module-ctypes" title="ctypes: A foreign function library for Python." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">ctypes</span></code></a>&nbsp;object allocated from shared memory. By default the return value is actually a synchronized wrapper for the object. The object itself can be accessed via the&nbsp;<em>value</em>&nbsp;attribute of a&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Value" title="multiprocessing.Value" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Value</span></code></a>.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><em>typecode_or_type</em>&nbsp;determines the type of the returned object: it is either a ctypes type or a one character typecode of the kind used by the&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/array.html#module-array" title="array: Space efficient arrays of uniformly typed numeric values." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">array</span></code></a>&nbsp;module.&nbsp;<em>*args</em>&nbsp;is passed on to the constructor for the type.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">If&nbsp;<em>lock</em>&nbsp;is&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">True</span></code>&nbsp;(the default) then a new recursive lock object is created to synchronize access to the value. If&nbsp;<em>lock</em>&nbsp;is a&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Lock" title="multiprocessing.Lock" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Lock</span></code></a>&nbsp;or&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.RLock" title="multiprocessing.RLock" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">RLock</span></code></a>&nbsp;object then that will be used to synchronize access to the value. If&nbsp;<em>lock</em>&nbsp;is&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">False</span></code>&nbsp;then access to the returned object will not be automatically protected by a lock, so it will not necessarily be “process-safe”.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Operations like&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">+=</span></code>&nbsp;which involve a read and write are not atomic. So if, for instance, you want to atomically increment a shared value it is insufficient to just do</p><div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="n">counter</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">value</span> <span class="o" style="color: rgb(102, 102, 102);">+=</span> <span class="mi" style="color: rgb(32, 128, 80);">1</span>
</pre></div></div><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Assuming the associated lock is recursive (which it is by default) you can instead do</p><div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">with</span> <span class="n">counter</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">get_lock</span><span class="p">():</span>
    <span class="n">counter</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">value</span> <span class="o" style="color: rgb(102, 102, 102);">+=</span> <span class="mi" style="color: rgb(32, 128, 80);">1</span>
</pre></div></div><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Note that&nbsp;<em>lock</em>&nbsp;is a keyword-only argument.</p></dd></dl><dl class="function" style="margin-bottom: 15px;"><dt id="multiprocessing.Array"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">multiprocessing.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">Array</code><span class="sig-paren" style="font-size: larger;">(</span><em>typecode_or_type</em>,&nbsp;<em>size_or_initializer</em>,&nbsp;<em>*</em>,&nbsp;<em>lock=True</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Array" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Return a ctypes array allocated from shared memory. By default the return value is actually a synchronized wrapper for the array.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><em>typecode_or_type</em>&nbsp;determines the type of the elements of the returned array: it is either a ctypes type or a one character typecode of the kind used by the&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/array.html#module-array" title="array: Space efficient arrays of uniformly typed numeric values." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">array</span></code></a>&nbsp;module. If&nbsp;<em>size_or_initializer</em>&nbsp;is an integer, then it determines the length of the array, and the array will be initially zeroed. Otherwise,&nbsp;<em>size_or_initializer</em>&nbsp;is a sequence which is used to initialize the array and whose length determines the length of the array.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">If&nbsp;<em>lock</em>&nbsp;is&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">True</span></code>&nbsp;(the default) then a new lock object is created to synchronize access to the value. If&nbsp;<em>lock</em>&nbsp;is a&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Lock" title="multiprocessing.Lock" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Lock</span></code></a>&nbsp;or<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.RLock" title="multiprocessing.RLock" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">RLock</span></code></a>&nbsp;object then that will be used to synchronize access to the value. If&nbsp;<em>lock</em>&nbsp;is&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">False</span></code>&nbsp;then access to the returned object will not be automatically protected by a lock, so it will not necessarily be “process-safe”.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Note that&nbsp;<em>lock</em>&nbsp;is a keyword only argument.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Note that an array of&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/ctypes.html#ctypes.c_char" title="ctypes.c_char" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-data docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">ctypes.c_char</span></code></a>&nbsp;has&nbsp;<em>value</em>&nbsp;and&nbsp;<em>raw</em>&nbsp;attributes which allow one to use it to store and retrieve strings.</p></dd></dl><div class="section" id="module-multiprocessing.sharedctypes"><span id="the-multiprocessing-sharedctypes-module"></span><h4 style="font-weight: normal; color: rgb(26, 26, 26); border: 0px; margin: 0px; padding: 0.3em 0px; font-size: 19.2px;" id="blogTitle32">The&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#module-multiprocessing.sharedctypes" title="multiprocessing.sharedctypes: Allocate ctypes objects from shared memory." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 18.528px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">multiprocessing.sharedctypes</span></code></a>&nbsp;module<a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#module-multiprocessing.sharedctypes" title="Permalink to this headline" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></h4><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">The&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#module-multiprocessing.sharedctypes" title="multiprocessing.sharedctypes: Allocate ctypes objects from shared memory." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">multiprocessing.sharedctypes</span></code></a>&nbsp;module provides functions for allocating&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/ctypes.html#module-ctypes" title="ctypes: A foreign function library for Python." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">ctypes</span></code></a>&nbsp;objects from shared memory which can be inherited by child processes.</p><div class="admonition note" style="margin-top: 10px; margin-bottom: 10px; padding: 7px; background-color: rgb(238, 238, 238); border: 1px solid rgb(204, 204, 204); border-radius: 3px;"><p class="first admonition-title" style="margin: 0px 10px 5px 0px; font-weight: bold; display: inline; hyphens: auto; text-align: justify; line-height: 22.4px;">Note</p>&nbsp;<p class="last" style="hyphens: auto; text-align: justify; line-height: 22.4px; margin-bottom: 5px; display: inline;">Although it is possible to store a pointer in shared memory remember that this will refer to a location in the address space of a specific process. However, the pointer is quite likely to be invalid in the context of a second process and trying to dereference the pointer from the second process may cause a crash.</p></div><dl class="function" style="margin-bottom: 15px;"><dt id="multiprocessing.sharedctypes.RawArray"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">multiprocessing.sharedctypes.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">RawArray</code><span class="sig-paren" style="font-size: larger;">(</span><em>typecode_or_type</em>,&nbsp;<em>size_or_initializer</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.sharedctypes.RawArray" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Return a ctypes array allocated from shared memory.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><em>typecode_or_type</em>&nbsp;determines the type of the elements of the returned array: it is either a ctypes type or a one character typecode of the kind used by the&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/array.html#module-array" title="array: Space efficient arrays of uniformly typed numeric values." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">array</span></code></a>&nbsp;module. If&nbsp;<em>size_or_initializer</em>&nbsp;is an integer then it determines the length of the array, and the array will be initially zeroed. Otherwise&nbsp;<em>size_or_initializer</em>&nbsp;is a sequence which is used to initialize the array and whose length determines the length of the array.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Note that setting and getting an element is potentially non-atomic – use&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.sharedctypes.Array" title="multiprocessing.sharedctypes.Array" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Array()</span></code></a>&nbsp;instead to make sure that access is automatically synchronized using a lock.</p></dd></dl><dl class="function" style="margin-bottom: 15px;"><dt id="multiprocessing.sharedctypes.RawValue"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">multiprocessing.sharedctypes.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">RawValue</code><span class="sig-paren" style="font-size: larger;">(</span><em>typecode_or_type</em>,&nbsp;<em>*args</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.sharedctypes.RawValue" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Return a ctypes object allocated from shared memory.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><em>typecode_or_type</em>&nbsp;determines the type of the returned object: it is either a ctypes type or a one character typecode of the kind used by the&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/array.html#module-array" title="array: Space efficient arrays of uniformly typed numeric values." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">array</span></code></a>&nbsp;module.&nbsp;<em>*args</em>&nbsp;is passed on to the constructor for the type.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Note that setting and getting the value is potentially non-atomic – use&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.sharedctypes.Value" title="multiprocessing.sharedctypes.Value" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Value()</span></code></a>&nbsp;instead to make sure that access is automatically synchronized using a lock.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Note that an array of&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/ctypes.html#ctypes.c_char" title="ctypes.c_char" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-data docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">ctypes.c_char</span></code></a>&nbsp;has&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">value</span></code>&nbsp;and&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">raw&nbsp;</span></code>attributes which allow one to use it to store and retrieve strings – see documentation for&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/ctypes.html#module-ctypes" title="ctypes: A foreign function library for Python." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">ctypes</span></code></a>.</p></dd></dl><dl class="function" style="margin-bottom: 15px;"><dt id="multiprocessing.sharedctypes.Array"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">multiprocessing.sharedctypes.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">Array</code><span class="sig-paren" style="font-size: larger;">(</span><em>typecode_or_type</em>,&nbsp;<em>size_or_initializer</em>,&nbsp;<em>*</em>,&nbsp;<em>lock=True</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.sharedctypes.Array" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">The same as&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.sharedctypes.RawArray" title="multiprocessing.sharedctypes.RawArray" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">RawArray()</span></code></a>&nbsp;except that depending on the value of&nbsp;<em>lock</em>&nbsp;a process-safe synchronization wrapper may be returned instead of a raw ctypes array.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">If&nbsp;<em>lock</em>&nbsp;is&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">True</span></code>&nbsp;(the default) then a new lock object is created to synchronize access to the value. If&nbsp;<em>lock</em>&nbsp;is a&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Lock" title="multiprocessing.Lock" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Lock</span></code></a>&nbsp;or&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.RLock" title="multiprocessing.RLock" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">RLock</span></code></a>&nbsp;object then that will be used to synchronize access to the value. If&nbsp;<em>lock</em>&nbsp;is&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">False</span></code>&nbsp;then access to the returned object will not be automatically protected by a lock, so it will not necessarily be “process-safe”.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Note that&nbsp;<em>lock</em>&nbsp;is a keyword-only argument.</p></dd></dl><dl class="function" style="margin-bottom: 15px;"><dt id="multiprocessing.sharedctypes.Value"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">multiprocessing.sharedctypes.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">Value</code><span class="sig-paren" style="font-size: larger;">(</span><em>typecode_or_type</em>,&nbsp;<em>*args</em>,&nbsp;<em>lock=True</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.sharedctypes.Value" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">The same as&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.sharedctypes.RawValue" title="multiprocessing.sharedctypes.RawValue" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">RawValue()</span></code></a>&nbsp;except that depending on the value of&nbsp;<em>lock</em>&nbsp;a process-safe synchronization wrapper may be returned instead of a raw ctypes object.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">If&nbsp;<em>lock</em>&nbsp;is&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">True</span></code>&nbsp;(the default) then a new lock object is created to synchronize access to the value. If&nbsp;<em>lock</em>&nbsp;is a&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Lock" title="multiprocessing.Lock" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Lock</span></code></a>&nbsp;or&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.RLock" title="multiprocessing.RLock" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">RLock</span></code></a>&nbsp;object then that will be used to synchronize access to the value. If&nbsp;<em>lock</em>&nbsp;is&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">False</span></code>&nbsp;then access to the returned object will not be automatically protected by a lock, so it will not necessarily be “process-safe”.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Note that&nbsp;<em>lock</em>&nbsp;is a keyword-only argument.</p></dd></dl><dl class="function" style="margin-bottom: 15px;"><dt id="multiprocessing.sharedctypes.copy"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">multiprocessing.sharedctypes.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">copy</code><span class="sig-paren" style="font-size: larger;">(</span><em>obj</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.sharedctypes.copy" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Return a ctypes object allocated from shared memory which is a copy of the ctypes object&nbsp;<em>obj</em>.</p></dd></dl><dl class="function" style="margin-bottom: 15px;"><dt id="multiprocessing.sharedctypes.synchronized"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">multiprocessing.sharedctypes.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">synchronized</code><span class="sig-paren" style="font-size: larger;">(</span><em>obj</em><span class="optional" style="font-size: 1.3em;">[</span>,&nbsp;<em>lock</em><span class="optional" style="font-size: 1.3em;">]</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.sharedctypes.synchronized" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Return a process-safe wrapper object for a ctypes object which uses&nbsp;<em>lock</em>&nbsp;to synchronize access. If&nbsp;<em>lock</em>&nbsp;is&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code>&nbsp;(the default) then a&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.RLock" title="multiprocessing.RLock" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">multiprocessing.RLock</span></code></a>&nbsp;object is created automatically.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">A synchronized wrapper will have two methods in addition to those of the object it wraps:&nbsp;<code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">get_obj()</span></code>&nbsp;returns the wrapped object and&nbsp;<code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">get_lock()</span></code>&nbsp;returns the lock object used for synchronization.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Note that accessing the ctypes object through the wrapper can be a lot slower than accessing the raw ctypes object.</p><div class="versionchanged"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">Changed in version 3.5:&nbsp;</span>Synchronized objects support the&nbsp;<a class="reference internal" href="https://docs.python.org/3/glossary.html#term-context-manager" style="color: rgb(99, 99, 187); text-decoration-line: none;">context manager</a>&nbsp;protocol.</p></div></dd></dl><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">The table below compares the syntax for creating shared ctypes objects from shared memory with the normal ctypes syntax. (In the table&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">MyStruct</span></code>&nbsp;is some subclass of&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/ctypes.html#ctypes.Structure" title="ctypes.Structure" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">ctypes.Structure</span></code></a>.)</p><table border="1" class="docutils" style="border-width: 1px; border-right-style: solid; border-left-style: solid; border-color: rgb(221, 221, 221); border-image: initial; min-width: 20%; border-radius: 3px; margin-top: 10px; margin-bottom: 10px;"><colgroup><col width="27%"><col width="36%"><col width="37%"></colgroup><thead valign="bottom"><tr class="row-odd"><th class="head" style="padding: 0.3em 0.5em; background-color: rgb(238, 238, 238); border-radius: 3px; border-top: 1px solid rgb(221, 221, 221) !important; border-right: 1px solid rgb(221, 221, 221) !important; border-left: 1px solid rgb(221, 221, 221) !important; border-bottom-color: rgb(221, 221, 221) !important; border-image: initial !important;">ctypes</th><th class="head" style="padding: 0.3em 0.5em; background-color: rgb(238, 238, 238); border-radius: 3px; border-top: 1px solid rgb(221, 221, 221) !important; border-right: 1px solid rgb(221, 221, 221) !important; border-left: 1px solid rgb(221, 221, 221) !important; border-bottom-color: rgb(221, 221, 221) !important; border-image: initial !important;">sharedctypes using type</th><th class="head" style="padding: 0.3em 0.5em; background-color: rgb(238, 238, 238); border-radius: 3px; border-top: 1px solid rgb(221, 221, 221) !important; border-right: 1px solid rgb(221, 221, 221) !important; border-left: 1px solid rgb(221, 221, 221) !important; border-bottom-color: rgb(221, 221, 221) !important; border-image: initial !important;">sharedctypes using typecode</th></tr></thead><tbody valign="top"><tr class="row-even"><td style="padding: 0.3em 0.5em; border-radius: 3px; background-color: white; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">c_double(2.4)</td><td style="padding: 0.3em 0.5em; border-radius: 3px; background-color: white; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">RawValue(c_double, 2.4)</td><td style="padding: 0.3em 0.5em; border-radius: 3px; background-color: white; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">RawValue(‘d’, 2.4)</td></tr><tr class="row-odd"><td style="padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">MyStruct(4, 6)</td><td style="padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">RawValue(MyStruct, 4, 6)</td><td style="padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">&nbsp;</td></tr><tr class="row-even"><td style="padding: 0.3em 0.5em; border-radius: 3px; background-color: white; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">(c_short * 7)()</td><td style="padding: 0.3em 0.5em; border-radius: 3px; background-color: white; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">RawArray(c_short, 7)</td><td style="padding: 0.3em 0.5em; border-radius: 3px; background-color: white; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">RawArray(‘h’, 7)</td></tr><tr class="row-odd"><td style="padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">(c_int * 3)(9, 2, 8)</td><td style="padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">RawArray(c_int, (9, 2, 8))</td><td style="padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">RawArray(‘i’, (9, 2, 8))</td></tr></tbody></table><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">Below is an example where a number of ctypes objects are modified by a child process:</p><div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="kn" style="color: rgb(0, 112, 32); font-weight: bold;">from</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">multiprocessing</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">import</span> <span class="n">Process</span><span class="p">,</span> <span class="n">Lock</span>
<span class="kn" style="color: rgb(0, 112, 32); font-weight: bold;">from</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">multiprocessing.sharedctypes</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">import</span> <span class="n">Value</span><span class="p">,</span> <span class="n">Array</span>
<span class="kn" style="color: rgb(0, 112, 32); font-weight: bold;">from</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">ctypes</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">import</span> <span class="n">Structure</span><span class="p">,</span> <span class="n">c_double</span>

<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">class</span> <span class="nc" style="color: rgb(14, 132, 181); font-weight: bold;">Point</span><span class="p">(</span><span class="n">Structure</span><span class="p">):</span>
    <span class="n">_fields_</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="p">[(</span><span class="s1" style="color: rgb(64, 112, 160);">'x'</span><span class="p">,</span> <span class="n">c_double</span><span class="p">),</span> <span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'y'</span><span class="p">,</span> <span class="n">c_double</span><span class="p">)]</span>

<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">def</span> <span class="nf" style="color: rgb(6, 40, 126);">modify</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">A</span><span class="p">):</span>
    <span class="n">n</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">value</span> <span class="o" style="color: rgb(102, 102, 102);">**=</span> <span class="mi" style="color: rgb(32, 128, 80);">2</span>
    <span class="n">x</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">value</span> <span class="o" style="color: rgb(102, 102, 102);">**=</span> <span class="mi" style="color: rgb(32, 128, 80);">2</span>
    <span class="n">s</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">value</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">s</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">value</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">upper</span><span class="p">()</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">for</span> <span class="n">a</span> <span class="ow" style="color: rgb(0, 112, 32); font-weight: bold;">in</span> <span class="n">A</span><span class="p">:</span>
        <span class="n">a</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">x</span> <span class="o" style="color: rgb(102, 102, 102);">**=</span> <span class="mi" style="color: rgb(32, 128, 80);">2</span>
        <span class="n">a</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">y</span> <span class="o" style="color: rgb(102, 102, 102);">**=</span> <span class="mi" style="color: rgb(32, 128, 80);">2</span>

<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">if</span> <span class="vm" style="color: rgb(187, 96, 213);">__name__</span> <span class="o" style="color: rgb(102, 102, 102);">==</span> <span class="s1" style="color: rgb(64, 112, 160);">'__main__'</span><span class="p">:</span>
    <span class="n">lock</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">Lock</span><span class="p">()</span>

    <span class="n">n</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">Value</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'i'</span><span class="p">,</span> <span class="mi" style="color: rgb(32, 128, 80);">7</span><span class="p">)</span>
    <span class="n">x</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">Value</span><span class="p">(</span><span class="n">c_double</span><span class="p">,</span> <span class="mf" style="color: rgb(32, 128, 80);">1.0</span><span class="o" style="color: rgb(102, 102, 102);">/</span><span class="mf" style="color: rgb(32, 128, 80);">3.0</span><span class="p">,</span> <span class="n">lock</span><span class="o" style="color: rgb(102, 102, 102);">=</span><span class="kc" style="color: rgb(0, 112, 32); font-weight: bold;">False</span><span class="p">)</span>
    <span class="n">s</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">Array</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'c'</span><span class="p">,</span> <span class="sa" style="color: rgb(64, 112, 160);">b</span><span class="s1" style="color: rgb(64, 112, 160);">'hello world'</span><span class="p">,</span> <span class="n">lock</span><span class="o" style="color: rgb(102, 102, 102);">=</span><span class="n">lock</span><span class="p">)</span>
    <span class="n">A</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">Array</span><span class="p">(</span><span class="n">Point</span><span class="p">,</span> <span class="p">[(</span><span class="mf" style="color: rgb(32, 128, 80);">1.875</span><span class="p">,</span><span class="o" style="color: rgb(102, 102, 102);">-</span><span class="mf" style="color: rgb(32, 128, 80);">6.25</span><span class="p">),</span> <span class="p">(</span><span class="o" style="color: rgb(102, 102, 102);">-</span><span class="mf" style="color: rgb(32, 128, 80);">5.75</span><span class="p">,</span><span class="mf" style="color: rgb(32, 128, 80);">2.0</span><span class="p">),</span> <span class="p">(</span><span class="mf" style="color: rgb(32, 128, 80);">2.375</span><span class="p">,</span><span class="mf" style="color: rgb(32, 128, 80);">9.5</span><span class="p">)],</span> <span class="n">lock</span><span class="o" style="color: rgb(102, 102, 102);">=</span><span class="n">lock</span><span class="p">)</span>

    <span class="n">p</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">Process</span><span class="p">(</span><span class="n">target</span><span class="o" style="color: rgb(102, 102, 102);">=</span><span class="n">modify</span><span class="p">,</span> <span class="n">args</span><span class="o" style="color: rgb(102, 102, 102);">=</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">A</span><span class="p">))</span>
    <span class="n">p</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">start</span><span class="p">()</span>
    <span class="n">p</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">join</span><span class="p">()</span>

    <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="n">n</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">value</span><span class="p">)</span>
    <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="n">x</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">value</span><span class="p">)</span>
    <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="n">s</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">value</span><span class="p">)</span>
    <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">([(</span><span class="n">a</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">x</span><span class="p">,</span> <span class="n">a</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">y</span><span class="p">)</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">for</span> <span class="n">a</span> <span class="ow" style="color: rgb(0, 112, 32); font-weight: bold;">in</span> <span class="n">A</span><span class="p">])</span>
</pre></div></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">The results printed are</p><div class="highlight-none notranslate"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;">49
0.1111111111111111
HELLO WORLD
[(3.515625, 39.0625), (33.0625, 4.0), (5.640625, 90.25)]
</pre></div></div></div></div><div class="section" id="managers"><span id="multiprocessing-managers"></span><h3 style="font-weight: normal; color: rgb(26, 26, 26); border: 0px; margin: 0px; padding: 0.3em 0px; font-size: 22.4px;" id="blogTitle33">Managers<a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#managers" title="Permalink to this headline" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></h3><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">Managers provide a way to create data which can be shared between different processes, including sharing over a network between processes running on different machines. A manager object controls a server process which manages&nbsp;<em>shared objects</em>. Other processes can access the shared objects by using proxies.</p><dl class="function" style="margin-bottom: 15px;"><dt id="multiprocessing.sharedctypes.multiprocessing.Manager"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">multiprocessing.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">Manager</code><span class="sig-paren" style="font-size: larger;">(</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.sharedctypes.multiprocessing.Manager" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Returns a started&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.managers.SyncManager" title="multiprocessing.managers.SyncManager" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">SyncManager</span></code></a>&nbsp;object which can be used for sharing objects between processes. The returned manager object corresponds to a spawned child process and has methods which will create shared objects and return corresponding proxies.</p></dd></dl><span class="target" id="module-multiprocessing.managers"></span><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">Manager processes will be shutdown as soon as they are garbage collected or their parent process exits. The manager classes are defined in the&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#module-multiprocessing.managers" title="multiprocessing.managers: Share data between process with shared objects." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">multiprocessing.managers</span></code></a>&nbsp;module:</p><dl class="class" style="margin-bottom: 15px;"><dt id="multiprocessing.managers.BaseManager"><em class="property">class&nbsp;</em><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">multiprocessing.managers.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">BaseManager</code><span class="sig-paren" style="font-size: larger;">(</span><span class="optional" style="font-size: 1.3em;">[</span><em>address</em><span class="optional" style="font-size: 1.3em;">[</span>,&nbsp;<em>authkey</em><span class="optional" style="font-size: 1.3em;">]</span><span class="optional" style="font-size: 1.3em;">]</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.managers.BaseManager" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Create a BaseManager object.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Once created one should call&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.managers.BaseManager.start" title="multiprocessing.managers.BaseManager.start" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">start()</span></code></a>&nbsp;or&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">get_server().serve_forever()</span></code>&nbsp;to ensure that the manager object refers to a started manager process.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><em>address</em>&nbsp;is the address on which the manager process listens for new connections. If&nbsp;<em>address</em>&nbsp;is&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code>&nbsp;then an arbitrary one is chosen.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><em>authkey</em>&nbsp;is the authentication key which will be used to check the validity of incoming connections to the server process. If&nbsp;<em>authkey</em>&nbsp;is&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code>&nbsp;then&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">current_process().authkey</span></code>&nbsp;is used. Otherwise&nbsp;<em>authkey</em>&nbsp;is used and it must be a byte string.</p><dl class="method" style="margin-bottom: 15px;"><dt id="multiprocessing.managers.BaseManager.start"><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">start</code><span class="sig-paren" style="font-size: larger;">(</span><span class="optional" style="font-size: 1.3em;">[</span><em>initializer</em><span class="optional" style="font-size: 1.3em;">[</span>,&nbsp;<em>initargs</em><span class="optional" style="font-size: 1.3em;">]</span><span class="optional" style="font-size: 1.3em;">]</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.managers.BaseManager.start" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Start a subprocess to start the manager. If&nbsp;<em>initializer</em>&nbsp;is not&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code>&nbsp;then the subprocess will call&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">initializer(*initargs)</span></code>&nbsp;when it starts.</p></dd></dl><dl class="method" style="margin-bottom: 15px;"><dt id="multiprocessing.managers.BaseManager.get_server"><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">get_server</code><span class="sig-paren" style="font-size: larger;">(</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.managers.BaseManager.get_server" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Returns a&nbsp;<code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Server</span></code>&nbsp;object which represents the actual server under the control of the Manager. The&nbsp;<code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Server</span></code>object supports the&nbsp;<code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">serve_forever()</span></code>&nbsp;method:</p><div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><span class="copybutton" title="Hide the prompts and output" style="cursor: pointer; position: absolute; top: 0px; right: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</span><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="kn" style="color: rgb(0, 112, 32); font-weight: bold;">from</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">multiprocessing.managers</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">import</span> <span class="n">BaseManager</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">manager</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">BaseManager</span><span class="p">(</span><span class="n">address</span><span class="o" style="color: rgb(102, 102, 102);">=</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">''</span><span class="p">,</span> <span class="mi" style="color: rgb(32, 128, 80);">50000</span><span class="p">),</span> <span class="n">authkey</span><span class="o" style="color: rgb(102, 102, 102);">=</span><span class="sa" style="color: rgb(64, 112, 160);">b</span><span class="s1" style="color: rgb(64, 112, 160);">'abc'</span><span class="p">)</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">server</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">manager</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">get_server</span><span class="p">()</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">server</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">serve_forever</span><span class="p">()</span>
</pre></div></div><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Server</span></code>&nbsp;additionally has an&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.managers.BaseManager.address" title="multiprocessing.managers.BaseManager.address" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">address</span></code></a>&nbsp;attribute.</p></dd></dl><dl class="method" style="margin-bottom: 15px;"><dt id="multiprocessing.managers.BaseManager.connect"><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">connect</code><span class="sig-paren" style="font-size: larger;">(</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.managers.BaseManager.connect" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Connect a local manager object to a remote manager process:</p><div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><span class="copybutton" title="Hide the prompts and output" style="cursor: pointer; position: absolute; top: 0px; right: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</span><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="kn" style="color: rgb(0, 112, 32); font-weight: bold;">from</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">multiprocessing.managers</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">import</span> <span class="n">BaseManager</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">BaseManager</span><span class="p">(</span><span class="n">address</span><span class="o" style="color: rgb(102, 102, 102);">=</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'127.0.0.1'</span><span class="p">,</span> <span class="mi" style="color: rgb(32, 128, 80);">5000</span><span class="p">),</span> <span class="n">authkey</span><span class="o" style="color: rgb(102, 102, 102);">=</span><span class="sa" style="color: rgb(64, 112, 160);">b</span><span class="s1" style="color: rgb(64, 112, 160);">'abc'</span><span class="p">)</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">m</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">connect</span><span class="p">()</span>
</pre></div></div></dd></dl><dl class="method" style="margin-bottom: 15px;"><dt id="multiprocessing.managers.BaseManager.shutdown"><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">shutdown</code><span class="sig-paren" style="font-size: larger;">(</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.managers.BaseManager.shutdown" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Stop the process used by the manager. This is only available if&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.managers.BaseManager.start" title="multiprocessing.managers.BaseManager.start" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">start()</span></code></a>&nbsp;has been used to start the server process.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">This can be called multiple times.</p></dd></dl><dl class="method" style="margin-bottom: 15px;"><dt id="multiprocessing.managers.BaseManager.register"><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">register</code><span class="sig-paren" style="font-size: larger;">(</span><em>typeid</em><span class="optional" style="font-size: 1.3em;">[</span>,&nbsp;<em>callable</em><span class="optional" style="font-size: 1.3em;">[</span>,&nbsp;<em>proxytype</em><span class="optional" style="font-size: 1.3em;">[</span>,&nbsp;<em>exposed</em><span class="optional" style="font-size: 1.3em;">[</span>,&nbsp;<em>method_to_typeid</em><span class="optional" style="font-size: 1.3em;">[</span>,&nbsp;<em>create_method</em><span class="optional" style="font-size: 1.3em;">]</span><span class="optional" style="font-size: 1.3em;">]</span><span class="optional" style="font-size: 1.3em;">]</span><span class="optional" style="font-size: 1.3em;">]</span><span class="optional" style="font-size: 1.3em;">]</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.managers.BaseManager.register" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">A classmethod which can be used for registering a type or callable with the manager class.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><em>typeid</em>&nbsp;is a “type identifier” which is used to identify a particular type of shared object. This must be a string.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><em>callable</em>&nbsp;is a callable used for creating objects for this type identifier. If a manager instance will be connected to the server using the&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.managers.BaseManager.connect" title="multiprocessing.managers.BaseManager.connect" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">connect()</span></code></a>&nbsp;method, or if the<em>create_method</em>&nbsp;argument is&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">False</span></code>&nbsp;then this can be left as&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code>.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><em>proxytype</em>&nbsp;is a subclass of&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.managers.BaseProxy" title="multiprocessing.managers.BaseProxy" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">BaseProxy</span></code></a>&nbsp;which is used to create proxies for shared objects with this&nbsp;<em>typeid</em>. If&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code>&nbsp;then a proxy class is created automatically.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><em>exposed</em>&nbsp;is used to specify a sequence of method names which proxies for this typeid should be allowed to access using&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.managers.BaseProxy._callmethod" title="multiprocessing.managers.BaseProxy._callmethod" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">BaseProxy._callmethod()</span></code></a>. (If&nbsp;<em>exposed</em>is&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code>&nbsp;then&nbsp;<code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">proxytype._exposed_</span></code>&nbsp;is used instead if it exists.) In the case where no exposed list is specified, all “public methods” of the shared object will be accessible. (Here a “public method” means any attribute which has a&nbsp;<a class="reference internal" href="https://docs.python.org/3/reference/datamodel.html#object.__call__" title="object.__call__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__call__()</span></code></a>&nbsp;method and whose name does not begin with&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">'_'</span></code>.)</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><em>method_to_typeid</em>&nbsp;is a mapping used to specify the return type of those exposed methods which should return a proxy. It maps method names to typeid strings. (If&nbsp;<em>method_to_typeid</em>&nbsp;is&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code>&nbsp;then<code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">proxytype._method_to_typeid_</span></code>&nbsp;is used instead if it exists.) If a method’s name is not a key of this mapping or if the mapping is&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code>&nbsp;then the object returned by the method will be copied by value.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><em>create_method</em>&nbsp;determines whether a method should be created with name&nbsp;<em>typeid</em>&nbsp;which can be used to tell the server process to create a new shared object and return a proxy for it. By default it is&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">True</span></code>.</p></dd></dl><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.managers.BaseManager" title="multiprocessing.managers.BaseManager" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">BaseManager</span></code></a>&nbsp;instances also have one read-only property:</p><dl class="attribute" style="margin-bottom: 15px;"><dt id="multiprocessing.managers.BaseManager.address"><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">address</code><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.managers.BaseManager.address" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">The address used by the manager.</p></dd></dl><div class="versionchanged"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">Changed in version 3.3:&nbsp;</span>Manager objects support the context management protocol – see&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/stdtypes.html#typecontextmanager" style="color: rgb(99, 99, 187); text-decoration-line: none;">Context Manager Types</a>.<a class="reference internal" href="https://docs.python.org/3/library/stdtypes.html#contextmanager.__enter__" title="contextmanager.__enter__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__enter__()</span></code></a>&nbsp;starts the server process (if it has not already started) and then returns the manager object.&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/stdtypes.html#contextmanager.__exit__" title="contextmanager.__exit__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__exit__()</span></code></a>calls&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.managers.BaseManager.shutdown" title="multiprocessing.managers.BaseManager.shutdown" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">shutdown()</span></code></a>.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">In previous versions&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/stdtypes.html#contextmanager.__enter__" title="contextmanager.__enter__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__enter__()</span></code></a>&nbsp;did not start the manager’s server process if it was not already started.</p></div></dd></dl><dl class="class" style="margin-bottom: 15px;"><dt id="multiprocessing.managers.SyncManager"><em class="property">class&nbsp;</em><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">multiprocessing.managers.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">SyncManager</code><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.managers.SyncManager" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">A subclass of&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.managers.BaseManager" title="multiprocessing.managers.BaseManager" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">BaseManager</span></code></a>&nbsp;which can be used for the synchronization of processes. Objects of this type are returned by&nbsp;<code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">multiprocessing.Manager()</span></code>.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Its methods create and return&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing-proxy-objects" style="color: rgb(99, 99, 187); text-decoration-line: none;">Proxy Objects</a>&nbsp;for a number of commonly used data types to be synchronized across processes. This notably includes shared lists and dictionaries.</p><dl class="method" style="margin-bottom: 15px;"><dt id="multiprocessing.managers.SyncManager.Barrier"><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">Barrier</code><span class="sig-paren" style="font-size: larger;">(</span><em>parties</em><span class="optional" style="font-size: 1.3em;">[</span>,&nbsp;<em>action</em><span class="optional" style="font-size: 1.3em;">[</span>,&nbsp;<em>timeout</em><span class="optional" style="font-size: 1.3em;">]</span><span class="optional" style="font-size: 1.3em;">]</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.managers.SyncManager.Barrier" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Create a shared&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/threading.html#threading.Barrier" title="threading.Barrier" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">threading.Barrier</span></code></a>&nbsp;object and return a proxy for it.</p><div class="versionadded"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">New in version 3.3.</span></p></div></dd></dl><dl class="method" style="margin-bottom: 15px;"><dt id="multiprocessing.managers.SyncManager.BoundedSemaphore"><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">BoundedSemaphore</code><span class="sig-paren" style="font-size: larger;">(</span><span class="optional" style="font-size: 1.3em;">[</span><em>value</em><span class="optional" style="font-size: 1.3em;">]</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.managers.SyncManager.BoundedSemaphore" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Create a shared&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/threading.html#threading.BoundedSemaphore" title="threading.BoundedSemaphore" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">threading.BoundedSemaphore</span></code></a>&nbsp;object and return a proxy for it.</p></dd></dl><dl class="method" style="margin-bottom: 15px;"><dt id="multiprocessing.managers.SyncManager.Condition"><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">Condition</code><span class="sig-paren" style="font-size: larger;">(</span><span class="optional" style="font-size: 1.3em;">[</span><em>lock</em><span class="optional" style="font-size: 1.3em;">]</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.managers.SyncManager.Condition" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Create a shared&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/threading.html#threading.Condition" title="threading.Condition" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">threading.Condition</span></code></a>&nbsp;object and return a proxy for it.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">If&nbsp;<em>lock</em>&nbsp;is supplied then it should be a proxy for a&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/threading.html#threading.Lock" title="threading.Lock" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">threading.Lock</span></code></a>&nbsp;or&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/threading.html#threading.RLock" title="threading.RLock" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">threading.RLock</span></code></a>&nbsp;object.</p><div class="versionchanged"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">Changed in version 3.3:&nbsp;</span>The&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/threading.html#threading.Condition.wait_for" title="threading.Condition.wait_for" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">wait_for()</span></code></a>&nbsp;method was added.</p></div></dd></dl><dl class="method" style="margin-bottom: 15px;"><dt id="multiprocessing.managers.SyncManager.Event"><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">Event</code><span class="sig-paren" style="font-size: larger;">(</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.managers.SyncManager.Event" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Create a shared&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/threading.html#threading.Event" title="threading.Event" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">threading.Event</span></code></a>&nbsp;object and return a proxy for it.</p></dd></dl><dl class="method" style="margin-bottom: 15px;"><dt id="multiprocessing.managers.SyncManager.Lock"><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">Lock</code><span class="sig-paren" style="font-size: larger;">(</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.managers.SyncManager.Lock" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Create a shared&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/threading.html#threading.Lock" title="threading.Lock" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">threading.Lock</span></code></a>&nbsp;object and return a proxy for it.</p></dd></dl><dl class="method" style="margin-bottom: 15px;"><dt id="multiprocessing.managers.SyncManager.Namespace"><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">Namespace</code><span class="sig-paren" style="font-size: larger;">(</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.managers.SyncManager.Namespace" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Create a shared&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.managers.Namespace" title="multiprocessing.managers.Namespace" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Namespace</span></code></a>&nbsp;object and return a proxy for it.</p></dd></dl><dl class="method" style="margin-bottom: 15px;"><dt id="multiprocessing.managers.SyncManager.Queue"><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">Queue</code><span class="sig-paren" style="font-size: larger;">(</span><span class="optional" style="font-size: 1.3em;">[</span><em>maxsize</em><span class="optional" style="font-size: 1.3em;">]</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.managers.SyncManager.Queue" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Create a shared&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/queue.html#queue.Queue" title="queue.Queue" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">queue.Queue</span></code></a>&nbsp;object and return a proxy for it.</p></dd></dl><dl class="method" style="margin-bottom: 15px;"><dt id="multiprocessing.managers.SyncManager.RLock"><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">RLock</code><span class="sig-paren" style="font-size: larger;">(</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.managers.SyncManager.RLock" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Create a shared&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/threading.html#threading.RLock" title="threading.RLock" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">threading.RLock</span></code></a>&nbsp;object and return a proxy for it.</p></dd></dl><dl class="method" style="margin-bottom: 15px;"><dt id="multiprocessing.managers.SyncManager.Semaphore"><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">Semaphore</code><span class="sig-paren" style="font-size: larger;">(</span><span class="optional" style="font-size: 1.3em;">[</span><em>value</em><span class="optional" style="font-size: 1.3em;">]</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.managers.SyncManager.Semaphore" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Create a shared&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/threading.html#threading.Semaphore" title="threading.Semaphore" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">threading.Semaphore</span></code></a>&nbsp;object and return a proxy for it.</p></dd></dl><dl class="method" style="margin-bottom: 15px;"><dt id="multiprocessing.managers.SyncManager.Array"><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">Array</code><span class="sig-paren" style="font-size: larger;">(</span><em>typecode</em>,&nbsp;<em>sequence</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.managers.SyncManager.Array" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Create an array and return a proxy for it.</p></dd></dl><dl class="method" style="margin-bottom: 15px;"><dt id="multiprocessing.managers.SyncManager.Value"><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">Value</code><span class="sig-paren" style="font-size: larger;">(</span><em>typecode</em>,&nbsp;<em>value</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.managers.SyncManager.Value" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Create an object with a writable&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">value</span></code>&nbsp;attribute and return a proxy for it.</p></dd></dl><dl class="method" style="margin-bottom: 15px;"><dt id="multiprocessing.managers.SyncManager.dict"><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">dict</code><span class="sig-paren" style="font-size: larger;">(</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.managers.SyncManager.dict" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dt><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">dict</code><span class="sig-paren" style="font-size: larger;">(</span><em>mapping</em><span class="sig-paren" style="font-size: larger;">)</span></dt><dt><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">dict</code><span class="sig-paren" style="font-size: larger;">(</span><em>sequence</em><span class="sig-paren" style="font-size: larger;">)</span></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Create a shared&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/stdtypes.html#dict" title="dict" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">dict</span></code></a>&nbsp;object and return a proxy for it.</p></dd></dl><dl class="method" style="margin-bottom: 15px;"><dt id="multiprocessing.managers.SyncManager.list"><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">list</code><span class="sig-paren" style="font-size: larger;">(</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.managers.SyncManager.list" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dt><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">list</code><span class="sig-paren" style="font-size: larger;">(</span><em>sequence</em><span class="sig-paren" style="font-size: larger;">)</span></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Create a shared&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/stdtypes.html#list" title="list" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">list</span></code></a>&nbsp;object and return a proxy for it.</p></dd></dl><div class="versionchanged"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">Changed in version 3.6:&nbsp;</span>Shared objects are capable of being nested. For example, a shared container object such as a shared list can contain other shared objects which will all be managed and synchronized by the&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.managers.SyncManager" title="multiprocessing.managers.SyncManager" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">SyncManager</span></code></a>.</p></div></dd></dl><dl class="class" style="margin-bottom: 15px;"><dt id="multiprocessing.managers.Namespace"><em class="property">class&nbsp;</em><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">multiprocessing.managers.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">Namespace</code><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.managers.Namespace" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">A type that can register with&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.managers.SyncManager" title="multiprocessing.managers.SyncManager" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">SyncManager</span></code></a>.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">A namespace object has no public methods, but does have writable attributes. Its representation shows the values of its attributes.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">However, when using a proxy for a namespace object, an attribute beginning with&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">'_'</span></code>&nbsp;will be an attribute of the proxy and not an attribute of the referent:</p><div class="highlight-pycon notranslate"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">manager</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">multiprocessing</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">Manager</span><span class="p">()</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">Global</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">manager</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">Namespace</span><span class="p">()</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">Global</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">x</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="mi" style="color: rgb(32, 128, 80);">10</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">Global</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">y</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="s1" style="color: rgb(64, 112, 160);">'hello'</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">Global</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">_z</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="mf" style="color: rgb(32, 128, 80);">12.3</span>    <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># this is an attribute of the proxy</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">print</span><span class="p">(</span><span class="n">Global</span><span class="p">)</span>
<span class="go">Namespace(x=10, y='hello')</span>
</pre></div></div></dd></dl><div class="section" id="customized-managers"><h4 style="font-weight: normal; color: rgb(26, 26, 26); border: 0px; margin: 0px; padding: 0.3em 0px; font-size: 19.2px;" id="blogTitle34">Customized managers<a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#customized-managers" title="Permalink to this headline" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></h4><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">To create one’s own manager, one creates a subclass of&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.managers.BaseManager" title="multiprocessing.managers.BaseManager" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">BaseManager</span></code></a>&nbsp;and uses the&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.managers.BaseManager.register" title="multiprocessing.managers.BaseManager.register" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">register()</span></code></a>&nbsp;classmethod to register new types or callables with the manager class. For example:</p><div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="kn" style="color: rgb(0, 112, 32); font-weight: bold;">from</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">multiprocessing.managers</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">import</span> <span class="n">BaseManager</span>

<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">class</span> <span class="nc" style="color: rgb(14, 132, 181); font-weight: bold;">MathsClass</span><span class="p">:</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">def</span> <span class="nf" style="color: rgb(6, 40, 126);">add</span><span class="p">(</span><span class="bp" style="color: rgb(0, 112, 32);">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
        <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">return</span> <span class="n">x</span> <span class="o" style="color: rgb(102, 102, 102);">+</span> <span class="n">y</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">def</span> <span class="nf" style="color: rgb(6, 40, 126);">mul</span><span class="p">(</span><span class="bp" style="color: rgb(0, 112, 32);">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
        <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">return</span> <span class="n">x</span> <span class="o" style="color: rgb(102, 102, 102);">*</span> <span class="n">y</span>

<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">class</span> <span class="nc" style="color: rgb(14, 132, 181); font-weight: bold;">MyManager</span><span class="p">(</span><span class="n">BaseManager</span><span class="p">):</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">pass</span>

<span class="n">MyManager</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">register</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'Maths'</span><span class="p">,</span> <span class="n">MathsClass</span><span class="p">)</span>

<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">if</span> <span class="vm" style="color: rgb(187, 96, 213);">__name__</span> <span class="o" style="color: rgb(102, 102, 102);">==</span> <span class="s1" style="color: rgb(64, 112, 160);">'__main__'</span><span class="p">:</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">with</span> <span class="n">MyManager</span><span class="p">()</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">as</span> <span class="n">manager</span><span class="p">:</span>
        <span class="n">maths</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">manager</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">Maths</span><span class="p">()</span>
        <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="n">maths</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">add</span><span class="p">(</span><span class="mi" style="color: rgb(32, 128, 80);">4</span><span class="p">,</span> <span class="mi" style="color: rgb(32, 128, 80);">3</span><span class="p">))</span>         <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># prints 7</span>
        <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="n">maths</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">mul</span><span class="p">(</span><span class="mi" style="color: rgb(32, 128, 80);">7</span><span class="p">,</span> <span class="mi" style="color: rgb(32, 128, 80);">8</span><span class="p">))</span>         <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># prints 56</span>
</pre></div></div></div><div class="section" id="using-a-remote-manager"><h4 style="font-weight: normal; color: rgb(26, 26, 26); border: 0px; margin: 0px; padding: 0.3em 0px; font-size: 19.2px;" id="blogTitle35">Using a remote manager<a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#using-a-remote-manager" title="Permalink to this headline" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></h4><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">It is possible to run a manager server on one machine and have clients use it from other machines (assuming that the firewalls involved allow it).</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">Running the following commands creates a server for a single shared queue which remote clients can access:</p><div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><span class="copybutton" title="Hide the prompts and output" style="cursor: pointer; position: absolute; top: 0px; right: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</span><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="kn" style="color: rgb(0, 112, 32); font-weight: bold;">from</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">multiprocessing.managers</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">import</span> <span class="n">BaseManager</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="kn" style="color: rgb(0, 112, 32); font-weight: bold;">from</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">queue</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">import</span> <span class="n">Queue</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">queue</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">Queue</span><span class="p">()</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">class</span> <span class="nc" style="color: rgb(14, 132, 181); font-weight: bold;">QueueManager</span><span class="p">(</span><span class="n">BaseManager</span><span class="p">):</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">pass</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">QueueManager</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">register</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'get_queue'</span><span class="p">,</span> <span class="n">callable</span><span class="o" style="color: rgb(102, 102, 102);">=</span><span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">lambda</span><span class="p">:</span><span class="n">queue</span><span class="p">)</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">QueueManager</span><span class="p">(</span><span class="n">address</span><span class="o" style="color: rgb(102, 102, 102);">=</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">''</span><span class="p">,</span> <span class="mi" style="color: rgb(32, 128, 80);">50000</span><span class="p">),</span> <span class="n">authkey</span><span class="o" style="color: rgb(102, 102, 102);">=</span><span class="sa" style="color: rgb(64, 112, 160);">b</span><span class="s1" style="color: rgb(64, 112, 160);">'abracadabra'</span><span class="p">)</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">m</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">get_server</span><span class="p">()</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">s</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">serve_forever</span><span class="p">()</span>
</pre></div></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">One client can access the server as follows:</p><div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><span class="copybutton" title="Hide the prompts and output" style="cursor: pointer; position: absolute; top: 0px; right: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</span><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="kn" style="color: rgb(0, 112, 32); font-weight: bold;">from</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">multiprocessing.managers</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">import</span> <span class="n">BaseManager</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">class</span> <span class="nc" style="color: rgb(14, 132, 181); font-weight: bold;">QueueManager</span><span class="p">(</span><span class="n">BaseManager</span><span class="p">):</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">pass</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">QueueManager</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">register</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'get_queue'</span><span class="p">)</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">QueueManager</span><span class="p">(</span><span class="n">address</span><span class="o" style="color: rgb(102, 102, 102);">=</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'foo.bar.org'</span><span class="p">,</span> <span class="mi" style="color: rgb(32, 128, 80);">50000</span><span class="p">),</span> <span class="n">authkey</span><span class="o" style="color: rgb(102, 102, 102);">=</span><span class="sa" style="color: rgb(64, 112, 160);">b</span><span class="s1" style="color: rgb(64, 112, 160);">'abracadabra'</span><span class="p">)</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">m</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">connect</span><span class="p">()</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">queue</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">m</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">get_queue</span><span class="p">()</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">queue</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">put</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'hello'</span><span class="p">)</span>
</pre></div></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">Another client can also use it:</p><div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><span class="copybutton" title="Hide the prompts and output" style="cursor: pointer; position: absolute; top: 0px; right: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</span><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="kn" style="color: rgb(0, 112, 32); font-weight: bold;">from</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">multiprocessing.managers</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">import</span> <span class="n">BaseManager</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">class</span> <span class="nc" style="color: rgb(14, 132, 181); font-weight: bold;">QueueManager</span><span class="p">(</span><span class="n">BaseManager</span><span class="p">):</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">pass</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">QueueManager</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">register</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'get_queue'</span><span class="p">)</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">QueueManager</span><span class="p">(</span><span class="n">address</span><span class="o" style="color: rgb(102, 102, 102);">=</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'foo.bar.org'</span><span class="p">,</span> <span class="mi" style="color: rgb(32, 128, 80);">50000</span><span class="p">),</span> <span class="n">authkey</span><span class="o" style="color: rgb(102, 102, 102);">=</span><span class="sa" style="color: rgb(64, 112, 160);">b</span><span class="s1" style="color: rgb(64, 112, 160);">'abracadabra'</span><span class="p">)</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">m</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">connect</span><span class="p">()</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">queue</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">m</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">get_queue</span><span class="p">()</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">queue</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">get</span><span class="p">()</span>
<span class="go">'hello'</span>
</pre></div></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">Local processes can also access that queue, using the code from above on the client to access it remotely:</p><div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><span class="copybutton" title="Hide the prompts and output" style="cursor: pointer; position: absolute; top: 0px; right: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</span><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="kn" style="color: rgb(0, 112, 32); font-weight: bold;">from</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">multiprocessing</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">import</span> <span class="n">Process</span><span class="p">,</span> <span class="n">Queue</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="kn" style="color: rgb(0, 112, 32); font-weight: bold;">from</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">multiprocessing.managers</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">import</span> <span class="n">BaseManager</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">class</span> <span class="nc" style="color: rgb(14, 132, 181); font-weight: bold;">Worker</span><span class="p">(</span><span class="n">Process</span><span class="p">):</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">... </span>    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">def</span> <span class="nf" style="color: rgb(6, 40, 126);">__init__</span><span class="p">(</span><span class="bp" style="color: rgb(0, 112, 32);">self</span><span class="p">,</span> <span class="n">q</span><span class="p">):</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">... </span>        <span class="bp" style="color: rgb(0, 112, 32);">self</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">q</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">q</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">... </span>        <span class="nb" style="color: rgb(0, 112, 32);">super</span><span class="p">(</span><span class="n">Worker</span><span class="p">,</span> <span class="bp" style="color: rgb(0, 112, 32);">self</span><span class="p">)</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="fm" style="color: rgb(6, 40, 126);">__init__</span><span class="p">()</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">... </span>    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">def</span> <span class="nf" style="color: rgb(6, 40, 126);">run</span><span class="p">(</span><span class="bp" style="color: rgb(0, 112, 32);">self</span><span class="p">):</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">... </span>        <span class="bp" style="color: rgb(0, 112, 32);">self</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">q</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">put</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'local hello'</span><span class="p">)</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">...</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">queue</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">Queue</span><span class="p">()</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">w</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">Worker</span><span class="p">(</span><span class="n">queue</span><span class="p">)</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">w</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">start</span><span class="p">()</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">class</span> <span class="nc" style="color: rgb(14, 132, 181); font-weight: bold;">QueueManager</span><span class="p">(</span><span class="n">BaseManager</span><span class="p">):</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">pass</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">...</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">QueueManager</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">register</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'get_queue'</span><span class="p">,</span> <span class="n">callable</span><span class="o" style="color: rgb(102, 102, 102);">=</span><span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">lambda</span><span class="p">:</span> <span class="n">queue</span><span class="p">)</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">QueueManager</span><span class="p">(</span><span class="n">address</span><span class="o" style="color: rgb(102, 102, 102);">=</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">''</span><span class="p">,</span> <span class="mi" style="color: rgb(32, 128, 80);">50000</span><span class="p">),</span> <span class="n">authkey</span><span class="o" style="color: rgb(102, 102, 102);">=</span><span class="sa" style="color: rgb(64, 112, 160);">b</span><span class="s1" style="color: rgb(64, 112, 160);">'abracadabra'</span><span class="p">)</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">m</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">get_server</span><span class="p">()</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">s</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">serve_forever</span><span class="p">()</span>
</pre></div></div></div></div><div class="section" id="proxy-objects"><span id="multiprocessing-proxy-objects"></span><h3 style="font-weight: normal; color: rgb(26, 26, 26); border: 0px; margin: 0px; padding: 0.3em 0px; font-size: 22.4px;" id="blogTitle36">Proxy Objects<a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#proxy-objects" title="Permalink to this headline" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></h3><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">A proxy is an object which&nbsp;<em>refers</em>&nbsp;to a shared object which lives (presumably) in a different process. The shared object is said to be the&nbsp;<em>referent</em>&nbsp;of the proxy. Multiple proxy objects may have the same referent.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">A proxy object has methods which invoke corresponding methods of its referent (although not every method of the referent will necessarily be available through the proxy). In this way, a proxy can be used just like its referent can:</p><div class="highlight-pycon notranslate"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="kn" style="color: rgb(0, 112, 32); font-weight: bold;">from</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">multiprocessing</span> <span class="kn" style="color: rgb(0, 112, 32); font-weight: bold;">import</span> <span class="n">Manager</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">manager</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">Manager</span><span class="p">()</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">l</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">manager</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">list</span><span class="p">([</span><span class="n">i</span><span class="o" style="color: rgb(102, 102, 102);">*</span><span class="n">i</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">for</span> <span class="n">i</span> <span class="ow" style="color: rgb(0, 112, 32); font-weight: bold;">in</span> <span class="nb" style="color: rgb(0, 112, 32);">range</span><span class="p">(</span><span class="mi" style="color: rgb(32, 128, 80);">10</span><span class="p">)])</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">print</span><span class="p">(</span><span class="n">l</span><span class="p">)</span>
<span class="go">[0, 1, 4, 9, 16, 25, 36, 49, 64, 81]</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">print</span><span class="p">(</span><span class="nb" style="color: rgb(0, 112, 32);">repr</span><span class="p">(</span><span class="n">l</span><span class="p">))</span>
<span class="go">&lt;ListProxy object, typeid 'list' at 0x...&gt;</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">l</span><span class="p">[</span><span class="mi" style="color: rgb(32, 128, 80);">4</span><span class="p">]</span>
<span class="go">16</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">l</span><span class="p">[</span><span class="mi" style="color: rgb(32, 128, 80);">2</span><span class="p">:</span><span class="mi" style="color: rgb(32, 128, 80);">5</span><span class="p">]</span>
<span class="go">[4, 9, 16]</span>
</pre></div></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">Notice that applying&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/stdtypes.html#str" title="str" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">str()</span></code></a>&nbsp;to a proxy will return the representation of the referent, whereas applying&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/functions.html#repr" title="repr" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">repr()</span></code></a>&nbsp;will return the representation of the proxy.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">An important feature of proxy objects is that they are picklable so they can be passed between processes. As such, a referent can contain&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing-proxy-objects" style="color: rgb(99, 99, 187); text-decoration-line: none;">Proxy Objects</a>. This permits nesting of these managed lists, dicts, and other&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing-proxy-objects" style="color: rgb(99, 99, 187); text-decoration-line: none;">Proxy Objects</a>:</p><div class="highlight-pycon notranslate"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">manager</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">list</span><span class="p">()</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">manager</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">list</span><span class="p">()</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">a</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">append</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>         <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># referent of a now contains referent of b</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">print</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
<span class="go">[&lt;ListProxy object, typeid 'list' at ...&gt;] []</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">b</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">append</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'hello'</span><span class="p">)</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">print</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="mi" style="color: rgb(32, 128, 80);">0</span><span class="p">],</span> <span class="n">b</span><span class="p">)</span>
<span class="go">['hello'] ['hello']</span>
</pre></div></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">Similarly, dict and list proxies may be nested inside one another:</p><div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><span class="copybutton" title="Hide the prompts and output" style="cursor: pointer; position: absolute; top: 0px; right: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</span><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">l_outer</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">manager</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">list</span><span class="p">([</span> <span class="n">manager</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">dict</span><span class="p">()</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">for</span> <span class="n">i</span> <span class="ow" style="color: rgb(0, 112, 32); font-weight: bold;">in</span> <span class="nb" style="color: rgb(0, 112, 32);">range</span><span class="p">(</span><span class="mi" style="color: rgb(32, 128, 80);">2</span><span class="p">)</span> <span class="p">])</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">d_first_inner</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">l_outer</span><span class="p">[</span><span class="mi" style="color: rgb(32, 128, 80);">0</span><span class="p">]</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">d_first_inner</span><span class="p">[</span><span class="s1" style="color: rgb(64, 112, 160);">'a'</span><span class="p">]</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="mi" style="color: rgb(32, 128, 80);">1</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">d_first_inner</span><span class="p">[</span><span class="s1" style="color: rgb(64, 112, 160);">'b'</span><span class="p">]</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="mi" style="color: rgb(32, 128, 80);">2</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">l_outer</span><span class="p">[</span><span class="mi" style="color: rgb(32, 128, 80);">1</span><span class="p">][</span><span class="s1" style="color: rgb(64, 112, 160);">'c'</span><span class="p">]</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="mi" style="color: rgb(32, 128, 80);">3</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">l_outer</span><span class="p">[</span><span class="mi" style="color: rgb(32, 128, 80);">1</span><span class="p">][</span><span class="s1" style="color: rgb(64, 112, 160);">'z'</span><span class="p">]</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="mi" style="color: rgb(32, 128, 80);">26</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="n">l_outer</span><span class="p">[</span><span class="mi" style="color: rgb(32, 128, 80);">0</span><span class="p">])</span>
<span class="go">{'a': 1, 'b': 2}</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="n">l_outer</span><span class="p">[</span><span class="mi" style="color: rgb(32, 128, 80);">1</span><span class="p">])</span>
<span class="go">{'c': 3, 'z': 26}</span>
</pre></div></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">If standard (non-proxy)&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/stdtypes.html#list" title="list" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">list</span></code></a>&nbsp;or&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/stdtypes.html#dict" title="dict" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">dict</span></code></a>&nbsp;objects are contained in a referent, modifications to those mutable values will not be propagated through the manager because the proxy has no way of knowing when the values contained within are modified. However, storing a value in a container proxy (which triggers a&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__setitem__</span></code>&nbsp;on the proxy object) does propagate through the manager and so to effectively modify such an item, one could re-assign the modified value to the container proxy:</p><div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># create a list proxy and append a mutable object (a dictionary)</span>
<span class="n">lproxy</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">manager</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">list</span><span class="p">()</span>
<span class="n">lproxy</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">append</span><span class="p">({})</span>
<span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># now mutate the dictionary</span>
<span class="n">d</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">lproxy</span><span class="p">[</span><span class="mi" style="color: rgb(32, 128, 80);">0</span><span class="p">]</span>
<span class="n">d</span><span class="p">[</span><span class="s1" style="color: rgb(64, 112, 160);">'a'</span><span class="p">]</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="mi" style="color: rgb(32, 128, 80);">1</span>
<span class="n">d</span><span class="p">[</span><span class="s1" style="color: rgb(64, 112, 160);">'b'</span><span class="p">]</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="mi" style="color: rgb(32, 128, 80);">2</span>
<span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># at this point, the changes to d are not yet synced, but by</span>
<span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># updating the dictionary, the proxy is notified of the change</span>
<span class="n">lproxy</span><span class="p">[</span><span class="mi" style="color: rgb(32, 128, 80);">0</span><span class="p">]</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">d</span>
</pre></div></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">This approach is perhaps less convenient than employing nested&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing-proxy-objects" style="color: rgb(99, 99, 187); text-decoration-line: none;">Proxy Objects</a>&nbsp;for most use cases but also demonstrates a level of control over the synchronization.</p><div class="admonition note" style="margin-top: 10px; margin-bottom: 10px; padding: 7px; background-color: rgb(238, 238, 238); border: 1px solid rgb(204, 204, 204); border-radius: 3px;"><p class="first admonition-title" style="margin: 0px 10px 5px 0px; font-weight: bold; display: inline; hyphens: auto; text-align: justify; line-height: 22.4px;">Note</p>&nbsp;<p style="hyphens: auto; text-align: justify; line-height: 22.4px; margin-bottom: 5px; display: inline;">The proxy types in&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#module-multiprocessing" title="multiprocessing: Process-based parallelism." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background: rgb(214, 214, 214); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">multiprocessing</span></code></a>&nbsp;do nothing to support comparisons by value. So, for instance, we have:</p><div class="highlight-pycon notranslate"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px; margin-bottom: 5px;"><span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">manager</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">list</span><span class="p">([</span><span class="mi" style="color: rgb(32, 128, 80);">1</span><span class="p">,</span><span class="mi" style="color: rgb(32, 128, 80);">2</span><span class="p">,</span><span class="mi" style="color: rgb(32, 128, 80);">3</span><span class="p">])</span> <span class="o" style="color: rgb(102, 102, 102);">==</span> <span class="p">[</span><span class="mi" style="color: rgb(32, 128, 80);">1</span><span class="p">,</span><span class="mi" style="color: rgb(32, 128, 80);">2</span><span class="p">,</span><span class="mi" style="color: rgb(32, 128, 80);">3</span><span class="p">]</span>
<span class="go">False</span>
</pre></div></div><p class="last" style="hyphens: auto; text-align: justify; line-height: 22.4px; margin-bottom: 5px;">One should just use a copy of the referent instead when making comparisons.</p></div><dl class="class" style="margin-bottom: 15px;"><dt id="multiprocessing.managers.BaseProxy"><em class="property">class&nbsp;</em><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">multiprocessing.managers.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">BaseProxy</code><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.managers.BaseProxy" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Proxy objects are instances of subclasses of&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.managers.BaseProxy" title="multiprocessing.managers.BaseProxy" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">BaseProxy</span></code></a>.</p><dl class="method" style="margin-bottom: 15px;"><dt id="multiprocessing.managers.BaseProxy._callmethod"><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">_callmethod</code><span class="sig-paren" style="font-size: larger;">(</span><em>methodname</em><span class="optional" style="font-size: 1.3em;">[</span>,&nbsp;<em>args</em><span class="optional" style="font-size: 1.3em;">[</span>,&nbsp;<em>kwds</em><span class="optional" style="font-size: 1.3em;">]</span><span class="optional" style="font-size: 1.3em;">]</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.managers.BaseProxy._callmethod" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Call and return the result of a method of the proxy’s referent.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">If&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">proxy</span></code>&nbsp;is a proxy whose referent is&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">obj</span></code>&nbsp;then the expression</p><div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="n">proxy</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">_callmethod</span><span class="p">(</span><span class="n">methodname</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="n">kwds</span><span class="p">)</span>
</pre></div></div><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">will evaluate the expression</p><div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="nb" style="color: rgb(0, 112, 32);">getattr</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">methodname</span><span class="p">)(</span><span class="o" style="color: rgb(102, 102, 102);">*</span><span class="n">args</span><span class="p">,</span> <span class="o" style="color: rgb(102, 102, 102);">**</span><span class="n">kwds</span><span class="p">)</span>
</pre></div></div><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">in the manager’s process.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">The returned value will be a copy of the result of the call or a proxy to a new shared object – see documentation for the&nbsp;<em>method_to_typeid</em>&nbsp;argument of&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.managers.BaseManager.register" title="multiprocessing.managers.BaseManager.register" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">BaseManager.register()</span></code></a>.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">If an exception is raised by the call, then is re-raised by<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.managers.BaseProxy._callmethod" title="multiprocessing.managers.BaseProxy._callmethod" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">_callmethod()</span></code></a>. If some other exception is raised in the manager’s process then this is converted into a&nbsp;<code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">RemoteError</span></code>&nbsp;exception and is raised by&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.managers.BaseProxy._callmethod" title="multiprocessing.managers.BaseProxy._callmethod" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">_callmethod()</span></code></a>.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Note in particular that an exception will be raised if&nbsp;<em>methodname</em>&nbsp;has not been&nbsp;<em>exposed</em>.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">An example of the usage of&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.managers.BaseProxy._callmethod" title="multiprocessing.managers.BaseProxy._callmethod" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">_callmethod()</span></code></a>:</p><div class="highlight-pycon notranslate"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">l</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">manager</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">list</span><span class="p">(</span><span class="nb" style="color: rgb(0, 112, 32);">range</span><span class="p">(</span><span class="mi" style="color: rgb(32, 128, 80);">10</span><span class="p">))</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">l</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">_callmethod</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'__len__'</span><span class="p">)</span>
<span class="go">10</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">l</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">_callmethod</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'__getitem__'</span><span class="p">,</span> <span class="p">(</span><span class="nb" style="color: rgb(0, 112, 32);">slice</span><span class="p">(</span><span class="mi" style="color: rgb(32, 128, 80);">2</span><span class="p">,</span> <span class="mi" style="color: rgb(32, 128, 80);">7</span><span class="p">),))</span> <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># equivalent to l[2:7]</span>
<span class="go">[2, 3, 4, 5, 6]</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">l</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">_callmethod</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'__getitem__'</span><span class="p">,</span> <span class="p">(</span><span class="mi" style="color: rgb(32, 128, 80);">20</span><span class="p">,))</span>          <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># equivalent to l[20]</span>
<span class="gt" style="color: rgb(0, 68, 221);">Traceback (most recent call last):</span>
<span class="c" style="color: rgb(64, 128, 144); font-style: italic;">...</span>
<span class="gr" style="color: rgb(255, 0, 0);">IndexError</span>: <span class="n">list index out of range</span>
</pre></div></div></dd></dl><dl class="method" style="margin-bottom: 15px;"><dt id="multiprocessing.managers.BaseProxy._getvalue"><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">_getvalue</code><span class="sig-paren" style="font-size: larger;">(</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.managers.BaseProxy._getvalue" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Return a copy of the referent.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">If the referent is unpicklable then this will raise an exception.</p></dd></dl><dl class="method" style="margin-bottom: 15px;"><dt id="multiprocessing.managers.BaseProxy.__repr__"><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__repr__</code><span class="sig-paren" style="font-size: larger;">(</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.managers.BaseProxy.__repr__" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Return a representation of the proxy object.</p></dd></dl><dl class="method" style="margin-bottom: 15px;"><dt id="multiprocessing.managers.BaseProxy.__str__"><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__str__</code><span class="sig-paren" style="font-size: larger;">(</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.managers.BaseProxy.__str__" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Return the representation of the referent.</p></dd></dl></dd></dl><div class="section" id="cleanup"><h4 style="font-weight: normal; color: rgb(26, 26, 26); border: 0px; margin: 0px; padding: 0.3em 0px; font-size: 19.2px;" id="blogTitle37">Cleanup<a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#cleanup" title="Permalink to this headline" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></h4><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">A proxy object uses a weakref callback so that when it gets garbage collected it deregisters itself from the manager which owns its referent.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">A shared object gets deleted from the manager process when there are no longer any proxies referring to it.</p></div></div><div class="section" id="module-multiprocessing.pool"><span id="process-pools"></span><h3 style="font-weight: normal; color: rgb(26, 26, 26); border: 0px; margin: 0px; padding: 0.3em 0px; font-size: 22.4px;" id="blogTitle38">Process Pools<a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#module-multiprocessing.pool" title="Permalink to this headline" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></h3><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">One can create a pool of processes which will carry out tasks submitted to it with the&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.pool.Pool" title="multiprocessing.pool.Pool" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Pool</span></code></a>&nbsp;class.</p><dl class="class" style="margin-bottom: 15px;"><dt id="multiprocessing.pool.Pool"><em class="property">class&nbsp;</em><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">multiprocessing.pool.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">Pool</code><span class="sig-paren" style="font-size: larger;">(</span><span class="optional" style="font-size: 1.3em;">[</span><em>processes</em><span class="optional" style="font-size: 1.3em;">[</span>,&nbsp;<em>initializer</em><span class="optional" style="font-size: 1.3em;">[</span>,&nbsp;<em>initargs</em><span class="optional" style="font-size: 1.3em;">[</span>,&nbsp;<em>maxtasksperchild</em><span class="optional" style="font-size: 1.3em;">[</span>,&nbsp;<em>context</em><span class="optional" style="font-size: 1.3em;">]</span><span class="optional" style="font-size: 1.3em;">]</span><span class="optional" style="font-size: 1.3em;">]</span><span class="optional" style="font-size: 1.3em;">]</span><span class="optional" style="font-size: 1.3em;">]</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.pool.Pool" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">A process pool object which controls a pool of worker processes to which jobs can be submitted. It supports asynchronous results with timeouts and callbacks and has a parallel map implementation.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><em>processes</em>&nbsp;is the number of worker processes to use. If&nbsp;<em>processes</em>&nbsp;is&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code>&nbsp;then the number returned by&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/os.html#os.cpu_count" title="os.cpu_count" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">os.cpu_count()</span></code></a>&nbsp;is used.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">If&nbsp;<em>initializer</em>&nbsp;is not&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code>&nbsp;then each worker process will call<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">initializer(*initargs)</span></code>&nbsp;when it starts.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><em>maxtasksperchild</em>&nbsp;is the number of tasks a worker process can complete before it will exit and be replaced with a fresh worker process, to enable unused resources to be freed. The default&nbsp;<em>maxtasksperchild</em>&nbsp;is&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code>, which means worker processes will live as long as the pool.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><em>context</em>&nbsp;can be used to specify the context used for starting the worker processes. Usually a pool is created using the function&nbsp;<code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">multiprocessing.Pool()</span></code>&nbsp;or the&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.pool.Pool" title="multiprocessing.pool.Pool" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Pool()</span></code></a>&nbsp;method of a context object. In both cases&nbsp;<em>context</em>&nbsp;is set appropriately.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Note that the methods of the pool object should only be called by the process which created the pool.</p><div class="versionadded"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">New in version 3.2:&nbsp;</span><em>maxtasksperchild</em></p></div><div class="versionadded"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">New in version 3.4:&nbsp;</span><em>context</em></p></div><div class="admonition note" style="margin-top: 10px; margin-bottom: 10px; padding: 7px; background-color: rgb(238, 238, 238); border: 1px solid rgb(204, 204, 204); border-radius: 3px;"><p class="first admonition-title" style="margin: 0px 10px 5px 0px; font-weight: bold; display: inline; hyphens: auto; line-height: 22.4px;">Note</p>&nbsp;<p class="last" style="margin-top: 0px; hyphens: auto; line-height: 22.4px; margin-bottom: 5px; display: inline;">Worker processes within a&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.pool.Pool" title="multiprocessing.pool.Pool" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background: rgb(214, 214, 214); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Pool</span></code></a>&nbsp;typically live for the complete duration of the Pool’s work queue. A frequent pattern found in other systems (such as Apache, mod_wsgi, etc) to free resources held by workers is to allow a worker within a pool to complete only a set amount of work before being exiting, being cleaned up and a new process spawned to replace the old one. The&nbsp;<em>maxtasksperchild</em>&nbsp;argument to the&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.pool.Pool" title="multiprocessing.pool.Pool" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background: rgb(214, 214, 214); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Pool</span></code></a>&nbsp;exposes this ability to the end user.</p></div><dl class="method" style="margin-bottom: 15px;"><dt id="multiprocessing.pool.Pool.apply"><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">apply</code><span class="sig-paren" style="font-size: larger;">(</span><em>func</em><span class="optional" style="font-size: 1.3em;">[</span>,&nbsp;<em>args</em><span class="optional" style="font-size: 1.3em;">[</span>,&nbsp;<em>kwds</em><span class="optional" style="font-size: 1.3em;">]</span><span class="optional" style="font-size: 1.3em;">]</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.pool.Pool.apply" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Call&nbsp;<em>func</em>&nbsp;with arguments&nbsp;<em>args</em>&nbsp;and keyword arguments&nbsp;<em>kwds</em>. It blocks until the result is ready. Given this blocks,&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.pool.Pool.apply_async" title="multiprocessing.pool.Pool.apply_async" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">apply_async()</span></code></a>&nbsp;is better suited for performing work in parallel. Additionally,&nbsp;<em>func</em>&nbsp;is only executed in one of the workers of the pool.</p></dd></dl><dl class="method" style="margin-bottom: 15px;"><dt id="multiprocessing.pool.Pool.apply_async"><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">apply_async</code><span class="sig-paren" style="font-size: larger;">(</span><em>func</em><span class="optional" style="font-size: 1.3em;">[</span>,&nbsp;<em>args</em><span class="optional" style="font-size: 1.3em;">[</span>,&nbsp;<em>kwds</em><span class="optional" style="font-size: 1.3em;">[</span>,&nbsp;<em>callback</em><span class="optional" style="font-size: 1.3em;">[</span>,&nbsp;<em>error_callback</em><span class="optional" style="font-size: 1.3em;">]</span><span class="optional" style="font-size: 1.3em;">]</span><span class="optional" style="font-size: 1.3em;">]</span><span class="optional" style="font-size: 1.3em;">]</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.pool.Pool.apply_async" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">A variant of the&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.pool.Pool.apply" title="multiprocessing.pool.Pool.apply" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">apply()</span></code></a>&nbsp;method which returns a result object.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">If&nbsp;<em>callback</em>&nbsp;is specified then it should be a callable which accepts a single argument. When the result becomes ready&nbsp;<em>callback</em>&nbsp;is applied to it, that is unless the call failed, in which case the&nbsp;<em>error_callback</em>&nbsp;is applied instead.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">If&nbsp;<em>error_callback</em>&nbsp;is specified then it should be a callable which accepts a single argument. If the target function fails, then the&nbsp;<em>error_callback</em>&nbsp;is called with the exception instance.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Callbacks should complete immediately since otherwise the thread which handles the results will get blocked.</p></dd></dl><dl class="method" style="margin-bottom: 15px;"><dt id="multiprocessing.pool.Pool.map"><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">map</code><span class="sig-paren" style="font-size: larger;">(</span><em>func</em>,&nbsp;<em>iterable</em><span class="optional" style="font-size: 1.3em;">[</span>,&nbsp;<em>chunksize</em><span class="optional" style="font-size: 1.3em;">]</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.pool.Pool.map" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">A parallel equivalent of the&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/functions.html#map" title="map" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">map()</span></code></a>&nbsp;built-in function (it supports only one&nbsp;<em>iterable</em>&nbsp;argument though). It blocks until the result is ready.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">This method chops the iterable into a number of chunks which it submits to the process pool as separate tasks. The (approximate) size of these chunks can be specified by setting&nbsp;<em>chunksize</em>&nbsp;to a positive integer.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Note that it may cause high memory usage for very long iterables. Consider using&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.pool.Pool.imap" title="multiprocessing.pool.Pool.imap" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">imap()</span></code></a>&nbsp;or&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.pool.Pool.imap_unordered" title="multiprocessing.pool.Pool.imap_unordered" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">imap_unordered()</span></code></a>with explicit&nbsp;<em>chunksize</em>&nbsp;option for better efficiency.</p></dd></dl><dl class="method" style="margin-bottom: 15px;"><dt id="multiprocessing.pool.Pool.map_async"><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">map_async</code><span class="sig-paren" style="font-size: larger;">(</span><em>func</em>,&nbsp;<em>iterable</em><span class="optional" style="font-size: 1.3em;">[</span>,&nbsp;<em>chunksize</em><span class="optional" style="font-size: 1.3em;">[</span>,&nbsp;<em>callback</em><span class="optional" style="font-size: 1.3em;">[</span>,&nbsp;<em>error_callback</em><span class="optional" style="font-size: 1.3em;">]</span><span class="optional" style="font-size: 1.3em;">]</span><span class="optional" style="font-size: 1.3em;">]</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.pool.Pool.map_async" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">A variant of the&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.pool.Pool.map" title="multiprocessing.pool.Pool.map" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">map()</span></code></a>&nbsp;method which returns a result object.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">If&nbsp;<em>callback</em>&nbsp;is specified then it should be a callable which accepts a single argument. When the result becomes ready&nbsp;<em>callback</em>&nbsp;is applied to it, that is unless the call failed, in which case the&nbsp;<em>error_callback</em>&nbsp;is applied instead.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">If&nbsp;<em>error_callback</em>&nbsp;is specified then it should be a callable which accepts a single argument. If the target function fails, then the&nbsp;<em>error_callback</em>&nbsp;is called with the exception instance.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Callbacks should complete immediately since otherwise the thread which handles the results will get blocked.</p></dd></dl><dl class="method" style="margin-bottom: 15px;"><dt id="multiprocessing.pool.Pool.imap"><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">imap</code><span class="sig-paren" style="font-size: larger;">(</span><em>func</em>,&nbsp;<em>iterable</em><span class="optional" style="font-size: 1.3em;">[</span>,&nbsp;<em>chunksize</em><span class="optional" style="font-size: 1.3em;">]</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.pool.Pool.imap" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">A lazier version of&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.pool.Pool.map" title="multiprocessing.pool.Pool.map" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">map()</span></code></a>.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">The&nbsp;<em>chunksize</em>&nbsp;argument is the same as the one used by the&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.pool.Pool.map" title="multiprocessing.pool.Pool.map" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">map()</span></code></a>&nbsp;method. For very long iterables using a large value for&nbsp;<em>chunksize</em>&nbsp;can make the job complete&nbsp;<strong>much</strong>faster than using the default value of&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">1</span></code>.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Also if&nbsp;<em>chunksize</em>&nbsp;is&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">1</span></code>&nbsp;then the&nbsp;<code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">next()</span></code>&nbsp;method of the iterator returned by the&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.pool.Pool.imap" title="multiprocessing.pool.Pool.imap" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">imap()</span></code></a>&nbsp;method has an optional&nbsp;<em>timeout</em>&nbsp;parameter:&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">next(timeout)</span></code>&nbsp;will raise&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.TimeoutError" title="multiprocessing.TimeoutError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">multiprocessing.TimeoutError</span></code></a>&nbsp;if the result cannot be returned within&nbsp;<em>timeout</em>&nbsp;seconds.</p></dd></dl><dl class="method" style="margin-bottom: 15px;"><dt id="multiprocessing.pool.Pool.imap_unordered"><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">imap_unordered</code><span class="sig-paren" style="font-size: larger;">(</span><em>func</em>,&nbsp;<em>iterable</em><span class="optional" style="font-size: 1.3em;">[</span>,&nbsp;<em>chunksize</em><span class="optional" style="font-size: 1.3em;">]</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.pool.Pool.imap_unordered" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">The same as&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.pool.Pool.imap" title="multiprocessing.pool.Pool.imap" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">imap()</span></code></a>&nbsp;except that the ordering of the results from the returned iterator should be considered arbitrary. (Only when there is only one worker process is the order guaranteed to be “correct”.)</p></dd></dl><dl class="method" style="margin-bottom: 15px;"><dt id="multiprocessing.pool.Pool.starmap"><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">starmap</code><span class="sig-paren" style="font-size: larger;">(</span><em>func</em>,&nbsp;<em>iterable</em><span class="optional" style="font-size: 1.3em;">[</span>,&nbsp;<em>chunksize</em><span class="optional" style="font-size: 1.3em;">]</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.pool.Pool.starmap" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Like&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/functions.html#map" title="map" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">map()</span></code></a>&nbsp;except that the elements of the&nbsp;<em>iterable</em>&nbsp;are expected to be iterables that are unpacked as arguments.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Hence an&nbsp;<em>iterable</em>&nbsp;of&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">[(1,2),</span>&nbsp;<span class="pre" style="hyphens: none;">(3,</span>&nbsp;<span class="pre" style="hyphens: none;">4)]</span></code>&nbsp;results in&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">[func(1,2),</span>&nbsp;<span class="pre" style="hyphens: none;">func(3,4)]</span></code>.</p><div class="versionadded"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">New in version 3.3.</span></p></div></dd></dl><dl class="method" style="margin-bottom: 15px;"><dt id="multiprocessing.pool.Pool.starmap_async"><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">starmap_async</code><span class="sig-paren" style="font-size: larger;">(</span><em>func</em>,&nbsp;<em>iterable</em><span class="optional" style="font-size: 1.3em;">[</span>,&nbsp;<em>chunksize</em><span class="optional" style="font-size: 1.3em;">[</span>,&nbsp;<em>callback</em><span class="optional" style="font-size: 1.3em;">[</span>,&nbsp;<em>error_callback</em><span class="optional" style="font-size: 1.3em;">]</span><span class="optional" style="font-size: 1.3em;">]</span><span class="optional" style="font-size: 1.3em;">]</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.pool.Pool.starmap_async" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">A combination of&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.pool.Pool.starmap" title="multiprocessing.pool.Pool.starmap" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">starmap()</span></code></a>&nbsp;and&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.pool.Pool.map_async" title="multiprocessing.pool.Pool.map_async" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">map_async()</span></code></a>&nbsp;that iterates over&nbsp;<em>iterable</em>&nbsp;of iterables and calls&nbsp;<em>func</em>&nbsp;with the iterables unpacked. Returns a result object.</p><div class="versionadded"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">New in version 3.3.</span></p></div></dd></dl><dl class="method" style="margin-bottom: 15px;"><dt id="multiprocessing.pool.Pool.close"><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">close</code><span class="sig-paren" style="font-size: larger;">(</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.pool.Pool.close" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Prevents any more tasks from being submitted to the pool. Once all the tasks have been completed the worker processes will exit.</p></dd></dl><dl class="method" style="margin-bottom: 15px;"><dt id="multiprocessing.pool.Pool.terminate"><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">terminate</code><span class="sig-paren" style="font-size: larger;">(</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.pool.Pool.terminate" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Stops the worker processes immediately without completing outstanding work. When the pool object is garbage collected&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.pool.Pool.terminate" title="multiprocessing.pool.Pool.terminate" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">terminate()</span></code></a>&nbsp;will be called immediately.</p></dd></dl><dl class="method" style="margin-bottom: 15px;"><dt id="multiprocessing.pool.Pool.join"><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">join</code><span class="sig-paren" style="font-size: larger;">(</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.pool.Pool.join" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Wait for the worker processes to exit. One must call&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.pool.Pool.close" title="multiprocessing.pool.Pool.close" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">close()</span></code></a>&nbsp;or&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.pool.Pool.terminate" title="multiprocessing.pool.Pool.terminate" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">terminate()</span></code></a>&nbsp;before using&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.pool.Pool.join" title="multiprocessing.pool.Pool.join" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">join()</span></code></a>.</p></dd></dl><div class="versionadded"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">New in version 3.3:&nbsp;</span>Pool objects now support the context management protocol – see&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/stdtypes.html#typecontextmanager" style="color: rgb(99, 99, 187); text-decoration-line: none;">Context Manager Types</a>.<a class="reference internal" href="https://docs.python.org/3/library/stdtypes.html#contextmanager.__enter__" title="contextmanager.__enter__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__enter__()</span></code></a>&nbsp;returns the pool object, and&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/stdtypes.html#contextmanager.__exit__" title="contextmanager.__exit__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__exit__()</span></code></a>&nbsp;calls&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.pool.Pool.terminate" title="multiprocessing.pool.Pool.terminate" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">terminate()</span></code></a>.</p></div></dd></dl><dl class="class" style="margin-bottom: 15px;"><dt id="multiprocessing.pool.AsyncResult"><em class="property">class&nbsp;</em><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">multiprocessing.pool.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">AsyncResult</code><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.pool.AsyncResult" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">The class of the result returned by&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.pool.Pool.apply_async" title="multiprocessing.pool.Pool.apply_async" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Pool.apply_async()</span></code></a>and&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.pool.Pool.map_async" title="multiprocessing.pool.Pool.map_async" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Pool.map_async()</span></code></a>.</p><dl class="method" style="margin-bottom: 15px;"><dt id="multiprocessing.pool.AsyncResult.get"><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">get</code><span class="sig-paren" style="font-size: larger;">(</span><span class="optional" style="font-size: 1.3em;">[</span><em>timeout</em><span class="optional" style="font-size: 1.3em;">]</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.pool.AsyncResult.get" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Return the result when it arrives. If&nbsp;<em>timeout</em>&nbsp;is not&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code>and the result does not arrive within&nbsp;<em>timeout</em>&nbsp;seconds then&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.TimeoutError" title="multiprocessing.TimeoutError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">multiprocessing.TimeoutError</span></code></a>&nbsp;is raised. If the remote call raised an exception then that exception will be reraised by&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.pool.AsyncResult.get" title="multiprocessing.pool.AsyncResult.get" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">get()</span></code></a>.</p></dd></dl><dl class="method" style="margin-bottom: 15px;"><dt id="multiprocessing.pool.AsyncResult.wait"><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">wait</code><span class="sig-paren" style="font-size: larger;">(</span><span class="optional" style="font-size: 1.3em;">[</span><em>timeout</em><span class="optional" style="font-size: 1.3em;">]</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.pool.AsyncResult.wait" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Wait until the result is available or until&nbsp;<em>timeout</em>&nbsp;seconds pass.</p></dd></dl><dl class="method" style="margin-bottom: 15px;"><dt id="multiprocessing.pool.AsyncResult.ready"><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">ready</code><span class="sig-paren" style="font-size: larger;">(</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.pool.AsyncResult.ready" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Return whether the call has completed.</p></dd></dl><dl class="method" style="margin-bottom: 15px;"><dt id="multiprocessing.pool.AsyncResult.successful"><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">successful</code><span class="sig-paren" style="font-size: larger;">(</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.pool.AsyncResult.successful" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Return whether the call completed without raising an exception. Will raise&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/exceptions.html#AssertionError" title="AssertionError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">AssertionError</span></code></a>&nbsp;if the result is not ready.</p></dd></dl></dd></dl><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">The following example demonstrates the use of a pool:</p><div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="kn" style="color: rgb(0, 112, 32); font-weight: bold;">from</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">multiprocessing</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">import</span> <span class="n">Pool</span>
<span class="kn" style="color: rgb(0, 112, 32); font-weight: bold;">import</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">time</span>

<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">def</span> <span class="nf" style="color: rgb(6, 40, 126);">f</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">return</span> <span class="n">x</span><span class="o" style="color: rgb(102, 102, 102);">*</span><span class="n">x</span>

<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">if</span> <span class="vm" style="color: rgb(187, 96, 213);">__name__</span> <span class="o" style="color: rgb(102, 102, 102);">==</span> <span class="s1" style="color: rgb(64, 112, 160);">'__main__'</span><span class="p">:</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">with</span> <span class="n">Pool</span><span class="p">(</span><span class="n">processes</span><span class="o" style="color: rgb(102, 102, 102);">=</span><span class="mi" style="color: rgb(32, 128, 80);">4</span><span class="p">)</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">as</span> <span class="n">pool</span><span class="p">:</span>         <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># start 4 worker processes</span>
        <span class="n">result</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">pool</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">apply_async</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="p">(</span><span class="mi" style="color: rgb(32, 128, 80);">10</span><span class="p">,))</span> <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># evaluate "f(10)" asynchronously in a single process</span>
        <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="n">result</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">get</span><span class="p">(</span><span class="n">timeout</span><span class="o" style="color: rgb(102, 102, 102);">=</span><span class="mi" style="color: rgb(32, 128, 80);">1</span><span class="p">))</span>        <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># prints "100" unless your computer is *very* slow</span>

        <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="n">pool</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">map</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="nb" style="color: rgb(0, 112, 32);">range</span><span class="p">(</span><span class="mi" style="color: rgb(32, 128, 80);">10</span><span class="p">)))</span>       <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># prints "[0, 1, 4,..., 81]"</span>

        <span class="n">it</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">pool</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">imap</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="nb" style="color: rgb(0, 112, 32);">range</span><span class="p">(</span><span class="mi" style="color: rgb(32, 128, 80);">10</span><span class="p">))</span>
        <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="nb" style="color: rgb(0, 112, 32);">next</span><span class="p">(</span><span class="n">it</span><span class="p">))</span>                     <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># prints "0"</span>
        <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="nb" style="color: rgb(0, 112, 32);">next</span><span class="p">(</span><span class="n">it</span><span class="p">))</span>                     <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># prints "1"</span>
        <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="n">it</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">next</span><span class="p">(</span><span class="n">timeout</span><span class="o" style="color: rgb(102, 102, 102);">=</span><span class="mi" style="color: rgb(32, 128, 80);">1</span><span class="p">))</span>           <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># prints "4" unless your computer is *very* slow</span>

        <span class="n">result</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">pool</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">apply_async</span><span class="p">(</span><span class="n">time</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">sleep</span><span class="p">,</span> <span class="p">(</span><span class="mi" style="color: rgb(32, 128, 80);">10</span><span class="p">,))</span>
        <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="n">result</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">get</span><span class="p">(</span><span class="n">timeout</span><span class="o" style="color: rgb(102, 102, 102);">=</span><span class="mi" style="color: rgb(32, 128, 80);">1</span><span class="p">))</span>        <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># raises multiprocessing.TimeoutError</span>
</pre></div></div></div><div class="section" id="module-multiprocessing.connection"><span id="listeners-and-clients"></span><span id="multiprocessing-listeners-clients"></span><h3 style="font-weight: normal; color: rgb(26, 26, 26); border: 0px; margin: 0px; padding: 0.3em 0px; font-size: 22.4px;" id="blogTitle39">Listeners and Clients<a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#module-multiprocessing.connection" title="Permalink to this headline" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></h3><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">Usually message passing between processes is done using queues or by using&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.connection.Connection" title="multiprocessing.connection.Connection" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Connection</span></code></a>&nbsp;objects returned by&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Pipe" title="multiprocessing.Pipe" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Pipe()</span></code></a>.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">However, the&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#module-multiprocessing.connection" title="multiprocessing.connection: API for dealing with sockets." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">multiprocessing.connection</span></code></a>&nbsp;module allows some extra flexibility. It basically gives a high level message oriented API for dealing with sockets or Windows named pipes. It also has support for&nbsp;<em>digest authentication</em>&nbsp;using the&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/hmac.html#module-hmac" title="hmac: Keyed-Hashing for Message Authentication (HMAC) implementation" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">hmac</span></code></a>module, and for polling multiple connections at the same time.</p><dl class="function" style="margin-bottom: 15px;"><dt id="multiprocessing.connection.deliver_challenge"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">multiprocessing.connection.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">deliver_challenge</code><span class="sig-paren" style="font-size: larger;">(</span><em>connection</em>,&nbsp;<em>authkey</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.connection.deliver_challenge" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Send a randomly generated message to the other end of the connection and wait for a reply.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">If the reply matches the digest of the message using&nbsp;<em>authkey</em>&nbsp;as the key then a welcome message is sent to the other end of the connection. Otherwise<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.AuthenticationError" title="multiprocessing.AuthenticationError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">AuthenticationError</span></code></a>&nbsp;is raised.</p></dd></dl><dl class="function" style="margin-bottom: 15px;"><dt id="multiprocessing.connection.answer_challenge"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">multiprocessing.connection.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">answer_challenge</code><span class="sig-paren" style="font-size: larger;">(</span><em>connection</em>,&nbsp;<em>authkey</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.connection.answer_challenge" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Receive a message, calculate the digest of the message using&nbsp;<em>authkey</em>&nbsp;as the key, and then send the digest back.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">If a welcome message is not received, then<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.AuthenticationError" title="multiprocessing.AuthenticationError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">AuthenticationError</span></code></a>&nbsp;is raised.</p></dd></dl><dl class="function" style="margin-bottom: 15px;"><dt id="multiprocessing.connection.Client"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">multiprocessing.connection.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">Client</code><span class="sig-paren" style="font-size: larger;">(</span><em>address</em><span class="optional" style="font-size: 1.3em;">[</span>,&nbsp;<em>family</em><span class="optional" style="font-size: 1.3em;">[</span>,&nbsp;<em>authkey</em><span class="optional" style="font-size: 1.3em;">]</span><span class="optional" style="font-size: 1.3em;">]</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.connection.Client" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Attempt to set up a connection to the listener which is using address&nbsp;<em>address</em>, returning a&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.connection.Connection" title="multiprocessing.connection.Connection" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Connection</span></code></a>.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">The type of the connection is determined by&nbsp;<em>family</em>&nbsp;argument, but this can generally be omitted since it can usually be inferred from the format of&nbsp;<em>address</em>. (See&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing-address-formats" style="color: rgb(99, 99, 187); text-decoration-line: none;">Address Formats</a>)</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">If&nbsp;<em>authkey</em>&nbsp;is given and not None, it should be a byte string and will be used as the secret key for an HMAC-based authentication challenge. No authentication is done if&nbsp;<em>authkey</em>is None.&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.AuthenticationError" title="multiprocessing.AuthenticationError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">AuthenticationError</span></code></a>&nbsp;is raised if authentication fails. See&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing-auth-keys" style="color: rgb(99, 99, 187); text-decoration-line: none;">Authentication keys</a>.</p></dd></dl><dl class="class" style="margin-bottom: 15px;"><dt id="multiprocessing.connection.Listener"><em class="property">class&nbsp;</em><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">multiprocessing.connection.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">Listener</code><span class="sig-paren" style="font-size: larger;">(</span><span class="optional" style="font-size: 1.3em;">[</span><em>address</em><span class="optional" style="font-size: 1.3em;">[</span>,&nbsp;<em>family</em><span class="optional" style="font-size: 1.3em;">[</span>,&nbsp;<em>backlog</em><span class="optional" style="font-size: 1.3em;">[</span>,&nbsp;<em>authkey</em><span class="optional" style="font-size: 1.3em;">]</span><span class="optional" style="font-size: 1.3em;">]</span><span class="optional" style="font-size: 1.3em;">]</span><span class="optional" style="font-size: 1.3em;">]</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.connection.Listener" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">A wrapper for a bound socket or Windows named pipe which is ‘listening’ for connections.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><em>address</em>&nbsp;is the address to be used by the bound socket or named pipe of the listener object.</p><div class="admonition note" style="margin-top: 10px; margin-bottom: 10px; padding: 7px; background-color: rgb(238, 238, 238); border: 1px solid rgb(204, 204, 204); border-radius: 3px;"><p class="first admonition-title" style="margin: 0px 10px 5px 0px; font-weight: bold; display: inline; hyphens: auto; line-height: 22.4px;">Note</p>&nbsp;<p class="last" style="margin-top: 0px; hyphens: auto; line-height: 22.4px; margin-bottom: 5px; display: inline;">If an address of ‘0.0.0.0’ is used, the address will not be a connectable end point on Windows. If you require a connectable end-point, you should use ‘127.0.0.1’.</p></div><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><em>family</em>&nbsp;is the type of socket (or named pipe) to use. This can be one of the strings&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">'AF_INET'</span></code>&nbsp;(for a TCP socket),&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">'AF_UNIX'</span></code>&nbsp;(for a Unix domain socket) or&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">'AF_PIPE'</span></code>&nbsp;(for a Windows named pipe). Of these only the first is guaranteed to be available. If&nbsp;<em>family</em>&nbsp;is&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code>&nbsp;then the family is inferred from the format of&nbsp;<em>address</em>. If&nbsp;<em>address</em>&nbsp;is also&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code>&nbsp;then a default is chosen. This default is the family which is assumed to be the fastest available. See&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing-address-formats" style="color: rgb(99, 99, 187); text-decoration-line: none;">Address Formats</a>. Note that if&nbsp;<em>family</em>&nbsp;is&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">'AF_UNIX'</span></code>&nbsp;and address is&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code>&nbsp;then the socket will be created in a private temporary directory created using&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/tempfile.html#tempfile.mkstemp" title="tempfile.mkstemp" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">tempfile.mkstemp()</span></code></a>.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">If the listener object uses a socket then&nbsp;<em>backlog</em>&nbsp;(1 by default) is passed to the&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/socket.html#socket.socket.listen" title="socket.socket.listen" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">listen()</span></code></a>&nbsp;method of the socket once it has been bound.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">If&nbsp;<em>authkey</em>&nbsp;is given and not None, it should be a byte string and will be used as the secret key for an HMAC-based authentication challenge. No authentication is done if&nbsp;<em>authkey</em>is None.&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.AuthenticationError" title="multiprocessing.AuthenticationError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">AuthenticationError</span></code></a>&nbsp;is raised if authentication fails. See&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing-auth-keys" style="color: rgb(99, 99, 187); text-decoration-line: none;">Authentication keys</a>.</p><dl class="method" style="margin-bottom: 15px;"><dt id="multiprocessing.connection.Listener.accept"><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">accept</code><span class="sig-paren" style="font-size: larger;">(</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.connection.Listener.accept" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Accept a connection on the bound socket or named pipe of the listener object and return a&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.connection.Connection" title="multiprocessing.connection.Connection" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Connection</span></code></a>&nbsp;object. If authentication is attempted and fails, then<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.AuthenticationError" title="multiprocessing.AuthenticationError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">AuthenticationError</span></code></a>&nbsp;is raised.</p></dd></dl><dl class="method" style="margin-bottom: 15px;"><dt id="multiprocessing.connection.Listener.close"><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">close</code><span class="sig-paren" style="font-size: larger;">(</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.connection.Listener.close" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Close the bound socket or named pipe of the listener object. This is called automatically when the listener is garbage collected. However it is advisable to call it explicitly.</p></dd></dl><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Listener objects have the following read-only properties:</p><dl class="attribute" style="margin-bottom: 15px;"><dt id="multiprocessing.connection.Listener.address"><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">address</code><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.connection.Listener.address" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">The address which is being used by the Listener object.</p></dd></dl><dl class="attribute" style="margin-bottom: 15px;"><dt id="multiprocessing.connection.Listener.last_accepted"><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">last_accepted</code><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.connection.Listener.last_accepted" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">The address from which the last accepted connection came. If this is unavailable then it is&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code>.</p></dd></dl><div class="versionadded"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">New in version 3.3:&nbsp;</span>Listener objects now support the context management protocol – see&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/stdtypes.html#typecontextmanager" style="color: rgb(99, 99, 187); text-decoration-line: none;">Context Manager Types</a>.<a class="reference internal" href="https://docs.python.org/3/library/stdtypes.html#contextmanager.__enter__" title="contextmanager.__enter__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__enter__()</span></code></a>&nbsp;returns the listener object, and&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/stdtypes.html#contextmanager.__exit__" title="contextmanager.__exit__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__exit__()</span></code></a>calls&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.connection.Listener.close" title="multiprocessing.connection.Listener.close" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">close()</span></code></a>.</p></div></dd></dl><dl class="function" style="margin-bottom: 15px;"><dt id="multiprocessing.connection.wait"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">multiprocessing.connection.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">wait</code><span class="sig-paren" style="font-size: larger;">(</span><em>object_list</em>,&nbsp;<em>timeout=None</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.connection.wait" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Wait till an object in&nbsp;<em>object_list</em>&nbsp;is ready. Returns the list of those objects in&nbsp;<em>object_list</em>&nbsp;which are ready. If&nbsp;<em>timeout</em>&nbsp;is a float then the call blocks for at most that many seconds. If<em>timeout</em>&nbsp;is&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code>&nbsp;then it will block for an unlimited period. A negative timeout is equivalent to a zero timeout.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">For both Unix and Windows, an object can appear in&nbsp;<em>object_list</em>&nbsp;if it is</p><ul class="simple" style="margin-bottom: 10px;"><li style="hyphens: auto; text-align: justify; line-height: 20.8px;">a readable&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.connection.Connection" title="multiprocessing.connection.Connection" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Connection</span></code></a>&nbsp;object;</li><li style="hyphens: auto; text-align: justify; line-height: 20.8px;">a connected and readable&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/socket.html#socket.socket" title="socket.socket" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">socket.socket</span></code></a>&nbsp;object; or</li><li style="hyphens: auto; text-align: justify; line-height: 20.8px;">the&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Process.sentinel" title="multiprocessing.Process.sentinel" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">sentinel</span></code></a>&nbsp;attribute of a&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Process" title="multiprocessing.Process" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Process</span></code></a>&nbsp;object.</li></ul><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">A connection or socket object is ready when there is data available to be read from it, or the other end has been closed.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><strong>Unix</strong>:&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">wait(object_list,</span>&nbsp;<span class="pre" style="hyphens: none;">timeout)</span></code>&nbsp;almost equivalent<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">select.select(object_list,</span>&nbsp;<span class="pre" style="hyphens: none;">[],</span>&nbsp;<span class="pre" style="hyphens: none;">[],</span>&nbsp;<span class="pre" style="hyphens: none;">timeout)</span></code>. The difference is that, if&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/select.html#select.select" title="select.select" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">select.select()</span></code></a>&nbsp;is interrupted by a signal, it can raise&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/exceptions.html#OSError" title="OSError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">OSError</span></code></a>&nbsp;with an error number of&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">EINTR</span></code>, whereas&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.connection.wait" title="multiprocessing.connection.wait" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">wait()</span></code></a>&nbsp;will not.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><strong>Windows</strong>: An item in&nbsp;<em>object_list</em>&nbsp;must either be an integer handle which is waitable (according to the definition used by the documentation of the Win32 function&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">WaitForMultipleObjects()</span></code>) or it can be an object with a&nbsp;<code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">fileno()</span></code>&nbsp;method which returns a socket handle or pipe handle. (Note that pipe handles and socket handles are&nbsp;<strong>not</strong>waitable handles.)</p><div class="versionadded"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">New in version 3.3.</span></p></div></dd></dl><p style="hyphens: auto; text-align: justify; line-height: 22.4px;"><strong>Examples</strong></p><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">The following server code creates a listener which uses&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">'secret</span>&nbsp;<span class="pre" style="hyphens: none;">password'</span></code>&nbsp;as an authentication key. It then waits for a connection and sends some data to the client:</p><div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="kn" style="color: rgb(0, 112, 32); font-weight: bold;">from</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">multiprocessing.connection</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">import</span> <span class="n">Listener</span>
<span class="kn" style="color: rgb(0, 112, 32); font-weight: bold;">from</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">array</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">import</span> <span class="n">array</span>

<span class="n">address</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'localhost'</span><span class="p">,</span> <span class="mi" style="color: rgb(32, 128, 80);">6000</span><span class="p">)</span>     <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># family is deduced to be 'AF_INET'</span>

<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">with</span> <span class="n">Listener</span><span class="p">(</span><span class="n">address</span><span class="p">,</span> <span class="n">authkey</span><span class="o" style="color: rgb(102, 102, 102);">=</span><span class="sa" style="color: rgb(64, 112, 160);">b</span><span class="s1" style="color: rgb(64, 112, 160);">'secret password'</span><span class="p">)</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">as</span> <span class="n">listener</span><span class="p">:</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">with</span> <span class="n">listener</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">accept</span><span class="p">()</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">as</span> <span class="n">conn</span><span class="p">:</span>
        <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'connection accepted from'</span><span class="p">,</span> <span class="n">listener</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">last_accepted</span><span class="p">)</span>

        <span class="n">conn</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">send</span><span class="p">([</span><span class="mf" style="color: rgb(32, 128, 80);">2.25</span><span class="p">,</span> <span class="kc" style="color: rgb(0, 112, 32); font-weight: bold;">None</span><span class="p">,</span> <span class="s1" style="color: rgb(64, 112, 160);">'junk'</span><span class="p">,</span> <span class="nb" style="color: rgb(0, 112, 32);">float</span><span class="p">])</span>

        <span class="n">conn</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">send_bytes</span><span class="p">(</span><span class="sa" style="color: rgb(64, 112, 160);">b</span><span class="s1" style="color: rgb(64, 112, 160);">'hello'</span><span class="p">)</span>

        <span class="n">conn</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">send_bytes</span><span class="p">(</span><span class="n">array</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'i'</span><span class="p">,</span> <span class="p">[</span><span class="mi" style="color: rgb(32, 128, 80);">42</span><span class="p">,</span> <span class="mi" style="color: rgb(32, 128, 80);">1729</span><span class="p">]))</span>
</pre></div></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">The following code connects to the server and receives some data from the server:</p><div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="kn" style="color: rgb(0, 112, 32); font-weight: bold;">from</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">multiprocessing.connection</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">import</span> <span class="n">Client</span>
<span class="kn" style="color: rgb(0, 112, 32); font-weight: bold;">from</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">array</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">import</span> <span class="n">array</span>

<span class="n">address</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'localhost'</span><span class="p">,</span> <span class="mi" style="color: rgb(32, 128, 80);">6000</span><span class="p">)</span>

<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">with</span> <span class="n">Client</span><span class="p">(</span><span class="n">address</span><span class="p">,</span> <span class="n">authkey</span><span class="o" style="color: rgb(102, 102, 102);">=</span><span class="sa" style="color: rgb(64, 112, 160);">b</span><span class="s1" style="color: rgb(64, 112, 160);">'secret password'</span><span class="p">)</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">as</span> <span class="n">conn</span><span class="p">:</span>
    <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="n">conn</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">recv</span><span class="p">())</span>                  <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># =&gt; [2.25, None, 'junk', float]</span>

    <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="n">conn</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">recv_bytes</span><span class="p">())</span>            <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># =&gt; 'hello'</span>

    <span class="n">arr</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">array</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'i'</span><span class="p">,</span> <span class="p">[</span><span class="mi" style="color: rgb(32, 128, 80);">0</span><span class="p">,</span> <span class="mi" style="color: rgb(32, 128, 80);">0</span><span class="p">,</span> <span class="mi" style="color: rgb(32, 128, 80);">0</span><span class="p">,</span> <span class="mi" style="color: rgb(32, 128, 80);">0</span><span class="p">,</span> <span class="mi" style="color: rgb(32, 128, 80);">0</span><span class="p">])</span>
    <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="n">conn</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">recv_bytes_into</span><span class="p">(</span><span class="n">arr</span><span class="p">))</span>    <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># =&gt; 8</span>
    <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>                          <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># =&gt; array('i', [42, 1729, 0, 0, 0])</span>
</pre></div></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">The following code uses&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.connection.wait" title="multiprocessing.connection.wait" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">wait()</span></code></a>&nbsp;to wait for messages from multiple processes at once:</p><div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="kn" style="color: rgb(0, 112, 32); font-weight: bold;">import</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">time</span><span class="o" style="color: rgb(102, 102, 102);">,</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">random</span>
<span class="kn" style="color: rgb(0, 112, 32); font-weight: bold;">from</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">multiprocessing</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">import</span> <span class="n">Process</span><span class="p">,</span> <span class="n">Pipe</span><span class="p">,</span> <span class="n">current_process</span>
<span class="kn" style="color: rgb(0, 112, 32); font-weight: bold;">from</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">multiprocessing.connection</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">import</span> <span class="n">wait</span>

<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">def</span> <span class="nf" style="color: rgb(6, 40, 126);">foo</span><span class="p">(</span><span class="n">w</span><span class="p">):</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">for</span> <span class="n">i</span> <span class="ow" style="color: rgb(0, 112, 32); font-weight: bold;">in</span> <span class="nb" style="color: rgb(0, 112, 32);">range</span><span class="p">(</span><span class="mi" style="color: rgb(32, 128, 80);">10</span><span class="p">):</span>
        <span class="n">w</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">send</span><span class="p">((</span><span class="n">i</span><span class="p">,</span> <span class="n">current_process</span><span class="p">()</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">name</span><span class="p">))</span>
    <span class="n">w</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">close</span><span class="p">()</span>

<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">if</span> <span class="vm" style="color: rgb(187, 96, 213);">__name__</span> <span class="o" style="color: rgb(102, 102, 102);">==</span> <span class="s1" style="color: rgb(64, 112, 160);">'__main__'</span><span class="p">:</span>
    <span class="n">readers</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="p">[]</span>

    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">for</span> <span class="n">i</span> <span class="ow" style="color: rgb(0, 112, 32); font-weight: bold;">in</span> <span class="nb" style="color: rgb(0, 112, 32);">range</span><span class="p">(</span><span class="mi" style="color: rgb(32, 128, 80);">4</span><span class="p">):</span>
        <span class="n">r</span><span class="p">,</span> <span class="n">w</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">Pipe</span><span class="p">(</span><span class="n">duplex</span><span class="o" style="color: rgb(102, 102, 102);">=</span><span class="kc" style="color: rgb(0, 112, 32); font-weight: bold;">False</span><span class="p">)</span>
        <span class="n">readers</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">append</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
        <span class="n">p</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">Process</span><span class="p">(</span><span class="n">target</span><span class="o" style="color: rgb(102, 102, 102);">=</span><span class="n">foo</span><span class="p">,</span> <span class="n">args</span><span class="o" style="color: rgb(102, 102, 102);">=</span><span class="p">(</span><span class="n">w</span><span class="p">,))</span>
        <span class="n">p</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">start</span><span class="p">()</span>
        <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># We close the writable end of the pipe now to be sure that</span>
        <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># p is the only process which owns a handle for it.  This</span>
        <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># ensures that when p closes its handle for the writable end,</span>
        <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># wait() will promptly report the readable end as being ready.</span>
        <span class="n">w</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">close</span><span class="p">()</span>

    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">while</span> <span class="n">readers</span><span class="p">:</span>
        <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">for</span> <span class="n">r</span> <span class="ow" style="color: rgb(0, 112, 32); font-weight: bold;">in</span> <span class="n">wait</span><span class="p">(</span><span class="n">readers</span><span class="p">):</span>
            <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">try</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">r</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">recv</span><span class="p">()</span>
            <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">except</span> <span class="ne" style="color: rgb(0, 112, 32);">EOFError</span><span class="p">:</span>
                <span class="n">readers</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">remove</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
            <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">else</span><span class="p">:</span>
                <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</pre></div></div><div class="section" id="address-formats"><span id="multiprocessing-address-formats"></span><h4 style="font-weight: normal; color: rgb(26, 26, 26); border: 0px; margin: 0px; padding: 0.3em 0px; font-size: 19.2px;" id="blogTitle40">Address Formats<a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#address-formats" title="Permalink to this headline" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></h4><ul class="simple"><li style="hyphens: auto; text-align: justify; line-height: 20.8px;">An&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">'AF_INET'</span></code>&nbsp;address is a tuple of the form&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">(hostname,</span><span class="pre" style="hyphens: none;">port)</span></code>&nbsp;where&nbsp;<em>hostname</em>&nbsp;is a string and&nbsp;<em>port</em>&nbsp;is an integer.</li><li style="hyphens: auto; text-align: justify; line-height: 20.8px;">An&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">'AF_UNIX'</span></code>&nbsp;address is a string representing a filename on the filesystem.</li><li style="hyphens: auto; text-align: justify; line-height: 20.8px;"><dl class="first docutils" style="margin-bottom: 15px; margin-top: 0px !important;"><dt>An&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">'AF_PIPE'</span></code>&nbsp;address is a string of the form</dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><code class="samp docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">r'\\.\pipe{PipeName}'</span></code>. To use&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.connection.Client" title="multiprocessing.connection.Client" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Client()</span></code></a>&nbsp;to connect to a named pipe on a remote computer called&nbsp;<em>ServerName</em>&nbsp;one should use an address of the form&nbsp;<code class="samp docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">r'\</span><em><span class="pre" style="hyphens: none;">ServerName</span></em><span class="pre" style="hyphens: none;">\pipe{PipeName}'</span></code>&nbsp;instead.</dd></dl></li></ul><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">Note that any string beginning with two backslashes is assumed by default to be an&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">'AF_PIPE'</span></code>&nbsp;address rather than an&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">'AF_UNIX'</span></code>&nbsp;address.</p></div></div><div class="section" id="authentication-keys"><span id="multiprocessing-auth-keys"></span><h3 style="font-weight: normal; color: rgb(26, 26, 26); border: 0px; margin: 0px; padding: 0.3em 0px; font-size: 22.4px;" id="blogTitle41">Authentication keys<a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#authentication-keys" title="Permalink to this headline" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></h3><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">When one uses&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.connection.Connection.recv" title="multiprocessing.connection.Connection.recv" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Connection.recv</span></code></a>, the data received is automatically unpickled. Unfortunately unpickling data from an untrusted source is a security risk. Therefore&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.connection.Listener" title="multiprocessing.connection.Listener" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Listener</span></code></a>&nbsp;and&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.connection.Client" title="multiprocessing.connection.Client" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Client()</span></code></a>&nbsp;use the&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/hmac.html#module-hmac" title="hmac: Keyed-Hashing for Message Authentication (HMAC) implementation" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">hmac</span></code></a>&nbsp;module to provide digest authentication.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">An authentication key is a byte string which can be thought of as a password: once a connection is established both ends will demand proof that the other knows the authentication key. (Demonstrating that both ends are using the same key does&nbsp;<strong>not</strong>&nbsp;involve sending the key over the connection.)</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">If authentication is requested but no authentication key is specified then the return value of&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">current_process().authkey</span></code>is used (see&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Process" title="multiprocessing.Process" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Process</span></code></a>). This value will be automatically inherited by any&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Process" title="multiprocessing.Process" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Process</span></code></a>&nbsp;object that the current process creates. This means that (by default) all processes of a multi-process program will share a single authentication key which can be used when setting up connections between themselves.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">Suitable authentication keys can also be generated by using&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/os.html#os.urandom" title="os.urandom" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">os.urandom()</span></code></a>.</p></div><div class="section" id="logging"><h3 style="font-weight: normal; color: rgb(26, 26, 26); border: 0px; margin: 0px; padding: 0.3em 0px; font-size: 22.4px;" id="blogTitle42">Logging<a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#logging" title="Permalink to this headline" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></h3><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">Some support for logging is available. Note, however, that the&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/logging.html#module-logging" title="logging: Flexible event logging system for applications." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">logging</span></code></a>&nbsp;package does not use process shared locks so it is possible (depending on the handler type) for messages from different processes to get mixed up.</p><dl class="function" style="margin-bottom: 15px;"><dt id="multiprocessing.get_logger"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">multiprocessing.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">get_logger</code><span class="sig-paren" style="font-size: larger;">(</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.get_logger" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Returns the logger used by&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#module-multiprocessing" title="multiprocessing: Process-based parallelism." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">multiprocessing</span></code></a>. If necessary, a new one will be created.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">When first created the logger has level&nbsp;<code class="xref py py-data docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">logging.NOTSET</span></code>and no default handler. Messages sent to this logger will not by default propagate to the root logger.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Note that on Windows child processes will only inherit the level of the parent process’s logger – any other customization of the logger will not be inherited.</p></dd></dl><dl class="function" style="margin-bottom: 15px;"><dt id="multiprocessing.log_to_stderr"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">multiprocessing.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">log_to_stderr</code><span class="sig-paren" style="font-size: larger;">(</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.log_to_stderr" title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">This function performs a call to&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.get_logger" title="multiprocessing.get_logger" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">get_logger()</span></code></a>&nbsp;but in addition to returning the logger created by get_logger, it adds a handler which sends output to&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/sys.html#sys.stderr" title="sys.stderr" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-data docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">sys.stderr</span></code></a>&nbsp;using format<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">'[%(levelname)s/%(processName)s]</span>&nbsp;<span class="pre" style="hyphens: none;">%(message)s'</span></code>.</p></dd></dl><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">Below is an example session with logging turned on:</p><div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><span class="copybutton" title="Hide the prompts and output" style="cursor: pointer; position: absolute; top: 0px; right: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</span><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="kn" style="color: rgb(0, 112, 32); font-weight: bold;">import</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">multiprocessing</span><span class="o" style="color: rgb(102, 102, 102);">,</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">logging</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">logger</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">multiprocessing</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">log_to_stderr</span><span class="p">()</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">logger</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">INFO</span><span class="p">)</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">logger</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">warning</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'doomed'</span><span class="p">)</span>
<span class="go">[WARNING/MainProcess] doomed</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">multiprocessing</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">Manager</span><span class="p">()</span>
<span class="go">[INFO/SyncManager-...] child process calling self.run()</span>
<span class="go">[INFO/SyncManager-...] created temp directory /.../pymp-...</span>
<span class="go">[INFO/SyncManager-...] manager serving at '/.../listener-...'</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">del</span> <span class="n">m</span>
<span class="go">[INFO/MainProcess] sending shutdown message to manager</span>
<span class="go">[INFO/SyncManager-...] manager exiting with exitcode 0</span>
</pre></div></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">For a full table of logging levels, see the&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/logging.html#module-logging" title="logging: Flexible event logging system for applications." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">logging</span></code></a>&nbsp;module.</p></div><div class="section" id="module-multiprocessing.dummy"><span id="the-multiprocessing-dummy-module"></span><h3 style="font-weight: normal; color: rgb(26, 26, 26); border: 0px; margin: 0px; padding: 0.3em 0px; font-size: 22.4px;" id="blogTitle43">The&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#module-multiprocessing.dummy" title="multiprocessing.dummy: Dumb wrapper around threading." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 21.616px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">multiprocessing.dummy</span></code></a>&nbsp;module<a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#module-multiprocessing.dummy" title="Permalink to this headline" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></h3><p style="hyphens: auto; text-align: justify; line-height: 22.4px;"><a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#module-multiprocessing.dummy" title="multiprocessing.dummy: Dumb wrapper around threading." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">multiprocessing.dummy</span></code></a>&nbsp;replicates the API of&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#module-multiprocessing" title="multiprocessing: Process-based parallelism." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">multiprocessing</span></code></a>&nbsp;but is no more than a wrapper around the&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/threading.html#module-threading" title="threading: Thread-based parallelism." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">threading</span></code></a>&nbsp;module.</p></div></div><div class="section" id="programming-guidelines" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><span id="multiprocessing-programming"></span><h2 style="font-weight: normal; color: rgb(26, 26, 26); border: 0px; margin: 0px; padding: 0.3em 0px; font-size: 25.6px;" id="blogTitle44">Programming guidelines<a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#programming-guidelines" title="Permalink to this headline" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></h2><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">There are certain guidelines and idioms which should be adhered to when using&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#module-multiprocessing" title="multiprocessing: Process-based parallelism." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">multiprocessing</span></code></a>.</p><div class="section" id="all-start-methods"><h3 style="font-weight: normal; color: rgb(26, 26, 26); border: 0px; margin: 0px; padding: 0.3em 0px; font-size: 22.4px;" id="blogTitle45">All start methods<a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#all-start-methods" title="Permalink to this headline" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></h3><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">The following applies to all start methods.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">Avoid shared state</p><blockquote style="hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="hyphens: auto; line-height: 22.4px;">As far as possible one should try to avoid shifting large amounts of data between processes.</p><p style="hyphens: auto; line-height: 22.4px;">It is probably best to stick to using queues or pipes for communication between processes rather than using the lower level synchronization primitives.</p></blockquote><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">Picklability</p><blockquote style="hyphens: auto; text-align: justify; line-height: 20.8px;">Ensure that the arguments to the methods of proxies are picklable.</blockquote><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">Thread safety of proxies</p><blockquote style="hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="hyphens: auto; line-height: 22.4px;">Do not use a proxy object from more than one thread unless you protect it with a lock.</p><p style="hyphens: auto; line-height: 22.4px;">(There is never a problem with different processes using the&nbsp;<em>same</em>&nbsp;proxy.)</p></blockquote><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">Joining zombie processes</p><blockquote style="hyphens: auto; text-align: justify; line-height: 20.8px;">On Unix when a process finishes but has not been joined it becomes a zombie. There should never be very many because each time a new process starts (or&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.active_children" title="multiprocessing.active_children" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">active_children()</span></code></a>&nbsp;is called) all completed processes which have not yet been joined will be joined. Also calling a finished process’s&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Process.is_alive" title="multiprocessing.Process.is_alive" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Process.is_alive</span></code></a>will join the process. Even so it is probably good practice to explicitly join all the processes that you start.</blockquote><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">Better to inherit than pickle/unpickle</p><blockquote style="hyphens: auto; text-align: justify; line-height: 20.8px;">When using the&nbsp;<em>spawn</em>&nbsp;or&nbsp;<em>forkserver</em>&nbsp;start methods many types from&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#module-multiprocessing" title="multiprocessing: Process-based parallelism." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">multiprocessing</span></code></a>&nbsp;need to be picklable so that child processes can use them. However, one should generally avoid sending shared objects to other processes using pipes or queues. Instead you should arrange the program so that a process which needs access to a shared resource created elsewhere can inherit it from an ancestor process.</blockquote><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">Avoid terminating processes</p><blockquote style="hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="hyphens: auto; line-height: 22.4px;">Using the&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Process.terminate" title="multiprocessing.Process.terminate" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Process.terminate</span></code></a>&nbsp;method to stop a process is liable to cause any shared resources (such as locks, semaphores, pipes and queues) currently being used by the process to become broken or unavailable to other processes.</p><p style="hyphens: auto; line-height: 22.4px;">Therefore it is probably best to only consider using<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Process.terminate" title="multiprocessing.Process.terminate" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Process.terminate</span></code></a>&nbsp;on processes which never use any shared resources.</p></blockquote><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">Joining processes that use queues</p><blockquote style="hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="hyphens: auto; line-height: 22.4px;">Bear in mind that a process that has put items in a queue will wait before terminating until all the buffered items are fed by the “feeder” thread to the underlying pipe. (The child process can call the<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Queue.cancel_join_thread" title="multiprocessing.Queue.cancel_join_thread" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Queue.cancel_join_thread</span></code></a>&nbsp;method of the queue to avoid this behaviour.)</p><p style="hyphens: auto; line-height: 22.4px;">This means that whenever you use a queue you need to make sure that all items which have been put on the queue will eventually be removed before the process is joined. Otherwise you cannot be sure that processes which have put items on the queue will terminate. Remember also that non-daemonic processes will be joined automatically.</p><p style="hyphens: auto; line-height: 22.4px;">An example which will deadlock is the following:</p><div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="kn" style="color: rgb(0, 112, 32); font-weight: bold;">from</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">multiprocessing</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">import</span> <span class="n">Process</span><span class="p">,</span> <span class="n">Queue</span>

<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">def</span> <span class="nf" style="color: rgb(6, 40, 126);">f</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
    <span class="n">q</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">put</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'X'</span> <span class="o" style="color: rgb(102, 102, 102);">*</span> <span class="mi" style="color: rgb(32, 128, 80);">1000000</span><span class="p">)</span>

<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">if</span> <span class="vm" style="color: rgb(187, 96, 213);">__name__</span> <span class="o" style="color: rgb(102, 102, 102);">==</span> <span class="s1" style="color: rgb(64, 112, 160);">'__main__'</span><span class="p">:</span>
    <span class="n">queue</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">Queue</span><span class="p">()</span>
    <span class="n">p</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">Process</span><span class="p">(</span><span class="n">target</span><span class="o" style="color: rgb(102, 102, 102);">=</span><span class="n">f</span><span class="p">,</span> <span class="n">args</span><span class="o" style="color: rgb(102, 102, 102);">=</span><span class="p">(</span><span class="n">queue</span><span class="p">,))</span>
    <span class="n">p</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">start</span><span class="p">()</span>
    <span class="n">p</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">join</span><span class="p">()</span>                    <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># this deadlocks</span>
    <span class="n">obj</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">queue</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">get</span><span class="p">()</span>
</pre></div></div><p style="hyphens: auto; line-height: 22.4px;">A fix here would be to swap the last two lines (or simply remove the&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">p.join()</span></code>&nbsp;line).</p></blockquote><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">Explicitly pass resources to child processes</p><blockquote style="hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="hyphens: auto; line-height: 22.4px;">On Unix using the&nbsp;<em>fork</em>&nbsp;start method, a child process can make use of a shared resource created in a parent process using a global resource. However, it is better to pass the object as an argument to the constructor for the child process.</p><p style="hyphens: auto; line-height: 22.4px;">Apart from making the code (potentially) compatible with Windows and the other start methods this also ensures that as long as the child process is still alive the object will not be garbage collected in the parent process. This might be important if some resource is freed when the object is garbage collected in the parent process.</p><p style="hyphens: auto; line-height: 22.4px;">So for instance</p><div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="kn" style="color: rgb(0, 112, 32); font-weight: bold;">from</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">multiprocessing</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">import</span> <span class="n">Process</span><span class="p">,</span> <span class="n">Lock</span>

<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">def</span> <span class="nf" style="color: rgb(6, 40, 126);">f</span><span class="p">():</span>
    <span class="o" style="color: rgb(102, 102, 102);">...</span> <span class="n">do</span> <span class="n">something</span> <span class="n">using</span> <span class="s2" style="color: rgb(64, 112, 160);">"lock"</span> <span class="o" style="color: rgb(102, 102, 102);">...</span>

<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">if</span> <span class="vm" style="color: rgb(187, 96, 213);">__name__</span> <span class="o" style="color: rgb(102, 102, 102);">==</span> <span class="s1" style="color: rgb(64, 112, 160);">'__main__'</span><span class="p">:</span>
    <span class="n">lock</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">Lock</span><span class="p">()</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">for</span> <span class="n">i</span> <span class="ow" style="color: rgb(0, 112, 32); font-weight: bold;">in</span> <span class="nb" style="color: rgb(0, 112, 32);">range</span><span class="p">(</span><span class="mi" style="color: rgb(32, 128, 80);">10</span><span class="p">):</span>
        <span class="n">Process</span><span class="p">(</span><span class="n">target</span><span class="o" style="color: rgb(102, 102, 102);">=</span><span class="n">f</span><span class="p">)</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">start</span><span class="p">()</span>
</pre></div></div><p style="hyphens: auto; line-height: 22.4px;">should be rewritten as</p><div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="kn" style="color: rgb(0, 112, 32); font-weight: bold;">from</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">multiprocessing</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">import</span> <span class="n">Process</span><span class="p">,</span> <span class="n">Lock</span>

<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">def</span> <span class="nf" style="color: rgb(6, 40, 126);">f</span><span class="p">(</span><span class="n">l</span><span class="p">):</span>
    <span class="o" style="color: rgb(102, 102, 102);">...</span> <span class="n">do</span> <span class="n">something</span> <span class="n">using</span> <span class="s2" style="color: rgb(64, 112, 160);">"l"</span> <span class="o" style="color: rgb(102, 102, 102);">...</span>

<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">if</span> <span class="vm" style="color: rgb(187, 96, 213);">__name__</span> <span class="o" style="color: rgb(102, 102, 102);">==</span> <span class="s1" style="color: rgb(64, 112, 160);">'__main__'</span><span class="p">:</span>
    <span class="n">lock</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">Lock</span><span class="p">()</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">for</span> <span class="n">i</span> <span class="ow" style="color: rgb(0, 112, 32); font-weight: bold;">in</span> <span class="nb" style="color: rgb(0, 112, 32);">range</span><span class="p">(</span><span class="mi" style="color: rgb(32, 128, 80);">10</span><span class="p">):</span>
        <span class="n">Process</span><span class="p">(</span><span class="n">target</span><span class="o" style="color: rgb(102, 102, 102);">=</span><span class="n">f</span><span class="p">,</span> <span class="n">args</span><span class="o" style="color: rgb(102, 102, 102);">=</span><span class="p">(</span><span class="n">lock</span><span class="p">,))</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">start</span><span class="p">()</span>
</pre></div></div></blockquote><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">Beware of replacing&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/sys.html#sys.stdin" title="sys.stdin" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-data docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">sys.stdin</span></code></a>&nbsp;with a “file like object”</p><blockquote style="hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="hyphens: auto; line-height: 22.4px;"><a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#module-multiprocessing" title="multiprocessing: Process-based parallelism." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">multiprocessing</span></code></a>&nbsp;originally unconditionally called:</p><div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="n">os</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">close</span><span class="p">(</span><span class="n">sys</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">stdin</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">fileno</span><span class="p">())</span>
</pre></div></div><p style="hyphens: auto; line-height: 22.4px;">in the&nbsp;<code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">multiprocessing.Process._bootstrap()</span></code>method — this resulted in issues with processes-in-processes. This has been changed to:</p><div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="n">sys</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">stdin</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">close</span><span class="p">()</span>
<span class="n">sys</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">stdin</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="nb" style="color: rgb(0, 112, 32);">open</span><span class="p">(</span><span class="n">os</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">open</span><span class="p">(</span><span class="n">os</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">devnull</span><span class="p">,</span> <span class="n">os</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">O_RDONLY</span><span class="p">),</span> <span class="n">closefd</span><span class="o" style="color: rgb(102, 102, 102);">=</span><span class="kc" style="color: rgb(0, 112, 32); font-weight: bold;">False</span><span class="p">)</span>
</pre></div></div><p style="hyphens: auto; line-height: 22.4px;">Which solves the fundamental issue of processes colliding with each other resulting in a bad file descriptor error, but introduces a potential danger to applications which replace&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/sys.html#sys.stdin" title="sys.stdin" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">sys.stdin()</span></code></a>&nbsp;with a “file-like object” with output buffering. This danger is that if multiple processes call&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/io.html#io.IOBase.close" title="io.IOBase.close" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">close()</span></code></a>&nbsp;on this file-like object, it could result in the same data being flushed to the object multiple times, resulting in corruption.</p><p style="hyphens: auto; line-height: 22.4px;">If you write a file-like object and implement your own caching, you can make it fork-safe by storing the pid whenever you append to the cache, and discarding the cache when the pid changes. For example:</p><div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="nd" style="color: rgb(85, 85, 85); font-weight: bold;">@property</span>
<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">def</span> <span class="nf" style="color: rgb(6, 40, 126);">cache</span><span class="p">(</span><span class="bp" style="color: rgb(0, 112, 32);">self</span><span class="p">):</span>
    <span class="n">pid</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">os</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">getpid</span><span class="p">()</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">if</span> <span class="n">pid</span> <span class="o" style="color: rgb(102, 102, 102);">!=</span> <span class="bp" style="color: rgb(0, 112, 32);">self</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">_pid</span><span class="p">:</span>
        <span class="bp" style="color: rgb(0, 112, 32);">self</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">_pid</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">pid</span>
        <span class="bp" style="color: rgb(0, 112, 32);">self</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">_cache</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="p">[]</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">return</span> <span class="bp" style="color: rgb(0, 112, 32);">self</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">_cache</span>
</pre></div></div><p style="hyphens: auto; line-height: 22.4px;">For more information, see&nbsp;<a class="reference external" href="https://bugs.python.org/issue5155" style="color: rgb(99, 99, 187); text-decoration-line: none;">bpo-5155</a>,&nbsp;<a class="reference external" href="https://bugs.python.org/issue5313" style="color: rgb(99, 99, 187); text-decoration-line: none;">bpo-5313</a>&nbsp;and&nbsp;<a class="reference external" href="https://bugs.python.org/issue5331" style="color: rgb(99, 99, 187); text-decoration-line: none;">bpo-5331</a></p></blockquote></div><div class="section" id="the-spawn-and-forkserver-start-methods"><h3 style="font-weight: normal; color: rgb(26, 26, 26); border: 0px; margin: 0px; padding: 0.3em 0px; font-size: 22.4px;" id="blogTitle46">The&nbsp;<em>spawn</em>&nbsp;and&nbsp;<em>forkserver</em>&nbsp;start methods<a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#the-spawn-and-forkserver-start-methods" title="Permalink to this headline" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></h3><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">There are a few extra restriction which don’t apply to the&nbsp;<em>fork</em>start method.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">More picklability</p><blockquote style="hyphens: auto; text-align: justify; line-height: 20.8px;">Ensure that all arguments to&nbsp;<code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Process.__init__()</span></code>are picklable. Also, if you subclass&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Process" title="multiprocessing.Process" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Process</span></code></a>&nbsp;then make sure that instances will be picklable when the&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Process.start" title="multiprocessing.Process.start" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Process.start</span></code></a>&nbsp;method is called.</blockquote><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">Global variables</p><blockquote style="hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="hyphens: auto; line-height: 22.4px;">Bear in mind that if code run in a child process tries to access a global variable, then the value it sees (if any) may not be the same as the value in the parent process at the time that&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Process.start" title="multiprocessing.Process.start" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Process.start</span></code></a>&nbsp;was called.</p><p style="hyphens: auto; line-height: 22.4px;">However, global variables which are just module level constants cause no problems.</p></blockquote><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">Safe importing of main module</p><blockquote style="hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="hyphens: auto; line-height: 22.4px;">Make sure that the main module can be safely imported by a new Python interpreter without causing unintended side effects (such a starting a new process).</p><p style="hyphens: auto; line-height: 22.4px;">For example, using the&nbsp;<em>spawn</em>&nbsp;or&nbsp;<em>forkserver</em>&nbsp;start method running the following module would fail with a&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="RuntimeError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">RuntimeError</span></code></a>:</p><div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="kn" style="color: rgb(0, 112, 32); font-weight: bold;">from</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">multiprocessing</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">import</span> <span class="n">Process</span>

<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">def</span> <span class="nf" style="color: rgb(6, 40, 126);">foo</span><span class="p">():</span>
    <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'hello'</span><span class="p">)</span>

<span class="n">p</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">Process</span><span class="p">(</span><span class="n">target</span><span class="o" style="color: rgb(102, 102, 102);">=</span><span class="n">foo</span><span class="p">)</span>
<span class="n">p</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">start</span><span class="p">()</span>
</pre></div></div><p style="hyphens: auto; line-height: 22.4px;">Instead one should protect the “entry point” of the program by using&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">if</span>&nbsp;<span class="pre" style="hyphens: none;">__name__</span>&nbsp;<span class="pre" style="hyphens: none;">==</span>&nbsp;<span class="pre" style="hyphens: none;">'__main__':</span></code>&nbsp;as follows:</p><div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="kn" style="color: rgb(0, 112, 32); font-weight: bold;">from</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">multiprocessing</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">import</span> <span class="n">Process</span><span class="p">,</span> <span class="n">freeze_support</span><span class="p">,</span> <span class="n">set_start_method</span>

<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">def</span> <span class="nf" style="color: rgb(6, 40, 126);">foo</span><span class="p">():</span>
    <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'hello'</span><span class="p">)</span>

<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">if</span> <span class="vm" style="color: rgb(187, 96, 213);">__name__</span> <span class="o" style="color: rgb(102, 102, 102);">==</span> <span class="s1" style="color: rgb(64, 112, 160);">'__main__'</span><span class="p">:</span>
    <span class="n">freeze_support</span><span class="p">()</span>
    <span class="n">set_start_method</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'spawn'</span><span class="p">)</span>
    <span class="n">p</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">Process</span><span class="p">(</span><span class="n">target</span><span class="o" style="color: rgb(102, 102, 102);">=</span><span class="n">foo</span><span class="p">)</span>
    <span class="n">p</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">start</span><span class="p">()</span>
</pre></div></div><p style="hyphens: auto; line-height: 22.4px;">(The&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">freeze_support()</span></code>&nbsp;line can be omitted if the program will be run normally instead of frozen.)</p><p style="hyphens: auto; line-height: 22.4px;">This allows the newly spawned Python interpreter to safely import the module and then run the module’s&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">foo()</span></code>&nbsp;function.</p><p style="hyphens: auto; line-height: 22.4px;">Similar restrictions apply if a pool or manager is created in the main module.</p></blockquote></div></div><div class="section" id="examples" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><span id="multiprocessing-examples"></span><h2 style="font-weight: normal; color: rgb(26, 26, 26); border: 0px; margin: 0px; padding: 0.3em 0px; font-size: 25.6px;" id="blogTitle47">Examples<a class="headerlink" href="https://docs.python.org/3/library/multiprocessing.html#examples" title="Permalink to this headline" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></h2><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">Demonstration of how to create and use customized managers and proxies:</p><div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="kn" style="color: rgb(0, 112, 32); font-weight: bold;">from</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">multiprocessing</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">import</span> <span class="n">freeze_support</span>
<span class="kn" style="color: rgb(0, 112, 32); font-weight: bold;">from</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">multiprocessing.managers</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">import</span> <span class="n">BaseManager</span><span class="p">,</span> <span class="n">BaseProxy</span>
<span class="kn" style="color: rgb(0, 112, 32); font-weight: bold;">import</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">operator</span>

<span class="c1" style="color: rgb(64, 128, 144); font-style: italic;">##</span>

<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">class</span> <span class="nc" style="color: rgb(14, 132, 181); font-weight: bold;">Foo</span><span class="p">:</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">def</span> <span class="nf" style="color: rgb(6, 40, 126);">f</span><span class="p">(</span><span class="bp" style="color: rgb(0, 112, 32);">self</span><span class="p">):</span>
        <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'you called Foo.f()'</span><span class="p">)</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">def</span> <span class="nf" style="color: rgb(6, 40, 126);">g</span><span class="p">(</span><span class="bp" style="color: rgb(0, 112, 32);">self</span><span class="p">):</span>
        <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'you called Foo.g()'</span><span class="p">)</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">def</span> <span class="nf" style="color: rgb(6, 40, 126);">_h</span><span class="p">(</span><span class="bp" style="color: rgb(0, 112, 32);">self</span><span class="p">):</span>
        <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'you called Foo._h()'</span><span class="p">)</span>

<span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># A simple generator function</span>
<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">def</span> <span class="nf" style="color: rgb(6, 40, 126);">baz</span><span class="p">():</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">for</span> <span class="n">i</span> <span class="ow" style="color: rgb(0, 112, 32); font-weight: bold;">in</span> <span class="nb" style="color: rgb(0, 112, 32);">range</span><span class="p">(</span><span class="mi" style="color: rgb(32, 128, 80);">10</span><span class="p">):</span>
        <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">yield</span> <span class="n">i</span><span class="o" style="color: rgb(102, 102, 102);">*</span><span class="n">i</span>

<span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># Proxy type for generator objects</span>
<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">class</span> <span class="nc" style="color: rgb(14, 132, 181); font-weight: bold;">GeneratorProxy</span><span class="p">(</span><span class="n">BaseProxy</span><span class="p">):</span>
    <span class="n">_exposed_</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="p">[</span><span class="s1" style="color: rgb(64, 112, 160);">'__next__'</span><span class="p">]</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">def</span> <span class="nf" style="color: rgb(6, 40, 126);">__iter__</span><span class="p">(</span><span class="bp" style="color: rgb(0, 112, 32);">self</span><span class="p">):</span>
        <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">return</span> <span class="bp" style="color: rgb(0, 112, 32);">self</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">def</span> <span class="nf" style="color: rgb(6, 40, 126);">__next__</span><span class="p">(</span><span class="bp" style="color: rgb(0, 112, 32);">self</span><span class="p">):</span>
        <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">return</span> <span class="bp" style="color: rgb(0, 112, 32);">self</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">_callmethod</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'__next__'</span><span class="p">)</span>

<span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># Function to return the operator module</span>
<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">def</span> <span class="nf" style="color: rgb(6, 40, 126);">get_operator_module</span><span class="p">():</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">return</span> <span class="n">operator</span>

<span class="c1" style="color: rgb(64, 128, 144); font-style: italic;">##</span>

<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">class</span> <span class="nc" style="color: rgb(14, 132, 181); font-weight: bold;">MyManager</span><span class="p">(</span><span class="n">BaseManager</span><span class="p">):</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">pass</span>

<span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># register the Foo class; make `f()` and `g()` accessible via proxy</span>
<span class="n">MyManager</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">register</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'Foo1'</span><span class="p">,</span> <span class="n">Foo</span><span class="p">)</span>

<span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># register the Foo class; make `g()` and `_h()` accessible via proxy</span>
<span class="n">MyManager</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">register</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'Foo2'</span><span class="p">,</span> <span class="n">Foo</span><span class="p">,</span> <span class="n">exposed</span><span class="o" style="color: rgb(102, 102, 102);">=</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'g'</span><span class="p">,</span> <span class="s1" style="color: rgb(64, 112, 160);">'_h'</span><span class="p">))</span>

<span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># register the generator function baz; use `GeneratorProxy` to make proxies</span>
<span class="n">MyManager</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">register</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'baz'</span><span class="p">,</span> <span class="n">baz</span><span class="p">,</span> <span class="n">proxytype</span><span class="o" style="color: rgb(102, 102, 102);">=</span><span class="n">GeneratorProxy</span><span class="p">)</span>

<span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># register get_operator_module(); make public functions accessible via proxy</span>
<span class="n">MyManager</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">register</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'operator'</span><span class="p">,</span> <span class="n">get_operator_module</span><span class="p">)</span>

<span class="c1" style="color: rgb(64, 128, 144); font-style: italic;">##</span>

<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">def</span> <span class="nf" style="color: rgb(6, 40, 126);">test</span><span class="p">():</span>
    <span class="n">manager</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">MyManager</span><span class="p">()</span>
    <span class="n">manager</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">start</span><span class="p">()</span>

    <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'-'</span> <span class="o" style="color: rgb(102, 102, 102);">*</span> <span class="mi" style="color: rgb(32, 128, 80);">20</span><span class="p">)</span>

    <span class="n">f1</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">manager</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">Foo1</span><span class="p">()</span>
    <span class="n">f1</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">f</span><span class="p">()</span>
    <span class="n">f1</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">g</span><span class="p">()</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">assert</span> <span class="ow" style="color: rgb(0, 112, 32); font-weight: bold;">not</span> <span class="nb" style="color: rgb(0, 112, 32);">hasattr</span><span class="p">(</span><span class="n">f1</span><span class="p">,</span> <span class="s1" style="color: rgb(64, 112, 160);">'_h'</span><span class="p">)</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">assert</span> <span class="nb" style="color: rgb(0, 112, 32);">sorted</span><span class="p">(</span><span class="n">f1</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">_exposed_</span><span class="p">)</span> <span class="o" style="color: rgb(102, 102, 102);">==</span> <span class="nb" style="color: rgb(0, 112, 32);">sorted</span><span class="p">([</span><span class="s1" style="color: rgb(64, 112, 160);">'f'</span><span class="p">,</span> <span class="s1" style="color: rgb(64, 112, 160);">'g'</span><span class="p">])</span>

    <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'-'</span> <span class="o" style="color: rgb(102, 102, 102);">*</span> <span class="mi" style="color: rgb(32, 128, 80);">20</span><span class="p">)</span>

    <span class="n">f2</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">manager</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">Foo2</span><span class="p">()</span>
    <span class="n">f2</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">g</span><span class="p">()</span>
    <span class="n">f2</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">_h</span><span class="p">()</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">assert</span> <span class="ow" style="color: rgb(0, 112, 32); font-weight: bold;">not</span> <span class="nb" style="color: rgb(0, 112, 32);">hasattr</span><span class="p">(</span><span class="n">f2</span><span class="p">,</span> <span class="s1" style="color: rgb(64, 112, 160);">'f'</span><span class="p">)</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">assert</span> <span class="nb" style="color: rgb(0, 112, 32);">sorted</span><span class="p">(</span><span class="n">f2</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">_exposed_</span><span class="p">)</span> <span class="o" style="color: rgb(102, 102, 102);">==</span> <span class="nb" style="color: rgb(0, 112, 32);">sorted</span><span class="p">([</span><span class="s1" style="color: rgb(64, 112, 160);">'g'</span><span class="p">,</span> <span class="s1" style="color: rgb(64, 112, 160);">'_h'</span><span class="p">])</span>

    <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'-'</span> <span class="o" style="color: rgb(102, 102, 102);">*</span> <span class="mi" style="color: rgb(32, 128, 80);">20</span><span class="p">)</span>

    <span class="n">it</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">manager</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">baz</span><span class="p">()</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">for</span> <span class="n">i</span> <span class="ow" style="color: rgb(0, 112, 32); font-weight: bold;">in</span> <span class="n">it</span><span class="p">:</span>
        <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'&lt;</span><span class="si" style="color: rgb(112, 160, 208); font-style: italic;">%d</span><span class="s1" style="color: rgb(64, 112, 160);">&gt;'</span> <span class="o" style="color: rgb(102, 102, 102);">%</span> <span class="n">i</span><span class="p">,</span> <span class="n">end</span><span class="o" style="color: rgb(102, 102, 102);">=</span><span class="s1" style="color: rgb(64, 112, 160);">' '</span><span class="p">)</span>
    <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">()</span>

    <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'-'</span> <span class="o" style="color: rgb(102, 102, 102);">*</span> <span class="mi" style="color: rgb(32, 128, 80);">20</span><span class="p">)</span>

    <span class="n">op</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">manager</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">operator</span><span class="p">()</span>
    <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'op.add(23, 45) ='</span><span class="p">,</span> <span class="n">op</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">add</span><span class="p">(</span><span class="mi" style="color: rgb(32, 128, 80);">23</span><span class="p">,</span> <span class="mi" style="color: rgb(32, 128, 80);">45</span><span class="p">))</span>
    <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'op.pow(2, 94) ='</span><span class="p">,</span> <span class="n">op</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">pow</span><span class="p">(</span><span class="mi" style="color: rgb(32, 128, 80);">2</span><span class="p">,</span> <span class="mi" style="color: rgb(32, 128, 80);">94</span><span class="p">))</span>
    <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'op._exposed_ ='</span><span class="p">,</span> <span class="n">op</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">_exposed_</span><span class="p">)</span>

<span class="c1" style="color: rgb(64, 128, 144); font-style: italic;">##</span>

<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">if</span> <span class="vm" style="color: rgb(187, 96, 213);">__name__</span> <span class="o" style="color: rgb(102, 102, 102);">==</span> <span class="s1" style="color: rgb(64, 112, 160);">'__main__'</span><span class="p">:</span>
    <span class="n">freeze_support</span><span class="p">()</span>
    <span class="n">test</span><span class="p">()</span>
</pre></div></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">Using&nbsp;<a class="reference internal" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.pool.Pool" title="multiprocessing.pool.Pool" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Pool</span></code></a>:</p><div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="kn" style="color: rgb(0, 112, 32); font-weight: bold;">import</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">multiprocessing</span>
<span class="kn" style="color: rgb(0, 112, 32); font-weight: bold;">import</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">time</span>
<span class="kn" style="color: rgb(0, 112, 32); font-weight: bold;">import</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">random</span>
<span class="kn" style="color: rgb(0, 112, 32); font-weight: bold;">import</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">sys</span>

<span class="c1" style="color: rgb(64, 128, 144); font-style: italic;">#</span>
<span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># Functions used by test code</span>
<span class="c1" style="color: rgb(64, 128, 144); font-style: italic;">#</span>

<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">def</span> <span class="nf" style="color: rgb(6, 40, 126);">calculate</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="n">args</span><span class="p">):</span>
    <span class="n">result</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">func</span><span class="p">(</span><span class="o" style="color: rgb(102, 102, 102);">*</span><span class="n">args</span><span class="p">)</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">return</span> <span class="s1" style="color: rgb(64, 112, 160);">'</span><span class="si" style="color: rgb(112, 160, 208); font-style: italic;">%s</span><span class="s1" style="color: rgb(64, 112, 160);"> says that </span><span class="si" style="color: rgb(112, 160, 208); font-style: italic;">%s%s</span><span class="s1" style="color: rgb(64, 112, 160);"> = </span><span class="si" style="color: rgb(112, 160, 208); font-style: italic;">%s</span><span class="s1" style="color: rgb(64, 112, 160);">'</span> <span class="o" style="color: rgb(102, 102, 102);">%</span> <span class="p">(</span>
        <span class="n">multiprocessing</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">current_process</span><span class="p">()</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">name</span><span class="p">,</span>
        <span class="n">func</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="vm" style="color: rgb(187, 96, 213);">__name__</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="n">result</span>
        <span class="p">)</span>

<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">def</span> <span class="nf" style="color: rgb(6, 40, 126);">calculatestar</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">return</span> <span class="n">calculate</span><span class="p">(</span><span class="o" style="color: rgb(102, 102, 102);">*</span><span class="n">args</span><span class="p">)</span>

<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">def</span> <span class="nf" style="color: rgb(6, 40, 126);">mul</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
    <span class="n">time</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf" style="color: rgb(32, 128, 80);">0.5</span> <span class="o" style="color: rgb(102, 102, 102);">*</span> <span class="n">random</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">random</span><span class="p">())</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">return</span> <span class="n">a</span> <span class="o" style="color: rgb(102, 102, 102);">*</span> <span class="n">b</span>

<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">def</span> <span class="nf" style="color: rgb(6, 40, 126);">plus</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
    <span class="n">time</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf" style="color: rgb(32, 128, 80);">0.5</span> <span class="o" style="color: rgb(102, 102, 102);">*</span> <span class="n">random</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">random</span><span class="p">())</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">return</span> <span class="n">a</span> <span class="o" style="color: rgb(102, 102, 102);">+</span> <span class="n">b</span>

<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">def</span> <span class="nf" style="color: rgb(6, 40, 126);">f</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">return</span> <span class="mf" style="color: rgb(32, 128, 80);">1.0</span> <span class="o" style="color: rgb(102, 102, 102);">/</span> <span class="p">(</span><span class="n">x</span> <span class="o" style="color: rgb(102, 102, 102);">-</span> <span class="mf" style="color: rgb(32, 128, 80);">5.0</span><span class="p">)</span>

<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">def</span> <span class="nf" style="color: rgb(6, 40, 126);">pow3</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">return</span> <span class="n">x</span> <span class="o" style="color: rgb(102, 102, 102);">**</span> <span class="mi" style="color: rgb(32, 128, 80);">3</span>

<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">def</span> <span class="nf" style="color: rgb(6, 40, 126);">noop</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">pass</span>

<span class="c1" style="color: rgb(64, 128, 144); font-style: italic;">#</span>
<span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># Test code</span>
<span class="c1" style="color: rgb(64, 128, 144); font-style: italic;">#</span>

<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">def</span> <span class="nf" style="color: rgb(6, 40, 126);">test</span><span class="p">():</span>
    <span class="n">PROCESSES</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="mi" style="color: rgb(32, 128, 80);">4</span>
    <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'Creating pool with </span><span class="si" style="color: rgb(112, 160, 208); font-style: italic;">%d</span><span class="s1" style="color: rgb(64, 112, 160);"> processes</span><span class="se" style="color: rgb(64, 112, 160); font-weight: bold;">\n</span><span class="s1" style="color: rgb(64, 112, 160);">'</span> <span class="o" style="color: rgb(102, 102, 102);">%</span> <span class="n">PROCESSES</span><span class="p">)</span>

    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">with</span> <span class="n">multiprocessing</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">Pool</span><span class="p">(</span><span class="n">PROCESSES</span><span class="p">)</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">as</span> <span class="n">pool</span><span class="p">:</span>
        <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;">#</span>
        <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># Tests</span>
        <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;">#</span>

        <span class="n">TASKS</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="p">[(</span><span class="n">mul</span><span class="p">,</span> <span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi" style="color: rgb(32, 128, 80);">7</span><span class="p">))</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">for</span> <span class="n">i</span> <span class="ow" style="color: rgb(0, 112, 32); font-weight: bold;">in</span> <span class="nb" style="color: rgb(0, 112, 32);">range</span><span class="p">(</span><span class="mi" style="color: rgb(32, 128, 80);">10</span><span class="p">)]</span> <span class="o" style="color: rgb(102, 102, 102);">+</span> \
                <span class="p">[(</span><span class="n">plus</span><span class="p">,</span> <span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi" style="color: rgb(32, 128, 80);">8</span><span class="p">))</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">for</span> <span class="n">i</span> <span class="ow" style="color: rgb(0, 112, 32); font-weight: bold;">in</span> <span class="nb" style="color: rgb(0, 112, 32);">range</span><span class="p">(</span><span class="mi" style="color: rgb(32, 128, 80);">10</span><span class="p">)]</span>

        <span class="n">results</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="p">[</span><span class="n">pool</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">apply_async</span><span class="p">(</span><span class="n">calculate</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">for</span> <span class="n">t</span> <span class="ow" style="color: rgb(0, 112, 32); font-weight: bold;">in</span> <span class="n">TASKS</span><span class="p">]</span>
        <span class="n">imap_it</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">pool</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">imap</span><span class="p">(</span><span class="n">calculatestar</span><span class="p">,</span> <span class="n">TASKS</span><span class="p">)</span>
        <span class="n">imap_unordered_it</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">pool</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">imap_unordered</span><span class="p">(</span><span class="n">calculatestar</span><span class="p">,</span> <span class="n">TASKS</span><span class="p">)</span>

        <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'Ordered results using pool.apply_async():'</span><span class="p">)</span>
        <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">for</span> <span class="n">r</span> <span class="ow" style="color: rgb(0, 112, 32); font-weight: bold;">in</span> <span class="n">results</span><span class="p">:</span>
            <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'</span><span class="se" style="color: rgb(64, 112, 160); font-weight: bold;">\t</span><span class="s1" style="color: rgb(64, 112, 160);">'</span><span class="p">,</span> <span class="n">r</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">get</span><span class="p">())</span>
        <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">()</span>

        <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'Ordered results using pool.imap():'</span><span class="p">)</span>
        <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">for</span> <span class="n">x</span> <span class="ow" style="color: rgb(0, 112, 32); font-weight: bold;">in</span> <span class="n">imap_it</span><span class="p">:</span>
            <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'</span><span class="se" style="color: rgb(64, 112, 160); font-weight: bold;">\t</span><span class="s1" style="color: rgb(64, 112, 160);">'</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
        <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">()</span>

        <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'Unordered results using pool.imap_unordered():'</span><span class="p">)</span>
        <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">for</span> <span class="n">x</span> <span class="ow" style="color: rgb(0, 112, 32); font-weight: bold;">in</span> <span class="n">imap_unordered_it</span><span class="p">:</span>
            <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'</span><span class="se" style="color: rgb(64, 112, 160); font-weight: bold;">\t</span><span class="s1" style="color: rgb(64, 112, 160);">'</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
        <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">()</span>

        <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'Ordered results using pool.map() --- will block till complete:'</span><span class="p">)</span>
        <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">for</span> <span class="n">x</span> <span class="ow" style="color: rgb(0, 112, 32); font-weight: bold;">in</span> <span class="n">pool</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">map</span><span class="p">(</span><span class="n">calculatestar</span><span class="p">,</span> <span class="n">TASKS</span><span class="p">):</span>
            <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'</span><span class="se" style="color: rgb(64, 112, 160); font-weight: bold;">\t</span><span class="s1" style="color: rgb(64, 112, 160);">'</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
        <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">()</span>

        <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;">#</span>
        <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># Test error handling</span>
        <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;">#</span>

        <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'Testing error handling:'</span><span class="p">)</span>

        <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">try</span><span class="p">:</span>
            <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="n">pool</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">apply</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="p">(</span><span class="mi" style="color: rgb(32, 128, 80);">5</span><span class="p">,)))</span>
        <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">except</span> <span class="ne" style="color: rgb(0, 112, 32);">ZeroDivisionError</span><span class="p">:</span>
            <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'</span><span class="se" style="color: rgb(64, 112, 160); font-weight: bold;">\t</span><span class="s1" style="color: rgb(64, 112, 160);">Got ZeroDivisionError as expected from pool.apply()'</span><span class="p">)</span>
        <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">else</span><span class="p">:</span>
            <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">raise</span> <span class="ne" style="color: rgb(0, 112, 32);">AssertionError</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'expected ZeroDivisionError'</span><span class="p">)</span>

        <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">try</span><span class="p">:</span>
            <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="n">pool</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">map</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="nb" style="color: rgb(0, 112, 32);">list</span><span class="p">(</span><span class="nb" style="color: rgb(0, 112, 32);">range</span><span class="p">(</span><span class="mi" style="color: rgb(32, 128, 80);">10</span><span class="p">))))</span>
        <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">except</span> <span class="ne" style="color: rgb(0, 112, 32);">ZeroDivisionError</span><span class="p">:</span>
            <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'</span><span class="se" style="color: rgb(64, 112, 160); font-weight: bold;">\t</span><span class="s1" style="color: rgb(64, 112, 160);">Got ZeroDivisionError as expected from pool.map()'</span><span class="p">)</span>
        <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">else</span><span class="p">:</span>
            <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">raise</span> <span class="ne" style="color: rgb(0, 112, 32);">AssertionError</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'expected ZeroDivisionError'</span><span class="p">)</span>

        <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">try</span><span class="p">:</span>
            <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="nb" style="color: rgb(0, 112, 32);">list</span><span class="p">(</span><span class="n">pool</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">imap</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="nb" style="color: rgb(0, 112, 32);">list</span><span class="p">(</span><span class="nb" style="color: rgb(0, 112, 32);">range</span><span class="p">(</span><span class="mi" style="color: rgb(32, 128, 80);">10</span><span class="p">)))))</span>
        <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">except</span> <span class="ne" style="color: rgb(0, 112, 32);">ZeroDivisionError</span><span class="p">:</span>
            <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'</span><span class="se" style="color: rgb(64, 112, 160); font-weight: bold;">\t</span><span class="s1" style="color: rgb(64, 112, 160);">Got ZeroDivisionError as expected from list(pool.imap())'</span><span class="p">)</span>
        <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">else</span><span class="p">:</span>
            <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">raise</span> <span class="ne" style="color: rgb(0, 112, 32);">AssertionError</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'expected ZeroDivisionError'</span><span class="p">)</span>

        <span class="n">it</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">pool</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">imap</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="nb" style="color: rgb(0, 112, 32);">list</span><span class="p">(</span><span class="nb" style="color: rgb(0, 112, 32);">range</span><span class="p">(</span><span class="mi" style="color: rgb(32, 128, 80);">10</span><span class="p">)))</span>
        <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">for</span> <span class="n">i</span> <span class="ow" style="color: rgb(0, 112, 32); font-weight: bold;">in</span> <span class="nb" style="color: rgb(0, 112, 32);">range</span><span class="p">(</span><span class="mi" style="color: rgb(32, 128, 80);">10</span><span class="p">):</span>
            <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">try</span><span class="p">:</span>
                <span class="n">x</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="nb" style="color: rgb(0, 112, 32);">next</span><span class="p">(</span><span class="n">it</span><span class="p">)</span>
            <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">except</span> <span class="ne" style="color: rgb(0, 112, 32);">ZeroDivisionError</span><span class="p">:</span>
                <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">if</span> <span class="n">i</span> <span class="o" style="color: rgb(102, 102, 102);">==</span> <span class="mi" style="color: rgb(32, 128, 80);">5</span><span class="p">:</span>
                    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">pass</span>
            <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">except</span> <span class="ne" style="color: rgb(0, 112, 32);">StopIteration</span><span class="p">:</span>
                <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">break</span>
            <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">else</span><span class="p">:</span>
                <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">if</span> <span class="n">i</span> <span class="o" style="color: rgb(102, 102, 102);">==</span> <span class="mi" style="color: rgb(32, 128, 80);">5</span><span class="p">:</span>
                    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">raise</span> <span class="ne" style="color: rgb(0, 112, 32);">AssertionError</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'expected ZeroDivisionError'</span><span class="p">)</span>

        <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">assert</span> <span class="n">i</span> <span class="o" style="color: rgb(102, 102, 102);">==</span> <span class="mi" style="color: rgb(32, 128, 80);">9</span>
        <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'</span><span class="se" style="color: rgb(64, 112, 160); font-weight: bold;">\t</span><span class="s1" style="color: rgb(64, 112, 160);">Got ZeroDivisionError as expected from IMapIterator.next()'</span><span class="p">)</span>
        <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">()</span>

        <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;">#</span>
        <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># Testing timeouts</span>
        <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;">#</span>

        <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'Testing ApplyResult.get() with timeout:'</span><span class="p">,</span> <span class="n">end</span><span class="o" style="color: rgb(102, 102, 102);">=</span><span class="s1" style="color: rgb(64, 112, 160);">' '</span><span class="p">)</span>
        <span class="n">res</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">pool</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">apply_async</span><span class="p">(</span><span class="n">calculate</span><span class="p">,</span> <span class="n">TASKS</span><span class="p">[</span><span class="mi" style="color: rgb(32, 128, 80);">0</span><span class="p">])</span>
        <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">while</span> <span class="mi" style="color: rgb(32, 128, 80);">1</span><span class="p">:</span>
            <span class="n">sys</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">stdout</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">flush</span><span class="p">()</span>
            <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">try</span><span class="p">:</span>
                <span class="n">sys</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">stdout</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">write</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'</span><span class="se" style="color: rgb(64, 112, 160); font-weight: bold;">\n\t</span><span class="si" style="color: rgb(112, 160, 208); font-style: italic;">%s</span><span class="s1" style="color: rgb(64, 112, 160);">'</span> <span class="o" style="color: rgb(102, 102, 102);">%</span> <span class="n">res</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">get</span><span class="p">(</span><span class="mf" style="color: rgb(32, 128, 80);">0.02</span><span class="p">))</span>
                <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">break</span>
            <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">except</span> <span class="n">multiprocessing</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">TimeoutError</span><span class="p">:</span>
                <span class="n">sys</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">stdout</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">write</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'.'</span><span class="p">)</span>
        <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">()</span>
        <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">()</span>

        <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'Testing IMapIterator.next() with timeout:'</span><span class="p">,</span> <span class="n">end</span><span class="o" style="color: rgb(102, 102, 102);">=</span><span class="s1" style="color: rgb(64, 112, 160);">' '</span><span class="p">)</span>
        <span class="n">it</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">pool</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">imap</span><span class="p">(</span><span class="n">calculatestar</span><span class="p">,</span> <span class="n">TASKS</span><span class="p">)</span>
        <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">while</span> <span class="mi" style="color: rgb(32, 128, 80);">1</span><span class="p">:</span>
            <span class="n">sys</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">stdout</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">flush</span><span class="p">()</span>
            <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">try</span><span class="p">:</span>
                <span class="n">sys</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">stdout</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">write</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'</span><span class="se" style="color: rgb(64, 112, 160); font-weight: bold;">\n\t</span><span class="si" style="color: rgb(112, 160, 208); font-style: italic;">%s</span><span class="s1" style="color: rgb(64, 112, 160);">'</span> <span class="o" style="color: rgb(102, 102, 102);">%</span> <span class="n">it</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">next</span><span class="p">(</span><span class="mf" style="color: rgb(32, 128, 80);">0.02</span><span class="p">))</span>
            <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">except</span> <span class="ne" style="color: rgb(0, 112, 32);">StopIteration</span><span class="p">:</span>
                <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">break</span>
            <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">except</span> <span class="n">multiprocessing</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">TimeoutError</span><span class="p">:</span>
                <span class="n">sys</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">stdout</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">write</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'.'</span><span class="p">)</span>
        <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">()</span>
        <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">()</span>


<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">if</span> <span class="vm" style="color: rgb(187, 96, 213);">__name__</span> <span class="o" style="color: rgb(102, 102, 102);">==</span> <span class="s1" style="color: rgb(64, 112, 160);">'__main__'</span><span class="p">:</span>
    <span class="n">multiprocessing</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">freeze_support</span><span class="p">()</span>
    <span class="n">test</span><span class="p">()</span>
</pre></div></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">An example showing how to use queues to feed tasks to a collection of worker processes and collect the results:</p><div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="kn" style="color: rgb(0, 112, 32); font-weight: bold;">import</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">time</span>
<span class="kn" style="color: rgb(0, 112, 32); font-weight: bold;">import</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">random</span>

<span class="kn" style="color: rgb(0, 112, 32); font-weight: bold;">from</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">multiprocessing</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">import</span> <span class="n">Process</span><span class="p">,</span> <span class="n">Queue</span><span class="p">,</span> <span class="n">current_process</span><span class="p">,</span> <span class="n">freeze_support</span>

<span class="c1" style="color: rgb(64, 128, 144); font-style: italic;">#</span>
<span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># Function run by worker processes</span>
<span class="c1" style="color: rgb(64, 128, 144); font-style: italic;">#</span>

<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">def</span> <span class="nf" style="color: rgb(6, 40, 126);">worker</span><span class="p">(</span><span class="nb" style="color: rgb(0, 112, 32);">input</span><span class="p">,</span> <span class="n">output</span><span class="p">):</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">for</span> <span class="n">func</span><span class="p">,</span> <span class="n">args</span> <span class="ow" style="color: rgb(0, 112, 32); font-weight: bold;">in</span> <span class="nb" style="color: rgb(0, 112, 32);">iter</span><span class="p">(</span><span class="nb" style="color: rgb(0, 112, 32);">input</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">get</span><span class="p">,</span> <span class="s1" style="color: rgb(64, 112, 160);">'STOP'</span><span class="p">):</span>
        <span class="n">result</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">calculate</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="n">args</span><span class="p">)</span>
        <span class="n">output</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">put</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>

<span class="c1" style="color: rgb(64, 128, 144); font-style: italic;">#</span>
<span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># Function used to calculate result</span>
<span class="c1" style="color: rgb(64, 128, 144); font-style: italic;">#</span>

<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">def</span> <span class="nf" style="color: rgb(6, 40, 126);">calculate</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="n">args</span><span class="p">):</span>
    <span class="n">result</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">func</span><span class="p">(</span><span class="o" style="color: rgb(102, 102, 102);">*</span><span class="n">args</span><span class="p">)</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">return</span> <span class="s1" style="color: rgb(64, 112, 160);">'</span><span class="si" style="color: rgb(112, 160, 208); font-style: italic;">%s</span><span class="s1" style="color: rgb(64, 112, 160);"> says that </span><span class="si" style="color: rgb(112, 160, 208); font-style: italic;">%s%s</span><span class="s1" style="color: rgb(64, 112, 160);"> = </span><span class="si" style="color: rgb(112, 160, 208); font-style: italic;">%s</span><span class="s1" style="color: rgb(64, 112, 160);">'</span> <span class="o" style="color: rgb(102, 102, 102);">%</span> \
        <span class="p">(</span><span class="n">current_process</span><span class="p">()</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">name</span><span class="p">,</span> <span class="n">func</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="vm" style="color: rgb(187, 96, 213);">__name__</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="n">result</span><span class="p">)</span>

<span class="c1" style="color: rgb(64, 128, 144); font-style: italic;">#</span>
<span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># Functions referenced by tasks</span>
<span class="c1" style="color: rgb(64, 128, 144); font-style: italic;">#</span>

<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">def</span> <span class="nf" style="color: rgb(6, 40, 126);">mul</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
    <span class="n">time</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf" style="color: rgb(32, 128, 80);">0.5</span><span class="o" style="color: rgb(102, 102, 102);">*</span><span class="n">random</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">random</span><span class="p">())</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">return</span> <span class="n">a</span> <span class="o" style="color: rgb(102, 102, 102);">*</span> <span class="n">b</span>

<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">def</span> <span class="nf" style="color: rgb(6, 40, 126);">plus</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
    <span class="n">time</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf" style="color: rgb(32, 128, 80);">0.5</span><span class="o" style="color: rgb(102, 102, 102);">*</span><span class="n">random</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">random</span><span class="p">())</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">return</span> <span class="n">a</span> <span class="o" style="color: rgb(102, 102, 102);">+</span> <span class="n">b</span>

<span class="c1" style="color: rgb(64, 128, 144); font-style: italic;">#</span>
<span class="c1" style="color: rgb(64, 128, 144); font-style: italic;">#</span>
<span class="c1" style="color: rgb(64, 128, 144); font-style: italic;">#</span>

<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">def</span> <span class="nf" style="color: rgb(6, 40, 126);">test</span><span class="p">():</span>
    <span class="n">NUMBER_OF_PROCESSES</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="mi" style="color: rgb(32, 128, 80);">4</span>
    <span class="n">TASKS1</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="p">[(</span><span class="n">mul</span><span class="p">,</span> <span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi" style="color: rgb(32, 128, 80);">7</span><span class="p">))</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">for</span> <span class="n">i</span> <span class="ow" style="color: rgb(0, 112, 32); font-weight: bold;">in</span> <span class="nb" style="color: rgb(0, 112, 32);">range</span><span class="p">(</span><span class="mi" style="color: rgb(32, 128, 80);">20</span><span class="p">)]</span>
    <span class="n">TASKS2</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="p">[(</span><span class="n">plus</span><span class="p">,</span> <span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi" style="color: rgb(32, 128, 80);">8</span><span class="p">))</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">for</span> <span class="n">i</span> <span class="ow" style="color: rgb(0, 112, 32); font-weight: bold;">in</span> <span class="nb" style="color: rgb(0, 112, 32);">range</span><span class="p">(</span><span class="mi" style="color: rgb(32, 128, 80);">10</span><span class="p">)]</span>

    <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># Create queues</span>
    <span class="n">task_queue</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">Queue</span><span class="p">()</span>
    <span class="n">done_queue</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">Queue</span><span class="p">()</span>

    <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># Submit tasks</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">for</span> <span class="n">task</span> <span class="ow" style="color: rgb(0, 112, 32); font-weight: bold;">in</span> <span class="n">TASKS1</span><span class="p">:</span>
        <span class="n">task_queue</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">put</span><span class="p">(</span><span class="n">task</span><span class="p">)</span>

    <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># Start worker processes</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">for</span> <span class="n">i</span> <span class="ow" style="color: rgb(0, 112, 32); font-weight: bold;">in</span> <span class="nb" style="color: rgb(0, 112, 32);">range</span><span class="p">(</span><span class="n">NUMBER_OF_PROCESSES</span><span class="p">):</span>
        <span class="n">Process</span><span class="p">(</span><span class="n">target</span><span class="o" style="color: rgb(102, 102, 102);">=</span><span class="n">worker</span><span class="p">,</span> <span class="n">args</span><span class="o" style="color: rgb(102, 102, 102);">=</span><span class="p">(</span><span class="n">task_queue</span><span class="p">,</span> <span class="n">done_queue</span><span class="p">))</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">start</span><span class="p">()</span>

    <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># Get and print results</span>
    <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'Unordered results:'</span><span class="p">)</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">for</span> <span class="n">i</span> <span class="ow" style="color: rgb(0, 112, 32); font-weight: bold;">in</span> <span class="nb" style="color: rgb(0, 112, 32);">range</span><span class="p">(</span><span class="nb" style="color: rgb(0, 112, 32);">len</span><span class="p">(</span><span class="n">TASKS1</span><span class="p">)):</span>
        <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'</span><span class="se" style="color: rgb(64, 112, 160); font-weight: bold;">\t</span><span class="s1" style="color: rgb(64, 112, 160);">'</span><span class="p">,</span> <span class="n">done_queue</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">get</span><span class="p">())</span>

    <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># Add more tasks using `put()`</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">for</span> <span class="n">task</span> <span class="ow" style="color: rgb(0, 112, 32); font-weight: bold;">in</span> <span class="n">TASKS2</span><span class="p">:</span>
        <span class="n">task_queue</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">put</span><span class="p">(</span><span class="n">task</span><span class="p">)</span>

    <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># Get and print some more results</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">for</span> <span class="n">i</span> <span class="ow" style="color: rgb(0, 112, 32); font-weight: bold;">in</span> <span class="nb" style="color: rgb(0, 112, 32);">range</span><span class="p">(</span><span class="nb" style="color: rgb(0, 112, 32);">len</span><span class="p">(</span><span class="n">TASKS2</span><span class="p">)):</span>
        <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'</span><span class="se" style="color: rgb(64, 112, 160); font-weight: bold;">\t</span><span class="s1" style="color: rgb(64, 112, 160);">'</span><span class="p">,</span> <span class="n">done_queue</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">get</span><span class="p">())</span>

    <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># Tell child processes to stop</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">for</span> <span class="n">i</span> <span class="ow" style="color: rgb(0, 112, 32); font-weight: bold;">in</span> <span class="nb" style="color: rgb(0, 112, 32);">range</span><span class="p">(</span><span class="n">NUMBER_OF_PROCESSES</span><span class="p">):</span>
        <span class="n">task_queue</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">put</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'STOP'</span><span class="p">)</span>


<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">if</span> <span class="vm" style="color: rgb(187, 96, 213);">__name__</span> <span class="o" style="color: rgb(102, 102, 102);">==</span> <span class="s1" style="color: rgb(64, 112, 160);">'__main__'</span><span class="p">:</span>
    <span class="n">freeze_support</span><span class="p">()</span>
    <span class="n">test</span><span class="p">()</span></pre></div></div></div></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div>
</article>
{% endblock point1 %}
