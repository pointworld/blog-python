{% extends 'c-word.html' %}

{% block title %} socket - computer | software | programming language | python | standard library | networking and interprocess communication {% endblock title %}

{% block point1 %}
<article contenteditable="true">
  <p>Category: computer | software | programming language | python | standard library | networking and interprocess communication | socket</p>
  <h1 id="blogTitle0">socket</h1><div><p style="border: 0px; margin: 0px; padding: 0.3em 0px;">--- Low-level networking interface</p></div><div><p style="font-size: 16px; hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; background-color: rgb(255, 255, 255);"><strong>Source code:</strong>&nbsp;<a class="reference external" href="https://github.com/python/cpython/tree/3.7/Lib/socket.py" style="color: rgb(99, 99, 187); text-decoration-line: none;">Lib/socket.py</a></p><hr class="docutils" style="font-size: 16px; border: 0px; background-color: rgb(204, 204, 204); height: 1px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif;"><p style="font-size: 16px; hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; background-color: rgb(255, 255, 255);">This module provides access to the BSD&nbsp;<em>socket</em>&nbsp;interface. It is available on all modern Unix systems, Windows, MacOS, and probably additional platforms.</p><div class="admonition note" style="font-size: 16px; margin-top: 10px; margin-bottom: 10px; padding: 7px; background-color: rgb(238, 238, 238); border: 1px solid rgb(204, 204, 204); border-radius: 3px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif;"><p class="first admonition-title" style="margin: 0px 10px 5px 0px; font-weight: bold; display: inline; hyphens: auto; text-align: justify; line-height: 22.4px;">注解</p>&nbsp;<p class="last" style="hyphens: auto; text-align: justify; line-height: 22.4px; margin-bottom: 5px; display: inline;">Some behavior may be platform dependent, since calls are made to the operating system socket APIs.</p></div><p id="index-0" style="font-size: 16px; hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; background-color: rgb(255, 255, 255);">The Python interface is a straightforward transliteration of the Unix system call and library interface for sockets to Python's object-oriented style: the&nbsp;<code class="xref py py-func docutils literal notranslate" style="color: rgb(99, 99, 187); text-decoration-line: none; background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;"><a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket" title="socket.socket" style="color: rgb(99, 99, 187); text-decoration-line: none;">socket()</a>&nbsp;</span></code>function returns a&nbsp;<em class="dfn">socket object</em>&nbsp;whose methods implement the various socket system calls. Parameter types are somewhat higher-level than in the C interface: as with&nbsp;<code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">read()</span></code>&nbsp;and&nbsp;<code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">write()</span></code>&nbsp;operations on Python files, buffer allocation on receive operations is automatic, and buffer length is implicit on send operations.</p><div class="admonition seealso" style="font-size: 16px; margin-top: 10px; margin-bottom: 10px; padding: 7px; background-color: rgb(255, 255, 204); border: 1px solid rgb(221, 221, 102); border-radius: 3px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif;"><p class="first admonition-title" style="margin: 0px 10px 5px 0px; font-weight: bold; display: inline; hyphens: auto; text-align: justify; line-height: 22.4px;">参见</p><dl class="last docutils" style="margin-bottom: 0px;"><dt style="font-weight: bold;">Module&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socketserver.html#module-socketserver" title="socketserver: A framework for network servers." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; font-weight: normal; border-radius: 3px;"><span class="pre" style="hyphens: none;">socketserver</span></code></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;">Classes that simplify writing network servers.</dd><dt style="color: rgb(167, 153, 90); font-weight: bold;">Module&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/ssl.html#module-ssl" title="ssl: TLS/SSL wrapper for socket objects" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; font-weight: normal; border-radius: 3px;"><span class="pre" style="hyphens: none;">ssl</span></code></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;">A TLS/SSL wrapper for socket objects.</dd></dl></div></div><h2 id="blogTitle1">概述</h2><h3 id="blogTitle2">定义</h3><div><br></div><div><br></div><h3 id="blogTitle3">组成</h3><div><br></div><div><br></div><h3 id="blogTitle4">功能</h3><div><br></div><div><br></div><h3 id="blogTitle5">用途</h3><div><br></div><pre><h2>Help on module socket:</h2>
<h3>NAME</h3>    socket

<h3>MODULE REFERENCE</h3>    https://docs.python.org/3.7/library/socket

    The following documentation is automatically generated from the Python
    source files.  It may be incomplete, incorrect or include features that
    are considered implementation detail and may vary between Python
    implementations.  When in doubt, consult the module reference at the
    location listed above.

<h3>DESCRIPTION</h3>    This module provides socket operations and some related functions.
    On Unix, it supports IP (Internet Protocol) and Unix domain sockets.
    On other systems, it only supports IP. Functions specific for a
    socket are available as methods of the socket object.

<h4>    Functions:</h4>
    socket() -- create a new socket object
    socketpair() -- create a pair of new socket objects [*]
    fromfd() -- create a socket object from an open file descriptor [*]
    fromshare() -- create a socket object from data received from socket.share() [*]
    gethostname() -- return the current hostname
    gethostbyname() -- map a hostname to its IP number
    gethostbyaddr() -- map an IP number or hostname to DNS info
    getservbyname() -- map a service name and a protocol name to a port number
    getprotobyname() -- map a protocol name (e.g. 'tcp') to a number
    ntohs(), ntohl() -- convert 16, 32 bit int from network to host byte order
    htons(), htonl() -- convert 16, 32 bit int from host to network byte order
    inet_aton() -- convert IP addr string (123.45.67.89) to 32-bit packed format
    inet_ntoa() -- convert 32-bit packed format IP to string (123.45.67.89)
    socket.getdefaulttimeout() -- get the default timeout value
    socket.setdefaulttimeout() -- set the default timeout value
    create_connection() -- connects to an address, with an optional timeout and
                           optional source address.

     [*] not available on all platforms!

<h4>    Special objects:</h4>
    SocketType -- type object for socket objects
    error -- exception raised for I/O errors
    has_ipv6 -- boolean value indicating if IPv6 is supported

<h4>    IntEnum constants:</h4>
    AF_INET, AF_UNIX -- socket domains (first argument to socket() call)
    SOCK_STREAM, SOCK_DGRAM, SOCK_RAW -- socket types (second argument)

<h4>    Integer constants:</h4>
    Many other constants may be defined; these may be used in calls to
    the setsockopt() and getsockopt() methods.

<h3>CLASSES</h3>    builtins.Exception(builtins.BaseException)
        builtins.OSError
            gaierror
            herror
            timeout
    builtins.object
        _socket.socket
            socket
    enum.IntEnum(builtins.int, enum.Enum)
        AddressFamily
        SocketKind

<h4>    class AddressFamily(enum.IntEnum)</h4>     |  AddressFamily(value, names=None, *, module=None, qualname=None, type=None, start=1)
     |
     |  An enumeration.
     |
     |  Method resolution order:
     |      AddressFamily
     |      enum.IntEnum
     |      builtins.int
     |      enum.Enum
     |      builtins.object
     |
     |  Data and other attributes defined here:
     |
     |  AF_APPLETALK = &lt;AddressFamily.AF_APPLETALK: 16&gt;
     |
     |  AF_INET = &lt;AddressFamily.AF_INET: 2&gt;
     |
     |  AF_INET6 = &lt;AddressFamily.AF_INET6: 30&gt;
     |
     |  AF_IPX = &lt;AddressFamily.AF_IPX: 23&gt;
     |
     |  AF_LINK = &lt;AddressFamily.AF_LINK: 18&gt;
     |
     |  AF_ROUTE = &lt;AddressFamily.AF_ROUTE: 17&gt;
     |
     |  AF_SNA = &lt;AddressFamily.AF_SNA: 11&gt;
     |
     |  AF_SYSTEM = &lt;AddressFamily.AF_SYSTEM: 32&gt;
     |
     |  AF_UNIX = &lt;AddressFamily.AF_UNIX: 1&gt;
     |
     |  AF_UNSPEC = &lt;AddressFamily.AF_UNSPEC: 0&gt;
     |
     |  ----------------------------------------------------------------------
     |  Data descriptors inherited from enum.Enum:
     |
     |  name
     |      The name of the Enum member.
     |
     |  value
     |      The value of the Enum member.
     |
     |  ----------------------------------------------------------------------
     |  Data descriptors inherited from enum.EnumMeta:
     |
     |  __members__
     |      Returns a mapping of member name-&gt;value.
     |
     |      This mapping lists all enum members, including aliases. Note that this
     |      is a read-only view of the internal mapping.

<h4>    class SocketKind(enum.IntEnum)</h4>     |  SocketKind(value, names=None, *, module=None, qualname=None, type=None, start=1)
     |
     |  An enumeration.
     |
     |  Method resolution order:
     |      SocketKind
     |      enum.IntEnum
     |      builtins.int
     |      enum.Enum
     |      builtins.object
     |
     |  Data and other attributes defined here:
     |
     |  SOCK_DGRAM = &lt;SocketKind.SOCK_DGRAM: 2&gt;
     |
     |  SOCK_RAW = &lt;SocketKind.SOCK_RAW: 3&gt;
     |
     |  SOCK_RDM = &lt;SocketKind.SOCK_RDM: 4&gt;
     |
     |  SOCK_SEQPACKET = &lt;SocketKind.SOCK_SEQPACKET: 5&gt;
     |
     |  SOCK_STREAM = &lt;SocketKind.SOCK_STREAM: 1&gt;
     |
     |  ----------------------------------------------------------------------
     |  Data descriptors inherited from enum.Enum:
     |
     |  name
     |      The name of the Enum member.
     |
     |  value
     |      The value of the Enum member.
     |
     |  ----------------------------------------------------------------------
     |  Data descriptors inherited from enum.EnumMeta:
     |
     |  __members__
     |      Returns a mapping of member name-&gt;value.
     |
     |      This mapping lists all enum members, including aliases. Note that this
     |      is a read-only view of the internal mapping.

<h4>    SocketType = class socket(builtins.object)</h4>     |  socket(family=AF_INET, type=SOCK_STREAM, proto=0) -&gt; socket object
     |  socket(family=-1, type=-1, proto=-1, fileno=None) -&gt; socket object
     |
     |  Open a socket of the given type.  The family argument specifies the
     |  address family; it defaults to AF_INET.  The type argument specifies
     |  whether this is a stream (SOCK_STREAM, this is the default)
     |  or datagram (SOCK_DGRAM) socket.  The protocol argument defaults to 0,
     |  specifying the default protocol.  Keyword arguments are accepted.
     |  The socket is created as non-inheritable.
     |
     |  When a fileno is passed in, family, type and proto are auto-detected,
     |  unless they are explicitly set.
     |
     |  A socket object represents one endpoint of a network connection.
     |
     |  Methods of socket objects (keyword arguments not allowed):
     |
     |  _accept() -- accept connection, returning new socket fd and client address
     |  bind(addr) -- bind the socket to a local address
     |  close() -- close the socket
     |  connect(addr) -- connect the socket to a remote address
     |  connect_ex(addr) -- connect, return an error code instead of an exception
     |  dup() -- return a new socket fd duplicated from fileno()
     |  fileno() -- return underlying file descriptor
     |  getpeername() -- return remote address [*]
     |  getsockname() -- return local address
     |  getsockopt(level, optname[, buflen]) -- get socket options
     |  gettimeout() -- return timeout or None
     |  listen([n]) -- start listening for incoming connections
     |  recv(buflen[, flags]) -- receive data
     |  recv_into(buffer[, nbytes[, flags]]) -- receive data (into a buffer)
     |  recvfrom(buflen[, flags]) -- receive data and sender's address
     |  recvfrom_into(buffer[, nbytes, [, flags])
     |    -- receive data and sender's address (into a buffer)
     |  sendall(data[, flags]) -- send all data
     |  send(data[, flags]) -- send data, may not send all of it
     |  sendto(data[, flags], addr) -- send data to a given address
     |  setblocking(0 | 1) -- set or clear the blocking I/O flag
     |  getblocking() -- return True if socket is blocking, False if non-blocking
     |  setsockopt(level, optname, value[, optlen]) -- set socket options
     |  settimeout(None | float) -- set or clear the timeout
     |  shutdown(how) -- shut down traffic in one or both directions
     |  if_nameindex() -- return all network interface indices and names
     |  if_nametoindex(name) -- return the corresponding interface index
     |  if_indextoname(index) -- return the corresponding interface name
     |
     |   [*] not available on all platforms!
     |
     |  Methods defined here:
     |
     |  __del__(...)
     |
     |  __getattribute__(self, name, /)
     |      Return getattr(self, name).
     |
     |  __init__(self, /, *args, **kwargs)
     |      Initialize self.  See help(type(self)) for accurate signature.
     |
     |  __repr__(self, /)
     |      Return repr(self).
     |
     |  bind(...)
     |      bind(address)
     |
     |      Bind the socket to a local address.  For IP sockets, the address is a
     |      pair (host, port); the host must refer to the local host. For raw packet
     |      sockets the address is a tuple (ifname, proto [,pkttype [,hatype [,addr]]])
     |
     |  close(...)
     |      close()
     |
     |      Close the socket.  It cannot be used after this call.
     |
     |  connect(...)
     |      connect(address)
     |
     |      Connect the socket to a remote address.  For IP sockets, the address
     |      is a pair (host, port).
     |
     |  connect_ex(...)
     |      connect_ex(address) -&gt; errno
     |
     |      This is like connect(address), but returns an error code (the errno value)
     |      instead of raising an exception when an error occurs.
     |
     |  detach(...)
     |      detach()
     |
     |      Close the socket object without closing the underlying file descriptor.
     |      The object cannot be used after this call, but the file descriptor
     |      can be reused for other purposes.  The file descriptor is returned.
     |
     |  fileno(...)
     |      fileno() -&gt; integer
     |
     |      Return the integer file descriptor of the socket.
     |
     |  getblocking(...)
     |      getblocking()
     |
     |      Returns True if socket is in blocking mode, or False if it
     |      is in non-blocking mode.
     |
     |  getpeername(...)
     |      getpeername() -&gt; address info
     |
     |      Return the address of the remote endpoint.  For IP sockets, the address
     |      info is a pair (hostaddr, port).
     |
     |  getsockname(...)
     |      getsockname() -&gt; address info
     |
     |      Return the address of the local endpoint.  For IP sockets, the address
     |      info is a pair (hostaddr, port).
     |
     |  getsockopt(...)
     |      getsockopt(level, option[, buffersize]) -&gt; value
     |
     |      Get a socket option.  See the Unix manual for level and option.
     |      If a nonzero buffersize argument is given, the return value is a
     |      string of that length; otherwise it is an integer.
     |
     |  gettimeout(...)
     |      gettimeout() -&gt; timeout
     |
     |      Returns the timeout in seconds (float) associated with socket
     |      operations. A timeout of None indicates that timeouts on socket
     |      operations are disabled.
     |
     |  listen(...)
     |      listen([backlog])
     |
     |      Enable a server to accept connections.  If backlog is specified, it must be
     |      at least 0 (if it is lower, it is set to 0); it specifies the number of
     |      unaccepted connections that the system will allow before refusing new
     |      connections. If not specified, a default reasonable value is chosen.
     |
     |  recv(...)
     |      recv(buffersize[, flags]) -&gt; data
     |
     |      Receive up to buffersize bytes from the socket.  For the optional flags
     |      argument, see the Unix manual.  When no data is available, block until
     |      at least one byte is available or until the remote end is closed.  When
     |      the remote end is closed and all data is read, return the empty string.
     |
     |  recv_into(...)
     |      recv_into(buffer, [nbytes[, flags]]) -&gt; nbytes_read
     |
     |      A version of recv() that stores its data into a buffer rather than creating
     |      a new string.  Receive up to buffersize bytes from the socket.  If buffersize
     |      is not specified (or 0), receive up to the size available in the given buffer.
     |
     |      See recv() for documentation about the flags.
     |
     |  recvfrom(...)
     |      recvfrom(buffersize[, flags]) -&gt; (data, address info)
     |
     |      Like recv(buffersize, flags) but also return the sender's address info.
     |
     |  recvfrom_into(...)
     |      recvfrom_into(buffer[, nbytes[, flags]]) -&gt; (nbytes, address info)
     |
     |      Like recv_into(buffer[, nbytes[, flags]]) but also return the sender's address info.
     |
     |  recvmsg(...)
     |      recvmsg(bufsize[, ancbufsize[, flags]]) -&gt; (data, ancdata, msg_flags, address)
     |
     |      Receive normal data (up to bufsize bytes) and ancillary data from the
     |      socket.  The ancbufsize argument sets the size in bytes of the
     |      internal buffer used to receive the ancillary data; it defaults to 0,
     |      meaning that no ancillary data will be received.  Appropriate buffer
     |      sizes for ancillary data can be calculated using CMSG_SPACE() or
     |      CMSG_LEN(), and items which do not fit into the buffer might be
     |      truncated or discarded.  The flags argument defaults to 0 and has the
     |      same meaning as for recv().
     |
     |      The return value is a 4-tuple: (data, ancdata, msg_flags, address).
     |      The data item is a bytes object holding the non-ancillary data
     |      received.  The ancdata item is a list of zero or more tuples
     |      (cmsg_level, cmsg_type, cmsg_data) representing the ancillary data
     |      (control messages) received: cmsg_level and cmsg_type are integers
     |      specifying the protocol level and protocol-specific type respectively,
     |      and cmsg_data is a bytes object holding the associated data.  The
     |      msg_flags item is the bitwise OR of various flags indicating
     |      conditions on the received message; see your system documentation for
     |      details.  If the receiving socket is unconnected, address is the
     |      address of the sending socket, if available; otherwise, its value is
     |      unspecified.
     |
     |      If recvmsg() raises an exception after the system call returns, it
     |      will first attempt to close any file descriptors received via the
     |      SCM_RIGHTS mechanism.
     |
     |  recvmsg_into(...)
     |      recvmsg_into(buffers[, ancbufsize[, flags]]) -&gt; (nbytes, ancdata, msg_flags, address)
     |
     |      Receive normal data and ancillary data from the socket, scattering the
     |      non-ancillary data into a series of buffers.  The buffers argument
     |      must be an iterable of objects that export writable buffers
     |      (e.g. bytearray objects); these will be filled with successive chunks
     |      of the non-ancillary data until it has all been written or there are
     |      no more buffers.  The ancbufsize argument sets the size in bytes of
     |      the internal buffer used to receive the ancillary data; it defaults to
     |      0, meaning that no ancillary data will be received.  Appropriate
     |      buffer sizes for ancillary data can be calculated using CMSG_SPACE()
     |      or CMSG_LEN(), and items which do not fit into the buffer might be
     |      truncated or discarded.  The flags argument defaults to 0 and has the
     |      same meaning as for recv().
     |
     |      The return value is a 4-tuple: (nbytes, ancdata, msg_flags, address).
     |      The nbytes item is the total number of bytes of non-ancillary data
     |      written into the buffers.  The ancdata item is a list of zero or more
     |      tuples (cmsg_level, cmsg_type, cmsg_data) representing the ancillary
     |      data (control messages) received: cmsg_level and cmsg_type are
     |      integers specifying the protocol level and protocol-specific type
     |      respectively, and cmsg_data is a bytes object holding the associated
     |      data.  The msg_flags item is the bitwise OR of various flags
     |      indicating conditions on the received message; see your system
     |      documentation for details.  If the receiving socket is unconnected,
     |      address is the address of the sending socket, if available; otherwise,
     |      its value is unspecified.
     |
     |      If recvmsg_into() raises an exception after the system call returns,
     |      it will first attempt to close any file descriptors received via the
     |      SCM_RIGHTS mechanism.

     |
     |  send(...)
     |      send(data[, flags]) -&gt; count
     |
     |      Send a data string to the socket.  For the optional flags
     |      argument, see the Unix manual.  Return the number of bytes
     |      sent; this may be less than len(data) if the network is busy.
     |
     |  sendall(...)
     |      sendall(data[, flags])
     |
     |      Send a data string to the socket.  For the optional flags
     |      argument, see the Unix manual.  This calls send() repeatedly
     |      until all data is sent.  If an error occurs, it's impossible
     |      to tell how much data has been sent.
     |
     |  sendmsg(...)
     |      sendmsg(buffers[, ancdata[, flags[, address]]]) -&gt; count
     |
     |      Send normal and ancillary data to the socket, gathering the
     |      non-ancillary data from a series of buffers and concatenating it into
     |      a single message.  The buffers argument specifies the non-ancillary
     |      data as an iterable of bytes-like objects (e.g. bytes objects).
     |      The ancdata argument specifies the ancillary data (control messages)
     |      as an iterable of zero or more tuples (cmsg_level, cmsg_type,
     |      cmsg_data), where cmsg_level and cmsg_type are integers specifying the
     |      protocol level and protocol-specific type respectively, and cmsg_data
     |      is a bytes-like object holding the associated data.  The flags
     |      argument defaults to 0 and has the same meaning as for send().  If
     |      address is supplied and not None, it sets a destination address for
     |      the message.  The return value is the number of bytes of non-ancillary
     |      data sent.
     |
     |  sendto(...)
     |      sendto(data[, flags], address) -&gt; count
     |
     |      Like send(data, flags) but allows specifying the destination address.
     |      For IP sockets, the address is a pair (hostaddr, port).
     |
     |  setblocking(...)
     |      setblocking(flag)
     |
     |      Set the socket to blocking (flag is true) or non-blocking (false).
     |      setblocking(True) is equivalent to settimeout(None);
     |      setblocking(False) is equivalent to settimeout(0.0).
     |
     |  setsockopt(...)
     |      setsockopt(level, option, value: int)
     |      setsockopt(level, option, value: buffer)
     |      setsockopt(level, option, None, optlen: int)
     |
     |      Set a socket option.  See the Unix manual for level and option.
     |      The value argument can either be an integer, a string buffer, or
     |      None, optlen.
     |
     |  settimeout(...)
     |      settimeout(timeout)
     |
     |      Set a timeout on socket operations.  'timeout' can be a float,
     |      giving in seconds, or None.  Setting a timeout of None disables
     |      the timeout feature and is equivalent to setblocking(1).
     |      Setting a timeout of zero is the same as setblocking(0).
     |
     |  shutdown(...)
     |      shutdown(flag)
     |
     |      Shut down the reading side of the socket (flag == SHUT_RD), the writing side
     |      of the socket (flag == SHUT_WR), or both ends (flag == SHUT_RDWR).
     |
     |  ----------------------------------------------------------------------
     |  Static methods defined here:
     |
     |  __new__(*args, **kwargs) from builtins.type
     |      Create and return a new object.  See help(type) for accurate signature.
     |
     |  ----------------------------------------------------------------------
     |  Data descriptors defined here:
     |
     |  family
     |      the socket family
     |
     |  proto
     |      the socket protocol
     |
     |  timeout
     |      the socket timeout
     |
     |  type
     |      the socket type

<h4>    error = class OSError(Exception)</h4>     |  Base class for I/O related errors.
     |
     |  Method resolution order:
     |      OSError
     |      Exception
     |      BaseException
     |      object
     |
     |  Methods defined here:
     |
     |  __init__(self, /, *args, **kwargs)
     |      Initialize self.  See help(type(self)) for accurate signature.
     |
     |  __reduce__(...)
     |      Helper for pickle.
     |
     |  __str__(self, /)
     |      Return str(self).
     |
     |  ----------------------------------------------------------------------
     |  Static methods defined here:
     |
     |  __new__(*args, **kwargs) from builtins.type
     |      Create and return a new object.  See help(type) for accurate signature.
     |
     |  ----------------------------------------------------------------------
     |  Data descriptors defined here:
     |
     |  characters_written
     |
     |  errno
     |      POSIX exception code
     |
     |  filename
     |      exception filename
     |
     |  filename2
     |      second exception filename
     |
     |  strerror
     |      exception strerror
     |
     |  ----------------------------------------------------------------------
     |  Methods inherited from BaseException:
     |
     |  __delattr__(self, name, /)
     |      Implement delattr(self, name).
     |
     |  __getattribute__(self, name, /)
     |      Return getattr(self, name).
     |
     |  __repr__(self, /)
     |      Return repr(self).
     |
     |  __setattr__(self, name, value, /)
     |      Implement setattr(self, name, value).
     |
     |  __setstate__(...)
     |
     |  with_traceback(...)
     |      Exception.with_traceback(tb) --
     |      set self.__traceback__ to tb and return self.
     |
     |  ----------------------------------------------------------------------
     |  Data descriptors inherited from BaseException:
     |
     |  __cause__
     |      exception cause
     |
     |  __context__
     |      exception context
     |
     |  __dict__
     |
     |  __suppress_context__
     |
     |  __traceback__
     |
     |  args

<h4>    class gaierror(builtins.OSError)</h4>     |  Base class for I/O related errors.
     |
     |  Method resolution order:
     |      gaierror
     |      builtins.OSError
     |      builtins.Exception
     |      builtins.BaseException
     |      builtins.object
     |
     |  Data descriptors defined here:
     |
     |  __weakref__
     |      list of weak references to the object (if defined)
     |
     |  ----------------------------------------------------------------------
     |  Methods inherited from builtins.OSError:
     |
     |  __init__(self, /, *args, **kwargs)
     |      Initialize self.  See help(type(self)) for accurate signature.
     |
     |  __reduce__(...)
     |      Helper for pickle.
     |
     |  __str__(self, /)
     |      Return str(self).
     |
     |  ----------------------------------------------------------------------
     |  Static methods inherited from builtins.OSError:
     |
     |  __new__(*args, **kwargs) from builtins.type
     |      Create and return a new object.  See help(type) for accurate signature.
     |
     |  ----------------------------------------------------------------------
     |  Data descriptors inherited from builtins.OSError:
     |
     |  characters_written
     |
     |  errno
     |      POSIX exception code
     |
     |  filename
     |      exception filename
     |
     |  filename2
     |      second exception filename
     |
     |  strerror
     |      exception strerror
     |
     |  ----------------------------------------------------------------------
     |  Methods inherited from builtins.BaseException:
     |
     |  __delattr__(self, name, /)
     |      Implement delattr(self, name).
     |
     |  __getattribute__(self, name, /)
     |      Return getattr(self, name).
     |
     |  __repr__(self, /)
     |      Return repr(self).
     |
     |  __setattr__(self, name, value, /)
     |      Implement setattr(self, name, value).
     |
     |  __setstate__(...)
     |
     |  with_traceback(...)
     |      Exception.with_traceback(tb) --
     |      set self.__traceback__ to tb and return self.
     |
     |  ----------------------------------------------------------------------
     |  Data descriptors inherited from builtins.BaseException:
     |
     |  __cause__
     |      exception cause
     |
     |  __context__
     |      exception context
     |
     |  __dict__
     |
     |  __suppress_context__
     |
     |  __traceback__
     |
     |  args

<h4>    class herror(builtins.OSError)</h4>     |  Base class for I/O related errors.
     |
     |  Method resolution order:
     |      herror
     |      builtins.OSError
     |      builtins.Exception
     |      builtins.BaseException
     |      builtins.object
     |
     |  Data descriptors defined here:
     |
     |  __weakref__
     |      list of weak references to the object (if defined)
     |
     |  ----------------------------------------------------------------------
     |  Methods inherited from builtins.OSError:
     |
     |  __init__(self, /, *args, **kwargs)
     |      Initialize self.  See help(type(self)) for accurate signature.
     |
     |  __reduce__(...)
     |      Helper for pickle.
     |
     |  __str__(self, /)
     |      Return str(self).
     |
     |  ----------------------------------------------------------------------
     |  Static methods inherited from builtins.OSError:
     |
     |  __new__(*args, **kwargs) from builtins.type
     |      Create and return a new object.  See help(type) for accurate signature.
     |
     |  ----------------------------------------------------------------------
     |  Data descriptors inherited from builtins.OSError:
     |
     |  characters_written
     |
     |  errno
     |      POSIX exception code
     |
     |  filename
     |      exception filename
     |
     |  filename2
     |      second exception filename
     |
     |  strerror
     |      exception strerror
     |
     |  ----------------------------------------------------------------------
     |  Methods inherited from builtins.BaseException:
     |
     |  __delattr__(self, name, /)
     |      Implement delattr(self, name).
     |
     |  __getattribute__(self, name, /)
     |      Return getattr(self, name).
     |
     |  __repr__(self, /)
     |      Return repr(self).
     |
     |  __setattr__(self, name, value, /)
     |      Implement setattr(self, name, value).
     |
     |  __setstate__(...)
     |
     |  with_traceback(...)
     |      Exception.with_traceback(tb) --
     |      set self.__traceback__ to tb and return self.
     |
     |  ----------------------------------------------------------------------
     |  Data descriptors inherited from builtins.BaseException:
     |
     |  __cause__
     |      exception cause
     |
     |  __context__
     |      exception context
     |
     |  __dict__
     |
     |  __suppress_context__
     |
     |  __traceback__
     |
     |  args

<h4>    class socket(_socket.socket)</h4>     |  socket(family=-1, type=-1, proto=-1, fileno=None)
     |
     |  A subclass of _socket.socket adding the makefile() method.
     |
     |  Method resolution order:
     |      socket
     |      _socket.socket
     |      builtins.object
     |
     |  Methods defined here:
     |
     |  __enter__(self)
     |
     |  __exit__(self, *args)
     |
     |  __getstate__(self)
     |
     |  __init__(self, family=-1, type=-1, proto=-1, fileno=None)
     |      Initialize self.  See help(type(self)) for accurate signature.
     |
     |  __repr__(self)
     |      Wrap __repr__() to reveal the real class name and socket
     |      address(es).
     |
     |  accept(self)
     |      accept() -&gt; (socket object, address info)
     |
     |      Wait for an incoming connection.  Return a new socket
     |      representing the connection, and the address of the client.
     |      For IP sockets, the address info is a pair (hostaddr, port).
     |
     |  close(self)
     |      close()
     |
     |      Close the socket.  It cannot be used after this call.
     |
     |  detach(self)
     |      detach() -&gt; file descriptor
     |
     |      Close the socket object without closing the underlying file descriptor.
     |      The object cannot be used after this call, but the file descriptor
     |      can be reused for other purposes.  The file descriptor is returned.
     |
     |  dup(self)
     |      dup() -&gt; socket object
     |
     |      Duplicate the socket. Return a new socket object connected to the same
     |      system resource. The new socket is non-inheritable.
     |
     |  get_inheritable(self)
     |      Get the inheritable flag of the socket
     |
     |  makefile(self, mode='r', buffering=None, *, encoding=None, errors=None, newline=None)
     |      makefile(...) -&gt; an I/O stream connected to the socket
     |
     |      The arguments are as for io.open() after the filename, except the only
     |      supported mode values are 'r' (default), 'w' and 'b'.
     |
     |  sendfile(self, file, offset=0, count=None)
     |      sendfile(file[, offset[, count]]) -&gt; sent
     |
     |      Send a file until EOF is reached by using high-performance
     |      os.sendfile() and return the total number of bytes which
     |      were sent.
     |      *file* must be a regular file object opened in binary mode.
     |      If os.sendfile() is not available (e.g. Windows) or file is
     |      not a regular file socket.send() will be used instead.
     |      *offset* tells from where to start reading the file.
     |      If specified, *count* is the total number of bytes to transmit
     |      as opposed to sending the file until EOF is reached.
     |      File position is updated on return or also in case of error in
     |      which case file.tell() can be used to figure out the number of
     |      bytes which were sent.
     |      The socket must be of SOCK_STREAM type.
     |      Non-blocking sockets are not supported.
     |
     |  set_inheritable(self, inheritable)
     |      Set the inheritable flag of the socket
     |
     |  ----------------------------------------------------------------------
     |  Data descriptors defined here:
     |
     |  __weakref__
     |      list of weak references to the object (if defined)
     |
     |  family
     |      Read-only access to the address family for this socket.
     |
     |  type
     |      Read-only access to the socket type.
     |
     |  ----------------------------------------------------------------------
     |  Methods inherited from _socket.socket:
     |
     |  __del__(...)
     |
     |  __getattribute__(self, name, /)
     |      Return getattr(self, name).
     |
     |  bind(...)
     |      bind(address)
     |
     |      Bind the socket to a local address.  For IP sockets, the address is a
     |      pair (host, port); the host must refer to the local host. For raw packet
     |      sockets the address is a tuple (ifname, proto [,pkttype [,hatype [,addr]]])
     |
     |  connect(...)
     |      connect(address)
     |
     |      Connect the socket to a remote address.  For IP sockets, the address
     |      is a pair (host, port).
     |
     |  connect_ex(...)
     |      connect_ex(address) -&gt; errno
     |
     |      This is like connect(address), but returns an error code (the errno value)
     |      instead of raising an exception when an error occurs.
     |
     |  fileno(...)
     |      fileno() -&gt; integer
     |
     |      Return the integer file descriptor of the socket.
     |
     |  getblocking(...)
     |      getblocking()
     |
     |      Returns True if socket is in blocking mode, or False if it
     |      is in non-blocking mode.
     |
     |  getpeername(...)
     |      getpeername() -&gt; address info
     |
     |      Return the address of the remote endpoint.  For IP sockets, the address
     |      info is a pair (hostaddr, port).
     |
     |  getsockname(...)
     |      getsockname() -&gt; address info
     |
     |      Return the address of the local endpoint.  For IP sockets, the address
     |      info is a pair (hostaddr, port).
     |
     |  getsockopt(...)
     |      getsockopt(level, option[, buffersize]) -&gt; value
     |
     |      Get a socket option.  See the Unix manual for level and option.
     |      If a nonzero buffersize argument is given, the return value is a
     |      string of that length; otherwise it is an integer.
     |
     |  gettimeout(...)
     |      gettimeout() -&gt; timeout
     |
     |      Returns the timeout in seconds (float) associated with socket
     |      operations. A timeout of None indicates that timeouts on socket
     |      operations are disabled.
     |
     |  listen(...)
     |      listen([backlog])
     |
     |      Enable a server to accept connections.  If backlog is specified, it must be
     |      at least 0 (if it is lower, it is set to 0); it specifies the number of
     |      unaccepted connections that the system will allow before refusing new
     |      connections. If not specified, a default reasonable value is chosen.
     |
     |  recv(...)
     |      recv(buffersize[, flags]) -&gt; data
     |
     |      Receive up to buffersize bytes from the socket.  For the optional flags
     |      argument, see the Unix manual.  When no data is available, block until
     |      at least one byte is available or until the remote end is closed.  When
     |      the remote end is closed and all data is read, return the empty string.
     |
     |  recv_into(...)
     |      recv_into(buffer, [nbytes[, flags]]) -&gt; nbytes_read
     |
     |      A version of recv() that stores its data into a buffer rather than creating
     |      a new string.  Receive up to buffersize bytes from the socket.  If buffersize
     |      is not specified (or 0), receive up to the size available in the given buffer.
     |
     |      See recv() for documentation about the flags.
     |
     |  recvfrom(...)
     |      recvfrom(buffersize[, flags]) -&gt; (data, address info)
     |
     |      Like recv(buffersize, flags) but also return the sender's address info.
     |
     |  recvfrom_into(...)
     |      recvfrom_into(buffer[, nbytes[, flags]]) -&gt; (nbytes, address info)
     |
     |      Like recv_into(buffer[, nbytes[, flags]]) but also return the sender's address info.
     |
     |  recvmsg(...)
     |      recvmsg(bufsize[, ancbufsize[, flags]]) -&gt; (data, ancdata, msg_flags, address)
     |
     |      Receive normal data (up to bufsize bytes) and ancillary data from the
     |      socket.  The ancbufsize argument sets the size in bytes of the
     |      internal buffer used to receive the ancillary data; it defaults to 0,
     |      meaning that no ancillary data will be received.  Appropriate buffer
     |      sizes for ancillary data can be calculated using CMSG_SPACE() or
     |      CMSG_LEN(), and items which do not fit into the buffer might be
     |      truncated or discarded.  The flags argument defaults to 0 and has the
     |      same meaning as for recv().
     |
     |      The return value is a 4-tuple: (data, ancdata, msg_flags, address).
     |      The data item is a bytes object holding the non-ancillary data
     |      received.  The ancdata item is a list of zero or more tuples
     |      (cmsg_level, cmsg_type, cmsg_data) representing the ancillary data
     |      (control messages) received: cmsg_level and cmsg_type are integers
     |      specifying the protocol level and protocol-specific type respectively,
     |      and cmsg_data is a bytes object holding the associated data.  The
     |      msg_flags item is the bitwise OR of various flags indicating
     |      conditions on the received message; see your system documentation for
     |      details.  If the receiving socket is unconnected, address is the
     |      address of the sending socket, if available; otherwise, its value is
     |      unspecified.
     |
     |      If recvmsg() raises an exception after the system call returns, it
     |      will first attempt to close any file descriptors received via the
     |      SCM_RIGHTS mechanism.
     |
     |  recvmsg_into(...)
     |      recvmsg_into(buffers[, ancbufsize[, flags]]) -&gt; (nbytes, ancdata, msg_flags, address)
     |
     |      Receive normal data and ancillary data from the socket, scattering the
     |      non-ancillary data into a series of buffers.  The buffers argument
     |      must be an iterable of objects that export writable buffers
     |      (e.g. bytearray objects); these will be filled with successive chunks
     |      of the non-ancillary data until it has all been written or there are
     |      no more buffers.  The ancbufsize argument sets the size in bytes of
     |      the internal buffer used to receive the ancillary data; it defaults to
     |      0, meaning that no ancillary data will be received.  Appropriate
     |      buffer sizes for ancillary data can be calculated using CMSG_SPACE()
     |      or CMSG_LEN(), and items which do not fit into the buffer might be
     |      truncated or discarded.  The flags argument defaults to 0 and has the
     |      same meaning as for recv().
     |
     |      The return value is a 4-tuple: (nbytes, ancdata, msg_flags, address).
     |      The nbytes item is the total number of bytes of non-ancillary data
     |      written into the buffers.  The ancdata item is a list of zero or more
     |      tuples (cmsg_level, cmsg_type, cmsg_data) representing the ancillary
     |      data (control messages) received: cmsg_level and cmsg_type are
     |      integers specifying the protocol level and protocol-specific type
     |      respectively, and cmsg_data is a bytes object holding the associated
     |      data.  The msg_flags item is the bitwise OR of various flags
     |      indicating conditions on the received message; see your system
     |      documentation for details.  If the receiving socket is unconnected,
     |      address is the address of the sending socket, if available; otherwise,
     |      its value is unspecified.
     |
     |      If recvmsg_into() raises an exception after the system call returns,
     |      it will first attempt to close any file descriptors received via the
     |      SCM_RIGHTS mechanism.
     |
     |  send(...)
     |      send(data[, flags]) -&gt; count
     |
     |      Send a data string to the socket.  For the optional flags
     |      argument, see the Unix manual.  Return the number of bytes
     |      sent; this may be less than len(data) if the network is busy.
     |
     |  sendall(...)
     |      sendall(data[, flags])
     |
     |      Send a data string to the socket.  For the optional flags
     |      argument, see the Unix manual.  This calls send() repeatedly
     |      until all data is sent.  If an error occurs, it's impossible
     |      to tell how much data has been sent.
     |
     |  sendmsg(...)
     |      sendmsg(buffers[, ancdata[, flags[, address]]]) -&gt; count
     |
     |      Send normal and ancillary data to the socket, gathering the
     |      non-ancillary data from a series of buffers and concatenating it into
     |      a single message.  The buffers argument specifies the non-ancillary
     |      data as an iterable of bytes-like objects (e.g. bytes objects).
     |      The ancdata argument specifies the ancillary data (control messages)
     |      as an iterable of zero or more tuples (cmsg_level, cmsg_type,
     |      cmsg_data), where cmsg_level and cmsg_type are integers specifying the
     |      protocol level and protocol-specific type respectively, and cmsg_data
     |      is a bytes-like object holding the associated data.  The flags
     |      argument defaults to 0 and has the same meaning as for send().  If
     |      address is supplied and not None, it sets a destination address for
     |      the message.  The return value is the number of bytes of non-ancillary
     |      data sent.
     |
     |  sendto(...)
     |      sendto(data[, flags], address) -&gt; count
     |
     |      Like send(data, flags) but allows specifying the destination address.
     |      For IP sockets, the address is a pair (hostaddr, port).
     |
     |  setblocking(...)
     |      setblocking(flag)
     |
     |      Set the socket to blocking (flag is true) or non-blocking (false).
     |      setblocking(True) is equivalent to settimeout(None);
     |      setblocking(False) is equivalent to settimeout(0.0).
     |
     |  setsockopt(...)
     |      setsockopt(level, option, value: int)
     |      setsockopt(level, option, value: buffer)
     |      setsockopt(level, option, None, optlen: int)
     |
     |      Set a socket option.  See the Unix manual for level and option.
     |      The value argument can either be an integer, a string buffer, or
     |      None, optlen.
     |
     |  settimeout(...)
     |      settimeout(timeout)
     |
     |      Set a timeout on socket operations.  'timeout' can be a float,
     |      giving in seconds, or None.  Setting a timeout of None disables
     |      the timeout feature and is equivalent to setblocking(1).
     |      Setting a timeout of zero is the same as setblocking(0).
     |
     |  shutdown(...)
     |      shutdown(flag)
     |
     |      Shut down the reading side of the socket (flag == SHUT_RD), the writing side
     |      of the socket (flag == SHUT_WR), or both ends (flag == SHUT_RDWR).
     |
     |  ----------------------------------------------------------------------
     |  Static methods inherited from _socket.socket:
     |
     |  __new__(*args, **kwargs) from builtins.type
     |      Create and return a new object.  See help(type) for accurate signature.
     |
     |  ----------------------------------------------------------------------
     |  Data descriptors inherited from _socket.socket:
     |
     |  proto
     |      the socket protocol
     |
     |  timeout
     |      the socket timeout

<h4>    class timeout(builtins.OSError)</h4>     |  Base class for I/O related errors.
     |
     |  Method resolution order:
     |      timeout
     |      builtins.OSError
     |      builtins.Exception
     |      builtins.BaseException
     |      builtins.object
     |
     |  Data descriptors defined here:
     |
     |  __weakref__
     |      list of weak references to the object (if defined)
     |
     |  ----------------------------------------------------------------------
     |  Methods inherited from builtins.OSError:
     |
     |  __init__(self, /, *args, **kwargs)
     |      Initialize self.  See help(type(self)) for accurate signature.
     |
     |  __reduce__(...)
     |      Helper for pickle.
     |
     |  __str__(self, /)
     |      Return str(self).
     |
     |  ----------------------------------------------------------------------
     |  Static methods inherited from builtins.OSError:
     |
     |  __new__(*args, **kwargs) from builtins.type
     |      Create and return a new object.  See help(type) for accurate signature.
     |
     |  ----------------------------------------------------------------------
     |  Data descriptors inherited from builtins.OSError:
     |
     |  characters_written
     |
     |  errno
     |      POSIX exception code
     |
     |  filename
     |      exception filename
     |
     |  filename2
     |      second exception filename
     |
     |  strerror
     |      exception strerror
     |
     |  ----------------------------------------------------------------------
     |  Methods inherited from builtins.BaseException:
     |
     |  __delattr__(self, name, /)
     |      Implement delattr(self, name).
     |
     |  __getattribute__(self, name, /)
     |      Return getattr(self, name).
     |
     |  __repr__(self, /)
     |      Return repr(self).
     |
     |  __setattr__(self, name, value, /)
     |      Implement setattr(self, name, value).
     |
     |  __setstate__(...)
     |
     |  with_traceback(...)
     |      Exception.with_traceback(tb) --
     |      set self.__traceback__ to tb and return self.
     |
     |  ----------------------------------------------------------------------
     |  Data descriptors inherited from builtins.BaseException:
     |
     |  __cause__
     |      exception cause
     |
     |  __context__
     |      exception context
     |
     |  __dict__
     |
     |  __suppress_context__
     |
     |  __traceback__
     |
     |  args

<h3>FUNCTIONS</h3>    CMSG_LEN(...)
        CMSG_LEN(length) -&gt; control message length

        Return the total length, without trailing padding, of an ancillary
        data item with associated data of the given length.  This value can
        often be used as the buffer size for recvmsg() to receive a single
        item of ancillary data, but RFC 3542 requires portable applications to
        use CMSG_SPACE() and thus include space for padding, even when the
        item will be the last in the buffer.  Raises OverflowError if length
        is outside the permissible range of values.

    CMSG_SPACE(...)
        CMSG_SPACE(length) -&gt; buffer size

        Return the buffer size needed for recvmsg() to receive an ancillary
        data item with associated data of the given length, along with any
        trailing padding.  The buffer space needed to receive multiple items
        is the sum of the CMSG_SPACE() values for their associated data
        lengths.  Raises OverflowError if length is outside the permissible
        range of values.

    close(...)
        close(integer) -&gt; None

        Close an integer socket file descriptor.  This is like os.close(), but for
        sockets; on some platforms os.close() won't work for socket file descriptors.

    create_connection(address, timeout=&lt;object object at 0x108ece1c0&gt;, source_address=None)
        Connect to *address* and return the socket object.

        Convenience function.  Connect to *address* (a 2-tuple ``(host,
        port)``) and return the socket object.  Passing the optional
        *timeout* parameter will set the timeout on the socket instance
        before attempting to connect.  If no *timeout* is supplied, the
        global default timeout setting returned by :func:`getdefaulttimeout`
        is used.  If *source_address* is set it must be a tuple of (host, port)
        for the socket to bind as a source address before making the connection.
        A host of '' or port 0 tells the OS to use the default.

    dup(...)
        dup(integer) -&gt; integer

        Duplicate an integer socket file descriptor.  This is like os.dup(), but for
        sockets; on some platforms os.dup() won't work for socket file descriptors.

    fromfd(fd, family, type, proto=0)
        fromfd(fd, family, type[, proto]) -&gt; socket object

        Create a socket object from a duplicate of the given file
        descriptor.  The remaining arguments are the same as for socket().

    getaddrinfo(host, port, family=0, type=0, proto=0, flags=0)
        Resolve host and port into list of address info entries.

        Translate the host/port argument into a sequence of 5-tuples that contain
        all the necessary arguments for creating a socket connected to that service.
        host is a domain name, a string representation of an IPv4/v6 address or
        None. port is a string service name such as 'http', a numeric port number or
        None. By passing None as the value of host and port, you can pass NULL to
        the underlying C API.

        The family, type and proto arguments can be optionally specified in order to
        narrow the list of addresses returned. Passing zero as a value for each of
        these arguments selects the full range of results.

    getdefaulttimeout(...)
        getdefaulttimeout() -&gt; timeout

        Returns the default timeout in seconds (float) for new socket objects.
        A value of None indicates that new socket objects have no timeout.
        When the socket module is first imported, the default is None.

    getfqdn(name='')
        Get fully qualified domain name from name.

        An empty argument is interpreted as meaning the local host.

        First the hostname returned by gethostbyaddr() is checked, then
        possibly existing aliases. In case no FQDN is available, hostname
        from gethostname() is returned.

    gethostbyaddr(...)
        gethostbyaddr(host) -&gt; (name, aliaslist, addresslist)

        Return the true host name, a list of aliases, and a list of IP addresses,
        for a host.  The host argument is a string giving a host name or IP number.

    gethostbyname(...)
        gethostbyname(host) -&gt; address

        Return the IP address (a string of the form '255.255.255.255') for a host.

    gethostbyname_ex(...)
        gethostbyname_ex(host) -&gt; (name, aliaslist, addresslist)

        Return the true host name, a list of aliases, and a list of IP addresses,
        for a host.  The host argument is a string giving a host name or IP number.

    gethostname(...)
        gethostname() -&gt; string

        Return the current host name.

    getnameinfo(...)
        getnameinfo(sockaddr, flags) --&gt; (host, port)

        Get host and port for a sockaddr.

    getprotobyname(...)
        getprotobyname(name) -&gt; integer

        Return the protocol number for the named protocol.  (Rarely used.)

    getservbyname(...)
        getservbyname(servicename[, protocolname]) -&gt; integer

        Return a port number from a service name and protocol name.
        The optional protocol name, if given, should be 'tcp' or 'udp',
        otherwise any protocol will match.

    getservbyport(...)
        getservbyport(port[, protocolname]) -&gt; string

        Return the service name from a port number and protocol name.
        The optional protocol name, if given, should be 'tcp' or 'udp',
        otherwise any protocol will match.

    htonl(...)
        htonl(integer) -&gt; integer

        Convert a 32-bit integer from host to network byte order.

    htons(...)
        htons(integer) -&gt; integer

        Convert a 16-bit unsigned integer from host to network byte order.
        Note that in case the received integer does not fit in 16-bit unsigned
        integer, but does fit in a positive C int, it is silently truncated to
        16-bit unsigned integer.
        However, this silent truncation feature is deprecated, and will raise an
        exception in future versions of Python.

    if_indextoname(...)
        if_indextoname(if_index)

        Returns the interface name corresponding to the interface index if_index.

    if_nameindex(...)
        if_nameindex()

        Returns a list of network interface information (index, name) tuples.

    if_nametoindex(...)
        if_nametoindex(if_name)

        Returns the interface index corresponding to the interface name if_name.

    inet_aton(...)
        inet_aton(string) -&gt; bytes giving packed 32-bit IP representation

        Convert an IP address in string format (123.45.67.89) to the 32-bit packed
        binary format used in low-level network functions.

    inet_ntoa(...)
        inet_ntoa(packed_ip) -&gt; ip_address_string

        Convert an IP address from 32-bit packed binary format to string format

    inet_ntop(...)
        inet_ntop(af, packed_ip) -&gt; string formatted IP address

        Convert a packed IP address of the given family to string format.

    inet_pton(...)
        inet_pton(af, ip) -&gt; packed IP address string

        Convert an IP address from string format to a packed string suitable
        for use with low-level network functions.

    ntohl(...)
        ntohl(integer) -&gt; integer

        Convert a 32-bit integer from network to host byte order.

    ntohs(...)
        ntohs(integer) -&gt; integer

        Convert a 16-bit unsigned integer from network to host byte order.
        Note that in case the received integer does not fit in 16-bit unsigned
        integer, but does fit in a positive C int, it is silently truncated to
        16-bit unsigned integer.
        However, this silent truncation feature is deprecated, and will raise an
        exception in future versions of Python.

    setdefaulttimeout(...)
        setdefaulttimeout(timeout)

        Set the default timeout in seconds (float) for new socket objects.
        A value of None indicates that new socket objects have no timeout.
        When the socket module is first imported, the default is None.

    sethostname(...)
        sethostname(name)

        Sets the hostname to name.

    socketpair(family=None, type=&lt;SocketKind.SOCK_STREAM: 1&gt;, proto=0)
        socketpair([family[, type[, proto]]]) -&gt; (socket object, socket object)
        Create a pair of socket objects from the sockets returned by the platform
        socketpair() function.
        The arguments are the same as for socket() except the default family is AF_UNIX
        if defined on the platform; otherwise, the default is AF_INET.

<h3>DATA</h3>    AF_APPLETALK = &lt;AddressFamily.AF_APPLETALK: 16&gt;
    AF_DECnet = 12
    AF_INET = &lt;AddressFamily.AF_INET: 2&gt;
    AF_INET6 = &lt;AddressFamily.AF_INET6: 30&gt;
    AF_IPX = &lt;AddressFamily.AF_IPX: 23&gt;
    AF_LINK = &lt;AddressFamily.AF_LINK: 18&gt;
    AF_ROUTE = &lt;AddressFamily.AF_ROUTE: 17&gt;
    AF_SNA = &lt;AddressFamily.AF_SNA: 11&gt;
    AF_SYSTEM = &lt;AddressFamily.AF_SYSTEM: 32&gt;
    AF_UNIX = &lt;AddressFamily.AF_UNIX: 1&gt;
    AF_UNSPEC = &lt;AddressFamily.AF_UNSPEC: 0&gt;
    AI_ADDRCONFIG = &lt;AddressInfo.AI_ADDRCONFIG: 1024&gt;
    AI_ALL = &lt;AddressInfo.AI_ALL: 256&gt;
    AI_CANONNAME = &lt;AddressInfo.AI_CANONNAME: 2&gt;
    AI_DEFAULT = &lt;AddressInfo.AI_DEFAULT: 1536&gt;
    AI_MASK = &lt;AddressInfo.AI_MASK: 5127&gt;
    AI_NUMERICHOST = &lt;AddressInfo.AI_NUMERICHOST: 4&gt;
    AI_NUMERICSERV = &lt;AddressInfo.AI_NUMERICSERV: 4096&gt;
    AI_PASSIVE = &lt;AddressInfo.AI_PASSIVE: 1&gt;
    AI_V4MAPPED = &lt;AddressInfo.AI_V4MAPPED: 2048&gt;
    AI_V4MAPPED_CFG = &lt;AddressInfo.AI_V4MAPPED_CFG: 512&gt;
    CAPI = &lt;capsule object "_socket.CAPI"&gt;
    EAI_ADDRFAMILY = 1
    EAI_AGAIN = 2
    EAI_BADFLAGS = 3
    EAI_BADHINTS = 12
    EAI_FAIL = 4
    EAI_FAMILY = 5
    EAI_MAX = 15
    EAI_MEMORY = 6
    EAI_NODATA = 7
    EAI_NONAME = 8
    EAI_OVERFLOW = 14
    EAI_PROTOCOL = 13
    EAI_SERVICE = 9
    EAI_SOCKTYPE = 10
    EAI_SYSTEM = 11
    INADDR_ALLHOSTS_GROUP = 3758096385
    INADDR_ANY = 0
    INADDR_BROADCAST = 4294967295
    INADDR_LOOPBACK = 2130706433
    INADDR_MAX_LOCAL_GROUP = 3758096639
    INADDR_NONE = 4294967295
    INADDR_UNSPEC_GROUP = 3758096384
    IPPORT_RESERVED = 1024
    IPPORT_USERRESERVED = 5000
    IPPROTO_AH = 51
    IPPROTO_DSTOPTS = 60
    IPPROTO_EGP = 8
    IPPROTO_EON = 80
    IPPROTO_ESP = 50
    IPPROTO_FRAGMENT = 44
    IPPROTO_GGP = 3
    IPPROTO_GRE = 47
    IPPROTO_HELLO = 63
    IPPROTO_HOPOPTS = 0
    IPPROTO_ICMP = 1
    IPPROTO_ICMPV6 = 58
    IPPROTO_IDP = 22
    IPPROTO_IGMP = 2
    IPPROTO_IP = 0
    IPPROTO_IPCOMP = 108
    IPPROTO_IPIP = 4
    IPPROTO_IPV4 = 4
    IPPROTO_IPV6 = 41
    IPPROTO_MAX = 256
    IPPROTO_ND = 77
    IPPROTO_NONE = 59
    IPPROTO_PIM = 103
    IPPROTO_PUP = 12
    IPPROTO_RAW = 255
    IPPROTO_ROUTING = 43
    IPPROTO_RSVP = 46
    IPPROTO_SCTP = 132
    IPPROTO_TCP = 6
    IPPROTO_TP = 29
    IPPROTO_UDP = 17
    IPPROTO_XTP = 36
    IPV6_CHECKSUM = 26
    IPV6_JOIN_GROUP = 12
    IPV6_LEAVE_GROUP = 13
    IPV6_MULTICAST_HOPS = 10
    IPV6_MULTICAST_IF = 9
    IPV6_MULTICAST_LOOP = 11
    IPV6_RECVTCLASS = 35
    IPV6_RTHDR_TYPE_0 = 0
    IPV6_TCLASS = 36
    IPV6_UNICAST_HOPS = 4
    IPV6_V6ONLY = 27
    IP_ADD_MEMBERSHIP = 12
    IP_DEFAULT_MULTICAST_LOOP = 1
    IP_DEFAULT_MULTICAST_TTL = 1
    IP_DROP_MEMBERSHIP = 13
    IP_HDRINCL = 2
    IP_MAX_MEMBERSHIPS = 4095
    IP_MULTICAST_IF = 9
    IP_MULTICAST_LOOP = 11
    IP_MULTICAST_TTL = 10
    IP_OPTIONS = 1
    IP_RECVDSTADDR = 7
    IP_RECVOPTS = 5
    IP_RECVRETOPTS = 6
    IP_RETOPTS = 8
    IP_TOS = 3
    IP_TTL = 4
    LOCAL_PEERCRED = 1
    MSG_CTRUNC = &lt;MsgFlag.MSG_CTRUNC: 32&gt;
    MSG_DONTROUTE = &lt;MsgFlag.MSG_DONTROUTE: 4&gt;
    MSG_DONTWAIT = &lt;MsgFlag.MSG_DONTWAIT: 128&gt;
    MSG_EOF = &lt;MsgFlag.MSG_EOF: 256&gt;
    MSG_EOR = &lt;MsgFlag.MSG_EOR: 8&gt;
    MSG_OOB = &lt;MsgFlag.MSG_OOB: 1&gt;
    MSG_PEEK = &lt;MsgFlag.MSG_PEEK: 2&gt;
    MSG_TRUNC = &lt;MsgFlag.MSG_TRUNC: 16&gt;
    MSG_WAITALL = &lt;MsgFlag.MSG_WAITALL: 64&gt;
    NI_DGRAM = 16
    NI_MAXHOST = 1025
    NI_MAXSERV = 32
    NI_NAMEREQD = 4
    NI_NOFQDN = 1
    NI_NUMERICHOST = 2
    NI_NUMERICSERV = 8
    PF_SYSTEM = 32
    SCM_CREDS = 3
    SCM_RIGHTS = 1
    SHUT_RD = 0
    SHUT_RDWR = 2
    SHUT_WR = 1
    SOCK_DGRAM = &lt;SocketKind.SOCK_DGRAM: 2&gt;
    SOCK_RAW = &lt;SocketKind.SOCK_RAW: 3&gt;
    SOCK_RDM = &lt;SocketKind.SOCK_RDM: 4&gt;
    SOCK_SEQPACKET = &lt;SocketKind.SOCK_SEQPACKET: 5&gt;
    SOCK_STREAM = &lt;SocketKind.SOCK_STREAM: 1&gt;
    SOL_IP = 0
    SOL_SOCKET = 65535
    SOL_TCP = 6
    SOL_UDP = 17
    SOMAXCONN = 128
    SO_ACCEPTCONN = 2
    SO_BROADCAST = 32
    SO_DEBUG = 1
    SO_DONTROUTE = 16
    SO_ERROR = 4103
    SO_KEEPALIVE = 8
    SO_LINGER = 128
    SO_OOBINLINE = 256
    SO_RCVBUF = 4098
    SO_RCVLOWAT = 4100
    SO_RCVTIMEO = 4102
    SO_REUSEADDR = 4
    SO_REUSEPORT = 512
    SO_SNDBUF = 4097
    SO_SNDLOWAT = 4099
    SO_SNDTIMEO = 4101
    SO_TYPE = 4104
    SO_USELOOPBACK = 64
    SYSPROTO_CONTROL = 2
    TCP_FASTOPEN = 261
    TCP_KEEPCNT = 258
    TCP_KEEPINTVL = 257
    TCP_MAXSEG = 2
    TCP_NODELAY = 1
    TCP_NOTSENT_LOWAT = 513
    __all__ = ['fromfd', 'getfqdn', 'create_connection', 'AddressFamily', ...
    has_ipv6 = True

<h3>FILE</h3>    /usr/local/Cellar/python/3.7.2_1/Frameworks/Python.framework/Versions/3.7/lib/python3.7/socket.py<br></pre><div><br></div><div><br></div><div><div class="section" id="socket-families" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><h2 style="font-weight: normal; color: rgb(26, 26, 26); border: 0px; margin: 0px; padding: 0.3em 0px; font-size: 25.6px;" id="blogTitle7">Socket families<a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket-families" title="永久链接至标题" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></h2><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">Depending on the system and the build options, various socket families are supported by this module.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">The address format required by a particular socket object is automatically selected based on the address family specified when the socket object was created. Socket addresses are represented as follows:</p><ul><li style="hyphens: auto; text-align: justify; line-height: 20.8px;"><p class="first" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;">The address of an&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.AF_UNIX" title="socket.AF_UNIX" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">AF_UNIX</span></code></a>&nbsp;socket bound to a file system node is represented as a string, using the file system encoding and the&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">'surrogateescape'</span></code>&nbsp;error handler (see&nbsp;<span class="target" id="index-1"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0383" style="color: rgb(99, 99, 187); text-decoration-line: none;"><strong>PEP 383</strong></a>). An address in Linux's abstract namespace is returned as a&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/glossary.html#term-bytes-like-object" style="color: rgb(99, 99, 187); text-decoration-line: none;">bytes-like object</a>&nbsp;with an initial null byte; note that sockets in this namespace can communicate with normal file system sockets, so programs intended to run on Linux may need to deal with both types of address. A string or bytes-like object can be used for either type of address when passing it as an argument.</p><blockquote style="hyphens: auto; line-height: 20.8px;"><div class="versionchanged"><p style="hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">在 3.3 版更改:&nbsp;</span>Previously,&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.AF_UNIX" title="socket.AF_UNIX" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">AF_UNIX</span></code></a>&nbsp;socket paths were assumed to use UTF-8 encoding.</p></div><div class="versionchanged"><p style="hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">在 3.5 版更改:&nbsp;</span>Writable&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/glossary.html#term-bytes-like-object" style="color: rgb(99, 99, 187); text-decoration-line: none;">bytes-like object</a>&nbsp;is now accepted.</p></div></blockquote></li></ul><ul id="host-port"><li style="hyphens: auto; text-align: justify; line-height: 20.8px;"><p class="first" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;">A pair&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">(host,</span>&nbsp;<span class="pre" style="hyphens: none;">port)</span></code>&nbsp;is used for the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.AF_INET" title="socket.AF_INET" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">AF_INET</span></code></a>&nbsp;address family, where&nbsp;<em>host</em>&nbsp;is a string representing either a hostname in Internet domain notation like&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">'daring.cwi.nl'</span></code>&nbsp;or an IPv4 address like&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">'100.50.200.5'</span></code>, and&nbsp;<em>port</em>&nbsp;is an integer.</p><ul class="simple"><li style="hyphens: auto; text-align: justify; line-height: 20.8px;">For IPv4 addresses, two special forms are accepted instead of a host address:&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">''</span></code>&nbsp;represents&nbsp;<code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">INADDR_ANY</span></code>, which is used to bind to all interfaces, and the string&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">'&lt;broadcast&gt;'</span></code>&nbsp;represents&nbsp;<code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">INADDR_BROADCAST</span></code>. This behavior is not compatible with IPv6, therefore, you may want to avoid these if you intend to support IPv6 with your Python programs.</li></ul></li><li style="hyphens: auto; text-align: justify; line-height: 20.8px;"><p class="first" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;">For&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.AF_INET6" title="socket.AF_INET6" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">AF_INET6</span></code></a>&nbsp;address family, a four-tuple&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">(host,</span>&nbsp;<span class="pre" style="hyphens: none;">port,</span>&nbsp;<span class="pre" style="hyphens: none;">flowinfo,</span><span class="pre" style="hyphens: none;">scopeid)</span></code>&nbsp;is used, where&nbsp;<em>flowinfo</em>&nbsp;and&nbsp;<em>scopeid</em>&nbsp;represent the&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">sin6_flowinfo</span></code>and&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">sin6_scope_id</span></code>&nbsp;members in&nbsp;<code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">struct</span>&nbsp;<span class="pre" style="hyphens: none;">sockaddr_in6</span></code>&nbsp;in C. For&nbsp;<code class="xref py py-mod docutils literal notranslate" style="color: rgb(99, 99, 187); text-decoration-line: none; background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;"><a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#module-socket" title="socket: Low-level networking interface." style="color: rgb(99, 99, 187); text-decoration-line: none;">socket</a>&nbsp;</span></code>module methods,&nbsp;<em>flowinfo</em>&nbsp;and&nbsp;<em>scopeid</em>&nbsp;can be omitted just for backward compatibility. Note, however, omission of&nbsp;<em>scopeid</em>&nbsp;can cause problems in manipulating scoped IPv6 addresses.</p><div class="versionchanged"><p style="hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">在 3.7 版更改:&nbsp;</span>For multicast addresses (with&nbsp;<em>scopeid</em>&nbsp;meaningful)&nbsp;<em>address</em>&nbsp;may not contain&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">%scope</span></code>&nbsp;(or&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">zone</span>&nbsp;<span class="pre" style="hyphens: none;">id</span></code>) part. This information is superfluous and may be safely omitted (recommended).</p></div></li><li style="hyphens: auto; text-align: justify; line-height: 20.8px;"><p class="first" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;"><code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">AF_NETLINK</span></code>&nbsp;sockets are represented as pairs&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">(pid,</span>&nbsp;<span class="pre" style="hyphens: none;">groups)</span></code>.</p></li><li style="hyphens: auto; text-align: justify; line-height: 20.8px;"><p class="first" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;">Linux-only support for TIPC is available using the&nbsp;<code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">AF_TIPC</span></code>&nbsp;address family. TIPC is an open, non-IP based networked protocol designed for use in clustered computer environments. Addresses are represented by a tuple, and the fields depend on the address type. The general tuple form is&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">(addr_type,</span><span class="pre" style="hyphens: none;">v1,</span>&nbsp;<span class="pre" style="hyphens: none;">v2,</span>&nbsp;<span class="pre" style="hyphens: none;">v3</span>&nbsp;<span class="pre" style="hyphens: none;">[,</span>&nbsp;<span class="pre" style="hyphens: none;">scope])</span></code>, where:</p><ul><li style="hyphens: auto; text-align: justify; line-height: 20.8px;"><p class="first" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;"><em>addr_type</em>&nbsp;is one of&nbsp;<code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">TIPC_ADDR_NAMESEQ</span></code>,&nbsp;<code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">TIPC_ADDR_NAME</span></code>, or&nbsp;<code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">TIPC_ADDR_ID</span></code>.</p></li><li style="hyphens: auto; text-align: justify; line-height: 20.8px;"><p class="first" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;"><em>scope</em>&nbsp;is one of&nbsp;<code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">TIPC_ZONE_SCOPE</span></code>,&nbsp;<code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">TIPC_CLUSTER_SCOPE</span></code>, and<code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">TIPC_NODE_SCOPE</span></code>.</p></li><li style="hyphens: auto; text-align: justify; line-height: 20.8px;"><p class="first" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;">If&nbsp;<em>addr_type</em>&nbsp;is&nbsp;<code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">TIPC_ADDR_NAME</span></code>, then&nbsp;<em>v1</em>&nbsp;is the server type,&nbsp;<em>v2</em>&nbsp;is the port identifier, and&nbsp;<em>v3</em>&nbsp;should be 0.</p><p style="hyphens: auto; line-height: 22.4px;">If&nbsp;<em>addr_type</em>&nbsp;is&nbsp;<code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">TIPC_ADDR_NAMESEQ</span></code>, then&nbsp;<em>v1</em>&nbsp;is the server type,&nbsp;<em>v2</em>&nbsp;is the lower port number, and&nbsp;<em>v3</em>&nbsp;is the upper port number.</p><p style="hyphens: auto; line-height: 22.4px;">If&nbsp;<em>addr_type</em>&nbsp;is&nbsp;<code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">TIPC_ADDR_ID</span></code>, then&nbsp;<em>v1</em>&nbsp;is the node,&nbsp;<em>v2</em>&nbsp;is the reference, and&nbsp;<em>v3</em>&nbsp;should be set to 0.</p></li></ul></li><li style="hyphens: auto; text-align: justify; line-height: 20.8px;"><p class="first" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;">A tuple&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">(interface,</span>&nbsp;<span class="pre" style="hyphens: none;">)</span></code>&nbsp;is used for the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.AF_CAN" title="socket.AF_CAN" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">AF_CAN</span></code></a>&nbsp;address family, where&nbsp;<em>interface</em>is a string representing a network interface name like&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">'can0'</span></code>. The network interface name&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">''</span></code>&nbsp;can be used to receive packets from all network interfaces of this family.</p><ul class="simple"><li style="hyphens: auto; text-align: justify; line-height: 20.8px;"><a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.CAN_ISOTP" title="socket.CAN_ISOTP" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">CAN_ISOTP</span></code></a>&nbsp;protocol require a tuple&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">(interface,</span>&nbsp;<span class="pre" style="hyphens: none;">rx_addr,</span>&nbsp;<span class="pre" style="hyphens: none;">tx_addr)</span></code>where both additional parameters are unsigned long integer that represent a CAN identifier (standard or extended).</li></ul></li><li style="hyphens: auto; text-align: justify; line-height: 20.8px;"><p class="first" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;">A string or a tuple&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">(id,</span>&nbsp;<span class="pre" style="hyphens: none;">unit)</span></code>&nbsp;is used for the&nbsp;<code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">SYSPROTO_CONTROL</span></code>&nbsp;protocol of the&nbsp;<code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">PF_SYSTEM</span></code>&nbsp;family. The string is the name of a kernel control using a dynamically-assigned ID. The tuple can be used if ID and unit number of the kernel control are known or if a registered ID is used.</p><div class="versionadded"><p style="hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">3.3 新版功能.</span></p></div></li><li style="hyphens: auto; text-align: justify; line-height: 20.8px;"><p class="first" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;"><code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">AF_BLUETOOTH</span></code>&nbsp;supports the following protocols and address formats:</p><ul><li style="hyphens: auto; text-align: justify; line-height: 20.8px;"><p class="first" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;"><code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">BTPROTO_L2CAP</span></code>&nbsp;accepts&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">(bdaddr,</span>&nbsp;<span class="pre" style="hyphens: none;">psm)</span></code>&nbsp;where&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">bdaddr</span></code>&nbsp;is the Bluetooth address as a string and&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">psm</span></code>&nbsp;is an integer.</p></li><li style="hyphens: auto; text-align: justify; line-height: 20.8px;"><p class="first" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;"><code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">BTPROTO_RFCOMM</span></code>&nbsp;accepts&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">(bdaddr,</span>&nbsp;<span class="pre" style="hyphens: none;">channel)</span></code>&nbsp;where&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">bdaddr</span></code>&nbsp;is the Bluetooth address as a string and&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">channel</span></code>&nbsp;is an integer.</p></li><li style="hyphens: auto; text-align: justify; line-height: 20.8px;"><p class="first" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;"><code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">BTPROTO_HCI</span></code>&nbsp;accepts&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">(device_id,)</span></code>&nbsp;where&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">device_id</span></code>&nbsp;is either an integer or a string with the Bluetooth address of the interface. (This depends on your OS; NetBSD and DragonFlyBSD expect a Bluetooth address while everything else expects an integer.)</p><div class="versionchanged"><p style="hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">在 3.2 版更改:&nbsp;</span>NetBSD and DragonFlyBSD support added.</p></div></li><li style="hyphens: auto; text-align: justify; line-height: 20.8px;"><p class="first" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;"><code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">BTPROTO_SCO</span></code>&nbsp;accepts&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">bdaddr</span></code>&nbsp;where&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">bdaddr</span></code>&nbsp;is a&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/stdtypes.html#bytes" title="bytes" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">bytes</span></code></a>&nbsp;object containing the Bluetooth address in a string format. (ex.&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">b'12:23:34:45:56:67'</span></code>) This protocol is not supported under FreeBSD.</p></li></ul></li><li style="hyphens: auto; text-align: justify; line-height: 20.8px;"><p class="first" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;"><a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.AF_ALG" title="socket.AF_ALG" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">AF_ALG</span></code></a>&nbsp;is a Linux-only socket based interface to Kernel cryptography. An algorithm socket is configured with a tuple of two to four elements&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">(type,</span><span class="pre" style="hyphens: none;">name</span>&nbsp;<span class="pre" style="hyphens: none;">[,</span>&nbsp;<span class="pre" style="hyphens: none;">feat</span>&nbsp;<span class="pre" style="hyphens: none;">[,</span>&nbsp;<span class="pre" style="hyphens: none;">mask]])</span></code>, where:</p><ul class="simple"><li style="hyphens: auto; text-align: justify; line-height: 20.8px;"><em>type</em>&nbsp;is the algorithm type as string, e.g.&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">aead</span></code>,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">hash</span></code>,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">skcipher</span></code>&nbsp;or&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">rng</span></code>.</li><li style="hyphens: auto; text-align: justify; line-height: 20.8px;"><em>name</em>&nbsp;is the algorithm name and operation mode as string, e.g.&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">sha256</span></code>,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">hmac(sha256)</span></code>,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">cbc(aes)</span></code>&nbsp;or&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">drbg_nopr_ctr_aes256</span></code>.</li><li style="hyphens: auto; text-align: justify; line-height: 20.8px;"><em>feat</em>&nbsp;and&nbsp;<em>mask</em>&nbsp;are unsigned 32bit integers.</li></ul><p class="availability" style="hyphens: auto; line-height: 22.4px;"><a class="reference internal" href="https://docs.python.org/zh-cn/3/library/intro.html#availability" style="color: rgb(99, 99, 187); text-decoration-line: none;">Availability</a>: Linux 2.6.38, some algorithm types require more recent Kernels.</p><div class="versionadded"><p style="hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">3.6 新版功能.</span></p></div></li><li style="hyphens: auto; text-align: justify; line-height: 20.8px;"><p class="first" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;"><a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.AF_VSOCK" title="socket.AF_VSOCK" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">AF_VSOCK</span></code></a>&nbsp;allows communication between virtual machines and their hosts. The sockets are represented as a&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">(CID,</span>&nbsp;<span class="pre" style="hyphens: none;">port)</span></code>&nbsp;tuple where the context ID or CID and port are integers.</p><p class="availability" style="hyphens: auto; line-height: 22.4px;"><a class="reference internal" href="https://docs.python.org/zh-cn/3/library/intro.html#availability" style="color: rgb(99, 99, 187); text-decoration-line: none;">Availability</a>: Linux &gt;= 4.8 QEMU &gt;= 2.8 ESX &gt;= 4.0 ESX Workstation &gt;= 6.5.</p><div class="versionadded"><p style="hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">3.7 新版功能.</span></p></div></li><li style="hyphens: auto; text-align: justify; line-height: 20.8px;"><p class="first" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;"><a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.AF_PACKET" title="socket.AF_PACKET" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">AF_PACKET</span></code></a>&nbsp;is a low-level interface directly to network devices. The packets are represented by the tuple&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">(ifname,</span>&nbsp;<span class="pre" style="hyphens: none;">proto[,</span>&nbsp;<span class="pre" style="hyphens: none;">pkttype[,</span>&nbsp;<span class="pre" style="hyphens: none;">hatype[,</span><span class="pre" style="hyphens: none;">addr]]])</span></code>&nbsp;where:</p><ul class="simple"><li style="hyphens: auto; text-align: justify; line-height: 20.8px;"><em>ifname</em>&nbsp;- String specifying the device name.</li><li style="hyphens: auto; text-align: justify; line-height: 20.8px;"><em>proto</em>&nbsp;- An in network-byte-order integer specifying the Ethernet protocol number.</li><li style="hyphens: auto; text-align: justify; line-height: 20.8px;"><em>pkttype</em>&nbsp;- Optional integer specifying the packet type:<ul><li style="hyphens: auto; text-align: justify; line-height: 20.8px;"><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">PACKET_HOST</span></code>&nbsp;(the default) - Packet addressed to the local host.</li><li style="hyphens: auto; text-align: justify; line-height: 20.8px;"><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">PACKET_BROADCAST</span></code>&nbsp;- Physical-layer broadcast packet.</li><li style="hyphens: auto; text-align: justify; line-height: 20.8px;"><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">PACKET_MULTIHOST</span></code>&nbsp;- Packet sent to a physical-layer multicast address.</li><li style="hyphens: auto; text-align: justify; line-height: 20.8px;"><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">PACKET_OTHERHOST</span></code>&nbsp;- Packet to some other host that has been caught by a device driver in promiscuous mode.</li><li style="hyphens: auto; text-align: justify; line-height: 20.8px;"><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">PACKET_OUTGOING</span></code>&nbsp;- Packet originating from the local host that is looped back to a packet socket.</li></ul></li><li style="hyphens: auto; text-align: justify; line-height: 20.8px;"><em>hatype</em>&nbsp;- Optional integer specifying the ARP hardware address type.</li><li style="hyphens: auto; text-align: justify; line-height: 20.8px;"><em>addr</em>&nbsp;- Optional bytes-like object specifying the hardware physical address, whose interpretation depends on the device.</li></ul></li></ul><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">If you use a hostname in the&nbsp;<em>host</em>&nbsp;portion of IPv4/v6 socket address, the program may show a nondeterministic behavior, as Python uses the first address returned from the DNS resolution. The socket address will be resolved differently into an actual IPv4/v6 address, depending on the results from DNS resolution and/or the host configuration. For deterministic behavior use a numeric address in&nbsp;<em>host</em>portion.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">All errors raise exceptions. The normal exceptions for invalid argument types and out-of-memory conditions can be raised; starting from Python 3.3, errors related to socket or address semantics raise&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#OSError" title="OSError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">OSError</span></code></a>&nbsp;or one of its subclasses (they used to raise&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.error" title="socket.error" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">socket.error</span></code></a>).</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">Non-blocking mode is supported through&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.setblocking" title="socket.socket.setblocking" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">setblocking()</span></code></a>. A generalization of this based on timeouts is supported through&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.settimeout" title="socket.socket.settimeout" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">settimeout()</span></code></a>.</p></div><div class="section" id="module-contents" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><h2 style="font-weight: normal; color: rgb(26, 26, 26); border: 0px; margin: 0px; padding: 0.3em 0px; font-size: 25.6px;" id="blogTitle8">Module contents<a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#module-contents" title="永久链接至标题" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></h2><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">The module&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#module-socket" title="socket: Low-level networking interface." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">socket</span></code></a>&nbsp;exports the following elements.</p><div class="section" id="exceptions"><h3 style="font-weight: normal; color: rgb(26, 26, 26); border: 0px; margin: 0px; padding: 0.3em 0px; font-size: 22.4px;" id="blogTitle9">异常<a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#exceptions" title="永久链接至标题" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></h3><dl class="exception" style="margin-bottom: 15px;"><dt id="socket.error"><em class="property">exception&nbsp;</em><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">error</code><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.error" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">A deprecated alias of&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#OSError" title="OSError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">OSError</span></code></a>.</p><div class="versionchanged"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">在 3.3 版更改:&nbsp;</span>Following&nbsp;<span class="target" id="index-2"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-3151" style="color: rgb(99, 99, 187); text-decoration-line: none;"><strong>PEP 3151</strong></a>, this class was made an alias of&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#OSError" title="OSError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">OSError</span></code></a>.</p></div></dd></dl><dl class="exception" style="margin-bottom: 15px;"><dt id="socket.herror"><em class="property">exception&nbsp;</em><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">herror</code><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.herror" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">A subclass of&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#OSError" title="OSError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">OSError</span></code></a>, this exception is raised for address-related errors, i.e. for functions that use&nbsp;<em>h_errno</em>&nbsp;in the POSIX C API, including&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.gethostbyname_ex" title="socket.gethostbyname_ex" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">gethostbyname_ex()</span></code></a>&nbsp;and&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.gethostbyaddr" title="socket.gethostbyaddr" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">gethostbyaddr()</span></code></a>. The accompanying value is a pair&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">(h_errno,</span>&nbsp;<span class="pre" style="hyphens: none;">string)</span></code>&nbsp;representing an error returned by a library call.&nbsp;<em>h_errno</em>&nbsp;is a numeric value, while&nbsp;<em>string</em>&nbsp;represents the description of&nbsp;<em>h_errno</em>, as returned by the&nbsp;<code class="xref c c-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">hstrerror()</span></code>&nbsp;C function.</p><div class="versionchanged"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">在 3.3 版更改:&nbsp;</span>This class was made a subclass of&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#OSError" title="OSError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">OSError</span></code></a>.</p></div></dd></dl><dl class="exception" style="margin-bottom: 15px;"><dt id="socket.gaierror"><em class="property">exception&nbsp;</em><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">gaierror</code><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.gaierror" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">A subclass of&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#OSError" title="OSError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">OSError</span></code></a>, this exception is raised for address-related errors by&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.getaddrinfo" title="socket.getaddrinfo" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">getaddrinfo()</span></code></a>&nbsp;and&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.getnameinfo" title="socket.getnameinfo" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">getnameinfo()</span></code></a>. The accompanying value is a pair&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">(error,</span>&nbsp;<span class="pre" style="hyphens: none;">string)</span></code>&nbsp;representing an error returned by a library call.&nbsp;<em>string</em>represents the description of&nbsp;<em>error</em>, as returned by the&nbsp;<code class="xref c c-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">gai_strerror()</span></code>&nbsp;C function. The numeric&nbsp;<em>error</em>&nbsp;value will match one of the&nbsp;<code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">EAI_*</span></code>&nbsp;constants defined in this module.</p><div class="versionchanged"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">在 3.3 版更改:&nbsp;</span>This class was made a subclass of&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#OSError" title="OSError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">OSError</span></code></a>.</p></div></dd></dl><dl class="exception" style="margin-bottom: 15px;"><dt id="socket.timeout"><em class="property">exception&nbsp;</em><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">timeout</code><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.timeout" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">A subclass of&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#OSError" title="OSError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">OSError</span></code></a>, this exception is raised when a timeout occurs on a socket which has had timeouts enabled via a prior call to&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.settimeout" title="socket.socket.settimeout" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">settimeout()</span></code></a>&nbsp;(or implicitly through&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.setdefaulttimeout" title="socket.setdefaulttimeout" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">setdefaulttimeout()</span></code></a>). The accompanying value is a string whose value is currently always "timed out".</p><div class="versionchanged"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">在 3.3 版更改:&nbsp;</span>This class was made a subclass of&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#OSError" title="OSError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">OSError</span></code></a>.</p></div></dd></dl></div><div class="section" id="constants"><h3 style="font-weight: normal; color: rgb(26, 26, 26); border: 0px; margin: 0px; padding: 0.3em 0px; font-size: 22.4px;" id="blogTitle10">Constants<a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#constants" title="永久链接至标题" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></h3><blockquote style="hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="hyphens: auto; line-height: 22.4px;">The AF_* and SOCK_* constants are now&nbsp;<code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">AddressFamily</span></code>&nbsp;and<code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">SocketKind</span></code>&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/enum.html#enum.IntEnum" title="enum.IntEnum" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">IntEnum</span></code></a>&nbsp;collections.</p><div class="versionadded"><p style="hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">3.4 新版功能.</span></p></div></blockquote><dl class="data" style="margin-bottom: 15px;"><dt id="socket.AF_UNIX"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">AF_UNIX</code><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.AF_UNIX" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dt id="socket.AF_INET"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">AF_INET</code><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.AF_INET" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dt id="socket.AF_INET6"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">AF_INET6</code><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.AF_INET6" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">These constants represent the address (and protocol) families, used for the first argument to&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket" title="socket.socket" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">socket()</span></code></a>. If the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.AF_UNIX" title="socket.AF_UNIX" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">AF_UNIX</span></code></a>&nbsp;constant is not defined then this protocol is unsupported. More constants may be available depending on the system.</p></dd></dl><dl class="data" style="margin-bottom: 15px;"><dt id="socket.SOCK_STREAM"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">SOCK_STREAM</code><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.SOCK_STREAM" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dt id="socket.SOCK_DGRAM"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">SOCK_DGRAM</code><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.SOCK_DGRAM" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dt id="socket.SOCK_RAW"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">SOCK_RAW</code><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.SOCK_RAW" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dt id="socket.SOCK_RDM"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">SOCK_RDM</code><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.SOCK_RDM" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dt id="socket.SOCK_SEQPACKET"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">SOCK_SEQPACKET</code><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.SOCK_SEQPACKET" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">These constants represent the socket types, used for the second argument to<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket" title="socket.socket" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">socket()</span></code></a>. More constants may be available depending on the system. (Only&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.SOCK_STREAM" title="socket.SOCK_STREAM" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">SOCK_STREAM</span></code></a>&nbsp;and&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.SOCK_DGRAM" title="socket.SOCK_DGRAM" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">SOCK_DGRAM</span></code></a>&nbsp;appear to be generally useful.)</p></dd></dl><dl class="data" style="margin-bottom: 15px;"><dt id="socket.SOCK_CLOEXEC"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">SOCK_CLOEXEC</code><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.SOCK_CLOEXEC" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dt id="socket.SOCK_NONBLOCK"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">SOCK_NONBLOCK</code><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.SOCK_NONBLOCK" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">These two constants, if defined, can be combined with the socket types and allow you to set some flags atomically (thus avoiding possible race conditions and the need for separate calls).</p><div class="admonition seealso" style="margin-top: 10px; margin-bottom: 10px; padding: 7px; background-color: rgb(255, 255, 204); border: 1px solid rgb(221, 221, 102); border-radius: 3px;"><p class="first admonition-title" style="margin: 0px 10px 5px 0px; font-weight: bold; display: inline; hyphens: auto; line-height: 22.4px;">参见</p>&nbsp;<p class="last" style="margin-top: 0px; hyphens: auto; line-height: 22.4px; margin-bottom: 5px; display: inline;"><a class="reference external" href="http://udrepper.livejournal.com/20407.html" style="color: rgb(99, 99, 187); text-decoration-line: none;">Secure File Descriptor Handling</a>&nbsp;for a more thorough explanation.</p></div><p class="availability" style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><a class="reference internal" href="https://docs.python.org/zh-cn/3/library/intro.html#availability" style="color: rgb(99, 99, 187); text-decoration-line: none;">Availability</a>: Linux &gt;= 2.6.27.</p><div class="versionadded"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">3.2 新版功能.</span></p></div></dd></dl><dl class="data" style="margin-bottom: 15px;"><dt><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">SO_*</code></dt><dt id="socket.SOMAXCONN"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">SOMAXCONN</code><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.SOMAXCONN" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dt><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">MSG_*</code></dt><dt><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">SOL_*</code></dt><dt><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">SCM_*</code></dt><dt><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">IPPROTO_*</code></dt><dt><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">IPPORT_*</code></dt><dt><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">INADDR_*</code></dt><dt><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">IP_*</code></dt><dt><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">IPV6_*</code></dt><dt><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">EAI_*</code></dt><dt><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">AI_*</code></dt><dt><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">NI_*</code></dt><dt><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">TCP_*</code></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Many constants of these forms, documented in the Unix documentation on sockets and/or the IP protocol, are also defined in the socket module. They are generally used in arguments to the&nbsp;<code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">setsockopt()</span></code>&nbsp;and&nbsp;<code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">getsockopt()</span></code>&nbsp;methods of socket objects. In most cases, only those symbols that are defined in the Unix header files are defined; for a few symbols, default values are provided.</p><div class="versionchanged"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">在 3.6 版更改:&nbsp;</span><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">SO_DOMAIN</span></code>,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">SO_PROTOCOL</span></code>,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">SO_PEERSEC</span></code>,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">SO_PASSSEC</span></code>,<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">TCP_USER_TIMEOUT</span></code>,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">TCP_CONGESTION</span></code>&nbsp;were added.</p></div><div class="versionchanged"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">在 3.6.5 版更改:&nbsp;</span>On Windows,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">TCP_FASTOPEN</span></code>,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">TCP_KEEPCNT</span></code>&nbsp;appear if run-time Windows supports.</p></div><div class="versionchanged"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">在 3.7 版更改:&nbsp;</span><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">TCP_NOTSENT_LOWAT</span></code>&nbsp;was added.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">On Windows,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">TCP_KEEPIDLE</span></code>,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">TCP_KEEPINTVL</span></code>&nbsp;appear if run-time Windows supports.</p></div></dd></dl><dl class="data" style="margin-bottom: 15px;"><dt id="socket.AF_CAN"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">AF_CAN</code><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.AF_CAN" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dt id="socket.PF_CAN"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">PF_CAN</code><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.PF_CAN" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dt><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">SOL_CAN_*</code></dt><dt><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">CAN_*</code></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Many constants of these forms, documented in the Linux documentation, are also defined in the socket module.</p><p class="availability" style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><a class="reference internal" href="https://docs.python.org/zh-cn/3/library/intro.html#availability" style="color: rgb(99, 99, 187); text-decoration-line: none;">Availability</a>: Linux &gt;= 2.6.25.</p><div class="versionadded"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">3.3 新版功能.</span></p></div></dd></dl><dl class="data" style="margin-bottom: 15px;"><dt id="socket.CAN_BCM"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">CAN_BCM</code><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.CAN_BCM" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dt><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">CAN_BCM_*</code></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">CAN_BCM, in the CAN protocol family, is the broadcast manager (BCM) protocol. Broadcast manager constants, documented in the Linux documentation, are also defined in the socket module.</p><p class="availability" style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><a class="reference internal" href="https://docs.python.org/zh-cn/3/library/intro.html#availability" style="color: rgb(99, 99, 187); text-decoration-line: none;">Availability</a>: Linux &gt;= 2.6.25.</p><div class="versionadded"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">3.4 新版功能.</span></p></div></dd></dl><dl class="data" style="margin-bottom: 15px;"><dt id="socket.CAN_RAW_FD_FRAMES"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">CAN_RAW_FD_FRAMES</code><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.CAN_RAW_FD_FRAMES" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Enables CAN FD support in a CAN_RAW socket. This is disabled by default. This allows your application to send both CAN and CAN FD frames; however, you one must accept both CAN and CAN FD frames when reading from the socket.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">This constant is documented in the Linux documentation.</p><p class="availability" style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><a class="reference internal" href="https://docs.python.org/zh-cn/3/library/intro.html#availability" style="color: rgb(99, 99, 187); text-decoration-line: none;">Availability</a>: Linux &gt;= 3.6.</p><div class="versionadded"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">3.5 新版功能.</span></p></div></dd></dl><dl class="data" style="margin-bottom: 15px;"><dt id="socket.CAN_ISOTP"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">CAN_ISOTP</code><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.CAN_ISOTP" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">CAN_ISOTP, in the CAN protocol family, is the ISO-TP (ISO 15765-2) protocol. ISO-TP constants, documented in the Linux documentation.</p><p class="availability" style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><a class="reference internal" href="https://docs.python.org/zh-cn/3/library/intro.html#availability" style="color: rgb(99, 99, 187); text-decoration-line: none;">Availability</a>: Linux &gt;= 2.6.25.</p><div class="versionadded"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">3.7 新版功能.</span></p></div></dd></dl><dl class="data" style="margin-bottom: 15px;"><dt id="socket.AF_PACKET"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">AF_PACKET</code><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.AF_PACKET" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dt id="socket.PF_PACKET"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">PF_PACKET</code><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.PF_PACKET" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dt><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">PACKET_*</code></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Many constants of these forms, documented in the Linux documentation, are also defined in the socket module.</p><p class="availability" style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><a class="reference internal" href="https://docs.python.org/zh-cn/3/library/intro.html#availability" style="color: rgb(99, 99, 187); text-decoration-line: none;">Availability</a>: Linux &gt;= 2.2.</p></dd></dl><dl class="data" style="margin-bottom: 15px;"><dt id="socket.AF_RDS"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">AF_RDS</code><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.AF_RDS" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dt id="socket.PF_RDS"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">PF_RDS</code><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.PF_RDS" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dt id="socket.SOL_RDS"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">SOL_RDS</code><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.SOL_RDS" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dt><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">RDS_*</code></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Many constants of these forms, documented in the Linux documentation, are also defined in the socket module.</p><p class="availability" style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><a class="reference internal" href="https://docs.python.org/zh-cn/3/library/intro.html#availability" style="color: rgb(99, 99, 187); text-decoration-line: none;">Availability</a>: Linux &gt;= 2.6.30.</p><div class="versionadded"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">3.3 新版功能.</span></p></div></dd></dl><dl class="data" style="margin-bottom: 15px;"><dt id="socket.SIO_RCVALL"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">SIO_RCVALL</code><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.SIO_RCVALL" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dt id="socket.SIO_KEEPALIVE_VALS"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">SIO_KEEPALIVE_VALS</code><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.SIO_KEEPALIVE_VALS" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dt id="socket.SIO_LOOPBACK_FAST_PATH"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">SIO_LOOPBACK_FAST_PATH</code><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.SIO_LOOPBACK_FAST_PATH" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dt><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">RCVALL_*</code></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Constants for Windows' WSAIoctl(). The constants are used as arguments to the<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.ioctl" title="socket.socket.ioctl" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">ioctl()</span></code></a>&nbsp;method of socket objects.</p><div class="versionchanged"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">在 3.6 版更改:&nbsp;</span><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">SIO_LOOPBACK_FAST_PATH</span></code>&nbsp;was added.</p></div></dd></dl><dl class="data" style="margin-bottom: 15px;"><dt><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">TIPC_*</code></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">TIPC related constants, matching the ones exported by the C socket API. See the TIPC documentation for more information.</p></dd></dl><dl class="data" style="margin-bottom: 15px;"><dt id="socket.AF_ALG"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">AF_ALG</code><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.AF_ALG" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dt id="socket.SOL_ALG"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">SOL_ALG</code><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.SOL_ALG" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dt><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">ALG_*</code></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Constants for Linux Kernel cryptography.</p><p class="availability" style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><a class="reference internal" href="https://docs.python.org/zh-cn/3/library/intro.html#availability" style="color: rgb(99, 99, 187); text-decoration-line: none;">Availability</a>: Linux &gt;= 2.6.38.</p><div class="versionadded"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">3.6 新版功能.</span></p></div></dd></dl><dl class="data" style="margin-bottom: 15px;"><dt id="socket.AF_VSOCK"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">AF_VSOCK</code><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.AF_VSOCK" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dt id="socket.IOCTL_VM_SOCKETS_GET_LOCAL_CID"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">IOCTL_VM_SOCKETS_GET_LOCAL_CID</code><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.IOCTL_VM_SOCKETS_GET_LOCAL_CID" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dt><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">VMADDR*</code></dt><dt><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">SO_VM*</code></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Constants for Linux host/guest communication.</p><p class="availability" style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><a class="reference internal" href="https://docs.python.org/zh-cn/3/library/intro.html#availability" style="color: rgb(99, 99, 187); text-decoration-line: none;">Availability</a>: Linux &gt;= 4.8.</p><div class="versionadded"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">3.7 新版功能.</span></p></div></dd></dl><dl class="data" style="margin-bottom: 15px;"><dt id="socket.AF_LINK"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">AF_LINK</code><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.AF_LINK" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p class="availability" style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><a class="reference internal" href="https://docs.python.org/zh-cn/3/library/intro.html#availability" style="color: rgb(99, 99, 187); text-decoration-line: none;">Availability</a>: BSD, OSX.</p><div class="versionadded"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">3.4 新版功能.</span></p></div></dd></dl><dl class="data" style="margin-bottom: 15px;"><dt id="socket.has_ipv6"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">has_ipv6</code><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.has_ipv6" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">This constant contains a boolean value which indicates if IPv6 is supported on this platform.</p></dd></dl><dl class="data" style="margin-bottom: 15px;"><dt id="socket.BDADDR_ANY"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">BDADDR_ANY</code><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.BDADDR_ANY" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dt id="socket.BDADDR_LOCAL"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">BDADDR_LOCAL</code><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.BDADDR_LOCAL" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">These are string constants containing Bluetooth addresses with special meanings. For example,&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.BDADDR_ANY" title="socket.BDADDR_ANY" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">BDADDR_ANY</span></code></a>&nbsp;can be used to indicate any address when specifying the binding socket with&nbsp;<code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">BTPROTO_RFCOMM</span></code>.</p></dd></dl><dl class="data" style="margin-bottom: 15px;"><dt id="socket.HCI_FILTER"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">HCI_FILTER</code><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.HCI_FILTER" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dt id="socket.HCI_TIME_STAMP"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">HCI_TIME_STAMP</code><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.HCI_TIME_STAMP" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dt id="socket.HCI_DATA_DIR"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">HCI_DATA_DIR</code><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.HCI_DATA_DIR" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">For use with&nbsp;<code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">BTPROTO_HCI</span></code>.&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.HCI_FILTER" title="socket.HCI_FILTER" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">HCI_FILTER</span></code></a>&nbsp;is not available for NetBSD or DragonFlyBSD.&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.HCI_TIME_STAMP" title="socket.HCI_TIME_STAMP" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">HCI_TIME_STAMP</span></code></a>&nbsp;and&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.HCI_DATA_DIR" title="socket.HCI_DATA_DIR" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">HCI_DATA_DIR</span></code></a>&nbsp;are not available for FreeBSD, NetBSD, or DragonFlyBSD.</p></dd></dl></div><div class="section" id="functions"><h3 style="font-weight: normal; color: rgb(26, 26, 26); border: 0px; margin: 0px; padding: 0.3em 0px; font-size: 22.4px;" id="blogTitle11">Functions<a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#functions" title="永久链接至标题" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></h3><div class="section" id="creating-sockets"><h4 style="font-weight: normal; color: rgb(26, 26, 26); border: 0px; margin: 0px; padding: 0.3em 0px; font-size: 19.2px;" id="blogTitle12">Creating sockets<a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#creating-sockets" title="永久链接至标题" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></h4><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">The following functions all create&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket-objects" style="color: rgb(99, 99, 187); text-decoration-line: none;">socket objects</a>.</p><dl class="function" style="margin-bottom: 15px;"><dt id="socket.socket"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">socket</code><span class="sig-paren" style="font-size: larger;">(</span><em>family=AF_INET</em>,&nbsp;<em>type=SOCK_STREAM</em>,&nbsp;<em>proto=0</em>,&nbsp;<em>fileno=None</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Create a new socket using the given address family, socket type and protocol number. The address family should be&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.AF_INET" title="socket.AF_INET" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">AF_INET</span></code></a>&nbsp;(the default),&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.AF_INET6" title="socket.AF_INET6" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">AF_INET6</span></code></a>,&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.AF_UNIX" title="socket.AF_UNIX" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">AF_UNIX</span></code></a>,&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.AF_CAN" title="socket.AF_CAN" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">AF_CAN</span></code></a>,&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.AF_PACKET" title="socket.AF_PACKET" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">AF_PACKET</span></code></a>, or&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.AF_RDS" title="socket.AF_RDS" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">AF_RDS</span></code></a>. The socket type should be&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.SOCK_STREAM" title="socket.SOCK_STREAM" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">SOCK_STREAM</span></code></a>&nbsp;(the default),&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.SOCK_DGRAM" title="socket.SOCK_DGRAM" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">SOCK_DGRAM</span></code></a>,&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.SOCK_RAW" title="socket.SOCK_RAW" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">SOCK_RAW</span></code></a>&nbsp;or perhaps one of the other<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">SOCK_</span></code>&nbsp;constants. The protocol number is usually zero and may be omitted or in the case where the address family is&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.AF_CAN" title="socket.AF_CAN" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">AF_CAN</span></code></a>&nbsp;the protocol should be one of&nbsp;<code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">CAN_RAW</span></code>,&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.CAN_BCM" title="socket.CAN_BCM" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">CAN_BCM</span></code></a>&nbsp;or&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.CAN_ISOTP" title="socket.CAN_ISOTP" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">CAN_ISOTP</span></code></a>.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">If&nbsp;<em>fileno</em>&nbsp;is specified, the values for&nbsp;<em>family</em>,&nbsp;<em>type</em>, and&nbsp;<em>proto</em>&nbsp;are auto-detected from the specified file descriptor. Auto-detection can be overruled by calling the function with explicit&nbsp;<em>family</em>,&nbsp;<em>type</em>, or&nbsp;<em>proto</em>&nbsp;arguments. This only affects how Python represents e.g. the return value of&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.getpeername" title="socket.socket.getpeername" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">socket.getpeername()</span></code></a>&nbsp;but not the actual OS resource. Unlike&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.fromfd" title="socket.fromfd" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">socket.fromfd()</span></code></a>,&nbsp;<em>fileno</em>&nbsp;will return the same socket and not a duplicate. This may help close a detached socket using<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.close" title="socket.close" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">socket.close()</span></code></a>.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">The newly created socket is&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/os.html#fd-inheritance" style="color: rgb(99, 99, 187); text-decoration-line: none;">non-inheritable</a>.</p><div class="versionchanged"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">在 3.3 版更改:&nbsp;</span>The AF_CAN family was added. The AF_RDS family was added.</p></div><div class="versionchanged"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">在 3.4 版更改:&nbsp;</span>The CAN_BCM protocol was added.</p></div><div class="versionchanged"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">在 3.4 版更改:&nbsp;</span>The returned socket is now non-inheritable.</p></div><div class="versionchanged"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">在 3.7 版更改:&nbsp;</span>The CAN_ISOTP protocol was added.</p></div><div class="versionchanged"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">在 3.7 版更改:&nbsp;</span>When&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.SOCK_NONBLOCK" title="socket.SOCK_NONBLOCK" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">SOCK_NONBLOCK</span></code></a>&nbsp;or&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.SOCK_CLOEXEC" title="socket.SOCK_CLOEXEC" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">SOCK_CLOEXEC</span></code></a>&nbsp;bit flags are applied to&nbsp;<em>type</em>&nbsp;they are cleared, and&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.type" title="socket.socket.type" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">socket.type</span></code></a>&nbsp;will not reflect them. They are still passed to the underlying system&nbsp;<cite>socket()</cite>&nbsp;call. Therefore::</p><blockquote style="hyphens: auto; line-height: 20.8px;"><dl class="docutils" style="margin-bottom: 15px;"><dt>sock = socket.socket(</dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;">socket.AF_INET, socket.SOCK_STREAM | socket.SOCK_NONBLOCK)</dd></dl></blockquote><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">will still create a non-blocking socket on OSes that support&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">SOCK_NONBLOCK</span></code>, but&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">sock.type</span></code>&nbsp;will be set to&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">socket.SOCK_STREAM</span></code>.</p></div></dd></dl><dl class="function" style="margin-bottom: 15px;"><dt id="socket.socketpair"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">socketpair</code><span class="sig-paren" style="font-size: larger;">(</span><span class="optional" style="font-size: 1.3em;">[</span><em>family</em><span class="optional" style="font-size: 1.3em;">[</span>,&nbsp;<em>type</em><span class="optional" style="font-size: 1.3em;">[</span>,&nbsp;<em>proto</em><span class="optional" style="font-size: 1.3em;">]</span><span class="optional" style="font-size: 1.3em;">]</span><span class="optional" style="font-size: 1.3em;">]</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socketpair" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Build a pair of connected socket objects using the given address family, socket type, and protocol number. Address family, socket type, and protocol number are as for the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket" title="socket.socket" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">socket()</span></code></a>&nbsp;function above. The default family is&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.AF_UNIX" title="socket.AF_UNIX" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">AF_UNIX</span></code></a>&nbsp;if defined on the platform; otherwise, the default is&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.AF_INET" title="socket.AF_INET" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">AF_INET</span></code></a>.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">The newly created sockets are&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/os.html#fd-inheritance" style="color: rgb(99, 99, 187); text-decoration-line: none;">non-inheritable</a>.</p><div class="versionchanged"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">在 3.2 版更改:&nbsp;</span>The returned socket objects now support the whole socket API, rather than a subset.</p></div><div class="versionchanged"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">在 3.4 版更改:&nbsp;</span>The returned sockets are now non-inheritable.</p></div><div class="versionchanged"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">在 3.5 版更改:&nbsp;</span>Windows support added.</p></div></dd></dl><dl class="function" style="margin-bottom: 15px;"><dt id="socket.create_connection"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">create_connection</code><span class="sig-paren" style="font-size: larger;">(</span><em>address</em><span class="optional" style="font-size: 1.3em;">[</span>,&nbsp;<em>timeout</em><span class="optional" style="font-size: 1.3em;">[</span>,&nbsp;<em>source_address</em><span class="optional" style="font-size: 1.3em;">]</span><span class="optional" style="font-size: 1.3em;">]</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.create_connection" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Connect to a TCP service listening on the Internet&nbsp;<em>address</em>&nbsp;(a 2-tuple&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">(host,</span><span class="pre" style="hyphens: none;">port)</span></code>), and return the socket object. This is a higher-level function than&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.connect" title="socket.socket.connect" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">socket.connect()</span></code></a>: if&nbsp;<em>host</em>&nbsp;is a non-numeric hostname, it will try to resolve it for both&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.AF_INET" title="socket.AF_INET" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-data docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">AF_INET</span></code></a>&nbsp;and&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.AF_INET6" title="socket.AF_INET6" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-data docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">AF_INET6</span></code></a>, and then try to connect to all possible addresses in turn until a connection succeeds. This makes it easy to write clients that are compatible to both IPv4 and IPv6.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Passing the optional&nbsp;<em>timeout</em>&nbsp;parameter will set the timeout on the socket instance before attempting to connect. If no&nbsp;<em>timeout</em>&nbsp;is supplied, the global default timeout setting returned by&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.getdefaulttimeout" title="socket.getdefaulttimeout" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">getdefaulttimeout()</span></code></a>&nbsp;is used.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">If supplied,&nbsp;<em>source_address</em>&nbsp;must be a 2-tuple&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">(host,</span>&nbsp;<span class="pre" style="hyphens: none;">port)</span></code>&nbsp;for the socket to bind to as its source address before connecting. If host or port are '' or 0 respectively the OS default behavior will be used.</p><div class="versionchanged"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">在 3.2 版更改:&nbsp;</span>添加了&nbsp;<em>source_address</em>。</p></div></dd></dl><dl class="function" style="margin-bottom: 15px;"><dt id="socket.fromfd"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">fromfd</code><span class="sig-paren" style="font-size: larger;">(</span><em>fd</em>,&nbsp;<em>family</em>,&nbsp;<em>type</em>,&nbsp;<em>proto=0</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.fromfd" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Duplicate the file descriptor&nbsp;<em>fd</em>&nbsp;(an integer as returned by a file object's<code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">fileno()</span></code>&nbsp;method) and build a socket object from the result. Address family, socket type and protocol number are as for the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket" title="socket.socket" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">socket()</span></code></a>&nbsp;function above. The file descriptor should refer to a socket, but this is not checked --- subsequent operations on the object may fail if the file descriptor is invalid. This function is rarely needed, but can be used to get or set socket options on a socket passed to a program as standard input or output (such as a server started by the Unix inet daemon). The socket is assumed to be in blocking mode.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">The newly created socket is&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/os.html#fd-inheritance" style="color: rgb(99, 99, 187); text-decoration-line: none;">non-inheritable</a>.</p><div class="versionchanged"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">在 3.4 版更改:&nbsp;</span>The returned socket is now non-inheritable.</p></div></dd></dl><dl class="function" style="margin-bottom: 15px;"><dt id="socket.fromshare"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">fromshare</code><span class="sig-paren" style="font-size: larger;">(</span><em>data</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.fromshare" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Instantiate a socket from data obtained from the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.share" title="socket.socket.share" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">socket.share()</span></code></a>&nbsp;method. The socket is assumed to be in blocking mode.</p><p class="availability" style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><a class="reference internal" href="https://docs.python.org/zh-cn/3/library/intro.html#availability" style="color: rgb(99, 99, 187); text-decoration-line: none;">Availability</a>: Windows.</p><div class="versionadded"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">3.3 新版功能.</span></p></div></dd></dl><dl class="data" style="margin-bottom: 15px;"><dt id="socket.SocketType"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">SocketType</code><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.SocketType" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">This is a Python type object that represents the socket object type. It is the same as&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">type(socket(...))</span></code>.</p></dd></dl></div><div class="section" id="other-functions"><h4 style="font-weight: normal; color: rgb(26, 26, 26); border: 0px; margin: 0px; padding: 0.3em 0px; font-size: 19.2px;" id="blogTitle13">Other functions<a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#other-functions" title="永久链接至标题" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></h4><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">The&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#module-socket" title="socket: Low-level networking interface." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">socket</span></code></a>&nbsp;module also offers various network-related services:</p><dl class="function" style="margin-bottom: 15px;"><dt id="socket.close"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">close</code><span class="sig-paren" style="font-size: larger;">(</span><em>fd</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.close" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Close a socket file descriptor. This is like&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/os.html#os.close" title="os.close" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">os.close()</span></code></a>, but for sockets. On some platforms (most noticeable Windows)&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/os.html#os.close" title="os.close" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">os.close()</span></code></a>&nbsp;does not work for socket file descriptors.</p><div class="versionadded"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">3.7 新版功能.</span></p></div></dd></dl><dl class="function" style="margin-bottom: 15px;"><dt id="socket.getaddrinfo"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">getaddrinfo</code><span class="sig-paren" style="font-size: larger;">(</span><em>host</em>,&nbsp;<em>port</em>,&nbsp;<em>family=0</em>,&nbsp;<em>type=0</em>,&nbsp;<em>proto=0</em>,&nbsp;<em>flags=0</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.getaddrinfo" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Translate the&nbsp;<em>host</em>/<em>port</em>&nbsp;argument into a sequence of 5-tuples that contain all the necessary arguments for creating a socket connected to that service.&nbsp;<em>host</em>&nbsp;is a domain name, a string representation of an IPv4/v6 address or&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code>.&nbsp;<em>port</em>&nbsp;is a string service name such as&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">'http'</span></code>, a numeric port number or&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code>. By passing&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code>&nbsp;as the value of&nbsp;<em>host</em>&nbsp;and&nbsp;<em>port</em>, you can pass&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">NULL</span></code>&nbsp;to the underlying C API.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">The&nbsp;<em>family</em>,&nbsp;<em>type</em>&nbsp;and&nbsp;<em>proto</em>&nbsp;arguments can be optionally specified in order to narrow the list of addresses returned. Passing zero as a value for each of these arguments selects the full range of results. The&nbsp;<em>flags</em>&nbsp;argument can be one or several of the&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">AI_*</span></code>&nbsp;constants, and will influence how results are computed and returned. For example,&nbsp;<code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">AI_NUMERICHOST</span></code>&nbsp;will disable domain name resolution and will raise an error if&nbsp;<em>host</em>&nbsp;is a domain name.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">The function returns a list of 5-tuples with the following structure:</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">(family,</span>&nbsp;<span class="pre" style="hyphens: none;">type,</span>&nbsp;<span class="pre" style="hyphens: none;">proto,</span>&nbsp;<span class="pre" style="hyphens: none;">canonname,</span>&nbsp;<span class="pre" style="hyphens: none;">sockaddr)</span></code></p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">In these tuples,&nbsp;<em>family</em>,&nbsp;<em>type</em>,&nbsp;<em>proto</em>&nbsp;are all integers and are meant to be passed to the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket" title="socket.socket" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">socket()</span></code></a>&nbsp;function.&nbsp;<em>canonname</em>&nbsp;will be a string representing the canonical name of the&nbsp;<em>host</em>&nbsp;if&nbsp;<code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">AI_CANONNAME</span></code>&nbsp;is part of the&nbsp;<em>flags</em>&nbsp;argument; else&nbsp;<em>canonname</em>&nbsp;will be empty.&nbsp;<em>sockaddr</em>&nbsp;is a tuple describing a socket address, whose format depends on the returned&nbsp;<em>family</em>&nbsp;(a&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">(address,</span>&nbsp;<span class="pre" style="hyphens: none;">port)</span></code>&nbsp;2-tuple for<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.AF_INET" title="socket.AF_INET" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">AF_INET</span></code></a>, a&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">(address,</span>&nbsp;<span class="pre" style="hyphens: none;">port,</span>&nbsp;<span class="pre" style="hyphens: none;">flow</span>&nbsp;<span class="pre" style="hyphens: none;">info,</span>&nbsp;<span class="pre" style="hyphens: none;">scope</span>&nbsp;<span class="pre" style="hyphens: none;">id)</span></code>&nbsp;4-tuple for&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.AF_INET6" title="socket.AF_INET6" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">AF_INET6</span></code></a>), and is meant to be passed to the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.connect" title="socket.socket.connect" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">socket.connect()</span></code></a>&nbsp;method.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">The following example fetches address information for a hypothetical TCP connection to&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">example.org</span></code>&nbsp;on port 80 (results may differ on your system if IPv6 isn't enabled):</p><div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><span class="copybutton" title="Hide the prompts and output" style="cursor: pointer; position: absolute; top: 0px; right: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</span><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">socket</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">getaddrinfo</span><span class="p">(</span><span class="s2" style="color: rgb(64, 112, 160);">"example.org"</span><span class="p">,</span> <span class="mi" style="color: rgb(32, 128, 80);">80</span><span class="p">,</span> <span class="n">proto</span><span class="o" style="color: rgb(102, 102, 102);">=</span><span class="n">socket</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">IPPROTO_TCP</span><span class="p">)</span>
<span class="go">[(&lt;AddressFamily.AF_INET6: 10&gt;, &lt;SocketType.SOCK_STREAM: 1&gt;,</span>
<span class="go"> 6, '', ('2606:2800:220:1:248:1893:25c8:1946', 80, 0, 0)),</span>
<span class="go"> (&lt;AddressFamily.AF_INET: 2&gt;, &lt;SocketType.SOCK_STREAM: 1&gt;,</span>
<span class="go"> 6, '', ('93.184.216.34', 80))]</span>
</pre></div></div><div class="versionchanged"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">在 3.2 版更改:&nbsp;</span>parameters can now be passed using keyword arguments.</p></div><div class="versionchanged"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">在 3.7 版更改:&nbsp;</span>for IPv6 multicast addresses, string representing an address will not contain&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">%scope</span></code>&nbsp;part.</p></div></dd></dl><dl class="function" style="margin-bottom: 15px;"><dt id="socket.getfqdn"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">getfqdn</code><span class="sig-paren" style="font-size: larger;">(</span><span class="optional" style="font-size: 1.3em;">[</span><em>name</em><span class="optional" style="font-size: 1.3em;">]</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.getfqdn" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Return a fully qualified domain name for&nbsp;<em>name</em>. If&nbsp;<em>name</em>&nbsp;is omitted or empty, it is interpreted as the local host. To find the fully qualified name, the hostname returned by&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.gethostbyaddr" title="socket.gethostbyaddr" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">gethostbyaddr()</span></code></a>&nbsp;is checked, followed by aliases for the host, if available. The first name which includes a period is selected. In case no fully qualified domain name is available, the hostname as returned by<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.gethostname" title="socket.gethostname" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">gethostname()</span></code></a>&nbsp;is returned.</p></dd></dl><dl class="function" style="margin-bottom: 15px;"><dt id="socket.gethostbyname"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">gethostbyname</code><span class="sig-paren" style="font-size: larger;">(</span><em>hostname</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.gethostbyname" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Translate a host name to IPv4 address format. The IPv4 address is returned as a string, such as&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">'100.50.200.5'</span></code>. If the host name is an IPv4 address itself it is returned unchanged. See&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.gethostbyname_ex" title="socket.gethostbyname_ex" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">gethostbyname_ex()</span></code></a>&nbsp;for a more complete interface.&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.gethostbyname" title="socket.gethostbyname" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">gethostbyname()</span></code></a>&nbsp;does not support IPv6 name resolution, and&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.getaddrinfo" title="socket.getaddrinfo" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">getaddrinfo()</span></code></a>should be used instead for IPv4/v6 dual stack support.</p></dd></dl><dl class="function" style="margin-bottom: 15px;"><dt id="socket.gethostbyname_ex"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">gethostbyname_ex</code><span class="sig-paren" style="font-size: larger;">(</span><em>hostname</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.gethostbyname_ex" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Translate a host name to IPv4 address format, extended interface. Return a triple&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">(hostname,</span>&nbsp;<span class="pre" style="hyphens: none;">aliaslist,</span>&nbsp;<span class="pre" style="hyphens: none;">ipaddrlist)</span></code>&nbsp;where&nbsp;<em>hostname</em>&nbsp;is the primary host name responding to the given&nbsp;<em>ip_address</em>,&nbsp;<em>aliaslist</em>&nbsp;is a (possibly empty) list of alternative host names for the same address, and&nbsp;<em>ipaddrlist</em>&nbsp;is a list of IPv4 addresses for the same interface on the same host (often but not always a single address).&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.gethostbyname_ex" title="socket.gethostbyname_ex" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">gethostbyname_ex()</span></code></a>&nbsp;does not support IPv6 name resolution, and&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.getaddrinfo" title="socket.getaddrinfo" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">getaddrinfo()</span></code></a>&nbsp;should be used instead for IPv4/v6 dual stack support.</p></dd></dl><dl class="function" style="margin-bottom: 15px;"><dt id="socket.gethostname"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">gethostname</code><span class="sig-paren" style="font-size: larger;">(</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.gethostname" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Return a string containing the hostname of the machine where the Python interpreter is currently executing.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Note:&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.gethostname" title="socket.gethostname" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">gethostname()</span></code></a>&nbsp;doesn't always return the fully qualified domain name; use&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.getfqdn" title="socket.getfqdn" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">getfqdn()</span></code></a>&nbsp;for that.</p></dd></dl><dl class="function" style="margin-bottom: 15px;"><dt id="socket.gethostbyaddr"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">gethostbyaddr</code><span class="sig-paren" style="font-size: larger;">(</span><em>ip_address</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.gethostbyaddr" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Return a triple&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">(hostname,</span>&nbsp;<span class="pre" style="hyphens: none;">aliaslist,</span>&nbsp;<span class="pre" style="hyphens: none;">ipaddrlist)</span></code>&nbsp;where&nbsp;<em>hostname</em>&nbsp;is the primary host name responding to the given&nbsp;<em>ip_address</em>,&nbsp;<em>aliaslist</em>&nbsp;is a (possibly empty) list of alternative host names for the same address, and&nbsp;<em>ipaddrlist</em>&nbsp;is a list of IPv4/v6 addresses for the same interface on the same host (most likely containing only a single address). To find the fully qualified domain name, use the function&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.getfqdn" title="socket.getfqdn" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">getfqdn()</span></code></a>.&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.gethostbyaddr" title="socket.gethostbyaddr" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">gethostbyaddr()</span></code></a>&nbsp;supports both IPv4 and IPv6.</p></dd></dl><dl class="function" style="margin-bottom: 15px;"><dt id="socket.getnameinfo"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">getnameinfo</code><span class="sig-paren" style="font-size: larger;">(</span><em>sockaddr</em>,&nbsp;<em>flags</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.getnameinfo" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Translate a socket address&nbsp;<em>sockaddr</em>&nbsp;into a 2-tuple&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">(host,</span>&nbsp;<span class="pre" style="hyphens: none;">port)</span></code>. Depending on the settings of&nbsp;<em>flags</em>, the result can contain a fully-qualified domain name or numeric address representation in&nbsp;<em>host</em>. Similarly,&nbsp;<em>port</em>&nbsp;can contain a string port name or a numeric port number.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">For IPv6 addresses,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">%scope</span></code>&nbsp;is appended to the host part if&nbsp;<em>sockaddr</em>&nbsp;contains meaningful&nbsp;<em>scopeid</em>. Usually this happens for multicast addresses.</p></dd></dl><dl class="function" style="margin-bottom: 15px;"><dt id="socket.getprotobyname"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">getprotobyname</code><span class="sig-paren" style="font-size: larger;">(</span><em>protocolname</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.getprotobyname" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Translate an Internet protocol name (for example,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">'icmp'</span></code>) to a constant suitable for passing as the (optional) third argument to the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket" title="socket.socket" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">socket()</span></code></a>&nbsp;function. This is usually only needed for sockets opened in "raw" mode (<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.SOCK_RAW" title="socket.SOCK_RAW" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">SOCK_RAW</span></code></a>); for the normal socket modes, the correct protocol is chosen automatically if the protocol is omitted or zero.</p></dd></dl><dl class="function" style="margin-bottom: 15px;"><dt id="socket.getservbyname"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">getservbyname</code><span class="sig-paren" style="font-size: larger;">(</span><em>servicename</em><span class="optional" style="font-size: 1.3em;">[</span>,&nbsp;<em>protocolname</em><span class="optional" style="font-size: 1.3em;">]</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.getservbyname" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Translate an Internet service name and protocol name to a port number for that service. The optional protocol name, if given, should be&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">'tcp'</span></code>&nbsp;or&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">'udp'</span></code>, otherwise any protocol will match.</p></dd></dl><dl class="function" style="margin-bottom: 15px;"><dt id="socket.getservbyport"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">getservbyport</code><span class="sig-paren" style="font-size: larger;">(</span><em>port</em><span class="optional" style="font-size: 1.3em;">[</span>,&nbsp;<em>protocolname</em><span class="optional" style="font-size: 1.3em;">]</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.getservbyport" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Translate an Internet port number and protocol name to a service name for that service. The optional protocol name, if given, should be&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">'tcp'</span></code>&nbsp;or&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">'udp'</span></code>, otherwise any protocol will match.</p></dd></dl><dl class="function" style="margin-bottom: 15px;"><dt id="socket.ntohl"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">ntohl</code><span class="sig-paren" style="font-size: larger;">(</span><em>x</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.ntohl" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Convert 32-bit positive integers from network to host byte order. On machines where the host byte order is the same as network byte order, this is a no-op; otherwise, it performs a 4-byte swap operation.</p></dd></dl><dl class="function" style="margin-bottom: 15px;"><dt id="socket.ntohs"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">ntohs</code><span class="sig-paren" style="font-size: larger;">(</span><em>x</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.ntohs" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Convert 16-bit positive integers from network to host byte order. On machines where the host byte order is the same as network byte order, this is a no-op; otherwise, it performs a 2-byte swap operation.</p><div class="deprecated" style="border-radius: 3px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">3.7 版后已移除:&nbsp;</span>In case&nbsp;<em>x</em>&nbsp;does not fit in 16-bit unsigned integer, but does fit in a positive C int, it is silently truncated to 16-bit unsigned integer. This silent truncation feature is deprecated, and will raise an exception in future versions of Python.</p></div></dd></dl><dl class="function" style="margin-bottom: 15px;"><dt id="socket.htonl"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">htonl</code><span class="sig-paren" style="font-size: larger;">(</span><em>x</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.htonl" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Convert 32-bit positive integers from host to network byte order. On machines where the host byte order is the same as network byte order, this is a no-op; otherwise, it performs a 4-byte swap operation.</p></dd></dl><dl class="function" style="margin-bottom: 15px;"><dt id="socket.htons"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">htons</code><span class="sig-paren" style="font-size: larger;">(</span><em>x</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.htons" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Convert 16-bit positive integers from host to network byte order. On machines where the host byte order is the same as network byte order, this is a no-op; otherwise, it performs a 2-byte swap operation.</p><div class="deprecated" style="border-radius: 3px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">3.7 版后已移除:&nbsp;</span>In case&nbsp;<em>x</em>&nbsp;does not fit in 16-bit unsigned integer, but does fit in a positive C int, it is silently truncated to 16-bit unsigned integer. This silent truncation feature is deprecated, and will raise an exception in future versions of Python.</p></div></dd></dl><dl class="function" style="margin-bottom: 15px;"><dt id="socket.inet_aton"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">inet_aton</code><span class="sig-paren" style="font-size: larger;">(</span><em>ip_string</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.inet_aton" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Convert an IPv4 address from dotted-quad string format (for example, '123.45.67.89') to 32-bit packed binary format, as a bytes object four characters in length. This is useful when conversing with a program that uses the standard C library and needs objects of type&nbsp;<code class="xref c c-type docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">struct</span>&nbsp;<span class="pre" style="hyphens: none;">in_addr</span></code>, which is the C type for the 32-bit packed binary this function returns.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.inet_aton" title="socket.inet_aton" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">inet_aton()</span></code></a>&nbsp;also accepts strings with less than three dots; see the Unix manual page&nbsp;<em class="manpage">inet(3)</em>&nbsp;for details.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">If the IPv4 address string passed to this function is invalid,&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#OSError" title="OSError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">OSError</span></code></a>&nbsp;will be raised. Note that exactly what is valid depends on the underlying C implementation of&nbsp;<code class="xref c c-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">inet_aton()</span></code>.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.inet_aton" title="socket.inet_aton" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">inet_aton()</span></code></a>&nbsp;does not support IPv6, and&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.inet_pton" title="socket.inet_pton" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">inet_pton()</span></code></a>&nbsp;should be used instead for IPv4/v6 dual stack support.</p></dd></dl><dl class="function" style="margin-bottom: 15px;"><dt id="socket.inet_ntoa"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">inet_ntoa</code><span class="sig-paren" style="font-size: larger;">(</span><em>packed_ip</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.inet_ntoa" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Convert a 32-bit packed IPv4 address (a&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/glossary.html#term-bytes-like-object" style="color: rgb(99, 99, 187); text-decoration-line: none;">bytes-like object</a>&nbsp;four bytes in length) to its standard dotted-quad string representation (for example, '123.45.67.89'). This is useful when conversing with a program that uses the standard C library and needs objects of type&nbsp;<code class="xref c c-type docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">struct</span>&nbsp;<span class="pre" style="hyphens: none;">in_addr</span></code>, which is the C type for the 32-bit packed binary data this function takes as an argument.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">If the byte sequence passed to this function is not exactly 4 bytes in length,&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#OSError" title="OSError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">OSError</span></code></a>&nbsp;will be raised.&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.inet_ntoa" title="socket.inet_ntoa" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">inet_ntoa()</span></code></a>&nbsp;does not support IPv6, and&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.inet_ntop" title="socket.inet_ntop" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">inet_ntop()</span></code></a>should be used instead for IPv4/v6 dual stack support.</p><div class="versionchanged"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">在 3.5 版更改:&nbsp;</span>Writable&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/glossary.html#term-bytes-like-object" style="color: rgb(99, 99, 187); text-decoration-line: none;">bytes-like object</a>&nbsp;is now accepted.</p></div></dd></dl><dl class="function" style="margin-bottom: 15px;"><dt id="socket.inet_pton"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">inet_pton</code><span class="sig-paren" style="font-size: larger;">(</span><em>address_family</em>,&nbsp;<em>ip_string</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.inet_pton" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Convert an IP address from its family-specific string format to a packed, binary format.&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.inet_pton" title="socket.inet_pton" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">inet_pton()</span></code></a>&nbsp;is useful when a library or network protocol calls for an object of type&nbsp;<code class="xref c c-type docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">struct</span>&nbsp;<span class="pre" style="hyphens: none;">in_addr</span></code>&nbsp;(similar to&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.inet_aton" title="socket.inet_aton" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">inet_aton()</span></code></a>) or&nbsp;<code class="xref c c-type docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">struct</span>&nbsp;<span class="pre" style="hyphens: none;">in6_addr</span></code>.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Supported values for&nbsp;<em>address_family</em>&nbsp;are currently&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.AF_INET" title="socket.AF_INET" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">AF_INET</span></code></a>&nbsp;and&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.AF_INET6" title="socket.AF_INET6" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">AF_INET6</span></code></a>. If the IP address string&nbsp;<em>ip_string</em>&nbsp;is invalid,&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#OSError" title="OSError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">OSError</span></code></a>&nbsp;will be raised. Note that exactly what is valid depends on both the value of&nbsp;<em>address_family</em>&nbsp;and the underlying implementation of&nbsp;<code class="xref c c-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">inet_pton()</span></code>.</p><p class="availability" style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><a class="reference internal" href="https://docs.python.org/zh-cn/3/library/intro.html#availability" style="color: rgb(99, 99, 187); text-decoration-line: none;">Availability</a>: Unix (maybe not all platforms), Windows.</p><div class="versionchanged"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">在 3.4 版更改:&nbsp;</span>Windows support added</p></div></dd></dl><dl class="function" style="margin-bottom: 15px;"><dt id="socket.inet_ntop"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">inet_ntop</code><span class="sig-paren" style="font-size: larger;">(</span><em>address_family</em>,&nbsp;<em>packed_ip</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.inet_ntop" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Convert a packed IP address (a&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/glossary.html#term-bytes-like-object" style="color: rgb(99, 99, 187); text-decoration-line: none;">bytes-like object</a>&nbsp;of some number of bytes) to its standard, family-specific string representation (for example,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">'7.10.0.5'</span></code>&nbsp;or&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">'5aef:2b::8'</span></code>).&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.inet_ntop" title="socket.inet_ntop" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">inet_ntop()</span></code></a>&nbsp;is useful when a library or network protocol returns an object of type&nbsp;<code class="xref c c-type docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">struct</span>&nbsp;<span class="pre" style="hyphens: none;">in_addr</span></code>&nbsp;(similar to&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.inet_ntoa" title="socket.inet_ntoa" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">inet_ntoa()</span></code></a>) or&nbsp;<code class="xref c c-type docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">struct</span><span class="pre" style="hyphens: none;">in6_addr</span></code>.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Supported values for&nbsp;<em>address_family</em>&nbsp;are currently&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.AF_INET" title="socket.AF_INET" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">AF_INET</span></code></a>&nbsp;and&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.AF_INET6" title="socket.AF_INET6" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">AF_INET6</span></code></a>. If the bytes object&nbsp;<em>packed_ip</em>&nbsp;is not the correct length for the specified address family,&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#ValueError" title="ValueError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">ValueError</span></code></a>&nbsp;will be raised.&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#OSError" title="OSError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">OSError</span></code></a>&nbsp;is raised for errors from the call to&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.inet_ntop" title="socket.inet_ntop" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">inet_ntop()</span></code></a>.</p><p class="availability" style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><a class="reference internal" href="https://docs.python.org/zh-cn/3/library/intro.html#availability" style="color: rgb(99, 99, 187); text-decoration-line: none;">Availability</a>: Unix (maybe not all platforms), Windows.</p><div class="versionchanged"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">在 3.4 版更改:&nbsp;</span>Windows support added</p></div><div class="versionchanged"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">在 3.5 版更改:&nbsp;</span>Writable&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/glossary.html#term-bytes-like-object" style="color: rgb(99, 99, 187); text-decoration-line: none;">bytes-like object</a>&nbsp;is now accepted.</p></div></dd></dl><dl class="function" style="margin-bottom: 15px;"><dt id="socket.CMSG_LEN"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">CMSG_LEN</code><span class="sig-paren" style="font-size: larger;">(</span><em>length</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.CMSG_LEN" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Return the total length, without trailing padding, of an ancillary data item with associated data of the given&nbsp;<em>length</em>. This value can often be used as the buffer size for&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.recvmsg" title="socket.socket.recvmsg" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">recvmsg()</span></code></a>&nbsp;to receive a single item of ancillary data, but&nbsp;<span class="target" id="index-3"></span><a class="rfc reference external" href="https://tools.ietf.org/html/rfc3542.html" style="color: rgb(99, 99, 187); text-decoration-line: none;"><strong>RFC 3542</strong></a>requires portable applications to use&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.CMSG_SPACE" title="socket.CMSG_SPACE" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">CMSG_SPACE()</span></code></a>&nbsp;and thus include space for padding, even when the item will be the last in the buffer. Raises&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#OverflowError" title="OverflowError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">OverflowError</span></code></a>&nbsp;if&nbsp;<em>length</em>&nbsp;is outside the permissible range of values.</p><p class="availability" style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><a class="reference internal" href="https://docs.python.org/zh-cn/3/library/intro.html#availability" style="color: rgb(99, 99, 187); text-decoration-line: none;">Availability</a>: most Unix platforms, possibly others.</p><div class="versionadded"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">3.3 新版功能.</span></p></div></dd></dl><dl class="function" style="margin-bottom: 15px;"><dt id="socket.CMSG_SPACE"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">CMSG_SPACE</code><span class="sig-paren" style="font-size: larger;">(</span><em>length</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.CMSG_SPACE" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Return the buffer size needed for&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.recvmsg" title="socket.socket.recvmsg" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">recvmsg()</span></code></a>&nbsp;to receive an ancillary data item with associated data of the given&nbsp;<em>length</em>, along with any trailing padding. The buffer space needed to receive multiple items is the sum of the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.CMSG_SPACE" title="socket.CMSG_SPACE" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">CMSG_SPACE()</span></code></a>values for their associated data lengths. Raises&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#OverflowError" title="OverflowError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">OverflowError</span></code></a>&nbsp;if&nbsp;<em>length</em>&nbsp;is outside the permissible range of values.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Note that some systems might support ancillary data without providing this function. Also note that setting the buffer size using the results of this function may not precisely limit the amount of ancillary data that can be received, since additional data may be able to fit into the padding area.</p><p class="availability" style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><a class="reference internal" href="https://docs.python.org/zh-cn/3/library/intro.html#availability" style="color: rgb(99, 99, 187); text-decoration-line: none;">Availability</a>: most Unix platforms, possibly others.</p><div class="versionadded"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">3.3 新版功能.</span></p></div></dd></dl><dl class="function" style="margin-bottom: 15px;"><dt id="socket.getdefaulttimeout"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">getdefaulttimeout</code><span class="sig-paren" style="font-size: larger;">(</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.getdefaulttimeout" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Return the default timeout in seconds (float) for new socket objects. A value of&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code>&nbsp;indicates that new socket objects have no timeout. When the socket module is first imported, the default is&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code>.</p></dd></dl><dl class="function" style="margin-bottom: 15px;"><dt id="socket.setdefaulttimeout"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">setdefaulttimeout</code><span class="sig-paren" style="font-size: larger;">(</span><em>timeout</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.setdefaulttimeout" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Set the default timeout in seconds (float) for new socket objects. When the socket module is first imported, the default is&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code>. See&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.settimeout" title="socket.socket.settimeout" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">settimeout()</span></code></a>&nbsp;for possible values and their respective meanings.</p></dd></dl><dl class="function" style="margin-bottom: 15px;"><dt id="socket.sethostname"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">sethostname</code><span class="sig-paren" style="font-size: larger;">(</span><em>name</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.sethostname" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Set the machine's hostname to&nbsp;<em>name</em>. This will raise an&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#OSError" title="OSError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">OSError</span></code></a>&nbsp;if you don't have enough rights.</p><p class="availability" style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><a class="reference internal" href="https://docs.python.org/zh-cn/3/library/intro.html#availability" style="color: rgb(99, 99, 187); text-decoration-line: none;">Availability</a>: Unix.</p><div class="versionadded"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">3.3 新版功能.</span></p></div></dd></dl><dl class="function" style="margin-bottom: 15px;"><dt id="socket.if_nameindex"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">if_nameindex</code><span class="sig-paren" style="font-size: larger;">(</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.if_nameindex" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Return a list of network interface information (index int, name string) tuples.<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#OSError" title="OSError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">OSError</span></code></a>&nbsp;if the system call fails.</p><p class="availability" style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><a class="reference internal" href="https://docs.python.org/zh-cn/3/library/intro.html#availability" style="color: rgb(99, 99, 187); text-decoration-line: none;">Availability</a>: Unix.</p><div class="versionadded"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">3.3 新版功能.</span></p></div></dd></dl><dl class="function" style="margin-bottom: 15px;"><dt id="socket.if_nametoindex"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">if_nametoindex</code><span class="sig-paren" style="font-size: larger;">(</span><em>if_name</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.if_nametoindex" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Return a network interface index number corresponding to an interface name.<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#OSError" title="OSError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">OSError</span></code></a>&nbsp;if no interface with the given name exists.</p><p class="availability" style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><a class="reference internal" href="https://docs.python.org/zh-cn/3/library/intro.html#availability" style="color: rgb(99, 99, 187); text-decoration-line: none;">Availability</a>: Unix.</p><div class="versionadded"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">3.3 新版功能.</span></p></div></dd></dl><dl class="function" style="margin-bottom: 15px;"><dt id="socket.if_indextoname"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">if_indextoname</code><span class="sig-paren" style="font-size: larger;">(</span><em>if_index</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.if_indextoname" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Return a network interface name corresponding to an interface index number.<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#OSError" title="OSError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">OSError</span></code></a>&nbsp;if no interface with the given index exists.</p><p class="availability" style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><a class="reference internal" href="https://docs.python.org/zh-cn/3/library/intro.html#availability" style="color: rgb(99, 99, 187); text-decoration-line: none;">Availability</a>: Unix.</p><div class="versionadded"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">3.3 新版功能.</span></p></div></dd></dl></div></div></div><div class="section" id="socket-objects" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><span id="id1"></span><h2 style="font-weight: normal; color: rgb(26, 26, 26); border: 0px; margin: 0px; padding: 0.3em 0px; font-size: 25.6px;" id="blogTitle14">Socket Objects<a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket-objects" title="永久链接至标题" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></h2><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">Socket objects have the following methods. Except for&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.makefile" title="socket.socket.makefile" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">makefile()</span></code></a>, these correspond to Unix system calls applicable to sockets.</p><div class="versionchanged"><p style="hyphens: auto; text-align: justify; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">在 3.2 版更改:&nbsp;</span>Support for the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/glossary.html#term-context-manager" style="color: rgb(99, 99, 187); text-decoration-line: none;">context manager</a>&nbsp;protocol was added. Exiting the context manager is equivalent to calling&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.close" title="socket.close" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">close()</span></code></a>.</p></div><dl class="method" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">accept</code><span class="sig-paren" style="font-size: larger;">(</span><span class="sig-paren" style="font-size: larger;">)</span></h3><dt id="socket.socket.accept"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.accept" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Accept a connection. The socket must be bound to an address and listening for connections. The return value is a pair&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">(conn,</span>&nbsp;<span class="pre" style="hyphens: none;">address)</span></code>&nbsp;where&nbsp;<em>conn</em>&nbsp;is a&nbsp;<em>new&nbsp;</em>socket object usable to send and receive data on the connection, and&nbsp;<em>address</em>&nbsp;is the address bound to the socket on the other end of the connection.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">The newly created socket is&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/os.html#fd-inheritance" style="color: rgb(99, 99, 187); text-decoration-line: none;">non-inheritable</a>.</p><div class="versionchanged"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">在 3.4 版更改:&nbsp;</span>The socket is now non-inheritable.</p></div><div class="versionchanged"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">在 3.5 版更改:&nbsp;</span>If the system call is interrupted and the signal handler does not raise an exception, the method now retries the system call instead of raising an&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#InterruptedError" title="InterruptedError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">InterruptedError</span></code></a>&nbsp;exception (see&nbsp;<span class="target" id="index-4"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0475" style="color: rgb(99, 99, 187); text-decoration-line: none;"><strong>PEP 475</strong></a>&nbsp;for the rationale).</p></div></dd></dl><dl class="method" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">bind</code><span class="sig-paren" style="font-size: larger;">(</span><em>address</em><span class="sig-paren" style="font-size: larger;">)</span></h3><dt id="socket.socket.bind"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.bind" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Bind the socket to&nbsp;<em>address</em>. The socket must not already be bound. (The format of&nbsp;<em>address</em>&nbsp;depends on the address family --- see above.)</p></dd></dl><dl class="method" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">close</code><span class="sig-paren" style="font-size: larger;">(</span><span class="sig-paren" style="font-size: larger;">)</span></h3><dt id="socket.socket.close"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.close" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Mark the socket closed. The underlying system resource (e.g. a file descriptor) is also closed when all file objects from&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.makefile" title="socket.socket.makefile" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">makefile()</span></code></a>&nbsp;are closed. Once that happens, all future operations on the socket object will fail. The remote end will receive no more data (after queued data is flushed).</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Sockets are automatically closed when they are garbage-collected, but it is recommended to&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.close" title="socket.close" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">close()</span></code></a>&nbsp;them explicitly, or to use a&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/compound_stmts.html#with" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">with</span></code></a>&nbsp;statement around them.</p><div class="versionchanged"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">在 3.6 版更改:&nbsp;</span><a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#OSError" title="OSError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">OSError</span></code></a>&nbsp;is now raised if an error occurs when the underlying<code class="xref c c-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">close()</span></code>&nbsp;call is made.</p></div><div class="admonition note" style="margin-top: 10px; margin-bottom: 10px; padding: 7px; background-color: rgb(238, 238, 238); border: 1px solid rgb(204, 204, 204); border-radius: 3px;"><p class="first admonition-title" style="margin: 0px 10px 5px 0px; font-weight: bold; display: inline; hyphens: auto; line-height: 22.4px;">注解</p>&nbsp;<p class="last" style="margin-top: 0px; hyphens: auto; line-height: 22.4px; margin-bottom: 5px; display: inline;"><a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.close" title="socket.close" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background: rgb(214, 214, 214); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">close()</span></code></a>&nbsp;releases the resource associated with a connection but does not necessarily close the connection immediately. If you want to close the connection in a timely fashion, call&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.shutdown" title="socket.socket.shutdown" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background: rgb(214, 214, 214); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">shutdown()</span></code></a>&nbsp;before&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.close" title="socket.close" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background: rgb(214, 214, 214); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">close()</span></code></a>.</p></div></dd></dl><dl class="method" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">connect</code><span class="sig-paren" style="font-size: larger;">(</span><em>address</em><span class="sig-paren" style="font-size: larger;">)</span></h3><dt id="socket.socket.connect"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.connect" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Connect to a remote socket at&nbsp;<em>address</em>. (The format of&nbsp;<em>address</em>&nbsp;depends on the address family --- see above.)</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">If the connection is interrupted by a signal, the method waits until the connection completes, or raise a&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.timeout" title="socket.timeout" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">socket.timeout</span></code></a>&nbsp;on timeout, if the signal handler doesn't raise an exception and the socket is blocking or has a timeout. For non-blocking sockets, the method raises an&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#InterruptedError" title="InterruptedError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">InterruptedError</span></code></a>&nbsp;exception if the connection is interrupted by a signal (or the exception raised by the signal handler).</p><div class="versionchanged"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">在 3.5 版更改:&nbsp;</span>The method now waits until the connection completes instead of raising an&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#InterruptedError" title="InterruptedError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">InterruptedError</span></code></a>&nbsp;exception if the connection is interrupted by a signal, the signal handler doesn't raise an exception and the socket is blocking or has a timeout (see the&nbsp;<span class="target" id="index-5"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0475" style="color: rgb(99, 99, 187); text-decoration-line: none;"><strong>PEP 475</strong></a>&nbsp;for the rationale).</p></div></dd></dl><dl class="method" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">connect_ex</code><span class="sig-paren" style="font-size: larger;">(</span><em>address</em><span class="sig-paren" style="font-size: larger;">)</span></h3><dt id="socket.socket.connect_ex"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.connect_ex" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Like&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">connect(address)</span></code>, but return an error indicator instead of raising an exception for errors returned by the C-level&nbsp;<code class="xref c c-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">connect()</span></code>&nbsp;call (other problems, such as "host not found," can still raise exceptions). The error indicator is&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">0</span></code>&nbsp;if the operation succeeded, otherwise the value of the&nbsp;<code class="xref c c-data docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">errno</span></code>&nbsp;variable. This is useful to support, for example, asynchronous connects.</p></dd></dl><dl class="method" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">detach</code><span class="sig-paren" style="font-size: larger;">(</span><span class="sig-paren" style="font-size: larger;">)</span></h3><dt id="socket.socket.detach"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.detach" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Put the socket object into closed state without actually closing the underlying file descriptor. The file descriptor is returned, and can be reused for other purposes.</p><div class="versionadded"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">3.2 新版功能.</span></p></div></dd></dl><dl class="method" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">dup</code><span class="sig-paren" style="font-size: larger;">(</span><span class="sig-paren" style="font-size: larger;">)</span></h3><dt id="socket.socket.dup"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.dup" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Duplicate the socket.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">The newly created socket is&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/os.html#fd-inheritance" style="color: rgb(99, 99, 187); text-decoration-line: none;">non-inheritable</a>.</p><div class="versionchanged"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">在 3.4 版更改:&nbsp;</span>The socket is now non-inheritable.</p></div></dd></dl><dl class="method" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">fileno</code><span class="sig-paren" style="font-size: larger;">(</span><span class="sig-paren" style="font-size: larger;">)</span></h3><dt id="socket.socket.fileno"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.fileno" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Return the socket's file descriptor (a small integer), or -1 on failure. This is useful with&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/select.html#select.select" title="select.select" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">select.select()</span></code></a>.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Under Windows the small integer returned by this method cannot be used where a file descriptor can be used (such as&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/os.html#os.fdopen" title="os.fdopen" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">os.fdopen()</span></code></a>). Unix does not have this limitation.</p></dd></dl><dl class="method" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">get_inheritable</code><span class="sig-paren" style="font-size: larger;">(</span><span class="sig-paren" style="font-size: larger;">)</span></h3><dt id="socket.socket.get_inheritable"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.get_inheritable" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Get the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/os.html#fd-inheritance" style="color: rgb(99, 99, 187); text-decoration-line: none;">inheritable flag</a>&nbsp;of the socket's file descriptor or socket's handle:&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">True</span></code>&nbsp;if the socket can be inherited in child processes,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">False</span></code>&nbsp;if it cannot.</p><div class="versionadded"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">3.4 新版功能.</span></p></div></dd></dl><dl class="method" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">getpeername</code><span class="sig-paren" style="font-size: larger;">(</span><span class="sig-paren" style="font-size: larger;">)</span></h3><dt id="socket.socket.getpeername"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.getpeername" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Return the remote address to which the socket is connected. This is useful to find out the port number of a remote IPv4/v6 socket, for instance. (The format of the address returned depends on the address family --- see above.) On some systems this function is not supported.</p></dd></dl><dl class="method" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">getsockname</code><span class="sig-paren" style="font-size: larger;">(</span><span class="sig-paren" style="font-size: larger;">)</span></h3><dt id="socket.socket.getsockname"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.getsockname" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Return the socket's own address. This is useful to find out the port number of an IPv4/v6 socket, for instance. (The format of the address returned depends on the address family --- see above.)</p></dd></dl><dl class="method" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">getsockopt</code><span class="sig-paren" style="font-size: larger;">(</span><em>level</em>,&nbsp;<em>optname</em><span class="optional" style="font-size: 1.3em;">[</span>,&nbsp;<em>buflen</em><span class="optional" style="font-size: 1.3em;">]</span><span class="sig-paren" style="font-size: larger;">)</span></h3><dt id="socket.socket.getsockopt"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.getsockopt" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Return the value of the given socket option (see the Unix man page<em class="manpage">getsockopt(2)</em>). The needed symbolic constants (<code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">SO_*</span></code>&nbsp;etc.) are defined in this module. If&nbsp;<em>buflen</em>&nbsp;is absent, an integer option is assumed and its integer value is returned by the function. If&nbsp;<em>buflen</em>&nbsp;is present, it specifies the maximum length of the buffer used to receive the option in, and this buffer is returned as a bytes object. It is up to the caller to decode the contents of the buffer (see the optional built-in module&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/struct.html#module-struct" title="struct: Interpret bytes as packed binary data." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">struct</span></code></a>&nbsp;for a way to decode C structures encoded as byte strings).</p></dd></dl><dl class="method" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">getblocking</code><span class="sig-paren" style="font-size: larger;">(</span><span class="sig-paren" style="font-size: larger;">)</span></h3><dt id="socket.socket.getblocking"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.getblocking" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Return&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">True</span></code>&nbsp;if socket is in blocking mode,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">False</span></code>&nbsp;if in non-blocking.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">This is equivalent to checking&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">socket.gettimeout()</span>&nbsp;<span class="pre" style="hyphens: none;">==</span>&nbsp;<span class="pre" style="hyphens: none;">0</span></code>.</p><div class="versionadded"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">3.7 新版功能.</span></p></div></dd></dl><dl class="method" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">gettimeout</code><span class="sig-paren" style="font-size: larger;">(</span><span class="sig-paren" style="font-size: larger;">)</span></h3><dt id="socket.socket.gettimeout"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.gettimeout" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Return the timeout in seconds (float) associated with socket operations, or&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code>&nbsp;if no timeout is set. This reflects the last call to&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.setblocking" title="socket.socket.setblocking" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">setblocking()</span></code></a>&nbsp;or&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.settimeout" title="socket.socket.settimeout" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">settimeout()</span></code></a>.</p></dd></dl><dl class="method" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">ioctl</code><span class="sig-paren" style="font-size: larger;">(</span><em>control</em>,&nbsp;<em>option</em><span class="sig-paren" style="font-size: larger;">)</span></h3><dt id="socket.socket.ioctl"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.ioctl" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><table class="docutils field-list" frame="void" rules="none" style="margin-bottom: 10px; border-width: 1px; border-right-style: solid; border-left-style: solid; border-color: rgb(221, 221, 221); border-image: initial; min-width: 20%; border-radius: 3px; margin-top: 10px;"><colgroup><col class="field-name" style="hyphens: manual;"><col class="field-body"></colgroup><tbody valign="top"><tr class="field-odd field"><th class="field-name" style="padding: 0.3em 0.5em; background-color: rgb(238, 238, 238); hyphens: manual; border-radius: 3px; border-top: 1px solid rgb(221, 221, 221) !important; border-right: 1px solid rgb(221, 221, 221) !important; border-left: 1px solid rgb(221, 221, 221) !important; border-bottom-color: rgb(221, 221, 221) !important; border-image: initial !important;">Platform:</th><td class="field-body" style="text-align: left; padding: 0.3em 0.5em; border-radius: 3px; background-color: white; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">Windows</td></tr></tbody></table><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">The&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.ioctl" title="socket.socket.ioctl" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">ioctl()</span></code></a>&nbsp;method is a limited interface to the WSAIoctl system interface. Please refer to the&nbsp;<a class="reference external" href="https://msdn.microsoft.com/en-us/library/ms741621%28VS.85%29.aspx" style="color: rgb(99, 99, 187); text-decoration-line: none;">Win32 documentation</a>&nbsp;for more information.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">On other platforms, the generic&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/fcntl.html#fcntl.fcntl" title="fcntl.fcntl" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">fcntl.fcntl()</span></code></a>&nbsp;and&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/fcntl.html#fcntl.ioctl" title="fcntl.ioctl" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">fcntl.ioctl()</span></code></a>&nbsp;functions may be used; they accept a socket object as their first argument.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Currently only the following control codes are supported:&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">SIO_RCVALL</span></code>,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">SIO_KEEPALIVE_VALS</span></code>, and&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">SIO_LOOPBACK_FAST_PATH</span></code>.</p><div class="versionchanged"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">在 3.6 版更改:&nbsp;</span><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">SIO_LOOPBACK_FAST_PATH</span></code>&nbsp;was added.</p></div></dd></dl><dl class="method" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">listen</code><span class="sig-paren" style="font-size: larger;">(</span><span class="optional" style="font-size: 1.3em;">[</span><em>backlog</em><span class="optional" style="font-size: 1.3em;">]</span><span class="sig-paren" style="font-size: larger;">)</span></h3><dt id="socket.socket.listen"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.listen" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Enable a server to accept connections. If&nbsp;<em>backlog</em>&nbsp;is specified, it must be at least 0 (if it is lower, it is set to 0); it specifies the number of unaccepted connections that the system will allow before refusing new connections. If not specified, a default reasonable value is chosen.</p><div class="versionchanged"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">在 3.5 版更改:&nbsp;</span>The&nbsp;<em>backlog</em>&nbsp;parameter is now optional.</p></div></dd></dl><dl class="method" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">makefile</code><span class="sig-paren" style="font-size: larger;">(</span><em>mode='r'</em>,&nbsp;<em>buffering=None</em>,&nbsp;<em>*</em>,&nbsp;<em>encoding=None</em>,&nbsp;<em>errors=None</em>,&nbsp;<em>newline=None</em><span class="sig-paren" style="font-size: larger;">)</span></h3><dt id="socket.socket.makefile"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.makefile" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p id="index-6" style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Return a&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/glossary.html#term-file-object" style="color: rgb(99, 99, 187); text-decoration-line: none;">file object</a>&nbsp;associated with the socket. The exact returned type depends on the arguments given to&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.makefile" title="socket.socket.makefile" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">makefile()</span></code></a>. These arguments are interpreted the same way as by the built-in&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#open" title="open" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">open()</span></code></a>&nbsp;function, except the only supported&nbsp;<em>mode</em>&nbsp;values are&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">'r'</span></code>&nbsp;(default),&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">'w'</span></code>&nbsp;and&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">'b'</span></code>.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">The socket must be in blocking mode; it can have a timeout, but the file object's internal buffer may end up in an inconsistent state if a timeout occurs.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Closing the file object returned by&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.makefile" title="socket.socket.makefile" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">makefile()</span></code></a>&nbsp;won't close the original socket unless all other file objects have been closed and&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.close" title="socket.close" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">socket.close()</span></code></a>&nbsp;has been called on the socket object.</p><div class="admonition note" style="margin-top: 10px; margin-bottom: 10px; padding: 7px; background-color: rgb(238, 238, 238); border: 1px solid rgb(204, 204, 204); border-radius: 3px;"><p class="first admonition-title" style="margin: 0px 10px 5px 0px; font-weight: bold; display: inline; hyphens: auto; line-height: 22.4px;">注解</p>&nbsp;<p class="last" style="margin-top: 0px; hyphens: auto; line-height: 22.4px; margin-bottom: 5px; display: inline;">On Windows, the file-like object created by&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.makefile" title="socket.socket.makefile" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background: rgb(214, 214, 214); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">makefile()</span></code></a>&nbsp;cannot be used where a file object with a file descriptor is expected, such as the stream arguments of&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/subprocess.html#subprocess.Popen" title="subprocess.Popen" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background: rgb(214, 214, 214); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">subprocess.Popen()</span></code></a>.</p></div></dd></dl><dl class="method" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">recv</code><span class="sig-paren" style="font-size: larger;">(</span><em>bufsize</em><span class="optional" style="font-size: 1.3em;">[</span>,&nbsp;<em>flags</em><span class="optional" style="font-size: 1.3em;">]</span><span class="sig-paren" style="font-size: larger;">)</span></h3><dt id="socket.socket.recv"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.recv" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Receive data from the socket. The return value is a bytes object representing the data received. The maximum amount of data to be received at once is specified by&nbsp;<em>bufsize</em>. See the Unix manual page&nbsp;<em class="manpage">recv(2)</em>&nbsp;for the meaning of the optional argument&nbsp;<em>flags</em>; it defaults to zero.</p><div class="admonition note" style="margin-top: 10px; margin-bottom: 10px; padding: 7px; background-color: rgb(238, 238, 238); border: 1px solid rgb(204, 204, 204); border-radius: 3px;"><p class="first admonition-title" style="margin: 0px 10px 5px 0px; font-weight: bold; display: inline; hyphens: auto; line-height: 22.4px;">注解</p>&nbsp;<p class="last" style="margin-top: 0px; hyphens: auto; line-height: 22.4px; margin-bottom: 5px; display: inline;">For best match with hardware and network realities, the value of<em>bufsize</em>&nbsp;should be a relatively small power of 2, for example, 4096.</p></div><div class="versionchanged"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">在 3.5 版更改:&nbsp;</span>If the system call is interrupted and the signal handler does not raise an exception, the method now retries the system call instead of raising an&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#InterruptedError" title="InterruptedError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">InterruptedError</span></code></a>&nbsp;exception (see&nbsp;<span class="target" id="index-7"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0475" style="color: rgb(99, 99, 187); text-decoration-line: none;"><strong>PEP 475</strong></a>&nbsp;for the rationale).</p></div></dd></dl><dl class="method" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">recvfrom</code><span class="sig-paren" style="font-size: larger;">(</span><em>bufsize</em><span class="optional" style="font-size: 1.3em;">[</span>,&nbsp;<em>flags</em><span class="optional" style="font-size: 1.3em;">]</span><span class="sig-paren" style="font-size: larger;">)</span></h3><dt id="socket.socket.recvfrom"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.recvfrom" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Receive data from the socket. The return value is a pair&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">(bytes,</span>&nbsp;<span class="pre" style="hyphens: none;">address)</span></code>where&nbsp;<em>bytes</em>&nbsp;is a bytes object representing the data received and&nbsp;<em>address</em>&nbsp;is the address of the socket sending the data. See the Unix manual page&nbsp;<em class="manpage">recv(2)</em>&nbsp;for the meaning of the optional argument&nbsp;<em>flags</em>; it defaults to zero. (The format of&nbsp;<em>address</em>&nbsp;depends on the address family --- see above.)</p><div class="versionchanged"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">在 3.5 版更改:&nbsp;</span>If the system call is interrupted and the signal handler does not raise an exception, the method now retries the system call instead of raising an&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#InterruptedError" title="InterruptedError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">InterruptedError</span></code></a>&nbsp;exception (see&nbsp;<span class="target" id="index-8"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0475" style="color: rgb(99, 99, 187); text-decoration-line: none;"><strong>PEP 475</strong></a>&nbsp;for the rationale).</p></div><div class="versionchanged"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">在 3.7 版更改:&nbsp;</span>For multicast IPv6 address, first item of&nbsp;<em>address</em>&nbsp;does not contain<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">%scope</span></code>&nbsp;part anymore. In order to get full IPv6 address use&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.getnameinfo" title="socket.getnameinfo" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">getnameinfo()</span></code></a>.</p></div></dd></dl><dl class="method" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">recvmsg</code><span class="sig-paren" style="font-size: larger;">(</span><em>bufsize</em><span class="optional" style="font-size: 1.3em;">[</span>,&nbsp;<em>ancbufsize</em><span class="optional" style="font-size: 1.3em;">[</span>,&nbsp;<em>flags</em><span class="optional" style="font-size: 1.3em;">]</span><span class="optional" style="font-size: 1.3em;">]</span><span class="sig-paren" style="font-size: larger;">)</span></h3><dt id="socket.socket.recvmsg"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.recvmsg" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Receive normal data (up to&nbsp;<em>bufsize</em>&nbsp;bytes) and ancillary data from the socket. The&nbsp;<em>ancbufsize</em>&nbsp;argument sets the size in bytes of the internal buffer used to receive the ancillary data; it defaults to 0, meaning that no ancillary data will be received. Appropriate buffer sizes for ancillary data can be calculated using<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.CMSG_SPACE" title="socket.CMSG_SPACE" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">CMSG_SPACE()</span></code></a>&nbsp;or&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.CMSG_LEN" title="socket.CMSG_LEN" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">CMSG_LEN()</span></code></a>, and items which do not fit into the buffer might be truncated or discarded. The&nbsp;<em>flags</em>&nbsp;argument defaults to 0 and has the same meaning as for&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.recv" title="socket.socket.recv" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">recv()</span></code></a>.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">The return value is a 4-tuple:&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">(data,</span>&nbsp;<span class="pre" style="hyphens: none;">ancdata,</span>&nbsp;<span class="pre" style="hyphens: none;">msg_flags,</span>&nbsp;<span class="pre" style="hyphens: none;">address)</span></code>. The&nbsp;<em>data</em>&nbsp;item is a&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/stdtypes.html#bytes" title="bytes" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">bytes</span></code></a>&nbsp;object holding the non-ancillary data received. The&nbsp;<em>ancdata</em>&nbsp;item is a list of zero or more tuples&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">(cmsg_level,</span>&nbsp;<span class="pre" style="hyphens: none;">cmsg_type,</span><span class="pre" style="hyphens: none;">cmsg_data)</span></code>&nbsp;representing the ancillary data (control messages) received:&nbsp;<em>cmsg_level</em>&nbsp;and&nbsp;<em>cmsg_type</em>&nbsp;are integers specifying the protocol level and protocol-specific type respectively, and&nbsp;<em>cmsg_data</em>&nbsp;is a&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/stdtypes.html#bytes" title="bytes" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">bytes</span></code></a>&nbsp;object holding the associated data. The&nbsp;<em>msg_flags</em>&nbsp;item is the bitwise OR of various flags indicating conditions on the received message; see your system documentation for details. If the receiving socket is unconnected,&nbsp;<em>address</em>&nbsp;is the address of the sending socket, if available; otherwise, its value is unspecified.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">On some systems,&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.sendmsg" title="socket.socket.sendmsg" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">sendmsg()</span></code></a>&nbsp;and&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.recvmsg" title="socket.socket.recvmsg" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">recvmsg()</span></code></a>&nbsp;can be used to pass file descriptors between processes over an&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.AF_UNIX" title="socket.AF_UNIX" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">AF_UNIX</span></code></a>&nbsp;socket. When this facility is used (it is often restricted to&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.SOCK_STREAM" title="socket.SOCK_STREAM" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">SOCK_STREAM</span></code></a>&nbsp;sockets),&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.recvmsg" title="socket.socket.recvmsg" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">recvmsg()</span></code></a>&nbsp;will return, in its ancillary data, items of the form&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">(socket.SOL_SOCKET,</span><span class="pre" style="hyphens: none;">socket.SCM_RIGHTS,</span>&nbsp;<span class="pre" style="hyphens: none;">fds)</span></code>, where&nbsp;<em>fds</em>&nbsp;is a&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/stdtypes.html#bytes" title="bytes" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">bytes</span></code></a>&nbsp;object representing the new file descriptors as a binary array of the native C&nbsp;<code class="xref c c-type docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">int</span></code>&nbsp;type. If&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.recvmsg" title="socket.socket.recvmsg" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">recvmsg()</span></code></a>&nbsp;raises an exception after the system call returns, it will first attempt to close any file descriptors received via this mechanism.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Some systems do not indicate the truncated length of ancillary data items which have been only partially received. If an item appears to extend beyond the end of the buffer,&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.recvmsg" title="socket.socket.recvmsg" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">recvmsg()</span></code></a>&nbsp;will issue a&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#RuntimeWarning" title="RuntimeWarning" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">RuntimeWarning</span></code></a>, and will return the part of it which is inside the buffer provided it has not been truncated before the start of its associated data.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">On systems which support the&nbsp;<code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">SCM_RIGHTS</span></code>&nbsp;mechanism, the following function will receive up to&nbsp;<em>maxfds</em>&nbsp;file descriptors, returning the message data and a list containing the descriptors (while ignoring unexpected conditions such as unrelated control messages being received). See also&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.sendmsg" title="socket.socket.sendmsg" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">sendmsg()</span></code></a>.</p><div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="kn" style="color: rgb(0, 112, 32); font-weight: bold;">import</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">socket</span><span class="o" style="color: rgb(102, 102, 102);">,</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">array</span>

<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">def</span> <span class="nf" style="color: rgb(6, 40, 126);">recv_fds</span><span class="p">(</span><span class="n">sock</span><span class="p">,</span> <span class="n">msglen</span><span class="p">,</span> <span class="n">maxfds</span><span class="p">):</span>
    <span class="n">fds</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">array</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">array</span><span class="p">(</span><span class="s2" style="color: rgb(64, 112, 160);">"i"</span><span class="p">)</span>   <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># Array of ints</span>
    <span class="n">msg</span><span class="p">,</span> <span class="n">ancdata</span><span class="p">,</span> <span class="n">flags</span><span class="p">,</span> <span class="n">addr</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">sock</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">recvmsg</span><span class="p">(</span><span class="n">msglen</span><span class="p">,</span> <span class="n">socket</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">CMSG_LEN</span><span class="p">(</span><span class="n">maxfds</span> <span class="o" style="color: rgb(102, 102, 102);">*</span> <span class="n">fds</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">itemsize</span><span class="p">))</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">for</span> <span class="n">cmsg_level</span><span class="p">,</span> <span class="n">cmsg_type</span><span class="p">,</span> <span class="n">cmsg_data</span> <span class="ow" style="color: rgb(0, 112, 32); font-weight: bold;">in</span> <span class="n">ancdata</span><span class="p">:</span>
        <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">if</span> <span class="p">(</span><span class="n">cmsg_level</span> <span class="o" style="color: rgb(102, 102, 102);">==</span> <span class="n">socket</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">SOL_SOCKET</span> <span class="ow" style="color: rgb(0, 112, 32); font-weight: bold;">and</span> <span class="n">cmsg_type</span> <span class="o" style="color: rgb(102, 102, 102);">==</span> <span class="n">socket</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">SCM_RIGHTS</span><span class="p">):</span>
            <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># Append data, ignoring any truncated integers at the end.</span>
            <span class="n">fds</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">fromstring</span><span class="p">(</span><span class="n">cmsg_data</span><span class="p">[:</span><span class="nb" style="color: rgb(0, 112, 32);">len</span><span class="p">(</span><span class="n">cmsg_data</span><span class="p">)</span> <span class="o" style="color: rgb(102, 102, 102);">-</span> <span class="p">(</span><span class="nb" style="color: rgb(0, 112, 32);">len</span><span class="p">(</span><span class="n">cmsg_data</span><span class="p">)</span> <span class="o" style="color: rgb(102, 102, 102);">%</span> <span class="n">fds</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">itemsize</span><span class="p">)])</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">return</span> <span class="n">msg</span><span class="p">,</span> <span class="nb" style="color: rgb(0, 112, 32);">list</span><span class="p">(</span><span class="n">fds</span><span class="p">)</span>
</pre></div></div><p class="availability" style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><a class="reference internal" href="https://docs.python.org/zh-cn/3/library/intro.html#availability" style="color: rgb(99, 99, 187); text-decoration-line: none;">Availability</a>: most Unix platforms, possibly others.</p><div class="versionadded"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">3.3 新版功能.</span></p></div><div class="versionchanged"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">在 3.5 版更改:&nbsp;</span>If the system call is interrupted and the signal handler does not raise an exception, the method now retries the system call instead of raising an&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#InterruptedError" title="InterruptedError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">InterruptedError</span></code></a>&nbsp;exception (see&nbsp;<span class="target" id="index-9"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0475" style="color: rgb(99, 99, 187); text-decoration-line: none;"><strong>PEP 475</strong></a>&nbsp;for the rationale).</p></div></dd></dl><dl class="method" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">recvmsg_into</code><span class="sig-paren" style="font-size: larger;">(</span><em>buffers</em><span class="optional" style="font-size: 1.3em;">[</span>,&nbsp;<em>ancbufsize</em><span class="optional" style="font-size: 1.3em;">[</span>,&nbsp;<em>flags</em><span class="optional" style="font-size: 1.3em;">]</span><span class="optional" style="font-size: 1.3em;">]</span><span class="sig-paren" style="font-size: larger;">)</span></h3><dt id="socket.socket.recvmsg_into"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.recvmsg_into" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Receive normal data and ancillary data from the socket, behaving as&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.recvmsg" title="socket.socket.recvmsg" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">recvmsg()</span></code></a>would, but scatter the non-ancillary data into a series of buffers instead of returning a new bytes object. The&nbsp;<em>buffers</em>&nbsp;argument must be an iterable of objects that export writable buffers (e.g.&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/stdtypes.html#bytearray" title="bytearray" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">bytearray</span></code></a>&nbsp;objects); these will be filled with successive chunks of the non-ancillary data until it has all been written or there are no more buffers. The operating system may set a limit (<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/os.html#os.sysconf" title="os.sysconf" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">sysconf()</span></code></a>value&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">SC_IOV_MAX</span></code>) on the number of buffers that can be used. The&nbsp;<em>ancbufsize</em>and&nbsp;<em>flags</em>&nbsp;arguments have the same meaning as for&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.recvmsg" title="socket.socket.recvmsg" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">recvmsg()</span></code></a>.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">The return value is a 4-tuple:&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">(nbytes,</span>&nbsp;<span class="pre" style="hyphens: none;">ancdata,</span>&nbsp;<span class="pre" style="hyphens: none;">msg_flags,</span>&nbsp;<span class="pre" style="hyphens: none;">address)</span></code>, where&nbsp;<em>nbytes</em>&nbsp;is the total number of bytes of non-ancillary data written into the buffers, and&nbsp;<em>ancdata</em>,&nbsp;<em>msg_flags</em>&nbsp;and&nbsp;<em>address</em>&nbsp;are the same as for&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.recvmsg" title="socket.socket.recvmsg" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">recvmsg()</span></code></a>.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">示例:</p><div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><span class="copybutton" title="Hide the prompts and output" style="cursor: pointer; position: absolute; top: 0px; right: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</span><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="kn" style="color: rgb(0, 112, 32); font-weight: bold;">import</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">socket</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">s1</span><span class="p">,</span> <span class="n">s2</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">socket</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">socketpair</span><span class="p">()</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">b1</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="nb" style="color: rgb(0, 112, 32);">bytearray</span><span class="p">(</span><span class="sa" style="color: rgb(64, 112, 160);">b</span><span class="s1" style="color: rgb(64, 112, 160);">'----'</span><span class="p">)</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">b2</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="nb" style="color: rgb(0, 112, 32);">bytearray</span><span class="p">(</span><span class="sa" style="color: rgb(64, 112, 160);">b</span><span class="s1" style="color: rgb(64, 112, 160);">'0123456789'</span><span class="p">)</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">b3</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="nb" style="color: rgb(0, 112, 32);">bytearray</span><span class="p">(</span><span class="sa" style="color: rgb(64, 112, 160);">b</span><span class="s1" style="color: rgb(64, 112, 160);">'--------------'</span><span class="p">)</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">s1</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">send</span><span class="p">(</span><span class="sa" style="color: rgb(64, 112, 160);">b</span><span class="s1" style="color: rgb(64, 112, 160);">'Mary had a little lamb'</span><span class="p">)</span>
<span class="go">22</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">s2</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">recvmsg_into</span><span class="p">([</span><span class="n">b1</span><span class="p">,</span> <span class="nb" style="color: rgb(0, 112, 32);">memoryview</span><span class="p">(</span><span class="n">b2</span><span class="p">)[</span><span class="mi" style="color: rgb(32, 128, 80);">2</span><span class="p">:</span><span class="mi" style="color: rgb(32, 128, 80);">9</span><span class="p">],</span> <span class="n">b3</span><span class="p">])</span>
<span class="go">(22, [], 0, None)</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">b1</span><span class="p">,</span> <span class="n">b2</span><span class="p">,</span> <span class="n">b3</span><span class="p">]</span>
<span class="go">[bytearray(b'Mary'), bytearray(b'01 had a 9'), bytearray(b'little lamb---')]</span>
</pre></div></div><p class="availability" style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><a class="reference internal" href="https://docs.python.org/zh-cn/3/library/intro.html#availability" style="color: rgb(99, 99, 187); text-decoration-line: none;">Availability</a>: most Unix platforms, possibly others.</p><div class="versionadded"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">3.3 新版功能.</span></p></div></dd></dl><dl class="method" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">recvfrom_into</code><span class="sig-paren" style="font-size: larger;">(</span><em>buffer</em><span class="optional" style="font-size: 1.3em;">[</span>,&nbsp;<em>nbytes</em><span class="optional" style="font-size: 1.3em;">[</span>,&nbsp;<em>flags</em><span class="optional" style="font-size: 1.3em;">]</span><span class="optional" style="font-size: 1.3em;">]</span><span class="sig-paren" style="font-size: larger;">)</span></h3><dt id="socket.socket.recvfrom_into"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.recvfrom_into" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Receive data from the socket, writing it into&nbsp;<em>buffer</em>&nbsp;instead of creating a new bytestring. The return value is a pair&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">(nbytes,</span>&nbsp;<span class="pre" style="hyphens: none;">address)</span></code>&nbsp;where&nbsp;<em>nbytes</em>&nbsp;is the number of bytes received and&nbsp;<em>address</em>&nbsp;is the address of the socket sending the data. See the Unix manual page&nbsp;<em class="manpage">recv(2)</em>&nbsp;for the meaning of the optional argument&nbsp;<em>flags</em>; it defaults to zero. (The format of&nbsp;<em>address</em>&nbsp;depends on the address family --- see above.)</p></dd></dl><dl class="method" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">recv_into</code><span class="sig-paren" style="font-size: larger;">(</span><em>buffer</em><span class="optional" style="font-size: 1.3em;">[</span>,&nbsp;<em>nbytes</em><span class="optional" style="font-size: 1.3em;">[</span>,&nbsp;<em>flags</em><span class="optional" style="font-size: 1.3em;">]</span><span class="optional" style="font-size: 1.3em;">]</span><span class="sig-paren" style="font-size: larger;">)</span></h3><dt id="socket.socket.recv_into"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.recv_into" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Receive up to&nbsp;<em>nbytes</em>&nbsp;bytes from the socket, storing the data into a buffer rather than creating a new bytestring. If&nbsp;<em>nbytes</em>&nbsp;is not specified (or 0), receive up to the size available in the given buffer. Returns the number of bytes received. See the Unix manual page&nbsp;<em class="manpage">recv(2)</em>&nbsp;for the meaning of the optional argument&nbsp;<em>flags</em>; it defaults to zero.</p></dd></dl><dl class="method" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">send</code><span class="sig-paren" style="font-size: larger;">(</span><em>bytes</em><span class="optional" style="font-size: 1.3em;">[</span>,&nbsp;<em>flags</em><span class="optional" style="font-size: 1.3em;">]</span><span class="sig-paren" style="font-size: larger;">)</span></h3><dt id="socket.socket.send"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.send" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Send data to the socket. The socket must be connected to a remote socket. The optional&nbsp;<em>flags</em>&nbsp;argument has the same meaning as for&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.recv" title="socket.socket.recv" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">recv()</span></code></a>&nbsp;above. Returns the number of bytes sent. Applications are responsible for checking that all data has been sent; if only some of the data was transmitted, the application needs to attempt delivery of the remaining data. For further information on this topic, consult the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/howto/sockets.html#socket-howto" style="color: rgb(99, 99, 187); text-decoration-line: none;">套接字编程 HOWTO</a>.</p><div class="versionchanged"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">在 3.5 版更改:&nbsp;</span>If the system call is interrupted and the signal handler does not raise an exception, the method now retries the system call instead of raising an&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#InterruptedError" title="InterruptedError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">InterruptedError</span></code></a>&nbsp;exception (see&nbsp;<span class="target" id="index-10"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0475" style="color: rgb(99, 99, 187); text-decoration-line: none;"><strong>PEP 475</strong></a>&nbsp;for the rationale).</p></div></dd></dl><dl class="method" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">sendall</code><span class="sig-paren" style="font-size: larger;">(</span><em>bytes</em><span class="optional" style="font-size: 1.3em;">[</span>,&nbsp;<em>flags</em><span class="optional" style="font-size: 1.3em;">]</span><span class="sig-paren" style="font-size: larger;">)</span></h3><dt id="socket.socket.sendall"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.sendall" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Send data to the socket. The socket must be connected to a remote socket. The optional&nbsp;<em>flags</em>&nbsp;argument has the same meaning as for&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.recv" title="socket.socket.recv" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">recv()</span></code></a>&nbsp;above. Unlike&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.send" title="socket.socket.send" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">send()</span></code></a>, this method continues to send data from&nbsp;<em>bytes</em>&nbsp;until either all data has been sent or an error occurs.&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code>&nbsp;is returned on success. On error, an exception is raised, and there is no way to determine how much data, if any, was successfully sent.</p><div class="versionchanged"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">在 3.5 版更改:&nbsp;</span>The socket timeout is no more reset each time data is sent successfully. The socket timeout is now the maximum total duration to send all data.</p></div><div class="versionchanged"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">在 3.5 版更改:&nbsp;</span>If the system call is interrupted and the signal handler does not raise an exception, the method now retries the system call instead of raising an&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#InterruptedError" title="InterruptedError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">InterruptedError</span></code></a>&nbsp;exception (see&nbsp;<span class="target" id="index-11"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0475" style="color: rgb(99, 99, 187); text-decoration-line: none;"><strong>PEP 475</strong></a>&nbsp;for the rationale).</p></div></dd></dl><dl class="method" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">sendto</code><span class="sig-paren" style="font-size: larger;">(</span><em>bytes</em>,&nbsp;<em>address</em><span class="sig-paren" style="font-size: larger;">)</span></h3><dt id="socket.socket.sendto"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.sendto" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">sendto</code><span class="sig-paren" style="font-size: larger;">(</span><em>bytes</em>,&nbsp;<em>flags</em>,&nbsp;<em>address</em><span class="sig-paren" style="font-size: larger;">)</span></h3><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Send data to the socket. The socket should not be connected to a remote socket, since the destination socket is specified by&nbsp;<em>address</em>. The optional&nbsp;<em>flags</em>argument has the same meaning as for&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.recv" title="socket.socket.recv" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">recv()</span></code></a>&nbsp;above. Return the number of bytes sent. (The format of&nbsp;<em>address</em>&nbsp;depends on the address family --- see above.)</p><div class="versionchanged"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">在 3.5 版更改:&nbsp;</span>If the system call is interrupted and the signal handler does not raise an exception, the method now retries the system call instead of raising an&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#InterruptedError" title="InterruptedError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">InterruptedError</span></code></a>&nbsp;exception (see&nbsp;<span class="target" id="index-12"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0475" style="color: rgb(99, 99, 187); text-decoration-line: none;"><strong>PEP 475</strong></a>&nbsp;for the rationale).</p></div></dd></dl><dl class="method" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">sendmsg</code><span class="sig-paren" style="font-size: larger;">(</span><em>buffers</em><span class="optional" style="font-size: 1.3em;">[</span>,&nbsp;<em>ancdata</em><span class="optional" style="font-size: 1.3em;">[</span>,&nbsp;<em>flags</em><span class="optional" style="font-size: 1.3em;">[</span>,&nbsp;<em>address</em><span class="optional" style="font-size: 1.3em;">]</span><span class="optional" style="font-size: 1.3em;">]</span><span class="optional" style="font-size: 1.3em;">]</span><span class="sig-paren" style="font-size: larger;">)</span></h3><dt id="socket.socket.sendmsg"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.sendmsg" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Send normal and ancillary data to the socket, gathering the non-ancillary data from a series of buffers and concatenating it into a single message. The&nbsp;<em>buffers</em>argument specifies the non-ancillary data as an iterable of&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/glossary.html#term-bytes-like-object" style="color: rgb(99, 99, 187); text-decoration-line: none;">bytes-like objects</a>(e.g.&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/stdtypes.html#bytes" title="bytes" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">bytes</span></code></a>&nbsp;objects); the operating system may set a limit (<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/os.html#os.sysconf" title="os.sysconf" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">sysconf()</span></code></a>&nbsp;value&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">SC_IOV_MAX</span></code>) on the number of buffers that can be used. The&nbsp;<em>ancdata</em>&nbsp;argument specifies the ancillary data (control messages) as an iterable of zero or more tuples&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">(cmsg_level,</span>&nbsp;<span class="pre" style="hyphens: none;">cmsg_type,</span>&nbsp;<span class="pre" style="hyphens: none;">cmsg_data)</span></code>, where&nbsp;<em>cmsg_level</em>&nbsp;and<em>cmsg_type</em>&nbsp;are integers specifying the protocol level and protocol-specific type respectively, and&nbsp;<em>cmsg_data</em>&nbsp;is a bytes-like object holding the associated data. Note that some systems (in particular, systems without&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.CMSG_SPACE" title="socket.CMSG_SPACE" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">CMSG_SPACE()</span></code></a>) might support sending only one control message per call. The&nbsp;<em>flags</em>&nbsp;argument defaults to 0 and has the same meaning as for&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.send" title="socket.socket.send" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">send()</span></code></a>. If&nbsp;<em>address</em>&nbsp;is supplied and not&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code>, it sets a destination address for the message. The return value is the number of bytes of non-ancillary data sent.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">The following function sends the list of file descriptors&nbsp;<em>fds</em>&nbsp;over an&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.AF_UNIX" title="socket.AF_UNIX" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">AF_UNIX</span></code></a>socket, on systems which support the&nbsp;<code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">SCM_RIGHTS</span></code>&nbsp;mechanism. See also&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.recvmsg" title="socket.socket.recvmsg" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">recvmsg()</span></code></a>.</p><div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="kn" style="color: rgb(0, 112, 32); font-weight: bold;">import</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">socket</span><span class="o" style="color: rgb(102, 102, 102);">,</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">array</span>

<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">def</span> <span class="nf" style="color: rgb(6, 40, 126);">send_fds</span><span class="p">(</span><span class="n">sock</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="n">fds</span><span class="p">):</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">return</span> <span class="n">sock</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">sendmsg</span><span class="p">([</span><span class="n">msg</span><span class="p">],</span> <span class="p">[(</span><span class="n">socket</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">SOL_SOCKET</span><span class="p">,</span> <span class="n">socket</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">SCM_RIGHTS</span><span class="p">,</span> <span class="n">array</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">array</span><span class="p">(</span><span class="s2" style="color: rgb(64, 112, 160);">"i"</span><span class="p">,</span> <span class="n">fds</span><span class="p">))])</span>
</pre></div></div><p class="availability" style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><a class="reference internal" href="https://docs.python.org/zh-cn/3/library/intro.html#availability" style="color: rgb(99, 99, 187); text-decoration-line: none;">Availability</a>: most Unix platforms, possibly others.</p><div class="versionadded"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">3.3 新版功能.</span></p></div><div class="versionchanged"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">在 3.5 版更改:&nbsp;</span>If the system call is interrupted and the signal handler does not raise an exception, the method now retries the system call instead of raising an&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#InterruptedError" title="InterruptedError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">InterruptedError</span></code></a>&nbsp;exception (see&nbsp;<span class="target" id="index-13"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0475" style="color: rgb(99, 99, 187); text-decoration-line: none;"><strong>PEP 475</strong></a>&nbsp;for the rationale).</p></div></dd></dl><dl class="method" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">sendmsg_afalg</code><span class="sig-paren" style="font-size: larger;">(</span><span class="optional" style="font-size: 1.3em;">[</span><em>msg</em>,&nbsp;<span class="optional" style="font-size: 1.3em;">]</span><em>*</em>,&nbsp;<em>op</em><span class="optional" style="font-size: 1.3em;">[</span>,&nbsp;<em>iv</em><span class="optional" style="font-size: 1.3em;">[</span>,&nbsp;<em>assoclen</em><span class="optional" style="font-size: 1.3em;">[</span>,&nbsp;<em>flags</em><span class="optional" style="font-size: 1.3em;">]</span><span class="optional" style="font-size: 1.3em;">]</span><span class="optional" style="font-size: 1.3em;">]</span><span class="sig-paren" style="font-size: larger;">)</span></h3><dt id="socket.socket.sendmsg_afalg"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.sendmsg_afalg" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Specialized version of&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.sendmsg" title="socket.socket.sendmsg" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">sendmsg()</span></code></a>&nbsp;for&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.AF_ALG" title="socket.AF_ALG" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">AF_ALG</span></code></a>&nbsp;socket. Set mode, IV, AEAD associated data length and flags for&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.AF_ALG" title="socket.AF_ALG" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">AF_ALG</span></code></a>&nbsp;socket.</p><p class="availability" style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><a class="reference internal" href="https://docs.python.org/zh-cn/3/library/intro.html#availability" style="color: rgb(99, 99, 187); text-decoration-line: none;">Availability</a>: Linux &gt;= 2.6.38.</p><div class="versionadded"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">3.6 新版功能.</span></p></div></dd></dl><dl class="method" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">sendfile</code><span class="sig-paren" style="font-size: larger;">(</span><em>file</em>,&nbsp;<em>offset=0</em>,&nbsp;<em>count=None</em><span class="sig-paren" style="font-size: larger;">)</span></h3><dt id="socket.socket.sendfile"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.sendfile" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Send a file until EOF is reached by using high-performance&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/os.html#os.sendfile" title="os.sendfile" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">os.sendfile</span></code></a>&nbsp;and return the total number of bytes which were sent.&nbsp;<em>file</em>&nbsp;must be a regular file object opened in binary mode. If&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/os.html#os.sendfile" title="os.sendfile" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">os.sendfile</span></code></a>&nbsp;is not available (e.g. Windows) or&nbsp;<em>file</em>&nbsp;is not a regular file&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.send" title="socket.socket.send" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">send()</span></code></a>&nbsp;will be used instead.&nbsp;<em>offset</em>&nbsp;tells from where to start reading the file. If specified,&nbsp;<em>count</em>&nbsp;is the total number of bytes to transmit as opposed to sending the file until EOF is reached. File position is updated on return or also in case of error in which case&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/io.html#io.IOBase.tell" title="io.IOBase.tell" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">file.tell()</span></code></a>&nbsp;can be used to figure out the number of bytes which were sent. The socket must be of&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.SOCK_STREAM" title="socket.SOCK_STREAM" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">SOCK_STREAM</span></code></a>&nbsp;type. Non-blocking sockets are not supported.</p><div class="versionadded"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">3.5 新版功能.</span></p></div></dd></dl><dl class="method" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">set_inheritable</code><span class="sig-paren" style="font-size: larger;">(</span><em>inheritable</em><span class="sig-paren" style="font-size: larger;">)</span></h3><dt id="socket.socket.set_inheritable"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.set_inheritable" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Set the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/os.html#fd-inheritance" style="color: rgb(99, 99, 187); text-decoration-line: none;">inheritable flag</a>&nbsp;of the socket's file descriptor or socket's handle.</p><div class="versionadded"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">3.4 新版功能.</span></p></div></dd></dl><dl class="method" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">setblocking</code><span class="sig-paren" style="font-size: larger;">(</span><em>flag</em><span class="sig-paren" style="font-size: larger;">)</span></h3><dt id="socket.socket.setblocking"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.setblocking" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Set blocking or non-blocking mode of the socket: if&nbsp;<em>flag</em>&nbsp;is false, the socket is set to non-blocking, else to blocking mode.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">This method is a shorthand for certain&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.settimeout" title="socket.socket.settimeout" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">settimeout()</span></code></a>&nbsp;calls:</p><ul class="simple" style="margin-bottom: 10px;"><li style="hyphens: auto; text-align: justify; line-height: 20.8px;"><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">sock.setblocking(True)</span></code>&nbsp;is equivalent to&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">sock.settimeout(None)</span></code></li><li style="hyphens: auto; text-align: justify; line-height: 20.8px;"><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">sock.setblocking(False)</span></code>&nbsp;is equivalent to&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">sock.settimeout(0.0)</span></code></li></ul><div class="versionchanged"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">在 3.7 版更改:&nbsp;</span>The method no longer applies&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.SOCK_NONBLOCK" title="socket.SOCK_NONBLOCK" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">SOCK_NONBLOCK</span></code></a>&nbsp;flag on<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.type" title="socket.socket.type" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">socket.type</span></code></a>.</p></div></dd></dl><dl class="method" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">settimeout</code><span class="sig-paren" style="font-size: larger;">(</span><em>value</em><span class="sig-paren" style="font-size: larger;">)</span></h3><dt id="socket.socket.settimeout"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.settimeout" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Set a timeout on blocking socket operations. The&nbsp;<em>value</em>&nbsp;argument can be a nonnegative floating point number expressing seconds, or&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code>. If a non-zero value is given, subsequent socket operations will raise a&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.timeout" title="socket.timeout" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">timeout</span></code></a>&nbsp;exception if the timeout period&nbsp;<em>value</em>&nbsp;has elapsed before the operation has completed. If zero is given, the socket is put in non-blocking mode. If&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code>&nbsp;is given, the socket is put in blocking mode.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">For further information, please consult the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket-timeouts" style="color: rgb(99, 99, 187); text-decoration-line: none;">notes on socket timeouts</a>.</p><div class="versionchanged"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">在 3.7 版更改:&nbsp;</span>The method no longer toggles&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.SOCK_NONBLOCK" title="socket.SOCK_NONBLOCK" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">SOCK_NONBLOCK</span></code></a>&nbsp;flag on<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.type" title="socket.socket.type" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">socket.type</span></code></a>.</p></div></dd></dl><dl class="method" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">setsockopt</code><span class="sig-paren" style="font-size: larger;">(</span><em>level</em>,&nbsp;<em>optname</em>,&nbsp;<em>value: int</em><span class="sig-paren" style="font-size: larger;">)</span></h3><dt id="socket.socket.setsockopt"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.setsockopt" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"></dd></dl><dl class="method" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">setsockopt</code><span class="sig-paren" style="font-size: larger;">(</span><em>level</em>,&nbsp;<em>optname</em>,&nbsp;<em>value: buffer</em><span class="sig-paren" style="font-size: larger;">)</span></h3><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"></dd></dl><dl class="method" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">setsockopt</code><span class="sig-paren" style="font-size: larger;">(</span><em>level</em>,&nbsp;<em>optname</em>,&nbsp;<em>None</em>,&nbsp;<em>optlen: int</em><span class="sig-paren" style="font-size: larger;">)</span></h3><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p id="index-14" style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Set the value of the given socket option (see the Unix manual page<em class="manpage">setsockopt(2)</em>). The needed symbolic constants are defined in the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#module-socket" title="socket: Low-level networking interface." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">socket</span></code></a>module (<code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">SO_*</span></code>&nbsp;etc.). The value can be an integer,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code>&nbsp;or a&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/glossary.html#term-bytes-like-object" style="color: rgb(99, 99, 187); text-decoration-line: none;">bytes-like object</a>representing a buffer. In the later case it is up to the caller to ensure that the bytestring contains the proper bits (see the optional built-in module&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/struct.html#module-struct" title="struct: Interpret bytes as packed binary data." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">struct</span></code></a>&nbsp;for a way to encode C structures as bytestrings). When value is set to&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code>, optlen argument is required. It's equivalent to call setsockopt C function with optval=NULL and optlen=optlen.</p><div class="versionchanged"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">在 3.5 版更改:&nbsp;</span>Writable&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/glossary.html#term-bytes-like-object" style="color: rgb(99, 99, 187); text-decoration-line: none;">bytes-like object</a>&nbsp;is now accepted.</p></div><div class="versionchanged"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">在 3.6 版更改:&nbsp;</span>setsockopt(level, optname, None, optlen: int) form added.</p></div></dd></dl><dl class="method" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">shutdown</code><span class="sig-paren" style="font-size: larger;">(</span><em>how</em><span class="sig-paren" style="font-size: larger;">)</span></h3><dt id="socket.socket.shutdown"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.shutdown" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Shut down one or both halves of the connection. If&nbsp;<em>how</em>&nbsp;is&nbsp;<code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">SHUT_RD</span></code>, further receives are disallowed. If&nbsp;<em>how</em>&nbsp;is&nbsp;<code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">SHUT_WR</span></code>, further sends are disallowed. If&nbsp;<em>how</em>is&nbsp;<code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">SHUT_RDWR</span></code>, further sends and receives are disallowed.</p></dd></dl><dl class="method" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">share</code><span class="sig-paren" style="font-size: larger;">(</span><em>process_id</em><span class="sig-paren" style="font-size: larger;">)</span></h3><dt id="socket.socket.share"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.share" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Duplicate a socket and prepare it for sharing with a target process. The target process must be provided with&nbsp;<em>process_id</em>. The resulting bytes object can then be passed to the target process using some form of interprocess communication and the socket can be recreated there using&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.fromshare" title="socket.fromshare" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">fromshare()</span></code></a>. Once this method has been called, it is safe to close the socket since the operating system has already duplicated it for the target process.</p><p class="availability" style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><a class="reference internal" href="https://docs.python.org/zh-cn/3/library/intro.html#availability" style="color: rgb(99, 99, 187); text-decoration-line: none;">Availability</a>: Windows.</p><div class="versionadded"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">3.3 新版功能.</span></p></div></dd></dl><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">Note that there are no methods&nbsp;<code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">read()</span></code>&nbsp;or&nbsp;<code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">write()</span></code>; use&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.recv" title="socket.socket.recv" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">recv()</span></code></a>&nbsp;and&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.send" title="socket.socket.send" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">send()</span></code></a>without&nbsp;<em>flags</em>&nbsp;argument instead.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">Socket objects also have these (read-only) attributes that correspond to the values given to the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket" title="socket.socket" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">socket</span></code></a>&nbsp;constructor.</p><dl class="attribute" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">family</code></h3><dt id="socket.socket.family"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.family" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">The socket family.</p></dd></dl><dl class="attribute" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">type</code></h3><dt id="socket.socket.type"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.type" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">The socket type.</p></dd></dl><dl class="attribute" style="margin-bottom: 15px;"><h3><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">socket.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">proto</code></h3><dt id="socket.socket.proto"><a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.proto" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">The socket protocol.</p></dd></dl></div><div class="section" id="notes-on-socket-timeouts" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><span id="socket-timeouts"></span><h2 style="font-weight: normal; color: rgb(26, 26, 26); border: 0px; margin: 0px; padding: 0.3em 0px; font-size: 25.6px;" id="blogTitle15">Notes on socket timeouts<a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#notes-on-socket-timeouts" title="永久链接至标题" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></h2><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">A socket object can be in one of three modes: blocking, non-blocking, or timeout. Sockets are by default always created in blocking mode, but this can be changed by calling&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.setdefaulttimeout" title="socket.setdefaulttimeout" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">setdefaulttimeout()</span></code></a>.</p><ul class="simple"><li style="hyphens: auto; text-align: justify; line-height: 20.8px;">In&nbsp;<em>blocking mode</em>, operations block until complete or the system returns an error (such as connection timed out).</li><li style="hyphens: auto; text-align: justify; line-height: 20.8px;">In&nbsp;<em>non-blocking mode</em>, operations fail (with an error that is unfortunately system-dependent) if they cannot be completed immediately: functions from the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/select.html#module-select" title="select: Wait for I/O completion on multiple streams." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">select</span></code></a>&nbsp;can be used to know when and whether a socket is available for reading or writing.</li><li style="hyphens: auto; text-align: justify; line-height: 20.8px;">In&nbsp;<em>timeout mode</em>, operations fail if they cannot be completed within the timeout specified for the socket (they raise a&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.timeout" title="socket.timeout" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">timeout</span></code></a>&nbsp;exception) or if the system returns an error.</li></ul><div class="admonition note" style="margin-top: 10px; margin-bottom: 10px; padding: 7px; background-color: rgb(238, 238, 238); border: 1px solid rgb(204, 204, 204); border-radius: 3px;"><p class="first admonition-title" style="margin: 0px 10px 5px 0px; font-weight: bold; display: inline; hyphens: auto; text-align: justify; line-height: 22.4px;">注解</p>&nbsp;<p class="last" style="hyphens: auto; text-align: justify; line-height: 22.4px; margin-bottom: 5px; display: inline;">At the operating system level, sockets in&nbsp;<em>timeout mode</em>&nbsp;are internally set in non-blocking mode. Also, the blocking and timeout modes are shared between file descriptors and socket objects that refer to the same network endpoint. This implementation detail can have visible consequences if e.g. you decide to use the<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.fileno" title="socket.socket.fileno" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background: rgb(214, 214, 214); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">fileno()</span></code></a>&nbsp;of a socket.</p></div><div class="section" id="timeouts-and-the-connect-method"><h3 style="font-weight: normal; color: rgb(26, 26, 26); border: 0px; margin: 0px; padding: 0.3em 0px; font-size: 22.4px;" id="blogTitle16">Timeouts and the&nbsp;<code class="docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 21.616px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">connect</span></code>&nbsp;method<a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#timeouts-and-the-connect-method" title="永久链接至标题" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></h3><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">The&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.connect" title="socket.socket.connect" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">connect()</span></code></a>&nbsp;operation is also subject to the timeout setting, and in general it is recommended to call&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.settimeout" title="socket.socket.settimeout" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">settimeout()</span></code></a>&nbsp;before calling&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.connect" title="socket.socket.connect" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">connect()</span></code></a>&nbsp;or pass a timeout parameter to&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.create_connection" title="socket.create_connection" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">create_connection()</span></code></a>. However, the system network stack may also return a connection timeout error of its own regardless of any Python socket timeout setting.</p></div><div class="section" id="timeouts-and-the-accept-method"><h3 style="font-weight: normal; color: rgb(26, 26, 26); border: 0px; margin: 0px; padding: 0.3em 0px; font-size: 22.4px;" id="blogTitle17">Timeouts and the&nbsp;<code class="docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 21.616px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">accept</span></code>&nbsp;method<a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#timeouts-and-the-accept-method" title="永久链接至标题" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></h3><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">If&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.getdefaulttimeout" title="socket.getdefaulttimeout" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">getdefaulttimeout()</span></code></a>&nbsp;is not&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/constants.html#None" title="None" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code></a>, sockets returned by the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.accept" title="socket.socket.accept" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">accept()</span></code></a>&nbsp;method inherit that timeout. Otherwise, the behaviour depends on settings of the listening socket:</p><ul class="simple"><li style="hyphens: auto; text-align: justify; line-height: 20.8px;">if the listening socket is in&nbsp;<em>blocking mode</em>&nbsp;or in&nbsp;<em>timeout mode</em>, the socket returned by&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.accept" title="socket.socket.accept" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">accept()</span></code></a>&nbsp;is in&nbsp;<em>blocking mode</em>;</li><li style="hyphens: auto; text-align: justify; line-height: 20.8px;">if the listening socket is in&nbsp;<em>non-blocking mode</em>, whether the socket returned by&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.accept" title="socket.socket.accept" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">accept()</span></code></a>&nbsp;is in blocking or non-blocking mode is operating system-dependent. If you want to ensure cross-platform behaviour, it is recommended you manually override this setting.</li></ul></div></div><div class="section" id="example" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><span id="socket-example"></span><h2 style="font-weight: normal; color: rgb(26, 26, 26); border: 0px; margin: 0px; padding: 0.3em 0px; font-size: 25.6px;" id="blogTitle18">示例<a class="headerlink" href="https://docs.python.org/zh-cn/3/library/socket.html#example" title="永久链接至标题" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></h2><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">Here are four minimal example programs using the TCP/IP protocol: a server that echoes all data that it receives back (servicing only one client), and a client using it. Note that a server must perform the sequence&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket" title="socket.socket" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">socket()</span></code></a>,&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.bind" title="socket.socket.bind" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">bind()</span></code></a>,&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.listen" title="socket.socket.listen" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">listen()</span></code></a>,&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.accept" title="socket.socket.accept" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">accept()</span></code></a>&nbsp;(possibly repeating the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.accept" title="socket.socket.accept" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">accept()</span></code></a>&nbsp;to service more than one client), while a client only needs the sequence&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket" title="socket.socket" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">socket()</span></code></a>,&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.connect" title="socket.socket.connect" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">connect()</span></code></a>. Also note that the server does not&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.sendall" title="socket.socket.sendall" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">sendall()</span></code></a>/<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.recv" title="socket.socket.recv" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">recv()</span></code></a>&nbsp;on the socket it is listening on but on the new socket returned by&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.accept" title="socket.socket.accept" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">accept()</span></code></a>.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">The first two examples support IPv4 only.</p><div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># Echo server program</span>
<span class="kn" style="color: rgb(0, 112, 32); font-weight: bold;">import</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">socket</span>

<span class="n">HOST</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="s1" style="color: rgb(64, 112, 160);">''</span>                 <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># Symbolic name meaning all available interfaces</span>
<span class="n">PORT</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="mi" style="color: rgb(32, 128, 80);">50007</span>              <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># Arbitrary non-privileged port</span>
<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">with</span> <span class="n">socket</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">socket</span><span class="p">(</span><span class="n">socket</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">AF_INET</span><span class="p">,</span> <span class="n">socket</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">SOCK_STREAM</span><span class="p">)</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">as</span> <span class="n">s</span><span class="p">:</span>
    <span class="n">s</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">bind</span><span class="p">((</span><span class="n">HOST</span><span class="p">,</span> <span class="n">PORT</span><span class="p">))</span>
    <span class="n">s</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">listen</span><span class="p">(</span><span class="mi" style="color: rgb(32, 128, 80);">1</span><span class="p">)</span>
    <span class="n">conn</span><span class="p">,</span> <span class="n">addr</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">s</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">accept</span><span class="p">()</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">with</span> <span class="n">conn</span><span class="p">:</span>
        <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'Connected by'</span><span class="p">,</span> <span class="n">addr</span><span class="p">)</span>
        <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">while</span> <span class="kc" style="color: rgb(0, 112, 32); font-weight: bold;">True</span><span class="p">:</span>
            <span class="n">data</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">conn</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">recv</span><span class="p">(</span><span class="mi" style="color: rgb(32, 128, 80);">1024</span><span class="p">)</span>
            <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">if</span> <span class="ow" style="color: rgb(0, 112, 32); font-weight: bold;">not</span> <span class="n">data</span><span class="p">:</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">break</span>
            <span class="n">conn</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">sendall</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</pre></div></div><div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># Echo client program</span>
<span class="kn" style="color: rgb(0, 112, 32); font-weight: bold;">import</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">socket</span>

<span class="n">HOST</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="s1" style="color: rgb(64, 112, 160);">'daring.cwi.nl'</span>    <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># The remote host</span>
<span class="n">PORT</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="mi" style="color: rgb(32, 128, 80);">50007</span>              <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># The same port as used by the server</span>
<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">with</span> <span class="n">socket</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">socket</span><span class="p">(</span><span class="n">socket</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">AF_INET</span><span class="p">,</span> <span class="n">socket</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">SOCK_STREAM</span><span class="p">)</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">as</span> <span class="n">s</span><span class="p">:</span>
    <span class="n">s</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">connect</span><span class="p">((</span><span class="n">HOST</span><span class="p">,</span> <span class="n">PORT</span><span class="p">))</span>
    <span class="n">s</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">sendall</span><span class="p">(</span><span class="sa" style="color: rgb(64, 112, 160);">b</span><span class="s1" style="color: rgb(64, 112, 160);">'Hello, world'</span><span class="p">)</span>
    <span class="n">data</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">s</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">recv</span><span class="p">(</span><span class="mi" style="color: rgb(32, 128, 80);">1024</span><span class="p">)</span>
<span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'Received'</span><span class="p">,</span> <span class="nb" style="color: rgb(0, 112, 32);">repr</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>
</pre></div></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">The next two examples are identical to the above two, but support both IPv4 and IPv6. The server side will listen to the first address family available (it should listen to both instead). On most of IPv6-ready systems, IPv6 will take precedence and the server may not accept IPv4 traffic. The client side will try to connect to the all addresses returned as a result of the name resolution, and sends traffic to the first one connected successfully.</p><div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># Echo server program</span>
<span class="kn" style="color: rgb(0, 112, 32); font-weight: bold;">import</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">socket</span>
<span class="kn" style="color: rgb(0, 112, 32); font-weight: bold;">import</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">sys</span>

<span class="n">HOST</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="kc" style="color: rgb(0, 112, 32); font-weight: bold;">None</span>               <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># Symbolic name meaning all available interfaces</span>
<span class="n">PORT</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="mi" style="color: rgb(32, 128, 80);">50007</span>              <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># Arbitrary non-privileged port</span>
<span class="n">s</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="kc" style="color: rgb(0, 112, 32); font-weight: bold;">None</span>
<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">for</span> <span class="n">res</span> <span class="ow" style="color: rgb(0, 112, 32); font-weight: bold;">in</span> <span class="n">socket</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">getaddrinfo</span><span class="p">(</span><span class="n">HOST</span><span class="p">,</span> <span class="n">PORT</span><span class="p">,</span> <span class="n">socket</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">AF_UNSPEC</span><span class="p">,</span>
                              <span class="n">socket</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">SOCK_STREAM</span><span class="p">,</span> <span class="mi" style="color: rgb(32, 128, 80);">0</span><span class="p">,</span> <span class="n">socket</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">AI_PASSIVE</span><span class="p">):</span>
    <span class="n">af</span><span class="p">,</span> <span class="n">socktype</span><span class="p">,</span> <span class="n">proto</span><span class="p">,</span> <span class="n">canonname</span><span class="p">,</span> <span class="n">sa</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">res</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">try</span><span class="p">:</span>
        <span class="n">s</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">socket</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">socket</span><span class="p">(</span><span class="n">af</span><span class="p">,</span> <span class="n">socktype</span><span class="p">,</span> <span class="n">proto</span><span class="p">)</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">except</span> <span class="ne" style="color: rgb(0, 112, 32);">OSError</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">as</span> <span class="n">msg</span><span class="p">:</span>
        <span class="n">s</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="kc" style="color: rgb(0, 112, 32); font-weight: bold;">None</span>
        <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">continue</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">try</span><span class="p">:</span>
        <span class="n">s</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">bind</span><span class="p">(</span><span class="n">sa</span><span class="p">)</span>
        <span class="n">s</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">listen</span><span class="p">(</span><span class="mi" style="color: rgb(32, 128, 80);">1</span><span class="p">)</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">except</span> <span class="ne" style="color: rgb(0, 112, 32);">OSError</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">as</span> <span class="n">msg</span><span class="p">:</span>
        <span class="n">s</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">close</span><span class="p">()</span>
        <span class="n">s</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="kc" style="color: rgb(0, 112, 32); font-weight: bold;">None</span>
        <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">continue</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">break</span>
<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">if</span> <span class="n">s</span> <span class="ow" style="color: rgb(0, 112, 32); font-weight: bold;">is</span> <span class="kc" style="color: rgb(0, 112, 32); font-weight: bold;">None</span><span class="p">:</span>
    <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'could not open socket'</span><span class="p">)</span>
    <span class="n">sys</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">exit</span><span class="p">(</span><span class="mi" style="color: rgb(32, 128, 80);">1</span><span class="p">)</span>
<span class="n">conn</span><span class="p">,</span> <span class="n">addr</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">s</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">accept</span><span class="p">()</span>
<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">with</span> <span class="n">conn</span><span class="p">:</span>
    <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'Connected by'</span><span class="p">,</span> <span class="n">addr</span><span class="p">)</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">while</span> <span class="kc" style="color: rgb(0, 112, 32); font-weight: bold;">True</span><span class="p">:</span>
        <span class="n">data</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">conn</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">recv</span><span class="p">(</span><span class="mi" style="color: rgb(32, 128, 80);">1024</span><span class="p">)</span>
        <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">if</span> <span class="ow" style="color: rgb(0, 112, 32); font-weight: bold;">not</span> <span class="n">data</span><span class="p">:</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">break</span>
        <span class="n">conn</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">send</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</pre></div></div><div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># Echo client program</span>
<span class="kn" style="color: rgb(0, 112, 32); font-weight: bold;">import</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">socket</span>
<span class="kn" style="color: rgb(0, 112, 32); font-weight: bold;">import</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">sys</span>

<span class="n">HOST</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="s1" style="color: rgb(64, 112, 160);">'daring.cwi.nl'</span>    <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># The remote host</span>
<span class="n">PORT</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="mi" style="color: rgb(32, 128, 80);">50007</span>              <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># The same port as used by the server</span>
<span class="n">s</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="kc" style="color: rgb(0, 112, 32); font-weight: bold;">None</span>
<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">for</span> <span class="n">res</span> <span class="ow" style="color: rgb(0, 112, 32); font-weight: bold;">in</span> <span class="n">socket</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">getaddrinfo</span><span class="p">(</span><span class="n">HOST</span><span class="p">,</span> <span class="n">PORT</span><span class="p">,</span> <span class="n">socket</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">AF_UNSPEC</span><span class="p">,</span> <span class="n">socket</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">SOCK_STREAM</span><span class="p">):</span>
    <span class="n">af</span><span class="p">,</span> <span class="n">socktype</span><span class="p">,</span> <span class="n">proto</span><span class="p">,</span> <span class="n">canonname</span><span class="p">,</span> <span class="n">sa</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">res</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">try</span><span class="p">:</span>
        <span class="n">s</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">socket</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">socket</span><span class="p">(</span><span class="n">af</span><span class="p">,</span> <span class="n">socktype</span><span class="p">,</span> <span class="n">proto</span><span class="p">)</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">except</span> <span class="ne" style="color: rgb(0, 112, 32);">OSError</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">as</span> <span class="n">msg</span><span class="p">:</span>
        <span class="n">s</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="kc" style="color: rgb(0, 112, 32); font-weight: bold;">None</span>
        <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">continue</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">try</span><span class="p">:</span>
        <span class="n">s</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">connect</span><span class="p">(</span><span class="n">sa</span><span class="p">)</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">except</span> <span class="ne" style="color: rgb(0, 112, 32);">OSError</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">as</span> <span class="n">msg</span><span class="p">:</span>
        <span class="n">s</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">close</span><span class="p">()</span>
        <span class="n">s</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="kc" style="color: rgb(0, 112, 32); font-weight: bold;">None</span>
        <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">continue</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">break</span>
<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">if</span> <span class="n">s</span> <span class="ow" style="color: rgb(0, 112, 32); font-weight: bold;">is</span> <span class="kc" style="color: rgb(0, 112, 32); font-weight: bold;">None</span><span class="p">:</span>
    <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'could not open socket'</span><span class="p">)</span>
    <span class="n">sys</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">exit</span><span class="p">(</span><span class="mi" style="color: rgb(32, 128, 80);">1</span><span class="p">)</span>
<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">with</span> <span class="n">s</span><span class="p">:</span>
    <span class="n">s</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">sendall</span><span class="p">(</span><span class="sa" style="color: rgb(64, 112, 160);">b</span><span class="s1" style="color: rgb(64, 112, 160);">'Hello, world'</span><span class="p">)</span>
    <span class="n">data</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">s</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">recv</span><span class="p">(</span><span class="mi" style="color: rgb(32, 128, 80);">1024</span><span class="p">)</span>
<span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'Received'</span><span class="p">,</span> <span class="nb" style="color: rgb(0, 112, 32);">repr</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>
</pre></div></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">The next example shows how to write a very simple network sniffer with raw sockets on Windows. The example requires administrator privileges to modify the interface:</p><div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="kn" style="color: rgb(0, 112, 32); font-weight: bold;">import</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">socket</span>

<span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># the public network interface</span>
<span class="n">HOST</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">socket</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">gethostbyname</span><span class="p">(</span><span class="n">socket</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">gethostname</span><span class="p">())</span>

<span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># create a raw socket and bind it to the public interface</span>
<span class="n">s</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">socket</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">socket</span><span class="p">(</span><span class="n">socket</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">AF_INET</span><span class="p">,</span> <span class="n">socket</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">SOCK_RAW</span><span class="p">,</span> <span class="n">socket</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">IPPROTO_IP</span><span class="p">)</span>
<span class="n">s</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">bind</span><span class="p">((</span><span class="n">HOST</span><span class="p">,</span> <span class="mi" style="color: rgb(32, 128, 80);">0</span><span class="p">))</span>

<span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># Include IP headers</span>
<span class="n">s</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">setsockopt</span><span class="p">(</span><span class="n">socket</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">IPPROTO_IP</span><span class="p">,</span> <span class="n">socket</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">IP_HDRINCL</span><span class="p">,</span> <span class="mi" style="color: rgb(32, 128, 80);">1</span><span class="p">)</span>

<span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># receive all packages</span>
<span class="n">s</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">ioctl</span><span class="p">(</span><span class="n">socket</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">SIO_RCVALL</span><span class="p">,</span> <span class="n">socket</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">RCVALL_ON</span><span class="p">)</span>

<span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># receive a package</span>
<span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="n">s</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">recvfrom</span><span class="p">(</span><span class="mi" style="color: rgb(32, 128, 80);">65565</span><span class="p">))</span>

<span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># disabled promiscuous mode</span>
<span class="n">s</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">ioctl</span><span class="p">(</span><span class="n">socket</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">SIO_RCVALL</span><span class="p">,</span> <span class="n">socket</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">RCVALL_OFF</span><span class="p">)</span>
</pre></div></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">The next example shows how to use the socket interface to communicate to a CAN network using the raw socket protocol. To use CAN with the broadcast manager protocol instead, open a socket with:</p><div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="n">socket</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">socket</span><span class="p">(</span><span class="n">socket</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">AF_CAN</span><span class="p">,</span> <span class="n">socket</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">SOCK_DGRAM</span><span class="p">,</span> <span class="n">socket</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">CAN_BCM</span><span class="p">)</span>
</pre></div></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">After binding (<code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">CAN_RAW</span></code>) or connecting (<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.CAN_BCM" title="socket.CAN_BCM" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">CAN_BCM</span></code></a>) the socket, you can use the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.send" title="socket.socket.send" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">socket.send()</span></code></a>, and the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.recv" title="socket.socket.recv" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">socket.recv()</span></code></a>&nbsp;operations (and their counterparts) on the socket object as usual.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">This last example might require special privileges:</p><div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="kn" style="color: rgb(0, 112, 32); font-weight: bold;">import</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">socket</span>
<span class="kn" style="color: rgb(0, 112, 32); font-weight: bold;">import</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">struct</span>


<span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># CAN frame packing/unpacking (see 'struct can_frame' in &lt;linux/can.h&gt;)</span>

<span class="n">can_frame_fmt</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="s2" style="color: rgb(64, 112, 160);">"=IB3x8s"</span>
<span class="n">can_frame_size</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">struct</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">calcsize</span><span class="p">(</span><span class="n">can_frame_fmt</span><span class="p">)</span>

<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">def</span> <span class="nf" style="color: rgb(6, 40, 126);">build_can_frame</span><span class="p">(</span><span class="n">can_id</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
    <span class="n">can_dlc</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="nb" style="color: rgb(0, 112, 32);">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="n">data</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">data</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">ljust</span><span class="p">(</span><span class="mi" style="color: rgb(32, 128, 80);">8</span><span class="p">,</span> <span class="sa" style="color: rgb(64, 112, 160);">b</span><span class="s1" style="color: rgb(64, 112, 160);">'</span><span class="se" style="color: rgb(64, 112, 160); font-weight: bold;">\x00</span><span class="s1" style="color: rgb(64, 112, 160);">'</span><span class="p">)</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">return</span> <span class="n">struct</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">pack</span><span class="p">(</span><span class="n">can_frame_fmt</span><span class="p">,</span> <span class="n">can_id</span><span class="p">,</span> <span class="n">can_dlc</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>

<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">def</span> <span class="nf" style="color: rgb(6, 40, 126);">dissect_can_frame</span><span class="p">(</span><span class="n">frame</span><span class="p">):</span>
    <span class="n">can_id</span><span class="p">,</span> <span class="n">can_dlc</span><span class="p">,</span> <span class="n">data</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">struct</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">unpack</span><span class="p">(</span><span class="n">can_frame_fmt</span><span class="p">,</span> <span class="n">frame</span><span class="p">)</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">return</span> <span class="p">(</span><span class="n">can_id</span><span class="p">,</span> <span class="n">can_dlc</span><span class="p">,</span> <span class="n">data</span><span class="p">[:</span><span class="n">can_dlc</span><span class="p">])</span>


<span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># create a raw socket and bind it to the 'vcan0' interface</span>
<span class="n">s</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">socket</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">socket</span><span class="p">(</span><span class="n">socket</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">AF_CAN</span><span class="p">,</span> <span class="n">socket</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">SOCK_RAW</span><span class="p">,</span> <span class="n">socket</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">CAN_RAW</span><span class="p">)</span>
<span class="n">s</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">bind</span><span class="p">((</span><span class="s1" style="color: rgb(64, 112, 160);">'vcan0'</span><span class="p">,))</span>

<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">while</span> <span class="kc" style="color: rgb(0, 112, 32); font-weight: bold;">True</span><span class="p">:</span>
    <span class="n">cf</span><span class="p">,</span> <span class="n">addr</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">s</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">recvfrom</span><span class="p">(</span><span class="n">can_frame_size</span><span class="p">)</span>

    <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'Received: can_id=</span><span class="si" style="color: rgb(112, 160, 208); font-style: italic;">%x</span><span class="s1" style="color: rgb(64, 112, 160);">, can_dlc=</span><span class="si" style="color: rgb(112, 160, 208); font-style: italic;">%x</span><span class="s1" style="color: rgb(64, 112, 160);">, data=</span><span class="si" style="color: rgb(112, 160, 208); font-style: italic;">%s</span><span class="s1" style="color: rgb(64, 112, 160);">'</span> <span class="o" style="color: rgb(102, 102, 102);">%</span> <span class="n">dissect_can_frame</span><span class="p">(</span><span class="n">cf</span><span class="p">))</span>

    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">try</span><span class="p">:</span>
        <span class="n">s</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">send</span><span class="p">(</span><span class="n">cf</span><span class="p">)</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">except</span> <span class="ne" style="color: rgb(0, 112, 32);">OSError</span><span class="p">:</span>
        <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'Error sending CAN frame'</span><span class="p">)</span>

    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">try</span><span class="p">:</span>
        <span class="n">s</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">send</span><span class="p">(</span><span class="n">build_can_frame</span><span class="p">(</span><span class="mh" style="color: rgb(32, 128, 80);">0x01</span><span class="p">,</span> <span class="sa" style="color: rgb(64, 112, 160);">b</span><span class="s1" style="color: rgb(64, 112, 160);">'</span><span class="se" style="color: rgb(64, 112, 160); font-weight: bold;">\x01\x02\x03</span><span class="s1" style="color: rgb(64, 112, 160);">'</span><span class="p">))</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">except</span> <span class="ne" style="color: rgb(0, 112, 32);">OSError</span><span class="p">:</span>
        <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'Error sending CAN frame'</span><span class="p">)</span>
</pre></div></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">Running an example several times with too small delay between executions, could lead to this error:</p><div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="ne" style="color: rgb(0, 112, 32);">OSError</span><span class="p">:</span> <span class="p">[</span><span class="n">Errno</span> <span class="mi" style="color: rgb(32, 128, 80);">98</span><span class="p">]</span> <span class="n">Address</span> <span class="n">already</span> <span class="ow" style="color: rgb(0, 112, 32); font-weight: bold;">in</span> <span class="n">use</span>
</pre></div></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">This is because the previous execution has left the socket in a&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">TIME_WAIT</span></code>&nbsp;state, and can't be immediately reused.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">There is a&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#module-socket" title="socket: Low-level networking interface." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">socket</span></code></a>&nbsp;flag to set, in order to prevent this,&nbsp;<code class="xref py py-data docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">socket.SO_REUSEADDR</span></code>:</p><div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="n">s</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">socket</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">socket</span><span class="p">(</span><span class="n">socket</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">AF_INET</span><span class="p">,</span> <span class="n">socket</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">SOCK_STREAM</span><span class="p">)</span>
<span class="n">s</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">setsockopt</span><span class="p">(</span><span class="n">socket</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">SOL_SOCKET</span><span class="p">,</span> <span class="n">socket</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">SO_REUSEADDR</span><span class="p">,</span> <span class="mi" style="color: rgb(32, 128, 80);">1</span><span class="p">)</span>
<span class="n">s</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">bind</span><span class="p">((</span><span class="n">HOST</span><span class="p">,</span> <span class="n">PORT</span><span class="p">))</span>
</pre></div></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">the&nbsp;<code class="xref py py-data docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">SO_REUSEADDR</span></code>&nbsp;flag tells the kernel to reuse a local socket in&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">TIME_WAIT</span></code>&nbsp;state, without waiting for its natural timeout to expire.</p><div class="admonition seealso" style="margin-top: 10px; margin-bottom: 10px; padding: 7px; background-color: rgb(255, 255, 204); border: 1px solid rgb(221, 221, 102); border-radius: 3px;"><p class="first admonition-title" style="margin: 0px 10px 5px 0px; font-weight: bold; display: inline; hyphens: auto; text-align: justify; line-height: 22.4px;">参见</p>&nbsp;<p style="hyphens: auto; text-align: justify; line-height: 22.4px; margin-bottom: 5px; display: inline;">For an introduction to socket programming (in C), see the following papers:</p><ul class="simple" style="margin-bottom: 5px;"><li style="hyphens: auto; text-align: justify; line-height: 20.8px;"><em>An Introductory 4.3BSD Interprocess Communication Tutorial</em>, by Stuart Sechrest</li><li style="hyphens: auto; text-align: justify; line-height: 20.8px;"><em>An Advanced 4.3BSD Interprocess Communication Tutorial</em>, by Samuel J. Leffler et al,</li></ul><p class="last" style="hyphens: auto; text-align: justify; line-height: 22.4px; margin-bottom: 5px;">both in the UNIX Programmer's Manual, Supplementary Documents 1 (sections PS1:7 and PS1:8). The platform-specific reference material for the various socket-related system calls are also a valuable source of information on the details of socket semantics. For Unix, refer to the manual pages; for Windows, see the WinSock (or Winsock 2) specification. For IPv6-ready APIs, readers may want to refer to&nbsp;<span class="target" id="index-15"></span><a class="rfc reference external" href="https://tools.ietf.org/html/rfc3493.html" style="color: rgb(99, 99, 187); text-decoration-line: none;"><strong>RFC 3493</strong></a>&nbsp;titled Basic Socket Interface Extensions for IPv6.</p></div></div></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div>
</article>
{% endblock point1 %}
