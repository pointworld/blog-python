{% extends 'c-word.html' %}

{% block title %}node | crawler {% endblock title %}


{% block point1 %}
<div class="tm-main uk-width-medium-3-4" contenteditable="true">
<article class="uk-article">
<div id="maincontent">
<h3 style="font-family: &quot;Proxima Nova&quot;, &quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC Regular&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, Arial, sans-serif;"><span style="background-color: yellow; font-weight: 700;">计算机 | 全栈 |&nbsp;</span><span style="background-color: yellow; font-weight: 700;">Node | Crawler</span></h3><p id="anchor2" style="font-family: &quot;Proxima Nova&quot;, &quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC Regular&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, Arial, sans-serif;"></p><p style="margin-top: 15px; color: rgb(102, 102, 102); font-size: 15px;"><span style="font-weight: 700;">1. 爬取一个网页单页面的源码</span></p><pre style="background-color: rgb(39, 40, 34); font-size: 10.5pt; font-family: &quot;Source Code Pro&quot;; color: rgb(248, 248, 242);"><span style="color: rgb(117, 113, 94);">/**<br></span><span style="color: rgb(117, 113, 94);"> * Created by Administrator on 06/06/2017.<br></span><span style="color: rgb(117, 113, 94);"> */<br></span><span style="color: rgb(249, 38, 114);">var </span>http <span style="color: rgb(249, 38, 114);">= </span>require(<span style="color: rgb(230, 219, 116);">'http'</span>)<span style="color: rgb(204, 120, 50);">;<br></span><span style="color: rgb(249, 38, 114);">var </span>url <span style="color: rgb(249, 38, 114);">= </span><span style="color: rgb(230, 219, 116);">'http://www.imooc.com/learn/348'</span><span style="color: rgb(204, 120, 50);">;<br></span><span style="color: rgb(204, 120, 50);"><br></span>http.get(url<span style="color: rgb(204, 120, 50);">, </span><span style="color: rgb(249, 38, 114);">function</span>(<span style="color: rgb(253, 151, 31); font-style: italic;">res</span>) {<br>    <span style="color: rgb(249, 38, 114);">var </span>html <span style="color: rgb(249, 38, 114);">= </span><span style="color: rgb(230, 219, 116);">''</span><span style="color: rgb(204, 120, 50);">;<br></span><span style="color: rgb(204, 120, 50);"><br></span><span style="color: rgb(204, 120, 50);">    </span><span style="color: rgb(253, 151, 31); font-style: italic;">res</span>.on(<span style="color: rgb(230, 219, 116);">'data'</span><span style="color: rgb(204, 120, 50);">, </span><span style="color: rgb(249, 38, 114);">function </span>(<span style="color: rgb(253, 151, 31); font-style: italic;">data</span>) {<br>        html <span style="color: rgb(249, 38, 114);">+= </span><span style="color: rgb(253, 151, 31); font-style: italic;">data<br></span><span style="color: rgb(253, 151, 31); font-style: italic;">    </span>})<span style="color: rgb(204, 120, 50);">;<br></span><span style="color: rgb(204, 120, 50);"><br></span><span style="color: rgb(204, 120, 50);">    </span><span style="color: rgb(253, 151, 31); font-style: italic;">res</span>.on(<span style="color: rgb(230, 219, 116);">'end'</span><span style="color: rgb(204, 120, 50);">, </span><span style="color: rgb(249, 38, 114);">function </span>() {<br>        console.<span style="color: rgb(166, 226, 46);">log</span>(html)<br>    })<br>}).on(<span style="color: rgb(230, 219, 116);">'error'</span><span style="color: rgb(204, 120, 50);">, </span><span style="color: rgb(249, 38, 114);">function </span>() {<br>    console.<span style="color: rgb(166, 226, 46);">log</span>(<span style="color: rgb(230, 219, 116);">'</span><span style="color: rgb(230, 219, 116); font-family: SimSun;">获取课程数据失败！</span><span style="color: rgb(230, 219, 116);">'</span>)<br>})<span style="color: rgb(204, 120, 50);">;</span></pre><p style="color: rgb(102, 102, 102); font-size: 15px;"><span style="font-weight: 700;">2. 源码加工，获取价值数据（章节信息）</span></p><pre style="background-color: rgb(39, 40, 34); font-size: 10.5pt; font-family: &quot;Source Code Pro&quot;; color: rgb(248, 248, 242);"><span style="color: rgb(117, 113, 94);">/**<br></span><span style="color: rgb(117, 113, 94);"> * Created by Administrator on 06/06/2017.<br></span><span style="color: rgb(117, 113, 94);"> */<br></span><span style="color: rgb(249, 38, 114);">var </span>http <span style="color: rgb(249, 38, 114);">= </span><span style="font-style: italic;">require</span>(<span style="color: rgb(230, 219, 116);">'http'</span>)<br><span style="color: rgb(249, 38, 114);">var </span>cheerio <span style="color: rgb(249, 38, 114);">=</span><span style="font-style: italic;">require</span>(<span style="color: rgb(230, 219, 116);">'cheerio'</span>)<br><span style="color: rgb(249, 38, 114);">var </span>url <span style="color: rgb(249, 38, 114);">= </span><span style="color: rgb(230, 219, 116);">'http://www.imooc.com/learn/348'<br></span><span style="color: rgb(230, 219, 116);"><br></span><span style="color: rgb(249, 38, 114);">function </span><span style="color: rgb(166, 226, 46);">filterChapters</span>(<span style="color: rgb(253, 151, 31); font-style: italic;">html</span>) {<br>    <span style="color: rgb(249, 38, 114);">var </span>$ <span style="color: rgb(249, 38, 114);">= </span>cheerio.load(<span style="color: rgb(253, 151, 31); font-style: italic;">html</span>)<br>    <span style="color: rgb(249, 38, 114);">var </span>chapters <span style="color: rgb(249, 38, 114);">= </span>$(<span style="color: rgb(230, 219, 116);">'.chapter'</span>)<br><br>    <span style="color: rgb(117, 113, 94);">// [{<br></span><span style="color: rgb(117, 113, 94);">    //     chapterTitle: '',<br></span><span style="color: rgb(117, 113, 94);">    //     videos: [<br></span><span style="color: rgb(117, 113, 94);">    //         title: '',<br></span><span style="color: rgb(117, 113, 94);">    //         id: ''<br></span><span style="color: rgb(117, 113, 94);">    //     ]<br></span><span style="color: rgb(117, 113, 94);">    // }]<br></span><span style="color: rgb(117, 113, 94);"><br></span><span style="color: rgb(117, 113, 94);">    </span><span style="color: rgb(249, 38, 114);">var </span>courseData <span style="color: rgb(249, 38, 114);">= </span>[]<br><br>    chapters.<span style="color: rgb(166, 226, 46);">each</span>(<span style="color: rgb(249, 38, 114);">function </span>(<span style="color: rgb(253, 151, 31); font-style: italic;">item</span>) {<br>        <span style="color: rgb(249, 38, 114);">var </span>chapter <span style="color: rgb(249, 38, 114);">= </span>$(<span style="color: rgb(249, 38, 114);">this</span>)<br>        <span style="color: rgb(249, 38, 114);">var </span>chapterTitle <span style="color: rgb(249, 38, 114);">= </span>chapter.find(<span style="color: rgb(230, 219, 116);">'strong'</span>).text()<br>        <span style="color: rgb(249, 38, 114);">var </span>videos <span style="color: rgb(249, 38, 114);">= </span>chapter.find(<span style="color: rgb(230, 219, 116);">'.video'</span>).children(<span style="color: rgb(230, 219, 116);">'li'</span>)<br>        <span style="color: rgb(249, 38, 114);">var </span>chapterData <span style="color: rgb(249, 38, 114);">= </span>{<br>            chapterTitle<span style="color: rgb(249, 38, 114);">: </span>chapterTitle<span style="color: rgb(204, 120, 50);">,<br></span><span style="color: rgb(204, 120, 50);">            </span>videos<span style="color: rgb(249, 38, 114);">: </span>[]<br>        }<br>        <br>        videos.<span style="color: rgb(166, 226, 46);">each</span>(<span style="color: rgb(249, 38, 114);">function </span>(<span style="color: rgb(253, 151, 31); font-style: italic;">item</span>) {<br>            <span style="color: rgb(249, 38, 114);">var </span>video <span style="color: rgb(249, 38, 114);">= </span>$(<span style="color: rgb(249, 38, 114);">this</span>).find(<span style="color: rgb(230, 219, 116);">'.J-media-item'</span>)<br>            <span style="color: rgb(249, 38, 114);">var </span>videoTitle <span style="color: rgb(249, 38, 114);">= </span>video.text()<br>            <span style="color: rgb(249, 38, 114);">var </span>id <span style="color: rgb(249, 38, 114);">= </span>video.<span style="color: rgb(166, 226, 46);">attr</span>(<span style="color: rgb(230, 219, 116);">'href'</span>).<span style="color: rgb(166, 226, 46);">split</span>(<span style="color: rgb(230, 219, 116);">'video/'</span>)[<span style="color: rgb(174, 129, 255);">1</span>]<br><br>            chapterData.videos.<span style="color: rgb(166, 226, 46);">push</span>({<br>                title<span style="color: rgb(249, 38, 114);">: </span>videoTitle<span style="color: rgb(204, 120, 50);">,<br></span><span style="color: rgb(204, 120, 50);">                </span>id<span style="color: rgb(249, 38, 114);">: </span>id<br>            })<br>        })<br>        courseData.<span style="color: rgb(166, 226, 46);">push</span>(chapterData)<br>    })<br><br>    <span style="color: rgb(249, 38, 114);">return </span>courseData<br>}<br><br><span style="color: rgb(249, 38, 114);">function </span><span style="color: rgb(166, 226, 46);">printCourseInfo</span>(<span style="color: rgb(253, 151, 31); font-style: italic;">courseData</span>) {<br>    <span style="color: rgb(253, 151, 31); font-style: italic;">courseData</span>.forEach(<span style="color: rgb(249, 38, 114);">function</span>(<span style="color: rgb(253, 151, 31); font-style: italic;">item</span>) {<br>        <span style="color: rgb(249, 38, 114);">var </span>chapterTitle <span style="color: rgb(249, 38, 114);">= </span><span style="color: rgb(253, 151, 31); font-style: italic;">item</span>.chapterTitle<br><br>        <span style="font-style: italic;">console</span>.<span style="color: rgb(166, 226, 46);">log</span>(chapterTitle <span style="color: rgb(249, 38, 114);">+ </span><span style="color: rgb(230, 219, 116);">'</span><span style="color: rgb(174, 129, 255);">\n</span><span style="color: rgb(230, 219, 116);">'</span>)<br>        <span style="color: rgb(253, 151, 31); font-style: italic;">item</span>.videos.<span style="color: rgb(166, 226, 46);">forEach</span>(<span style="color: rgb(249, 38, 114);">function </span>(<span style="color: rgb(253, 151, 31); font-style: italic;">video</span>) {<br>            <span style="font-style: italic;">console</span>.<span style="color: rgb(166, 226, 46);">log</span>(<span style="color: rgb(230, 219, 116);">'    </span><span style="color: rgb(230, 219, 116); font-family: SimSun;">【</span><span style="color: rgb(230, 219, 116);">' </span><span style="color: rgb(249, 38, 114);">+ </span><span style="color: rgb(253, 151, 31); font-style: italic;">video</span>.id <span style="color: rgb(249, 38, 114);">+ </span><span style="color: rgb(230, 219, 116);">'</span><span style="color: rgb(230, 219, 116); font-family: SimSun;">】</span><span style="color: rgb(230, 219, 116);">' </span><span style="color: rgb(249, 38, 114);">+ </span><span style="color: rgb(253, 151, 31); font-style: italic;">video</span>.title <span style="color: rgb(249, 38, 114);">+</span><span style="color: rgb(230, 219, 116);">'</span><span style="color: rgb(174, 129, 255);">\n</span><span style="color: rgb(230, 219, 116);">'</span>)<br>        })<br>    })<br>}<br><br>http.<span style="color: rgb(166, 226, 46);">get</span>(url<span style="color: rgb(204, 120, 50);">, </span><span style="color: rgb(249, 38, 114);">function</span>(<span style="color: rgb(253, 151, 31); font-style: italic;">res</span>) {<br>    <span style="color: rgb(249, 38, 114);">var </span>html <span style="color: rgb(249, 38, 114);">= </span><span style="color: rgb(230, 219, 116);">''<br></span><span style="color: rgb(230, 219, 116);"><br></span><span style="color: rgb(230, 219, 116);">    </span><span style="color: rgb(253, 151, 31); font-style: italic;">res</span>.<span style="color: rgb(166, 226, 46);">on</span>(<span style="color: rgb(230, 219, 116);">'data'</span><span style="color: rgb(204, 120, 50);">, </span><span style="color: rgb(249, 38, 114);">function </span>(<span style="color: rgb(253, 151, 31); font-style: italic;">data</span>) {<br>        html <span style="color: rgb(249, 38, 114);">+= </span><span style="color: rgb(253, 151, 31); font-style: italic;">data<br></span><span style="color: rgb(253, 151, 31); font-style: italic;">    </span>})<span style="color: rgb(204, 120, 50);">;<br></span><span style="color: rgb(204, 120, 50);"><br></span><span style="color: rgb(204, 120, 50);">    </span><span style="color: rgb(253, 151, 31); font-style: italic;">res</span>.<span style="color: rgb(166, 226, 46);">on</span>(<span style="color: rgb(230, 219, 116);">'end'</span><span style="color: rgb(204, 120, 50);">, </span><span style="color: rgb(249, 38, 114);">function </span>() {<br>        <span style="color: rgb(249, 38, 114);">var </span>courseData <span style="color: rgb(249, 38, 114);">= </span><span style="color: rgb(166, 226, 46);">filterChapters</span>(html)<br><br>        <span style="color: rgb(166, 226, 46);">printCourseInfo</span>(courseData)<br>    })<br>}).<span style="color: rgb(166, 226, 46);">on</span>(<span style="color: rgb(230, 219, 116);">'error'</span><span style="color: rgb(204, 120, 50);">, </span><span style="color: rgb(249, 38, 114);">function </span>() {<br>    <span style="font-style: italic;">console</span>.<span style="color: rgb(166, 226, 46);">log</span>(<span style="color: rgb(230, 219, 116);">'</span><span style="color: rgb(230, 219, 116); font-family: SimSun;">获取课程数据失败！</span><span style="color: rgb(230, 219, 116);">'</span>)<br>})</pre><pre style="background-color: rgb(39, 40, 34); font-size: 10.5pt; color: rgb(248, 248, 242);"><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(117, 113, 94);">/**<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(117, 113, 94);"> * Created by Administrator on 06/06/2017.<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(117, 113, 94);"> */<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(117, 113, 94);">/**<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(117, 113, 94);"> * @file http</span><span style="font-family: SimSun; color: rgb(117, 113, 94);">小爬虫<br></span><span style="color: rgb(117, 113, 94);"><font face="SimSun"> </font><font face="Source Code Pro">* @author &lt;a href="www.llms.com"&gt;hwj&lt;/a&gt;<br></font></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(117, 113, 94);"> * @version 1.0<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(117, 113, 94);"> */<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(117, 113, 94);"><br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(117, 113, 94);">/**<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(117, 113, 94);"> * </span><span style="font-family: SimSun; color: rgb(117, 113, 94);">获取</span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(117, 113, 94);">http</span><span style="font-family: SimSun; color: rgb(117, 113, 94);">模块<br></span><span style="font-family: SimSun; color: rgb(117, 113, 94);"> </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(117, 113, 94);">*/<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">var </span><font face="Source Code Pro">http </font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">= </span><span style="font-family: &quot;Source Code Pro&quot;; font-style: italic;">require</span><font face="Source Code Pro">(</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(230, 219, 116);">'http'</span><font face="Source Code Pro">)</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">;<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(117, 113, 94);">/**<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(117, 113, 94);"> * </span><span style="font-family: SimSun; color: rgb(117, 113, 94);">获取</span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(117, 113, 94);">cheerio</span><span style="font-family: SimSun; color: rgb(117, 113, 94);">模块<br></span><span style="font-family: SimSun; color: rgb(117, 113, 94);"> </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(117, 113, 94);">*/<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">var </span><font face="Source Code Pro">cheerio </font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">= </span><span style="font-family: &quot;Source Code Pro&quot;; font-style: italic;">require</span><font face="Source Code Pro">(</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(230, 219, 116);">'./node_modules/cheerio'</span><font face="Source Code Pro">)</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">;<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(117, 113, 94);">/**<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(117, 113, 94);"> * </span><span style="font-family: SimSun; color: rgb(117, 113, 94);">解析的目标网页<br></span><span style="font-family: SimSun; color: rgb(117, 113, 94);"> </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(117, 113, 94);">*/<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">var </span><font face="Source Code Pro">url </font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">= </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(230, 219, 116);">'http://www.imooc.com/learn/348'</span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">;<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);"><br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(117, 113, 94);">/**<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(117, 113, 94);"> *<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(117, 113, 94);"> * </span><span style="font-family: SimSun; color: rgb(117, 113, 94);">将爬取到的网页内容进行过滤调整<br></span><span style="font-family: SimSun; color: rgb(117, 113, 94);"> </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(117, 113, 94);">* @param {string} html<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(117, 113, 94);"> * @returns {'{chapterTitle:string,videos:[{title:string,time:string,id:string}]}'} </span><span style="font-family: SimSun; color: rgb(117, 113, 94);">返回过滤到的对象<br></span><span style="font-family: SimSun; color: rgb(117, 113, 94);"> </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(117, 113, 94);">*/<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">function </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(166, 226, 46);">filterChapters</span><font face="Source Code Pro">(</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(253, 151, 31); font-style: italic;">html</span><font face="Source Code Pro">) {<br>    </font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(117, 113, 94);">// cheerio</span><span style="font-family: SimSun; color: rgb(117, 113, 94);">加载</span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(117, 113, 94);">html<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(117, 113, 94);">    </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">var </span><font face="Source Code Pro">$ </font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">= </span><font face="Source Code Pro">cheerio.load(</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(253, 151, 31); font-style: italic;">html</span><font face="Source Code Pro">)</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">;<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">    </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">var </span><font face="Source Code Pro">chapters </font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">= </span><font face="Source Code Pro">$(</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(230, 219, 116);">'.chapter'</span><font face="Source Code Pro">)</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">;<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);"><br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">    </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">var </span><font face="Source Code Pro">courseData </font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">= </span><font face="Source Code Pro">[]</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">;<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">    </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">var </span><font face="Source Code Pro">chapter</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">, </span><font face="Source Code Pro">Title</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">, </span><font face="Source Code Pro">videos</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">, </span><font face="Source Code Pro">chapterData</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">;<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">    </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">var </span><font face="Source Code Pro">videos</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">, </span><font face="Source Code Pro">videoTitle</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">, </span><font face="Source Code Pro">id</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">;<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">    </span><font face="Source Code Pro">chapters.</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(166, 226, 46);">each</span><font face="Source Code Pro">(</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">function </span><font face="Source Code Pro">(</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(253, 151, 31); font-style: italic;">value</span><font face="Source Code Pro">) {<br>        chapter </font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">= </span><font face="Source Code Pro">$(</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">this</span><font face="Source Code Pro">)</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">;<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">        </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(117, 113, 94);">/** nodeType</span><span style="font-family: SimSun; color: rgb(117, 113, 94);">返回值说明<br></span><span style="font-family: SimSun; color: rgb(117, 113, 94);">         </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(117, 113, 94);">* 1-ELEMENT<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(117, 113, 94);">         * 2-ATTRIBUTE<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(117, 113, 94);">         * 3-TEXT<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(117, 113, 94);">         * 4-CDATA<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(117, 113, 94);">         * 5-ENTITY REFERENCE<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(117, 113, 94);">         * 6-ENTITY<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(117, 113, 94);">         * 7-PI (processing instruction)<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(117, 113, 94);">         * 8-COMMENT<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(117, 113, 94);">         * 9-DOCUMENT<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(117, 113, 94);">         * 10-DOCUMENT TYPE<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(117, 113, 94);">         * 11-DOCUMENT FRAGMENT<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(117, 113, 94);">         * 12-NOTATION<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(117, 113, 94);">         */<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(117, 113, 94);">        // </span><span style="font-family: SimSun; color: rgb(117, 113, 94);">过滤不提取子类中的</span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(117, 113, 94);">text<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(117, 113, 94);">        </span><font face="Source Code Pro">Title </font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">= </span><font face="Source Code Pro">chapter.find(</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(230, 219, 116);">'strong'</span><font face="Source Code Pro">).</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(166, 226, 46);">contents</span><font face="Source Code Pro">().filter(</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">function </span><font face="Source Code Pro">() {<br>            </font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">return this</span><font face="Source Code Pro">.nodeType </font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">== </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(174, 129, 255);">3</span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">;<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">        </span><font face="Source Code Pro">}).text().</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(166, 226, 46);">trim</span><font face="Source Code Pro">()</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">;<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);"><br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">        </span><font face="Source Code Pro">chapterData </font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">= </span><font face="Source Code Pro">{<br>            </font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(230, 219, 116);">"chapterTitle"</span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">: </span><font face="Source Code Pro">Title</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">,<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">            </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(230, 219, 116);">"videos"</span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">: </span><font face="Source Code Pro">[]<br>        }<br><br>        videos </font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">= </span><font face="Source Code Pro">chapter.find(</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(230, 219, 116);">'.video'</span><font face="Source Code Pro">).children(</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(230, 219, 116);">'li'</span><font face="Source Code Pro">)</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">;<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">        </span><font face="Source Code Pro">videos.</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(166, 226, 46);">each</span><font face="Source Code Pro">(</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">function </span><font face="Source Code Pro">(</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(253, 151, 31); font-style: italic;">value</span><font face="Source Code Pro">) {<br>            video </font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">= </span><font face="Source Code Pro">$(</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">this</span><font face="Source Code Pro">).find(</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(230, 219, 116);">'.J-media-item'</span><font face="Source Code Pro">)</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">;<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);"><br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">            </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(117, 113, 94);">// </span><span style="font-family: SimSun; color: rgb(117, 113, 94);">这个</span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(117, 113, 94);">title</span><span style="font-family: SimSun; color: rgb(117, 113, 94);">包含了</span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(117, 113, 94);">video</span><span style="font-family: SimSun; color: rgb(117, 113, 94);">的</span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(117, 113, 94);">title</span><span style="font-family: SimSun; color: rgb(117, 113, 94);">和这个</span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(117, 113, 94);">video</span><span style="font-family: SimSun; color: rgb(117, 113, 94);">的时间</span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(117, 113, 94);">,</span><span style="font-family: SimSun; color: rgb(117, 113, 94);">两者用换行符分割<br></span><span style="font-family: SimSun; color: rgb(117, 113, 94);">            </span><font face="Source Code Pro">videoTitles </font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">= </span><font face="Source Code Pro">video.</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(166, 226, 46);">contents</span><font face="Source Code Pro">().filter(</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">function </span><font face="Source Code Pro">() {<br>                </font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">return this</span><font face="Source Code Pro">.nodeType </font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">== </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(174, 129, 255);">3</span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">;<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">            </span><font face="Source Code Pro">}).text().</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(166, 226, 46);">trim</span><font face="Source Code Pro">().</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(166, 226, 46);">split</span><font face="Source Code Pro">(</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(230, 219, 116);">'</span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(174, 129, 255);">\n</span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(230, 219, 116);">'</span><font face="Source Code Pro">)</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">;<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);"><br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">            </span><font face="Source Code Pro">id </font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">= </span><font face="Source Code Pro">video.</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(166, 226, 46);">attr</span><font face="Source Code Pro">(</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(230, 219, 116);">'href'</span><font face="Source Code Pro">).</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(166, 226, 46);">split</span><font face="Source Code Pro">(</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(230, 219, 116);">'video/'</span><font face="Source Code Pro">)[</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(174, 129, 255);">1</span><font face="Source Code Pro">]</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">;<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);"><br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">            </span><font face="Source Code Pro">chapterData.videos.</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(166, 226, 46);">push</span><font face="Source Code Pro">({<br>                </font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(230, 219, 116);">"title"</span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">: </span><font face="Source Code Pro">videoTitles[</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(174, 129, 255);">0</span><font face="Source Code Pro">].</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(166, 226, 46);">trim</span><font face="Source Code Pro">()</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">,<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">                </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(230, 219, 116);">"time"</span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">: </span><font face="Source Code Pro">videoTitles[</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(174, 129, 255);">1</span><font face="Source Code Pro">].</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(166, 226, 46);">trim</span><font face="Source Code Pro">()</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">,<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">                </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(230, 219, 116);">"id"</span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">: </span><font face="Source Code Pro">id<br>            })</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">;<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">        </span><font face="Source Code Pro">})</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">;<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">        </span><font face="Source Code Pro">courseData.</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(166, 226, 46);">push</span><font face="Source Code Pro">(chapterData)</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">;<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">    </span><font face="Source Code Pro">})</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">;<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">    </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">return </span><font face="Source Code Pro">courseData</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">;<br></span><font face="Source Code Pro">}<br><br></font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(117, 113, 94);">/**<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(117, 113, 94);"> * </span><span style="font-family: SimSun; color: rgb(117, 113, 94);">打印课程信息<br></span><span style="font-family: SimSun; color: rgb(117, 113, 94);"> </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(117, 113, 94);">* @param {'{chapterTitle:string,videos:[{title:string,time:string,id:string}]}'} courseData </span><span style="font-family: SimSun; color: rgb(117, 113, 94);">课程信息<br></span><span style="font-family: SimSun; color: rgb(117, 113, 94);"> </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(117, 113, 94);">*/<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">function </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(166, 226, 46);">printCoursrInfo</span><font face="Source Code Pro">(</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(253, 151, 31); font-style: italic;">courseData</span><font face="Source Code Pro">) {<br>    </font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">var </span><font face="Source Code Pro">courseMessage </font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">= </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(230, 219, 116);">''</span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">;<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">    </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(253, 151, 31); font-style: italic;">courseData</span><font face="Source Code Pro">.forEach(</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">function </span><font face="Source Code Pro">(</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(253, 151, 31); font-style: italic;">value</span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">, </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(253, 151, 31); font-style: italic;">index</span><font face="Source Code Pro">) {<br>        courseMessage </font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">+= </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(253, 151, 31); font-style: italic;">value</span><font face="Source Code Pro">.chapterTitle </font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">+ </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(230, 219, 116);">'</span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(174, 129, 255);">\n</span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(230, 219, 116);">'</span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">;<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);"><br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">        </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(253, 151, 31); font-style: italic;">value</span><font face="Source Code Pro">.videos.</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(166, 226, 46);">forEach</span><font face="Source Code Pro">(</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">function </span><font face="Source Code Pro">(</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(253, 151, 31); font-style: italic;">value</span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">, </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(253, 151, 31); font-style: italic;">index</span><font face="Source Code Pro">) {<br>            courseMessage </font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">+= </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(230, 219, 116);">'[' </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">+ </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(253, 151, 31); font-style: italic;">value</span><font face="Source Code Pro">.id </font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">+ </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(230, 219, 116);">'] ' </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">+ </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(253, 151, 31); font-style: italic;">value</span><font face="Source Code Pro">.title </font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">+ </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(230, 219, 116);">' time:' </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">+ </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(253, 151, 31); font-style: italic;">value</span><font face="Source Code Pro">.</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(166, 226, 46);">time </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">+ </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(230, 219, 116);">'</span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(174, 129, 255);">\n</span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(230, 219, 116);">'</span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">;<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">        </span><font face="Source Code Pro">})</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">;<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);"><br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">        </span><font face="Source Code Pro">courseMessage </font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">+= </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(230, 219, 116);">'</span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(174, 129, 255);">\n</span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(230, 219, 116);">'</span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">;<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">    </span><font face="Source Code Pro">})</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">;<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);"><br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">    </span><span style="font-family: &quot;Source Code Pro&quot;; font-style: italic;">console</span><font face="Source Code Pro">.</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(166, 226, 46);">log</span><font face="Source Code Pro">(courseMessage)</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">;<br></span><font face="Source Code Pro">}<br><br>http.</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(166, 226, 46);">get</span><font face="Source Code Pro">(url</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">, </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">function </span><font face="Source Code Pro">(</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(253, 151, 31); font-style: italic;">res</span><font face="Source Code Pro">) {<br>    </font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">var </span><font face="Source Code Pro">html </font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">= </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(230, 219, 116);">''</span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">;<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);"><br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">    </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(253, 151, 31); font-style: italic;">res</span><font face="Source Code Pro">.</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(166, 226, 46);">on</span><font face="Source Code Pro">(</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(230, 219, 116);">'data'</span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">, </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">function </span><font face="Source Code Pro">(</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(253, 151, 31); font-style: italic;">data</span><font face="Source Code Pro">) {<br>        html </font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">+= </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(253, 151, 31); font-style: italic;">data</span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">;<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">    </span><font face="Source Code Pro">})</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">;<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);"><br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">    </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(253, 151, 31); font-style: italic;">res</span><font face="Source Code Pro">.</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(166, 226, 46);">on</span><font face="Source Code Pro">(</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(230, 219, 116);">'end'</span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">, </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">function </span><font face="Source Code Pro">() {<br>        </font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">var </span><font face="Source Code Pro">courseData </font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">= </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(166, 226, 46);">filterChapters</span><font face="Source Code Pro">(html)</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">;<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">        </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(166, 226, 46);">printCoursrInfo</span><font face="Source Code Pro">(courseData)</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">;<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">    </span><font face="Source Code Pro">})</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">;<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);"><br></span><font face="Source Code Pro">}).</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(166, 226, 46);">on</span><font face="Source Code Pro">(</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(230, 219, 116);">'error'</span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">, </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">function </span><font face="Source Code Pro">() {<br>    </font><span style="font-family: &quot;Source Code Pro&quot;; font-style: italic;">console</span><font face="Source Code Pro">.</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(166, 226, 46);">log</span><font face="Source Code Pro">(</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(230, 219, 116);">'</span><span style="font-family: SimSun; color: rgb(230, 219, 116);">爬取失败</span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(230, 219, 116);">!!!!'</span><font face="Source Code Pro">)</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">;<br></span><font face="Source Code Pro">})</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">;</span></pre><p style="color: rgb(102, 102, 102); font-size: 15px;"><b>3. 代码重构 -- 基于 Promise 的爬虫代码</b></p><pre style="background-color: rgb(39, 40, 34); color: rgb(248, 248, 242); font-size: 10.5pt;"><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(117, 113, 94);">/**<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(117, 113, 94);"> * Created by Administrator on 11/06/2017.<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(117, 113, 94);"> * promise </span><span style="font-family: SimSun; color: rgb(117, 113, 94);">重构爬虫代码<br></span><span style="color: rgb(117, 113, 94);"><font face="SimSun"> </font><font face="Source Code Pro">*/<br></font></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(117, 113, 94);"><br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">var </span><font face="Source Code Pro">http </font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">= </span><span style="font-family: &quot;Source Code Pro&quot;; font-style: italic;">require</span><font face="Source Code Pro">(</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(230, 219, 116);">'http'</span><font face="Source Code Pro">)<br></font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(117, 113, 94);">// var Promise = require('bluebird')<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(117, 113, 94);">// var Promise = global.Promise<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">var </span><font face="Source Code Pro">cheerio </font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">=</span><span style="font-family: &quot;Source Code Pro&quot;; font-style: italic;">require</span><font face="Source Code Pro">(</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(230, 219, 116);">'cheerio'</span><font face="Source Code Pro">)<br></font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(117, 113, 94);">// </span><span style="font-family: SimSun; color: rgb(117, 113, 94);">解析的目标网页<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">var </span><font face="Source Code Pro">baseUrl </font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">= </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(230, 219, 116);">'http://www.imooc.com/learn/'<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">var </span><font face="Source Code Pro">videoIds </font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">= </span><font face="Source Code Pro">[</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(174, 129, 255);">348</span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">, </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(174, 129, 255);">259</span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">, </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(174, 129, 255);">197</span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">, </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(174, 129, 255);">134 </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">,</span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(174, 129, 255);">75</span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">, </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(174, 129, 255);">728</span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">, </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(174, 129, 255);">637</span><font face="Source Code Pro">]<br><br></font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(117, 113, 94);">// </span><span style="font-family: SimSun; color: rgb(117, 113, 94);">将爬取到的网页内容进行过滤调整<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">function </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(166, 226, 46);">filterChapters</span><font face="Source Code Pro">(</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(253, 151, 31); font-style: italic;">html</span><font face="Source Code Pro">) {<br>    </font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">var </span><font face="Source Code Pro">$ </font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">= </span><font face="Source Code Pro">cheerio.load(</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(253, 151, 31); font-style: italic;">html</span><font face="Source Code Pro">)<br>    </font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">var </span><font face="Source Code Pro">chapters </font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">= </span><font face="Source Code Pro">$(</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(230, 219, 116);">'.chapter'</span><font face="Source Code Pro">)<br>    </font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">var </span><font face="Source Code Pro">title </font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">= </span><font face="Source Code Pro">$(</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(230, 219, 116);">'.w .path </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">a span</span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(230, 219, 116);">'</span><font face="Source Code Pro">).text()<br>    </font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">var </span><font face="Source Code Pro">number </font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">= </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(166, 226, 46);">parseInt</span><font face="Source Code Pro">($(</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(230, 219, 116);">'.js-learn-num'</span><font face="Source Code Pro">).text()</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">, </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(174, 129, 255);">10</span><font face="Source Code Pro">)<br><br>    </font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(117, 113, 94);">// courseData = {<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(117, 113, 94);">    //     title: title,<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(117, 113, 94);">    //     number: number,<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(117, 113, 94);">    //     videos: [{<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(117, 113, 94);">    //         chapterTitle: '',<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(117, 113, 94);">    //         videos: [<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(117, 113, 94);">    //             title: '',<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(117, 113, 94);">    //             id: ''<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(117, 113, 94);">    //         ]<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(117, 113, 94);">    //     }]<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(117, 113, 94);">    // }<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(117, 113, 94);"><br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(117, 113, 94);">    </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">var </span><font face="Source Code Pro">courseData </font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">= </span><font face="Source Code Pro">{<br>        title</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">: </span><font face="Source Code Pro">title</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">,<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">        </span><font face="Source Code Pro">number</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">: </span><font face="Source Code Pro">number</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">,<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">        </span><font face="Source Code Pro">videos</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">: </span><font face="Source Code Pro">[]<br>    }<br><br>    chapters.</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(166, 226, 46);">each</span><font face="Source Code Pro">(</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">function </span><font face="Source Code Pro">(</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(253, 151, 31); font-style: italic;">item</span><font face="Source Code Pro">) {<br>        </font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">var </span><font face="Source Code Pro">chapter </font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">= </span><font face="Source Code Pro">$(</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">this</span><font face="Source Code Pro">)<br>        </font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(117, 113, 94);">// </span><span style="font-family: SimSun; color: rgb(117, 113, 94);">过滤不提取子类中的</span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(117, 113, 94);">text<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(117, 113, 94);">        </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">var </span><font face="Source Code Pro">chapterTitle </font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">= </span><font face="Source Code Pro">chapter.find(</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(230, 219, 116);">'strong'</span><font face="Source Code Pro">).</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(166, 226, 46);">contents</span><font face="Source Code Pro">().filter(</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">function </span><font face="Source Code Pro">() {<br>            </font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">return this</span><font face="Source Code Pro">.nodeType </font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">=== </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(174, 129, 255);">3</span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">;<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">        </span><font face="Source Code Pro">}).text().</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(166, 226, 46);">trim</span><font face="Source Code Pro">()<br>        </font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">var </span><font face="Source Code Pro">videos </font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">= </span><font face="Source Code Pro">chapter.find(</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(230, 219, 116);">'.video'</span><font face="Source Code Pro">).children(</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(230, 219, 116);">'li'</span><font face="Source Code Pro">)<br>        </font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">var </span><font face="Source Code Pro">chapterData </font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">= </span><font face="Source Code Pro">{<br>            chapterTitle</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">: </span><font face="Source Code Pro">chapterTitle</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">,<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">            </span><font face="Source Code Pro">videos</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">: </span><font face="Source Code Pro">[]<br>        }<br><br>        videos.</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(166, 226, 46);">each</span><font face="Source Code Pro">(</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">function </span><font face="Source Code Pro">(</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(253, 151, 31); font-style: italic;">item</span><font face="Source Code Pro">) {<br>            </font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">var </span><font face="Source Code Pro">video </font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">= </span><font face="Source Code Pro">$(</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">this</span><font face="Source Code Pro">).find(</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(230, 219, 116);">'.J-media-item'</span><font face="Source Code Pro">)<br><br>            </font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">var </span><font face="Source Code Pro">videoTitles </font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">= </span><font face="Source Code Pro">video.text().</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(166, 226, 46);">trim</span><font face="Source Code Pro">().</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(166, 226, 46);">split</span><font face="Source Code Pro">(</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(230, 219, 116);">'</span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(174, 129, 255);">\n</span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(230, 219, 116);">'</span><font face="Source Code Pro">)<br>            </font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">var </span><font face="Source Code Pro">id </font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">= </span><font face="Source Code Pro">video.</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(166, 226, 46);">attr</span><font face="Source Code Pro">(</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(230, 219, 116);">'href'</span><font face="Source Code Pro">).</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(166, 226, 46);">split</span><font face="Source Code Pro">(</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(230, 219, 116);">'/video/'</span><font face="Source Code Pro">)[</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(174, 129, 255);">1</span><font face="Source Code Pro">]<br><br>            chapterData.videos.</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(166, 226, 46);">push</span><font face="Source Code Pro">({<br>                title</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">: </span><font face="Source Code Pro">videoTitles[</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(174, 129, 255);">0</span><font face="Source Code Pro">].</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(166, 226, 46);">trim</span><font face="Source Code Pro">()</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">,<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">                </span><font face="Source Code Pro">time</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">: </span><font face="Source Code Pro">videoTitles[</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(174, 129, 255);">1</span><font face="Source Code Pro">].</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(166, 226, 46);">trim</span><font face="Source Code Pro">()</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">,<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">                </span><font face="Source Code Pro">id</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">: </span><font face="Source Code Pro">id<br>            })<br>        })<br>        courseData.videos.</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(166, 226, 46);">push</span><font face="Source Code Pro">(chapterData)<br>    })<br><br>    </font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">return </span><font face="Source Code Pro">courseData<br>}<br><br></font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">function </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(166, 226, 46);">printCourseInfo</span><font face="Source Code Pro">(</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(253, 151, 31); font-style: italic;">coursesData</span><font face="Source Code Pro">) {<br>    </font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(253, 151, 31); font-style: italic;">coursesData</span><font face="Source Code Pro">.forEach(</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">function </span><font face="Source Code Pro">(</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(253, 151, 31); font-style: italic;">courseData</span><font face="Source Code Pro">) {<br>        </font><span style="font-family: &quot;Source Code Pro&quot;; font-style: italic;">console</span><font face="Source Code Pro">.</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(166, 226, 46);">log</span><font face="Source Code Pro">(</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(253, 151, 31); font-style: italic;">courseData</span><font face="Source Code Pro">.number </font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">+ </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(230, 219, 116);">' </span><span style="font-family: SimSun; color: rgb(230, 219, 116);">人学过</span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(230, 219, 116);"> ' </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">+ </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(253, 151, 31); font-style: italic;">courseData</span><font face="Source Code Pro">.title </font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">+ </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(230, 219, 116);">'</span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(174, 129, 255);">\n</span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(230, 219, 116);">'</span><font face="Source Code Pro">)<br>    })<br><br>    </font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(253, 151, 31); font-style: italic;">coursesData</span><font face="Source Code Pro">.forEach(</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">function</span><font face="Source Code Pro">(</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(253, 151, 31); font-style: italic;">courseData</span><font face="Source Code Pro">) {<br>        </font><span style="font-family: &quot;Source Code Pro&quot;; font-style: italic;">console</span><font face="Source Code Pro">.</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(166, 226, 46);">log</span><font face="Source Code Pro">(</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(230, 219, 116);">'### ' </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">+ </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(253, 151, 31); font-style: italic;">courseData</span><font face="Source Code Pro">.title </font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">+ </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(230, 219, 116);">'</span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(174, 129, 255);">\n</span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(230, 219, 116);">'</span><font face="Source Code Pro">)<br>        </font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(253, 151, 31); font-style: italic;">courseData</span><font face="Source Code Pro">.videos.</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(166, 226, 46);">forEach</span><font face="Source Code Pro">(</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">function </span><font face="Source Code Pro">(</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(253, 151, 31); font-style: italic;">item</span><font face="Source Code Pro">) {<br>            </font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">var </span><font face="Source Code Pro">chapterTitle </font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">= </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(253, 151, 31); font-style: italic;">item</span><font face="Source Code Pro">.chapterTitle<br><br>            </font><span style="font-family: &quot;Source Code Pro&quot;; font-style: italic;">console</span><font face="Source Code Pro">.</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(166, 226, 46);">log</span><font face="Source Code Pro">(chapterTitle </font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">+ </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(230, 219, 116);">'</span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(174, 129, 255);">\n</span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(230, 219, 116);">'</span><font face="Source Code Pro">)<br>            </font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(253, 151, 31); font-style: italic;">item</span><font face="Source Code Pro">.videos.</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(166, 226, 46);">forEach</span><font face="Source Code Pro">(</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">function </span><font face="Source Code Pro">(</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(253, 151, 31); font-style: italic;">video</span><font face="Source Code Pro">) {<br>                </font><span style="font-family: &quot;Source Code Pro&quot;; font-style: italic;">console</span><font face="Source Code Pro">.</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(166, 226, 46);">log</span><font face="Source Code Pro">(</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(230, 219, 116);">'    </span><span style="font-family: SimSun; color: rgb(230, 219, 116);">【</span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(230, 219, 116);">' </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">+ </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(253, 151, 31); font-style: italic;">video</span><font face="Source Code Pro">.id </font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">+ </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(230, 219, 116);">'</span><span style="font-family: SimSun; color: rgb(230, 219, 116);">】</span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(230, 219, 116);">' </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">+ </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(253, 151, 31); font-style: italic;">video</span><font face="Source Code Pro">.title </font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">+ </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(253, 151, 31); font-style: italic;">video</span><font face="Source Code Pro">.</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(166, 226, 46);">time </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">+ </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(230, 219, 116);">'</span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(174, 129, 255);">\n</span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(230, 219, 116);">'</span><font face="Source Code Pro">)<br>            })<br>        })<br>    })<br>}<br><br></font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">function </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(166, 226, 46);">getPageAsync</span><font face="Source Code Pro">(</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(253, 151, 31); font-style: italic;">url</span><font face="Source Code Pro">) {<br>    </font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">return new </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(166, 226, 46);">Promise</span><font face="Source Code Pro">(</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">function </span><font face="Source Code Pro">(</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(253, 151, 31); font-style: italic;">resolve</span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">, </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(253, 151, 31); font-style: italic;">reject</span><font face="Source Code Pro">) {<br>        </font><span style="font-family: &quot;Source Code Pro&quot;; font-style: italic;">console</span><font face="Source Code Pro">.</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(166, 226, 46);">log</span><font face="Source Code Pro">(</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(230, 219, 116);">'</span><span style="font-family: SimSun; color: rgb(230, 219, 116);">正在爬取</span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(230, 219, 116);"> ' </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">+ </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(253, 151, 31); font-style: italic;">url</span><font face="Source Code Pro">)<br><br>        http.</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(166, 226, 46);">get</span><font face="Source Code Pro">(</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(253, 151, 31); font-style: italic;">url</span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">, </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">function </span><font face="Source Code Pro">(</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(253, 151, 31); font-style: italic;">res</span><font face="Source Code Pro">) {<br>            </font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">var </span><font face="Source Code Pro">html </font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">= </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(230, 219, 116);">''<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(230, 219, 116);"><br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(230, 219, 116);">            </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(253, 151, 31); font-style: italic;">res</span><font face="Source Code Pro">.</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(166, 226, 46);">on</span><font face="Source Code Pro">(</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(230, 219, 116);">'data'</span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">, </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">function </span><font face="Source Code Pro">(</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(253, 151, 31); font-style: italic;">data</span><font face="Source Code Pro">) {<br>                html </font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">+= </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(253, 151, 31); font-style: italic;">data<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(253, 151, 31); font-style: italic;">            </span><font face="Source Code Pro">})</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">;<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);"><br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">            </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(253, 151, 31); font-style: italic;">res</span><font face="Source Code Pro">.</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(166, 226, 46);">on</span><font face="Source Code Pro">(</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(230, 219, 116);">'end'</span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">, </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">function </span><font face="Source Code Pro">() {<br>                </font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(253, 151, 31); font-style: italic;">resolve</span><font face="Source Code Pro">(html)<br>            })<br>        }).</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(166, 226, 46);">on</span><font face="Source Code Pro">(</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(230, 219, 116);">'error'</span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">, </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">function </span><font face="Source Code Pro">() {<br>            </font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(253, 151, 31); font-style: italic;">reject</span><font face="Source Code Pro">(e)<br>            </font><span style="font-family: &quot;Source Code Pro&quot;; font-style: italic;">console</span><font face="Source Code Pro">.</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(166, 226, 46);">log</span><font face="Source Code Pro">(</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(230, 219, 116);">'</span><span style="font-family: SimSun; color: rgb(230, 219, 116);">获取课程数据失败！</span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(230, 219, 116);">'</span><font face="Source Code Pro">)<br>        })<br>    })<br>}<br><br></font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">var </span><font face="Source Code Pro">fetchCourseArray </font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">= </span><font face="Source Code Pro">[]<br><br>videoIds.</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(166, 226, 46);">forEach</span><font face="Source Code Pro">(</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">function </span><font face="Source Code Pro">(</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(253, 151, 31); font-style: italic;">id</span><font face="Source Code Pro">) {<br>    fetchCourseArray.</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(166, 226, 46);">push</span><font face="Source Code Pro">(</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(166, 226, 46);">getPageAsync</span><font face="Source Code Pro">(baseUrl </font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">+ </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(253, 151, 31); font-style: italic;">id</span><font face="Source Code Pro">))<br>})<br><br></font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(166, 226, 46);">Promise<br></span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(166, 226, 46);">    </span><font face="Source Code Pro">.</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(166, 226, 46);">all</span><font face="Source Code Pro">(fetchCourseArray)<br>    .</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(166, 226, 46);">then</span><font face="Source Code Pro">(</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">function </span><font face="Source Code Pro">(</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(253, 151, 31); font-style: italic;">pages</span><font face="Source Code Pro">) {<br>        </font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">var </span><font face="Source Code Pro">coursesData </font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">= </span><font face="Source Code Pro">[]<br><br>        </font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(253, 151, 31); font-style: italic;">pages</span><font face="Source Code Pro">.forEach(</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">function </span><font face="Source Code Pro">(</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(253, 151, 31); font-style: italic;">html</span><font face="Source Code Pro">) {<br>            </font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">var </span><font face="Source Code Pro">courses </font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">= </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(166, 226, 46);">filterChapters</span><font face="Source Code Pro">(</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(253, 151, 31); font-style: italic;">html</span><font face="Source Code Pro">)<br><br>            coursesData.</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(166, 226, 46);">push</span><font face="Source Code Pro">(courses)<br>        })<br><br>        coursesData.</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(166, 226, 46);">sort</span><font face="Source Code Pro">(</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">function </span><font face="Source Code Pro">(</font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(253, 151, 31); font-style: italic;">a</span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(204, 120, 50);">, </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(253, 151, 31); font-style: italic;">b</span><font face="Source Code Pro">) {<br>            </font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">return </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(253, 151, 31); font-style: italic;">a</span><font face="Source Code Pro">.number </font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(249, 38, 114);">&lt; </span><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(253, 151, 31); font-style: italic;">b</span><font face="Source Code Pro">.number<br>        })<br>        </font><span style="font-family: &quot;Source Code Pro&quot;; color: rgb(166, 226, 46);">printCourseInfo</span><font face="Source Code Pro">(coursesData)<br><br>    })<br></font></pre><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">乱码原因是传输数据时 buffer 的拼接问题！<br></p><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">例如以下写法：</p><table border="0" cellpadding="0" cellspacing="0" class="syntaxhighlighter  js"><tbody style="border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; margin: 0px !important; outline: 0px !important; overflow: visible !important; padding: 0px !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important;"><tr style="border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; margin: 0px !important; outline: 0px !important; overflow: visible !important; padding: 0px !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important;"><td class="gutter" style="margin: 0px !important; padding: 9.5px 0px 9.5px 9.5px !important; border-radius: 4px 0px 0px 4px !important; background: none rgb(247, 247, 249) !important; border-width: 0px 1px 0px 0px !important; border-top-style: initial !important; border-right-style: solid !important; border-bottom-style: initial !important; border-left-style: initial !important; border-top-color: initial !important; border-right-color: rgb(225, 225, 232) !important; border-bottom-color: initial !important; border-left-color: initial !important; border-image: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; user-select: none !important; font-size: 13px !important; color: rgb(175, 175, 175) !important;"><div class="line number1 index0 alt2" style="word-wrap: normal; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; white-space: pre !important; font-size: 13px !important;">1</div><div class="line number2 index1 alt1" style="word-wrap: normal; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; white-space: pre !important; font-size: 13px !important;">2</div><div class="line number3 index2 alt2" style="word-wrap: normal; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; white-space: pre !important; font-size: 13px !important;">3</div><div class="line number4 index3 alt1" style="word-wrap: normal; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; white-space: pre !important; font-size: 13px !important;">4</div></td><td class="code" style="width: 687px; margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important;"><div class="container" style="margin: 0px !important; padding: 0px !important; width: auto !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: relative !important; right: auto !important; top: auto !important; vertical-align: baseline !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important;"><div class="line number1 index0 alt2" style="margin: 0px !important; padding: 0px 1em !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important;"><code class="js keyword" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-weight: bold !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; color: rgb(255, 120, 0) !important;">var</code>&nbsp;<code class="js plain" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; color: black !important;">data&nbsp;=&nbsp;</code><code class="js string" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; color: blue !important;">""</code><code class="js plain" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; color: black !important;">;</code></div><div class="line number2 index1 alt1" style="margin: 0px !important; padding: 0px 1em !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important;"><code class="js plain" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; color: black !important;">res.on(</code><code class="js string" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; color: blue !important;">"data"</code>&nbsp;<code class="js plain" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; color: black !important;">,&nbsp;</code><code class="js keyword" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-weight: bold !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; color: rgb(255, 120, 0) !important;">function</code><code class="js plain" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; color: black !important;">(chunk){</code></div><div class="line number3 index2 alt2" style="margin: 0px !important; padding: 0px 1em !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important;"><code class="js spaces" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js plain" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; color: black !important;">data&nbsp;+=&nbsp;chunk;</code></div><div class="line number4 index3 alt1" style="margin: 0px !important; padding: 0px 1em !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important;"><code class="js plain" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; color: black !important;">});</code></div></div></td></tr></tbody></table><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">如果爬取的数据的中文数据量比较小，一般显示是正常的。但当爬取的数据量较大时，很有可能出现部分汉字会乱码现象。<br></p><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">产生原因：<br>在默认的情况下 trunk 是一个 Buffer 对象，而</p><table border="0" cellpadding="0" cellspacing="0" class="syntaxhighlighter  js"><tbody style="border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; margin: 0px !important; outline: 0px !important; overflow: visible !important; padding: 0px !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important;"><tr style="border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; margin: 0px !important; outline: 0px !important; overflow: visible !important; padding: 0px !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important;"><td class="gutter" style="margin: 0px !important; padding: 9.5px 0px 9.5px 9.5px !important; border-radius: 4px 0px 0px 4px !important; background: none rgb(247, 247, 249) !important; border-width: 0px 1px 0px 0px !important; border-top-style: initial !important; border-right-style: solid !important; border-bottom-style: initial !important; border-left-style: initial !important; border-top-color: initial !important; border-right-color: rgb(225, 225, 232) !important; border-bottom-color: initial !important; border-left-color: initial !important; border-image: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; user-select: none !important; font-size: 13px !important; color: rgb(175, 175, 175) !important;"><div class="line number1 index0 alt2" style="word-wrap: normal; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; white-space: pre !important; font-size: 13px !important;">1</div></td><td class="code" style="width: 687px; margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important;"><div class="container" style="margin: 0px !important; padding: 0px !important; width: auto !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: relative !important; right: auto !important; top: auto !important; vertical-align: baseline !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important;"><div class="line number1 index0 alt2" style="margin: 0px !important; padding: 0px 1em !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important;"><code class="js plain" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; color: black !important;">data&nbsp;+=&nbsp;trunk</code></div></div></td></tr></tbody></table><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">的实质上隐藏了 toString 的变换的：<br></p><table border="0" cellpadding="0" cellspacing="0" class="syntaxhighlighter  js"><tbody style="border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; margin: 0px !important; outline: 0px !important; overflow: visible !important; padding: 0px !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important;"><tr style="border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; margin: 0px !important; outline: 0px !important; overflow: visible !important; padding: 0px !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important;"><td class="gutter" style="margin: 0px !important; padding: 9.5px 0px 9.5px 9.5px !important; border-radius: 4px 0px 0px 4px !important; background: none rgb(247, 247, 249) !important; border-width: 0px 1px 0px 0px !important; border-top-style: initial !important; border-right-style: solid !important; border-bottom-style: initial !important; border-left-style: initial !important; border-top-color: initial !important; border-right-color: rgb(225, 225, 232) !important; border-bottom-color: initial !important; border-left-color: initial !important; border-image: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; user-select: none !important; font-size: 13px !important; color: rgb(175, 175, 175) !important;"><div class="line number1 index0 alt2" style="word-wrap: normal; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; white-space: pre !important; font-size: 13px !important;">1</div></td><td class="code" style="width: 687px; margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important;"><div class="container" style="margin: 0px !important; padding: 0px !important; width: auto !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: relative !important; right: auto !important; top: auto !important; vertical-align: baseline !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important;"><div class="line number1 index0 alt2" style="margin: 0px !important; padding: 0px 1em !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important;"><code class="js plain" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; color: black !important;">data&nbsp;=&nbsp;data.toString()&nbsp;+&nbsp;trunk.toString();</code></div></div></td></tr></tbody></table><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">由于汉字不是用一个字节来存储的，如果某一块 buffer 传输的恰好不完整，将会导致有被截破的汉字的存在，于是出现乱码。<br><br>解决方法：<br>先用一个数组把所有 buffer 保存起来，同时记录 buffer 的总长度。<br>数据传输完毕的时，再通过 Buffer.concat 方法把所有 buffer 拼接。<br>最后，用 toString 方法转成字符串，这时获取的 data 数据就是正确的了。</p><table border="0" cellpadding="0" cellspacing="0" class="syntaxhighlighter  js"><tbody style="border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; margin: 0px !important; outline: 0px !important; overflow: visible !important; padding: 0px !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important;"><tr style="border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; margin: 0px !important; outline: 0px !important; overflow: visible !important; padding: 0px !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important;"><td class="gutter" style="margin: 0px !important; padding: 9.5px 0px 9.5px 9.5px !important; border-radius: 4px 0px 0px 4px !important; background: none rgb(247, 247, 249) !important; border-width: 0px 1px 0px 0px !important; border-top-style: initial !important; border-right-style: solid !important; border-bottom-style: initial !important; border-left-style: initial !important; border-top-color: initial !important; border-right-color: rgb(225, 225, 232) !important; border-bottom-color: initial !important; border-left-color: initial !important; border-image: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; user-select: none !important; font-size: 13px !important; color: rgb(175, 175, 175) !important;"><div class="line number1 index0 alt2" style="word-wrap: normal; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; white-space: pre !important; font-size: 13px !important;">1</div><div class="line number2 index1 alt1" style="word-wrap: normal; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; white-space: pre !important; font-size: 13px !important;">2</div><div class="line number3 index2 alt2" style="word-wrap: normal; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; white-space: pre !important; font-size: 13px !important;">3</div><div class="line number4 index3 alt1" style="word-wrap: normal; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; white-space: pre !important; font-size: 13px !important;">4</div><div class="line number5 index4 alt2" style="word-wrap: normal; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; white-space: pre !important; font-size: 13px !important;">5</div><div class="line number6 index5 alt1" style="word-wrap: normal; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; white-space: pre !important; font-size: 13px !important;">6</div><div class="line number7 index6 alt2" style="word-wrap: normal; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; white-space: pre !important; font-size: 13px !important;">7</div><div class="line number8 index7 alt1" style="word-wrap: normal; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; white-space: pre !important; font-size: 13px !important;">8</div><div class="line number9 index8 alt2" style="word-wrap: normal; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; white-space: pre !important; font-size: 13px !important;">9</div></td><td class="code" style="width: 687px; margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important;"><div class="container" style="margin: 0px !important; padding: 0px !important; width: auto !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: relative !important; right: auto !important; top: auto !important; vertical-align: baseline !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important;"><div class="line number1 index0 alt2" style="margin: 0px !important; padding: 0px 1em !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important;"><code class="js keyword" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-weight: bold !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; color: rgb(255, 120, 0) !important;">var</code>&nbsp;<code class="js plain" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; color: black !important;">chunks&nbsp;=&nbsp;[],&nbsp;size&nbsp;=&nbsp;0;</code></div><div class="line number2 index1 alt1" style="margin: 0px !important; padding: 0px 1em !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important;"><code class="js plain" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; color: black !important;">res.on(</code><code class="js string" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; color: blue !important;">"data"</code>&nbsp;<code class="js plain" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; color: black !important;">,&nbsp;</code><code class="js keyword" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-weight: bold !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; color: rgb(255, 120, 0) !important;">function</code><code class="js plain" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; color: black !important;">(chunk){</code></div><div class="line number3 index2 alt2" style="margin: 0px !important; padding: 0px 1em !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important;"><code class="js spaces" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js plain" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; color: black !important;">chunks.push(chunk);</code></div><div class="line number4 index3 alt1" style="margin: 0px !important; padding: 0px 1em !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important;"><code class="js spaces" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js plain" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; color: black !important;">size&nbsp;+=&nbsp;chunk.length;</code></div><div class="line number5 index4 alt2" style="margin: 0px !important; padding: 0px 1em !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important;"><code class="js plain" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; color: black !important;">});</code></div><div class="line number6 index5 alt1" style="margin: 0px !important; padding: 0px 1em !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important;"><code class="js plain" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; color: black !important;">res.on(</code><code class="js string" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; color: blue !important;">"end"</code>&nbsp;<code class="js plain" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; color: black !important;">,&nbsp;</code><code class="js keyword" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-weight: bold !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; color: rgb(255, 120, 0) !important;">function</code><code class="js plain" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; color: black !important;">(){</code></div><div class="line number7 index6 alt2" style="margin: 0px !important; padding: 0px 1em !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important;"><code class="js spaces" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js keyword" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-weight: bold !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; color: rgb(255, 120, 0) !important;">var</code>&nbsp;<code class="js plain" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; color: black !important;">buffer&nbsp;=&nbsp;Buffer.concat(chunks,&nbsp;size);</code></div><div class="line number8 index7 alt1" style="margin: 0px !important; padding: 0px 1em !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important;"><code class="js spaces" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js keyword" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-weight: bold !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; color: rgb(255, 120, 0) !important;">var</code>&nbsp;<code class="js plain" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; color: black !important;">html&nbsp;=&nbsp;buffer.toString();</code></div><div class="line number9 index8 alt2" style="margin: 0px !important; padding: 0px 1em !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important;"><code class="js plain" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; color: black !important;">});</code></div></div></td></tr></tbody></table><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">// 在更细腻的&nbsp;buffer&nbsp;连接方式:<br></p><table border="0" cellpadding="0" cellspacing="0" class="syntaxhighlighter  js"><tbody style="border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; margin: 0px !important; outline: 0px !important; overflow: visible !important; padding: 0px !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important;"><tr style="border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; margin: 0px !important; outline: 0px !important; overflow: visible !important; padding: 0px !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important;"><td class="gutter" style="margin: 0px !important; padding: 9.5px 0px 9.5px 9.5px !important; border-radius: 4px 0px 0px 4px !important; background: none rgb(247, 247, 249) !important; border-width: 0px 1px 0px 0px !important; border-top-style: initial !important; border-right-style: solid !important; border-bottom-style: initial !important; border-left-style: initial !important; border-top-color: initial !important; border-right-color: rgb(225, 225, 232) !important; border-bottom-color: initial !important; border-left-color: initial !important; border-image: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; user-select: none !important; font-size: 13px !important; color: rgb(175, 175, 175) !important;"><div class="line number1 index0 alt2" style="word-wrap: normal; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; white-space: pre !important; font-size: 13px !important;">1</div><div class="line number2 index1 alt1" style="word-wrap: normal; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; white-space: pre !important; font-size: 13px !important;">2</div><div class="line number3 index2 alt2" style="word-wrap: normal; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; white-space: pre !important; font-size: 13px !important;">3</div><div class="line number4 index3 alt1" style="word-wrap: normal; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; white-space: pre !important; font-size: 13px !important;">4</div><div class="line number5 index4 alt2" style="word-wrap: normal; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; white-space: pre !important; font-size: 13px !important;">5</div><div class="line number6 index5 alt1" style="word-wrap: normal; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; white-space: pre !important; font-size: 13px !important;">6</div><div class="line number7 index6 alt2" style="word-wrap: normal; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; white-space: pre !important; font-size: 13px !important;">7</div><div class="line number8 index7 alt1" style="word-wrap: normal; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; white-space: pre !important; font-size: 13px !important;">8</div><div class="line number9 index8 alt2" style="word-wrap: normal; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; white-space: pre !important; font-size: 13px !important;">9</div><div class="line number10 index9 alt1" style="word-wrap: normal; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; white-space: pre !important; font-size: 13px !important;">10</div><div class="line number11 index10 alt2" style="word-wrap: normal; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; white-space: pre !important; font-size: 13px !important;">11</div><div class="line number12 index11 alt1" style="word-wrap: normal; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; white-space: pre !important; font-size: 13px !important;">12</div><div class="line number13 index12 alt2" style="word-wrap: normal; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; white-space: pre !important; font-size: 13px !important;">13</div><div class="line number14 index13 alt1" style="word-wrap: normal; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; white-space: pre !important; font-size: 13px !important;">14</div><div class="line number15 index14 alt2" style="word-wrap: normal; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; white-space: pre !important; font-size: 13px !important;">15</div><div class="line number16 index15 alt1" style="word-wrap: normal; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; white-space: pre !important; font-size: 13px !important;">16</div><div class="line number17 index16 alt2" style="word-wrap: normal; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; white-space: pre !important; font-size: 13px !important;">17</div><div class="line number18 index17 alt1" style="word-wrap: normal; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; white-space: pre !important; font-size: 13px !important;">18</div><div class="line number19 index18 alt2" style="word-wrap: normal; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; white-space: pre !important; font-size: 13px !important;">19</div><div class="line number20 index19 alt1" style="word-wrap: normal; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; white-space: pre !important; font-size: 13px !important;">20</div></td><td class="code" style="width: 679px; margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important;"><div class="container" style="margin: 0px !important; padding: 0px !important; width: auto !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: relative !important; right: auto !important; top: auto !important; vertical-align: baseline !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important;"><div class="line number1 index0 alt2" style="margin: 0px !important; padding: 0px 1em !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important;"><code class="js plain" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; color: black !important;">res.on(</code><code class="js string" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; color: blue !important;">'end'</code><code class="js plain" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; color: black !important;">,&nbsp;</code><code class="js keyword" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-weight: bold !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; color: rgb(255, 120, 0) !important;">function</code>&nbsp;<code class="js plain" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; color: black !important;">()&nbsp;{</code></div><div class="line number2 index1 alt1" style="margin: 0px !important; padding: 0px 1em !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important;"><code class="js spaces" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js keyword" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-weight: bold !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; color: rgb(255, 120, 0) !important;">var</code>&nbsp;<code class="js plain" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; color: black !important;">buffer&nbsp;=&nbsp;</code><code class="js keyword" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-weight: bold !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; color: rgb(255, 120, 0) !important;">null</code><code class="js plain" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; color: black !important;">;</code></div><div class="line number3 index2 alt2" style="margin: 0px !important; padding: 0px 1em !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important;"><code class="js spaces" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js keyword" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-weight: bold !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; color: rgb(255, 120, 0) !important;">switch</code><code class="js plain" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; color: black !important;">(buffers.length)&nbsp;{</code></div><div class="line number4 index3 alt1" style="margin: 0px !important; padding: 0px 1em !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important;"><code class="js spaces" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js keyword" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-weight: bold !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; color: rgb(255, 120, 0) !important;">case</code>&nbsp;<code class="js plain" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; color: black !important;">0:</code></div><div class="line number5 index4 alt2" style="margin: 0px !important; padding: 0px 1em !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important;"><code class="js spaces" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js plain" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; color: black !important;">buffer&nbsp;=&nbsp;</code><code class="js keyword" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-weight: bold !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; color: rgb(255, 120, 0) !important;">new</code>&nbsp;<code class="js plain" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; color: black !important;">Buffer(0);</code></div><div class="line number6 index5 alt1" style="margin: 0px !important; padding: 0px 1em !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important;"><code class="js spaces" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js keyword" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-weight: bold !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; color: rgb(255, 120, 0) !important;">break</code><code class="js plain" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; color: black !important;">;</code></div><div class="line number7 index6 alt2" style="margin: 0px !important; padding: 0px 1em !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important;"><code class="js spaces" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js keyword" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-weight: bold !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; color: rgb(255, 120, 0) !important;">case</code>&nbsp;<code class="js plain" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; color: black !important;">1:</code></div><div class="line number8 index7 alt1" style="margin: 0px !important; padding: 0px 1em !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important;"><code class="js spaces" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js plain" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; color: black !important;">buffer&nbsp;=&nbsp;buffers[0];</code></div><div class="line number9 index8 alt2" style="margin: 0px !important; padding: 0px 1em !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important;"><code class="js spaces" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js keyword" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-weight: bold !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; color: rgb(255, 120, 0) !important;">break</code><code class="js plain" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; color: black !important;">;</code></div><div class="line number10 index9 alt1" style="margin: 0px !important; padding: 0px 1em !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important;"><code class="js spaces" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js keyword" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-weight: bold !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; color: rgb(255, 120, 0) !important;">default</code><code class="js plain" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; color: black !important;">:</code></div><div class="line number11 index10 alt2" style="margin: 0px !important; padding: 0px 1em !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important;"><code class="js spaces" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js plain" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; color: black !important;">buffer&nbsp;=&nbsp;</code><code class="js keyword" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-weight: bold !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; color: rgb(255, 120, 0) !important;">new</code>&nbsp;<code class="js plain" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; color: black !important;">Buffer(size);</code></div><div class="line number12 index11 alt1" style="margin: 0px !important; padding: 0px 1em !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important;"><code class="js spaces" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js keyword" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-weight: bold !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; color: rgb(255, 120, 0) !important;">for</code>&nbsp;<code class="js plain" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; color: black !important;">(</code><code class="js keyword" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-weight: bold !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; color: rgb(255, 120, 0) !important;">var</code>&nbsp;<code class="js plain" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; color: black !important;">i&nbsp;=&nbsp;0,&nbsp;pos&nbsp;=&nbsp;0,&nbsp;l&nbsp;=&nbsp;buffers.length;&nbsp;i&nbsp;&lt;&nbsp;l;&nbsp;i++)&nbsp;{</code></div><div class="line number13 index12 alt2" style="margin: 0px !important; padding: 0px 1em !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important;"><code class="js spaces" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js keyword" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-weight: bold !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; color: rgb(255, 120, 0) !important;">var</code>&nbsp;<code class="js plain" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; color: black !important;">chunk&nbsp;=&nbsp;buffers[i];</code></div><div class="line number14 index13 alt1" style="margin: 0px !important; padding: 0px 1em !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important;"><code class="js spaces" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js plain" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; color: black !important;">chunk.copy(buffer,&nbsp;pos);</code></div><div class="line number15 index14 alt2" style="margin: 0px !important; padding: 0px 1em !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important;"><code class="js spaces" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js plain" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; color: black !important;">pos&nbsp;+=&nbsp;chunk.length;</code></div><div class="line number16 index15 alt1" style="margin: 0px !important; padding: 0px 1em !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important;"><code class="js spaces" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js plain" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; color: black !important;">}</code></div><div class="line number17 index16 alt2" style="margin: 0px !important; padding: 0px 1em !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important;"><code class="js spaces" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js keyword" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-weight: bold !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; color: rgb(255, 120, 0) !important;">break</code><code class="js plain" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; color: black !important;">;</code></div><div class="line number18 index17 alt1" style="margin: 0px !important; padding: 0px 1em !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important;"><code class="js spaces" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js plain" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; color: black !important;">}</code></div><div class="line number19 index18 alt2" style="margin: 0px !important; padding: 0px 1em !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important;"><code class="js spaces" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js keyword" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-weight: bold !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; color: rgb(255, 120, 0) !important;">var</code>&nbsp;<code class="js plain" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; color: black !important;">html&nbsp;=&nbsp;buffer.toString();</code></div><div class="line number20 index19 alt1" style="margin: 0px !important; padding: 0px 1em !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; font-size: 13px !important;"><code class="js plain" style="font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; margin: 0px !important; padding-right: 0px !important; padding-left: 0px !important; font-size: 13px !important; border-radius: 0px !important; background-image: none !important; background-color: initial !important; border-width: 0px !important; border-style: initial !important; border-color: initial !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.6em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; color: black !important;">});</code></div></div></td></tr></tbody></table><p style="color: rgb(102, 102, 102); font-size: 15px;"><br></p><p style="color: rgb(102, 102, 102); font-size: 15px;"><br></p><p></p><p></p>
</div>
</article>
</div>            
{% endblock %}