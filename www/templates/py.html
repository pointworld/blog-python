{% extends 'c-word.html' %}

{% block title %} Python {% endblock title %}

{% block point1 %}
<article contenteditable="true">
    <p><b style="background-color: yellow;">Category: 计算机 | 程序设计语言</b></p>
    <h1 id="blogTitle0">Python</h1><h2 id="blogTitle1">概述</h2><div>一切皆为对象，一切皆为对象的引用。</div><h3 id="blogTitle2">Python 是什么</h3><p>Python is an easy to learn, powerful programming language. It has <span style="background-color: yellow;">efficient high-level data structures</span> and a simple but effective approach to <span style="background-color: yellow;">object-oriented programming</span>. Python’s <span style="background-color: red;">elegant syntax</span> and <span style="background-color: red;">dynamic typing</span>, together with its <span style="background-color: red;">interpreted nature</span>, make it an ideal language for scripting and rapid application development in many areas on most platforms.<br></p><p>Python 是一种易于学习且功能强大的编程语言。它提供了高效的高级数据结构，还有简单有效的面向对象编程方式。Python 优雅的语法和动态类型，以及解释型语言的本质，使它成为多数平台上写脚本和快速开发应用的理想语言。</p><p></p><ul><li>Python 是一门编程语言，只是众多编程语言中的一种；</li><li>简洁、优雅、明确、哲学、易于理解；</li><li>跨平台；</li><li>易于入门，难于精通；</li><li>解释型（脚本）语言；</li><li>动态语言；</li><li>面向对象语言；</li><li>强大且丰富的标准库和第三方库。</li></ul><p></p><h3 id="blogTitle3"><b>Pythonic</b></h3><h3 id="blogTitle4"><b>用途 - 万精油</b></h3><h4 id="blogTitle5"><b>爬虫</b></h4><h4 id="blogTitle6"><b>Web 开发&nbsp;</b></h4><h4 id="blogTitle7"><b>AI</b></h4><h4 id="blogTitle8"><b>大数据与数据分析</b></h4><h4 id="blogTitle9"><b>编写脚本</b></h4><h4 id="blogTitle10"><b>胶水语言</b></h4><h4 id="blogTitle11"><b>机器学习</b></h4><h3 id="blogTitle12"><b>缺点</b></h3><div><ul><li><b>运行速度慢</b><br></li><li><b>源码不能加密</b></li></ul></div><div><b>故</b></div><div><ul><li><b>不适合开发贴近硬件的代码（首选 C）</b><br></li><li><b>不适合移动端开发：iOS/Android 有各自的开发语言（ObjectC, Swift/Java）</b></li><li><b>不适合游戏开发：C/C++</b></li></ul></div><h3 id="blogTitle13"><b>组成</b></h3><div><h4 id="blogTitle14">从语言学角度</h4><div><ul><li>语法<br></li><ul><li>character（字符）&nbsp;</li><li>tokens（符号，由连续字符组成的不可分割的词法单位）</li><li>expression（表达式）</li><li>statement（语句）</li><li>program（程序）</li></ul><li>语义<br></li><li>语用</li></ul></div><h4 id="blogTitle15"><b>从程序逻辑角度</b></h4><div><ul><li><b>输入 -&nbsp;</b>数据和数据结构<br></li><li><b>处理过程 -&nbsp;</b>算法<br></li><li><b>输出 -&nbsp;</b>数据和数据结构<br></li></ul></div><h4 id="blogTitle16">从计算机角度</h4><div><ul><li>数据成分 -&nbsp;<b>数据和数据结构</b>&nbsp;-&nbsp;用以描述程序中所涉及的数据<br></li><li><b>运算</b>成分 -&nbsp;用以描述程序中所包含的运算</li><li><b>控制</b>成分</li><ul><li>指令及流程控制 - 用以表达程序中的控制构造</li><li>传输成分 - 用以表达程序中数据的传输和流向</li></ul><li>设计哲学</li><ul><li>引用机制和重用</li></ul></ul></div></div><h3 id="blogTitle17">代码在 Python 解释器中的执行流程</h3><h3 id="blogTitle18">Python 标准库</h3><p>a description of standard objects and modules.</p><h3 id="blogTitle19">Python 语言参考</h3><p>a more formal definition of the language.</p><h3 id="blogTitle20">Extending and Embedding the Python Interpreter</h3><h3 id="blogTitle21">Python/C API 参考手册</h3><h2 id="blogTitle22">Python 解释器</h2><h3 id="blogTitle23">CPython</h3><div>CPython 就是用 C 语言开发的了，是官方标准实现，拥有良好的生态，所以应用也就最为广泛了。<br></div><h3 id="blogTitle24">IPython</h3><div>IPython 是在 CPython 的基础之上在交互式方面得到增强的解释器（http://ipython.org/）。<br></div><h3 id="blogTitle25">Jython</h3><div>Jython 是专为 Java 平台设计的 Python 解释器（http://www.jython.org/），它把 Python 代码编译成 Java 字节码执行。<br></div><h3 id="blogTitle26">PyPy</h3><div>PyPy 是 Python 语言的一种快速、兼容的替代实现（http://pypy.org/），以速度快著称。<br></div><h2 id="blogTitle27">Python 编程模式</h2><h3 id="blogTitle28">交互式</h3><div>交互式编程，需要我们打开 cmd 窗口（命令提示符窗口），在窗口中键入python，回车，这样就进入了交互式编程。此时我们直接输入 python 语句，就可以得到运行的结果。<br></div><h3 id="blogTitle29">脚本式</h3><p>脚本式编程，就是我们先把 python 语句写好，保存在后缀为 .py 的文件里，然后从外部调用这个文件。它也可以使用 cmd 窗口进行调用，与交互式编程不同的是，不要在cmd窗口内输入python加回车来进入交互模式。</p><p>如果我们要在cmd窗口调用test.py文件，只需要将cmd路径目录转入test.py所在的文件夹，然后输入命令即可。<br></p><h2 id="blogTitle30">代码</h2><h3 id="blogTitle31">什么是代码</h3><div>代码是现实世界事物在计算机世界中的映射。</div><h3 id="blogTitle32">什么是写代码</h3><div>写代码是将现实世界中的事物用计算机语言来描述。</div><h2 id="blogTitle33">语法（文法）</h2><h3 id="blogTitle34">源代码</h3><h3 id="blogTitle35">词法</h3><h3 id="blogTitle36">语句块</h3><h3 id="blogTitle37">语句</h3><h4 id="blogTitle38">同一行显示多条语句</h4><div>Python 可以在同一行中使用多条语句，语句之间使用分号(;)分割。<br></div><h3 id="blogTitle39">表达式</h3><h3 id="blogTitle40">关键字（保留字）</h3><p>Python 内置了 35 个关键字。<br></p><p>保留字即关键字，我们不能把它们用作任何标识符名称。Python 的标准库提供了一个 keyword 模块，可以输出当前版本的所有关键字。</p><pre>&gt;&gt;&gt; import keyword<br>&gt;&gt;&gt; keyword.kwlist

['False', 'None', 'True', 'and', 'as', 'assert', 'break', 'class', 'continue', 'def',
 'del', 'elif', 'else', 'except', 'finally', 'for', 'from', 'global', 'if', 'import',
'in', 'is', 'lambda', 'nonlocal', 'not', 'or', 'pass', 'raise', 'return', 'try',
'while', 'with', 'yield']

&gt;&gt;&gt; keyword.iskeyword('def')
True
&gt;&gt;&gt; keyword.iskeyword('deff')
False
</pre><h4 id="blogTitle41">False 和 True</h4><pre>class bool(int)
 |  bool(x) -&gt; bool
 |
 |  Returns True when the argument x is true, False otherwise.
 |  The builtins True and False are the only two instances of the class bool.
 |  The class bool is a subclass of the class int, and cannot be subclassed.
 |
 |  Method resolution order:
 |      bool
 |      int
 |      object
 |
 |  Methods defined here:
 |
 |  __and__(self, value, /)
 |      Return self&amp;value.
 |
 |  __or__(self, value, /)
 |      Return self|value.
 |
 |  __rand__(self, value, /)
 |      Return value&amp;self.
 |
 |  __repr__(self, /)
 |      Return repr(self).
 |
 |  __ror__(self, value, /)
 |      Return value|self.
 |
 |  __rxor__(self, value, /)
 |      Return value^self.
 |
 |  __str__(self, /)
 |      Return str(self).
 |
 |  __xor__(self, value, /)
 |      Return self^value.
 |
 |  ----------------------------------------------------------------------
 |  Static methods defined here:
 |
 |  __new__(*args, **kwargs) from builtins.type
 |      Create and return a new object.  See help(type) for accurate signature.
 |
 |  ----------------------------------------------------------------------
 |  Methods inherited from int:
 |
 |  __abs__(self, /)
 |      abs(self)
 |
 |  __add__(self, value, /)
 |      Return self+value.
 |
 |  __bool__(self, /)
 |      self != 0
 |
 |  __ceil__(...)
 |      Ceiling of an Integral returns itself.
 |
 |  __divmod__(self, value, /)
 |      Return divmod(self, value).
 |
 |  __eq__(self, value, /)
 |      Return self==value.
 |
 |  __float__(self, /)
 |      float(self)
 |
 |  __floor__(...)
 |      Flooring an Integral returns itself.
 |
 |  __floordiv__(self, value, /)
 |      Return self//value.
 |
 |  __format__(self, format_spec, /)
 |      Default object formatter.
 |
 |  __ge__(self, value, /)
 |      Return self&gt;=value.
 |
 |  __getattribute__(self, name, /)
 |      Return getattr(self, name).
 |
 |  __getnewargs__(self, /)
 |
 |  __gt__(self, value, /)
 |      Return self&gt;value.
 |
 |  __hash__(self, /)
 |      Return hash(self).
 |
 |  __index__(self, /)
 |      Return self converted to an integer, if self is suitable for use as an index into a list.
 |
 |  __int__(self, /)
 |      int(self)
 |
 |  __invert__(self, /)
 |      ~self
 |
 |  __le__(self, value, /)
 |      Return self&lt;=value.
 |
 |  __lshift__(self, value, /)
 |      Return self&lt;&lt;value.
 |
 |  __lt__(self, value, /)
 |      Return self&lt;value.
 |
 |  __mod__(self, value, /)
 |      Return self%value.
 |
 |  __mul__(self, value, /)
 |      Return self*value.
 |
 |  __ne__(self, value, /)
 |      Return self!=value.
 |
 |  __neg__(self, /)
 |      -self
 |
 |  __pos__(self, /)
 |      +self
 |
 |  __pow__(self, value, mod=None, /)
 |      Return pow(self, value, mod).
 |
 |  __radd__(self, value, /)
 |      Return value+self.
 |
 |  __rdivmod__(self, value, /)
 |      Return divmod(value, self).
 |
 |  __rfloordiv__(self, value, /)
 |      Return value//self.
 |
 |  __rlshift__(self, value, /)
 |      Return value&lt;&lt;self.
 |
 |  __rmod__(self, value, /)
 |      Return value%self.
 |
 |  __rmul__(self, value, /)
 |      Return value*self.
 |
 |  __round__(...)
 |      Rounding an Integral returns itself.
 |      Rounding with an ndigits argument also returns an integer.
 |
 |  __rpow__(self, value, mod=None, /)
 |      Return pow(value, self, mod).
 |
 |  __rrshift__(self, value, /)
 |      Return value&gt;&gt;self.
 |
 |  __rshift__(self, value, /)
 |      Return self&gt;&gt;value.
 |
 |  __rsub__(self, value, /)
 |      Return value-self.
 |
 |  __rtruediv__(self, value, /)
 |      Return value/self.
 |
 |  __sizeof__(self, /)
 |      Returns size in memory, in bytes.
 |
 |  __sub__(self, value, /)
 |      Return self-value.
 |
 |  __truediv__(self, value, /)
 |      Return self/value.
 |
 |  __trunc__(...)
 |      Truncating an Integral returns itself.
 |
 |  bit_length(self, /)
 |      Number of bits necessary to represent self in binary.
 |
 |      &gt;&gt;&gt; bin(37)
 |      '0b100101'
 |      &gt;&gt;&gt; (37).bit_length()
 |      6
 |
 |  conjugate(...)
 |      Returns self, the complex conjugate of any int.
 |
 |  to_bytes(self, /, length, byteorder, *, signed=False)
 |      Return an array of bytes representing an integer.
 |
 |      length
 |        Length of bytes object to use.  An OverflowError is raised if the
 |        integer is not representable with the given number of bytes.
 |      byteorder
 |        The byte order used to represent the integer.  If byteorder is 'big',
 |        the most significant byte is at the beginning of the byte array.  If
 |        byteorder is 'little', the most significant byte is at the end of the
 |        byte array.  To request the native byte order of the host system, use
 |        `sys.byteorder' as the byte order value.
 |      signed
 |        Determines whether two's complement is used to represent the integer.
 |        If signed is False and a negative integer is given, an OverflowError
 |        is raised.
 |
 |  ----------------------------------------------------------------------
 |  Class methods inherited from int:
 |
 |  from_bytes(bytes, byteorder, *, signed=False) from builtins.type
 |      Return the integer represented by the given array of bytes.
 |
 |      bytes
 |        Holds the array of bytes to convert.  The argument must either
 |        support the buffer protocol or be an iterable object producing bytes.
 |        Bytes and bytearray are examples of built-in objects that support the
 |        buffer protocol.
 |      byteorder
 |        The byte order used to represent the integer.  If byteorder is 'big',
 |        the most significant byte is at the beginning of the byte array.  If
 |        byteorder is 'little', the most significant byte is at the end of the
 |        byte array.  To request the native byte order of the host system, use
 |        `sys.byteorder' as the byte order value.
 |      signed
 |        Indicates whether two's complement is used to represent the integer.
 |
 |  ----------------------------------------------------------------------
 |  Data descriptors inherited from int:
 |
 |  denominator
 |      the denominator of a rational number in lowest terms
 |
 |  imag
 |      the imaginary part of a complex number
 |
 |  numerator
 |      the numerator of a rational number in lowest terms
 |
 |  real
 |      the real part of a complex number<br></pre><h4 id="blogTitle42">None</h4><pre>class NoneType(object)
 |  Methods defined here:
 |
 |  __bool__(self, /)
 |      self != 0
 |
 |  __repr__(self, /)
 |      Return repr(self).
 |
 |  ----------------------------------------------------------------------
 |  Static methods defined here:
 |
 |  __new__(*args, **kwargs) from builtins.type
 |      Create and return a new object.  See help(type) for accurate signature.<br></pre><h4 id="blogTitle43">and, or, not</h4><pre>Boolean operations
******************

   or_test  ::= and_test | or_test "or" and_test
   and_test ::= not_test | and_test "and" not_test
   not_test ::= comparison | "not" not_test

In the context of Boolean operations, and also when expressions are
used by control flow statements, the following values are interpreted
as false: "False", "None", numeric zero of all types, and empty
strings and containers (including strings, tuples, lists,
dictionaries, sets and frozensets).  All other values are interpreted
as true.  User-defined objects can customize their truth value by
providing a "__bool__()" method.

The operator "not" yields "True" if its argument is false, "False"
otherwise.

The expression "x and y" first evaluates *x*; if *x* is false, its
value is returned; otherwise, *y* is evaluated and the resulting value
is returned.

The expression "x or y" first evaluates *x*; if *x* is true, its value
is returned; otherwise, *y* is evaluated and the resulting value is
returned.

(Note that neither "and" nor "or" restrict the value and type they
return to "False" and "True", but rather return the last evaluated
argument.  This is sometimes useful, e.g., if "s" is a string that
should be replaced by a default value if it is empty, the expression
"s or 'foo'" yields the desired value.  Because "not" has to create a
new value, it returns a boolean value regardless of the type of its
argument (for example, "not 'foo'" produces "False" rather than "''".)

Related help topics: EXPRESSIONS, TRUTHVALUE</pre><h4 id="blogTitle44">assert</h4><pre>The "assert" statement
**********************

Assert statements are a convenient way to insert debugging assertions
into a program:

   assert_stmt ::= "assert" expression ["," expression]

The simple form, "assert expression", is equivalent to

   if __debug__:
       if not expression: raise AssertionError

The extended form, "assert expression1, expression2", is equivalent to

   if __debug__:
       if not expression1: raise AssertionError(expression2)

These equivalences assume that "__debug__" and "AssertionError" refer
to the built-in variables with those names.  In the current
implementation, the built-in variable "__debug__" is "True" under
normal circumstances, "False" when optimization is requested (command
line option -O).  The current code generator emits no code for an
assert statement when optimization is requested at compile time.  Note
that it is unnecessary to include the source code for the expression
that failed in the error message; it will be displayed as part of the
stack trace.

Assignments to "__debug__" are illegal.  The value for the built-in
variable is determined when the interpreter starts.</pre><h4 id="blogTitle45">async</h4><pre>Coroutines
**********

New in version 3.5.


Coroutine function definition
=============================

   async_funcdef ::= [decorators] "async" "def" funcname "(" [parameter_list] ")"
                     ["-&gt;" expression] ":" suite

Execution of Python coroutines can be suspended and resumed at many
points (see *coroutine*).  In the body of a coroutine, any "await" and
"async" identifiers become reserved keywords; "await" expressions,
"async for" and "async with" can only be used in coroutine bodies.

Functions defined with "async def" syntax are always coroutine
functions, even if they do not contain "await" or "async" keywords.

It is a "SyntaxError" to use "yield from" expressions in "async def"
coroutines.

An example of a coroutine function:

   async def func(param1, param2):
       do_stuff()
       await some_coroutine()


The "async for" statement
=========================

   async_for_stmt ::= "async" for_stmt

An *asynchronous iterable* is able to call asynchronous code in its
*iter* implementation, and *asynchronous iterator* can call
asynchronous code in its *next* method.

The "async for" statement allows convenient iteration over
asynchronous iterators.

The following code:

   async for TARGET in ITER:
       BLOCK
   else:
       BLOCK2

Is semantically equivalent to:

   iter = (ITER)
   iter = type(iter).__aiter__(iter)
   running = True
   while running:
       try:
           TARGET = await type(iter).__anext__(iter)
       except StopAsyncIteration:
           running = False
       else:
           BLOCK
   else:
       BLOCK2

See also "__aiter__()" and "__anext__()" for details.

It is a "SyntaxError" to use "async for" statement outside of an
"async def" function.


The "async with" statement
==========================

   async_with_stmt ::= "async" with_stmt

An *asynchronous context manager* is a *context manager* that is able
to suspend execution in its *enter* and *exit* methods.

The following code:

   async with EXPR as VAR:
       BLOCK

Is semantically equivalent to:

   mgr = (EXPR)
   aexit = type(mgr).__aexit__
   aenter = type(mgr).__aenter__(mgr)

   VAR = await aenter
   try:
       BLOCK
   except:
       if not await aexit(mgr, *sys.exc_info()):
           raise
   else:
       await aexit(mgr, None, None, None)

See also "__aenter__()" and "__aexit__()" for details.

It is a "SyntaxError" to use "async with" statement outside of an
"async def" function.

See also: **PEP 492** - Coroutines with async and await syntax

-[ Footnotes ]-

[1] The exception is propagated to the invocation stack unless
    there is a "finally" clause which happens to raise another
    exception. That new exception causes the old one to be lost.

[2] Currently, control “flows off the end” except in the case of
    an exception or the execution of a "return", "continue", or
    "break" statement.

[3] A string literal appearing as the first statement in the
    function body is transformed into the function’s "__doc__"
    attribute and therefore the function’s *docstring*.

[4] A string literal appearing as the first statement in the class
    body is transformed into the namespace’s "__doc__" item and
    therefore the class’s *docstring*.</pre><h4 id="blogTitle46">await</h4><pre>Await expression
****************

Suspend the execution of *coroutine* on an *awaitable* object. Can
only be used inside a *coroutine function*.

   await_expr ::= "await" primary

New in version 3.5.</pre><h4 id="blogTitle47">break</h4><pre>The "break" statement
*********************

   break_stmt ::= "break"

"break" may only occur syntactically nested in a "for" or "while"
loop, but not nested in a function or class definition within that
loop.

It terminates the nearest enclosing loop, skipping the optional "else"
clause if the loop has one.

If a "for" loop is terminated by "break", the loop control target
keeps its current value.

When "break" passes control out of a "try" statement with a "finally"
clause, that "finally" clause is executed before really leaving the
loop.

Related help topics: while, for</pre><h4 id="blogTitle48">class</h4><div>用于声明一个类</div><div><pre>Class definitions
*****************

A class definition defines a class object (see section The standard
type hierarchy):

   classdef    ::= [decorators] "class" classname [inheritance] ":" suite
   inheritance ::= "(" [argument_list] ")"
   classname   ::= identifier

A class definition is an executable statement.  The inheritance list
usually gives a list of base classes (see Metaclasses for more
advanced uses), so each item in the list should evaluate to a class
object which allows subclassing.  Classes without an inheritance list
inherit, by default, from the base class "object"; hence,

   class Foo:
       pass

is equivalent to

   class Foo(object):
       pass

The class’s suite is then executed in a new execution frame (see
Naming and binding), using a newly created local namespace and the
original global namespace. (Usually, the suite contains mostly
function definitions.)  When the class’s suite finishes execution, its
execution frame is discarded but its local namespace is saved. [4] A
class object is then created using the inheritance list for the base
classes and the saved local namespace for the attribute dictionary.
The class name is bound to this class object in the original local
namespace.

The order in which attributes are defined in the class body is
preserved in the new class’s "__dict__".  Note that this is reliable
only right after the class is created and only for classes that were
defined using the definition syntax.

Class creation can be customized heavily using metaclasses.

Classes can also be decorated: just like when decorating functions,

   @f1(arg)
   @f2
   class Foo: pass

is roughly equivalent to

   class Foo: pass
   Foo = f1(arg)(f2(Foo))

The evaluation rules for the decorator expressions are the same as for
function decorators.  The result is then bound to the class name.

**Programmer’s note:** Variables defined in the class definition are
class attributes; they are shared by instances.  Instance attributes
can be set in a method with "self.name = value".  Both class and
instance attributes are accessible through the notation “"self.name"”,
and an instance attribute hides a class attribute with the same name
when accessed in this way.  Class attributes can be used as defaults
for instance attributes, but using mutable values there can lead to
unexpected results.  Descriptors can be used to create instance
variables with different implementation details.

See also: **PEP 3115** - Metaclasses in Python 3 **PEP 3129** -
  Class Decorators

Related help topics: CLASSES, SPECIALMETHODS<br></pre></div><h4 id="blogTitle49">continue</h4><pre>The "continue" statement
************************

   continue_stmt ::= "continue"

"continue" may only occur syntactically nested in a "for" or "while"
loop, but not nested in a function or class definition or "finally"
clause within that loop.  It continues with the next cycle of the
nearest enclosing loop.

When "continue" passes control out of a "try" statement with a
"finally" clause, that "finally" clause is executed before really
starting the next loop cycle.

Related help topics: while, for</pre><h4 id="blogTitle50">def</h4><div>用于声明一个函数</div><pre>Function definitions
********************

A function definition defines a user-defined function object (see
section The standard type hierarchy):

   funcdef                 ::= [decorators] "def" funcname "(" [parameter_list] ")"
               ["-&gt;" expression] ":" suite
   decorators              ::= decorator+
   decorator               ::= "@" dotted_name ["(" [argument_list [","]] ")"] NEWLINE
   dotted_name             ::= identifier ("." identifier)*
   parameter_list          ::= defparameter ("," defparameter)* ["," [parameter_list_starargs]]
                      | parameter_list_starargs
   parameter_list_starargs ::= "*" [parameter] ("," defparameter)* ["," ["**" parameter [","]]]
                               | "**" parameter [","]
   parameter               ::= identifier [":" expression]
   defparameter            ::= parameter ["=" expression]
   funcname                ::= identifier

A function definition is an executable statement.  Its execution binds
the function name in the current local namespace to a function object
(a wrapper around the executable code for the function).  This
function object contains a reference to the current global namespace
as the global namespace to be used when the function is called.

The function definition does not execute the function body; this gets
executed only when the function is called. [3]

A function definition may be wrapped by one or more *decorator*
expressions. Decorator expressions are evaluated when the function is
defined, in the scope that contains the function definition.  The
result must be a callable, which is invoked with the function object
as the only argument. The returned value is bound to the function name
instead of the function object.  Multiple decorators are applied in
nested fashion. For example, the following code

   @f1(arg)
   @f2
   def func(): pass

is roughly equivalent to

   def func(): pass
   func = f1(arg)(f2(func))

except that the original function is not temporarily bound to the name
"func".

When one or more *parameters* have the form *parameter* "="
*expression*, the function is said to have “default parameter values.”
For a parameter with a default value, the corresponding *argument* may
be omitted from a call, in which case the parameter’s default value is
substituted.  If a parameter has a default value, all following
parameters up until the “"*"” must also have a default value — this is
a syntactic restriction that is not expressed by the grammar.

**Default parameter values are evaluated from left to right when the
function definition is executed.** This means that the expression is
evaluated once, when the function is defined, and that the same “pre-
computed” value is used for each call.  This is especially important
to understand when a default parameter is a mutable object, such as a
list or a dictionary: if the function modifies the object (e.g. by
appending an item to a list), the default value is in effect modified.
This is generally not what was intended.  A way around this is to use
"None" as the default, and explicitly test for it in the body of the
function, e.g.:

   def whats_on_the_telly(penguin=None):
       if penguin is None:
           penguin = []
       penguin.append("property of the zoo")
       return penguin

Function call semantics are described in more detail in section Calls.
A function call always assigns values to all parameters mentioned in
the parameter list, either from position arguments, from keyword
arguments, or from default values.  If the form “"*identifier"” is
present, it is initialized to a tuple receiving any excess positional
parameters, defaulting to the empty tuple. If the form
“"**identifier"” is present, it is initialized to a new ordered
mapping receiving any excess keyword arguments, defaulting to a new
empty mapping of the same type.  Parameters after “"*"” or
“"*identifier"” are keyword-only parameters and may only be passed
used keyword arguments.

Parameters may have annotations of the form “": expression"” following
the parameter name.  Any parameter may have an annotation even those
of the form "*identifier" or "**identifier".  Functions may have
“return” annotation of the form “"-&gt; expression"” after the parameter
list.  These annotations can be any valid Python expression.  The
presence of annotations does not change the semantics of a function.
The annotation values are available as values of a dictionary keyed by
the parameters’ names in the "__annotations__" attribute of the
function object.  If the "annotations" import from "__future__" is
used, annotations are preserved as strings at runtime which enables
postponed evaluation.  Otherwise, they are evaluated when the function
definition is executed.  In this case annotations may be evaluated in
a different order than they appear in the source code.

It is also possible to create anonymous functions (functions not bound
to a name), for immediate use in expressions.  This uses lambda
expressions, described in section Lambdas.  Note that the lambda
expression is merely a shorthand for a simplified function definition;
a function defined in a “"def"” statement can be passed around or
assigned to another name just like a function defined by a lambda
expression.  The “"def"” form is actually more powerful since it
allows the execution of multiple statements and annotations.

**Programmer’s note:** Functions are first-class objects.  A “"def"”
statement executed inside a function definition defines a local
function that can be returned or passed around.  Free variables used
in the nested function can access the local variables of the function
containing the def.  See section Naming and binding for details.

See also:

  **PEP 3107** - Function Annotations
     The original specification for function annotations.

  **PEP 484** - Type Hints
     Definition of a standard meaning for annotations: type hints.

  **PEP 526** - Syntax for Variable Annotations
     Ability to type hint variable declarations, including class
     variables and instance variables

  **PEP 563** - Postponed Evaluation of Annotations
     Support for forward references within annotations by preserving
     annotations in a string form at runtime instead of eager
     evaluation.</pre><h4 id="blogTitle51">del</h4><pre>The "del" statement
*******************

   del_stmt ::= "del" target_list

Deletion is recursively defined very similar to the way assignment is
defined. Rather than spelling it out in full details, here are some
hints.

Deletion of a target list recursively deletes each target, from left
to right.

Deletion of a name removes the binding of that name from the local or
global namespace, depending on whether the name occurs in a "global"
statement in the same code block.  If the name is unbound, a
"NameError" exception will be raised.

Deletion of attribute references, subscriptions and slicings is passed
to the primary object involved; deletion of a slicing is in general
equivalent to assignment of an empty slice of the right type (but even
this is determined by the sliced object).

Changed in version 3.2: Previously it was illegal to delete a name
from the local namespace if it occurs as a free variable in a nested
block.

Related help topics: BASICMETHODS</pre><h4 id="blogTitle52">for</h4><div><br></div><div><p style="margin: 15px 0px; overflow-wrap: break-word; white-space: pre-wrap; color: rgb(102, 102, 102); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 14px; background-color: rgb(255, 255, 255);">Python的<code style="font-size: 12px; font-family: Consolas, monospace, serif; color: rgb(221, 0, 85); white-space: nowrap; padding: 0px 4px; border: 1px solid rgb(221, 221, 221); border-radius: 3px; background: rgb(250, 250, 250);">for</code>循环本质上就是通过不断调用<code style="font-size: 12px; font-family: Consolas, monospace, serif; color: rgb(221, 0, 85); white-space: nowrap; padding: 0px 4px; border: 1px solid rgb(221, 221, 221); border-radius: 3px; background: rgb(250, 250, 250);">next()</code>函数实现的，例如：</p><pre style="margin-top: 15px; margin-bottom: 15px; padding: 10px; background-color: rgb(250, 250, 250); font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 12px; line-height: 18px; font-family: Consolas, monospace, serif; color: rgb(68, 68, 68); tab-size: 4; border: 1px solid rgb(221, 221, 221); word-break: break-all; overflow-wrap: break-word; white-space: pre-wrap;"><code class="python"><span class="keyword" style="color: rgb(51, 51, 51); font-weight: bold;">for</span> x <span class="keyword" style="color: rgb(51, 51, 51); font-weight: bold;">in</span> [<span class="number" style="color: rgb(0, 153, 153);">1</span>, <span class="number" style="color: rgb(0, 153, 153);">2</span>, <span class="number" style="color: rgb(0, 153, 153);">3</span>, <span class="number" style="color: rgb(0, 153, 153);">4</span>, <span class="number" style="color: rgb(0, 153, 153);">5</span>]:
    <span class="keyword" style="color: rgb(51, 51, 51); font-weight: bold;">pass</span>
</code></pre><p style="margin: 15px 0px; overflow-wrap: break-word; white-space: pre-wrap; color: rgb(102, 102, 102); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 14px; background-color: rgb(255, 255, 255);">实际上完全等价于：</p><pre style="margin-top: 15px; margin-bottom: 15px; padding: 10px; background-color: rgb(250, 250, 250); font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 12px; line-height: 18px; font-family: Consolas, monospace, serif; color: rgb(68, 68, 68); tab-size: 4; border: 1px solid rgb(221, 221, 221); word-break: break-all; overflow-wrap: break-word; white-space: pre-wrap;"><code class="python"><span class="comment" style="color: rgb(153, 153, 136); font-style: italic;"># 首先获得Iterator对象:</span>
it = iter([<span class="number" style="color: rgb(0, 153, 153);">1</span>, <span class="number" style="color: rgb(0, 153, 153);">2</span>, <span class="number" style="color: rgb(0, 153, 153);">3</span>, <span class="number" style="color: rgb(0, 153, 153);">4</span>, <span class="number" style="color: rgb(0, 153, 153);">5</span>])
<span class="comment" style="color: rgb(153, 153, 136); font-style: italic;"># 循环:</span>
<span class="keyword" style="color: rgb(51, 51, 51); font-weight: bold;">while</span> <span class="built_in" style="color: rgb(0, 134, 179);">True</span>:
    <span class="keyword" style="color: rgb(51, 51, 51); font-weight: bold;">try</span>:
        <span class="comment" style="color: rgb(153, 153, 136); font-style: italic;"># 获得下一个值:</span>
        x = next(it)
    <span class="keyword" style="color: rgb(51, 51, 51); font-weight: bold;">except</span> StopIteration:
        <span class="comment" style="color: rgb(153, 153, 136); font-style: italic;"># 遇到StopIteration就退出循环</span>
        <span class="keyword" style="color: rgb(51, 51, 51); font-weight: bold;">break</span></code></pre></div><div><br></div><h4 id="blogTitle53">from</h4><h4 id="blogTitle54">global</h4><div><p style="border: 0px; margin: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all; font-size: 13px; font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif; color: rgb(51, 51, 51); background-color: rgb(255, 255, 255);">当内部作用域想修改全局作用域的变量时，就要用到 global 关键字。</p><p style="border: 0px; margin: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all; font-size: 13px; font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif; color: rgb(51, 51, 51); background-color: rgb(255, 255, 255);">以下实例修改全局变量 num：</p><p style="border: 0px; margin: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all;"><br></p><pre style="border: 0px; margin: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all;">num = 1
def fun1():
    # 需要使用 global 关键字声明
    # 不用 global 声明，后面会报错 UnboundLocalError: local variable 'num' referenced before assignment
    global num
    print(num)
    num = 123
    print(num)
fun1()
print(num)</pre><p style="border: 0px; margin: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all;"><br></p><p style="border: 0px; margin: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all; font-size: 13px; font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif; color: rgb(51, 51, 51); background-color: rgb(255, 255, 255);">以上实例输出结果：</p></div><pre>1
123
123<br></pre><div><br></div><div><br></div><h4 id="blogTitle55">if, elif, else</h4><pre>The "if" statement
******************

The "if" statement is used for conditional execution:

   if_stmt ::= "if" expression ":" suite
               ("elif" expression ":" suite)*
               ["else" ":" suite]

It selects exactly one of the suites by evaluating the expressions one
by one until one is found to be true (see section Boolean operations
for the definition of true and false); then that suite is executed
(and no other part of the "if" statement is executed or evaluated).
If all expressions are false, the suite of the "else" clause, if
present, is executed.

Related help topics: TRUTHVALUE</pre><h4 id="blogTitle56">import</h4><pre>The "import" statement
**********************

   import_stmt     ::= "import" module ["as" identifier] ("," module ["as" identifier])*
                   | "from" relative_module "import" identifier ["as" identifier]
                   ("," identifier ["as" identifier])*
                   | "from" relative_module "import" "(" identifier ["as" identifier]
                   ("," identifier ["as" identifier])* [","] ")"
                   | "from" module "import" "*"
   module          ::= (identifier ".")* identifier
   relative_module ::= "."* module | "."+

The basic import statement (no "from" clause) is executed in two
steps:

1. find a module, loading and initializing it if necessary

2. define a name or names in the local namespace for the scope
   where the "import" statement occurs.

When the statement contains multiple clauses (separated by commas) the
two steps are carried out separately for each clause, just as though
the clauses had been separated out into individual import statements.

The details of the first step, finding and loading modules are
described in greater detail in the section on the import system, which
also describes the various types of packages and modules that can be
imported, as well as all the hooks that can be used to customize the
import system. Note that failures in this step may indicate either
that the module could not be located, *or* that an error occurred
while initializing the module, which includes execution of the
module’s code.

If the requested module is retrieved successfully, it will be made
available in the local namespace in one of three ways:

* If the module name is followed by "as", then the name following
  "as" is bound directly to the imported module.

* If no other name is specified, and the module being imported is a
  top level module, the module’s name is bound in the local namespace
  as a reference to the imported module

* If the module being imported is *not* a top level module, then the
  name of the top level package that contains the module is bound in
  the local namespace as a reference to the top level package. The
  imported module must be accessed using its full qualified name
  rather than directly

The "from" form uses a slightly more complex process:

1. find the module specified in the "from" clause, loading and
   initializing it if necessary;

2. for each of the identifiers specified in the "import" clauses:

   1. check if the imported module has an attribute by that name

   2. if not, attempt to import a submodule with that name and then
      check the imported module again for that attribute

   3. if the attribute is not found, "ImportError" is raised.

   4. otherwise, a reference to that value is stored in the local
      namespace, using the name in the "as" clause if it is present,
      otherwise using the attribute name

Examples:

   import foo                 # foo imported and bound locally
   import foo.bar.baz         # foo.bar.baz imported, foo bound locally
   import foo.bar.baz as fbb  # foo.bar.baz imported and bound as fbb
   from foo.bar import baz    # foo.bar.baz imported and bound as baz
   from foo import attr       # foo imported and foo.attr bound as attr

If the list of identifiers is replaced by a star ("'*'"), all public
names defined in the module are bound in the local namespace for the
scope where the "import" statement occurs.

The *public names* defined by a module are determined by checking the
module’s namespace for a variable named "__all__"; if defined, it must
be a sequence of strings which are names defined or imported by that
module.  The names given in "__all__" are all considered public and
are required to exist.  If "__all__" is not defined, the set of public
names includes all names found in the module’s namespace which do not
begin with an underscore character ("'_'").  "__all__" should contain
the entire public API. It is intended to avoid accidentally exporting
items that are not part of the API (such as library modules which were
imported and used within the module).

The wild card form of import — "from module import *" — is only
allowed at the module level.  Attempting to use it in class or
function definitions will raise a "SyntaxError".

When specifying what module to import you do not have to specify the
absolute name of the module. When a module or package is contained
within another package it is possible to make a relative import within
the same top package without having to mention the package name. By
using leading dots in the specified module or package after "from" you
can specify how high to traverse up the current package hierarchy
without specifying exact names. One leading dot means the current
package where the module making the import exists. Two dots means up
one package level. Three dots is up two levels, etc. So if you execute
"from . import mod" from a module in the "pkg" package then you will
end up importing "pkg.mod". If you execute "from ..subpkg2 import mod"
from within "pkg.subpkg1" you will import "pkg.subpkg2.mod". The
specification for relative imports is contained within **PEP 328**.

"importlib.import_module()" is provided to support applications that
determine dynamically the modules to be loaded.


Future statements
=================

A *future statement* is a directive to the compiler that a particular
module should be compiled using syntax or semantics that will be
available in a specified future release of Python where the feature
becomes standard.

The future statement is intended to ease migration to future versions
of Python that introduce incompatible changes to the language.  It
allows use of the new features on a per-module basis before the
release in which the feature becomes standard.

   future_stmt ::= "from" "__future__" "import" feature ["as" identifier]
                   ("," feature ["as" identifier])*
                   | "from" "__future__" "import" "(" feature ["as" identifier]
                   ("," feature ["as" identifier])* [","] ")"
   feature     ::= identifier

A future statement must appear near the top of the module.  The only
lines that can appear before a future statement are:

* the module docstring (if any),

* comments,

* blank lines, and

* other future statements.

The only feature in Python 3.7 that requires using the future
statement is "annotations".

All historical features enabled by the future statement are still
recognized by Python 3.  The list includes "absolute_import",
"division", "generators", "generator_stop", "unicode_literals",
"print_function", "nested_scopes" and "with_statement".  They are all
redundant because they are always enabled, and only kept for backwards
compatibility.

A future statement is recognized and treated specially at compile
time: Changes to the semantics of core constructs are often
implemented by generating different code.  It may even be the case
that a new feature introduces new incompatible syntax (such as a new
reserved word), in which case the compiler may need to parse the
module differently.  Such decisions cannot be pushed off until
runtime.

For any given release, the compiler knows which feature names have
been defined, and raises a compile-time error if a future statement
contains a feature not known to it.

The direct runtime semantics are the same as for any import statement:
there is a standard module "__future__", described later, and it will
be imported in the usual way at the time the future statement is
executed.

The interesting runtime semantics depend on the specific feature
enabled by the future statement.

Note that there is nothing special about the statement:

   import __future__ [as name]

That is not a future statement; it’s an ordinary import statement with
no special semantics or syntax restrictions.

Code compiled by calls to the built-in functions "exec()" and
"compile()" that occur in a module "M" containing a future statement
will, by default, use the new syntax or semantics associated with the
future statement.  This can be controlled by optional arguments to
"compile()" — see the documentation of that function for details.

A future statement typed at an interactive interpreter prompt will
take effect for the rest of the interpreter session.  If an
interpreter is started with the "-i" option, is passed a script name
to execute, and the script includes a future statement, it will be in
effect in the interactive session started after the script is
executed.

See also:

  **PEP 236** - Back to the __future__
     The original proposal for the __future__ mechanism.

Related help topics: MODULES</pre><h4 id="blogTitle57">in</h4><pre>Membership test operations
**************************

The operators "in" and "not in" test for membership.  "x in s"
evaluates to "True" if *x* is a member of *s*, and "False" otherwise.
"x not in s" returns the negation of "x in s".  All built-in sequences
and set types support this as well as dictionary, for which "in" tests
whether the dictionary has a given key. For container types such as
list, tuple, set, frozenset, dict, or collections.deque, the
expression "x in y" is equivalent to "any(x is e or x == e for e in
y)".

For the string and bytes types, "x in y" is "True" if and only if *x*
is a substring of *y*.  An equivalent test is "y.find(x) != -1".
Empty strings are always considered to be a substring of any other
string, so """ in "abc"" will return "True".

For user-defined classes which define the "__contains__()" method, "x
in y" returns "True" if "y.__contains__(x)" returns a true value, and
"False" otherwise.

For user-defined classes which do not define "__contains__()" but do
define "__iter__()", "x in y" is "True" if some value "z" with "x ==
z" is produced while iterating over "y".  If an exception is raised
during the iteration, it is as if "in" raised that exception.

Lastly, the old-style iteration protocol is tried: if a class defines
"__getitem__()", "x in y" is "True" if and only if there is a non-
negative integer index *i* such that "x == y[i]", and all lower
integer indices do not raise "IndexError" exception.  (If any other
exception is raised, it is as if "in" raised that exception).

The operator "not in" is defined to have the inverse true value of
"in".

Related help topics: SEQUENCEMETHODS</pre><h4 id="blogTitle58">is</h4><pre>Comparisons
***********

Unlike C, all comparison operations in Python have the same priority,
which is lower than that of any arithmetic, shifting or bitwise
operation.  Also unlike C, expressions like "a &lt; b &lt; c" have the
interpretation that is conventional in mathematics:

   comparison    ::= or_expr (comp_operator or_expr)*
   comp_operator ::= "&lt;" | "&gt;" | "==" | "&gt;=" | "&lt;=" | "!="
                     | "is" ["not"] | ["not"] "in"

Comparisons yield boolean values: "True" or "False".

Comparisons can be chained arbitrarily, e.g., "x &lt; y &lt;= z" is
equivalent to "x &lt; y and y &lt;= z", except that "y" is evaluated only
once (but in both cases "z" is not evaluated at all when "x &lt; y" is
found to be false).

Formally, if *a*, *b*, *c*, …, *y*, *z* are expressions and *op1*,
*op2*, …, *opN* are comparison operators, then "a op1 b op2 c ... y
opN z" is equivalent to "a op1 b and b op2 c and ... y opN z", except
that each expression is evaluated at most once.

Note that "a op1 b op2 c" doesn’t imply any kind of comparison between
*a* and *c*, so that, e.g., "x &lt; y &gt; z" is perfectly legal (though
perhaps not pretty).


Value comparisons
=================

The operators "&lt;", "&gt;", "==", "&gt;=", "&lt;=", and "!=" compare the values
of two objects.  The objects do not need to have the same type.

Chapter Objects, values and types states that objects have a value (in
addition to type and identity).  The value of an object is a rather
abstract notion in Python: For example, there is no canonical access
method for an object’s value.  Also, there is no requirement that the
value of an object should be constructed in a particular way, e.g.
comprised of all its data attributes. Comparison operators implement a
particular notion of what the value of an object is.  One can think of
them as defining the value of an object indirectly, by means of their
comparison implementation.

Because all types are (direct or indirect) subtypes of "object", they
inherit the default comparison behavior from "object".  Types can
customize their comparison behavior by implementing *rich comparison
methods* like "__lt__()", described in Basic customization.

The default behavior for equality comparison ("==" and "!=") is based
on the identity of the objects.  Hence, equality comparison of
instances with the same identity results in equality, and equality
comparison of instances with different identities results in
inequality.  A motivation for this default behavior is the desire that
all objects should be reflexive (i.e. "x is y" implies "x == y").

A default order comparison ("&lt;", "&gt;", "&lt;=", and "&gt;=") is not provided;
an attempt raises "TypeError".  A motivation for this default behavior
is the lack of a similar invariant as for equality.

The behavior of the default equality comparison, that instances with
different identities are always unequal, may be in contrast to what
types will need that have a sensible definition of object value and
value-based equality.  Such types will need to customize their
comparison behavior, and in fact, a number of built-in types have done
that.

The following list describes the comparison behavior of the most
important built-in types.

* Numbers of built-in numeric types (Numeric Types — int, float,
  complex) and of the standard library types "fractions.Fraction" and
  "decimal.Decimal" can be compared within and across their types,
  with the restriction that complex numbers do not support order
  comparison.  Within the limits of the types involved, they compare
  mathematically (algorithmically) correct without loss of precision.

  The not-a-number values "float('NaN')" and "decimal.Decimal('NaN')"
  are special.  Any ordered comparison of a number to a not-a-number
  value is false. A counter-intuitive implication is that not-a-number
  values are not equal to themselves.  For example, if "x =
  float('NaN')", "3 &lt; x", "x &lt; 3", "x == x", "x != x" are all false.
  This behavior is compliant with IEEE 754.

* Binary sequences (instances of "bytes" or "bytearray") can be
  compared within and across their types.  They compare
  lexicographically using the numeric values of their elements.

* Strings (instances of "str") compare lexicographically using the
  numerical Unicode code points (the result of the built-in function
  "ord()") of their characters. [3]

  Strings and binary sequences cannot be directly compared.

* Sequences (instances of "tuple", "list", or "range") can be
  compared only within each of their types, with the restriction that
  ranges do not support order comparison.  Equality comparison across
  these types results in inequality, and ordering comparison across
  these types raises "TypeError".

  Sequences compare lexicographically using comparison of
  corresponding elements, whereby reflexivity of the elements is
  enforced.

  In enforcing reflexivity of elements, the comparison of collections
  assumes that for a collection element "x", "x == x" is always true.
  Based on that assumption, element identity is compared first, and
  element comparison is performed only for distinct elements.  This
  approach yields the same result as a strict element comparison
  would, if the compared elements are reflexive.  For non-reflexive
  elements, the result is different than for strict element
  comparison, and may be surprising:  The non-reflexive not-a-number
  values for example result in the following comparison behavior when
  used in a list:

     &gt;&gt;&gt; nan = float('NaN')
     &gt;&gt;&gt; nan is nan
     True
     &gt;&gt;&gt; nan == nan
     False                 &lt;-- the defined non-reflexive behavior of NaN
     &gt;&gt;&gt; [nan] == [nan]
     True                  &lt;-- list enforces reflexivity and tests identity first

  Lexicographical comparison between built-in collections works as
  follows:

  * For two collections to compare equal, they must be of the same
    type, have the same length, and each pair of corresponding
    elements must compare equal (for example, "[1,2] == (1,2)" is
    false because the type is not the same).

  * Collections that support order comparison are ordered the same
    as their first unequal elements (for example, "[1,2,x] &lt;= [1,2,y]"
    has the same value as "x &lt;= y").  If a corresponding element does
    not exist, the shorter collection is ordered first (for example,
    "[1,2] &lt; [1,2,3]" is true).

* Mappings (instances of "dict") compare equal if and only if they
  have equal *(key, value)* pairs. Equality comparison of the keys and
  values enforces reflexivity.

  Order comparisons ("&lt;", "&gt;", "&lt;=", and "&gt;=") raise "TypeError".

* Sets (instances of "set" or "frozenset") can be compared within
  and across their types.

  They define order comparison operators to mean subset and superset
  tests.  Those relations do not define total orderings (for example,
  the two sets "{1,2}" and "{2,3}" are not equal, nor subsets of one
  another, nor supersets of one another).  Accordingly, sets are not
  appropriate arguments for functions which depend on total ordering
  (for example, "min()", "max()", and "sorted()" produce undefined
  results given a list of sets as inputs).

  Comparison of sets enforces reflexivity of its elements.

* Most other built-in types have no comparison methods implemented,
  so they inherit the default comparison behavior.

User-defined classes that customize their comparison behavior should
follow some consistency rules, if possible:

* Equality comparison should be reflexive. In other words, identical
  objects should compare equal:

     "x is y" implies "x == y"

* Comparison should be symmetric. In other words, the following
  expressions should have the same result:

     "x == y" and "y == x"

     "x != y" and "y != x"

     "x &lt; y" and "y &gt; x"

     "x &lt;= y" and "y &gt;= x"

* Comparison should be transitive. The following (non-exhaustive)
  examples illustrate that:

     "x &gt; y and y &gt; z" implies "x &gt; z"

     "x &lt; y and y &lt;= z" implies "x &lt; z"

* Inverse comparison should result in the boolean negation. In other
  words, the following expressions should have the same result:

     "x == y" and "not x != y"

     "x &lt; y" and "not x &gt;= y" (for total ordering)

     "x &gt; y" and "not x &lt;= y" (for total ordering)

  The last two expressions apply to totally ordered collections (e.g.
  to sequences, but not to sets or mappings). See also the
  "total_ordering()" decorator.

* The "hash()" result should be consistent with equality. Objects
  that are equal should either have the same hash value, or be marked
  as unhashable.

Python does not enforce these consistency rules. In fact, the
not-a-number values are an example for not following these rules.


Membership test operations
==========================

The operators "in" and "not in" test for membership.  "x in s"
evaluates to "True" if *x* is a member of *s*, and "False" otherwise.
"x not in s" returns the negation of "x in s".  All built-in sequences
and set types support this as well as dictionary, for which "in" tests
whether the dictionary has a given key. For container types such as
list, tuple, set, frozenset, dict, or collections.deque, the
expression "x in y" is equivalent to "any(x is e or x == e for e in
y)".

For the string and bytes types, "x in y" is "True" if and only if *x*
is a substring of *y*.  An equivalent test is "y.find(x) != -1".
Empty strings are always considered to be a substring of any other
string, so """ in "abc"" will return "True".

For user-defined classes which define the "__contains__()" method, "x
in y" returns "True" if "y.__contains__(x)" returns a true value, and
"False" otherwise.

For user-defined classes which do not define "__contains__()" but do
define "__iter__()", "x in y" is "True" if some value "z" with "x ==
z" is produced while iterating over "y".  If an exception is raised
during the iteration, it is as if "in" raised that exception.

Lastly, the old-style iteration protocol is tried: if a class defines
"__getitem__()", "x in y" is "True" if and only if there is a non-
negative integer index *i* such that "x == y[i]", and all lower
integer indices do not raise "IndexError" exception.  (If any other
exception is raised, it is as if "in" raised that exception).

The operator "not in" is defined to have the inverse true value of
"in".


Identity comparisons
====================

The operators "is" and "is not" test for object identity: "x is y" is
true if and only if *x* and *y* are the same object.  Object identity
is determined using the "id()" function.  "x is not y" yields the
inverse truth value. [4]

Related help topics: EXPRESSIONS, BASICMETHODS</pre><h4 id="blogTitle59">lambda</h4><pre>Lambdas
*******

   lambda_expr        ::= "lambda" [parameter_list]: expression
   lambda_expr_nocond ::= "lambda" [parameter_list]: expression_nocond

Lambda expressions (sometimes called lambda forms) are used to create
anonymous functions. The expression "lambda parameters: expression"
yields a function object.  The unnamed object behaves like a function
object defined with:

   def &lt;lambda&gt;(parameters):
       return expression

See section Function definitions for the syntax of parameter lists.
Note that functions created with lambda expressions cannot contain
statements or annotations.

Related help topics: FUNCTIONS</pre><h4 id="blogTitle60">nonlocal</h4><pre>The "nonlocal" statement
************************

   nonlocal_stmt ::= "nonlocal" identifier ("," identifier)*

The "nonlocal" statement causes the listed identifiers to refer to
previously bound variables in the nearest enclosing scope excluding
globals. This is important because the default behavior for binding is
to search the local namespace first.  The statement allows
encapsulated code to rebind variables outside of the local scope
besides the global (module) scope.

Names listed in a "nonlocal" statement, unlike those listed in a
"global" statement, must refer to pre-existing bindings in an
enclosing scope (the scope in which a new binding should be created
cannot be determined unambiguously).

Names listed in a "nonlocal" statement must not collide with pre-
existing bindings in the local scope.

See also:

  **PEP 3104** - Access to Names in Outer Scopes
     The specification for the "nonlocal" statement.

Related help topics: global, NAMESPACES</pre><div><br></div><div><p style="border: 0px; margin: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all; font-size: 13px; font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif; color: rgb(51, 51, 51); background-color: rgb(255, 255, 255);">如果要修改嵌套作用域（enclosing 作用域，外层非全局作用域）中的变量则需要 nonlocal 关键字，如下实例：</p><p style="border: 0px; margin: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all;"><br></p><pre style="border: 0px; margin: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all;">def outer():
    num = 10
    def inner():
        # nonlocal 关键字声明
        nonlocal num
        print(num)
        num = 100
        print(num)
    inner()
    print(num)
outer()<br></pre><p style="border: 0px; margin: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all;"><br></p><pre style="border: 0px; margin: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all; font-size: 13px; font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif; color: rgb(51, 51, 51); background-color: rgb(255, 255, 255);">以上实例输出结果：</pre></div><pre>10
100
100<br></pre><div><br></div><h4 id="blogTitle61">pass</h4><pre>The "pass" statement
********************

   pass_stmt ::= "pass"

"pass" is a null operation — when it is executed, nothing happens. It
is useful as a placeholder when a statement is required syntactically,
but no code needs to be executed, for example:

   def f(arg): pass    # a function that does nothing (yet)

   class C: pass       # a class with no methods (yet)</pre><h4 id="blogTitle62">raise</h4><pre>The "raise" statement
*********************

   raise_stmt ::= "raise" [expression ["from" expression]]

If no expressions are present, "raise" re-raises the last exception
that was active in the current scope.  If no exception is active in
the current scope, a "RuntimeError" exception is raised indicating
that this is an error.

Otherwise, "raise" evaluates the first expression as the exception
object.  It must be either a subclass or an instance of
"BaseException". If it is a class, the exception instance will be
obtained when needed by instantiating the class with no arguments.

The *type* of the exception is the exception instance’s class, the
*value* is the instance itself.

A traceback object is normally created automatically when an exception
is raised and attached to it as the "__traceback__" attribute, which
is writable. You can create an exception and set your own traceback in
one step using the "with_traceback()" exception method (which returns
the same exception instance, with its traceback set to its argument),
like so:

   raise Exception("foo occurred").with_traceback(tracebackobj)

The "from" clause is used for exception chaining: if given, the second
*expression* must be another exception class or instance, which will
then be attached to the raised exception as the "__cause__" attribute
(which is writable).  If the raised exception is not handled, both
exceptions will be printed:

   &gt;&gt;&gt; try:
   ...     print(1 / 0)
   ... except Exception as exc:
   ...     raise RuntimeError("Something bad happened") from exc
   ...
   Traceback (most recent call last):
     File "&lt;stdin&gt;", line 2, in &lt;module&gt;
   ZeroDivisionError: division by zero

   The above exception was the direct cause of the following exception:

   Traceback (most recent call last):
     File "&lt;stdin&gt;", line 4, in &lt;module&gt;
   RuntimeError: Something bad happened

A similar mechanism works implicitly if an exception is raised inside
an exception handler or a "finally" clause: the previous exception is
then attached as the new exception’s "__context__" attribute:

   &gt;&gt;&gt; try:
   ...     print(1 / 0)
   ... except:
   ...     raise RuntimeError("Something bad happened")
   ...
   Traceback (most recent call last):
     File "&lt;stdin&gt;", line 2, in &lt;module&gt;
   ZeroDivisionError: division by zero

   During handling of the above exception, another exception occurred:

   Traceback (most recent call last):
     File "&lt;stdin&gt;", line 4, in &lt;module&gt;
   RuntimeError: Something bad happened

Exception chaining can be explicitly suppressed by specifying "None"
in the "from" clause:

   &gt;&gt;&gt; try:
   ...     print(1 / 0)
   ... except:
   ...     raise RuntimeError("Something bad happened") from None
   ...
   Traceback (most recent call last):
     File "&lt;stdin&gt;", line 4, in &lt;module&gt;
   RuntimeError: Something bad happened

Additional information on exceptions can be found in section
Exceptions, and information about handling exceptions is in section
The try statement.

Changed in version 3.3: "None" is now permitted as "Y" in "raise X
from Y".

New in version 3.3: The "__suppress_context__" attribute to suppress
automatic display of the exception context.

Related help topics: EXCEPTIONS</pre><h4 id="blogTitle63">return</h4><pre>The "return" statement
**********************

   return_stmt ::= "return" [expression_list]

"return" may only occur syntactically nested in a function definition,
not within a nested class definition.

If an expression list is present, it is evaluated, else "None" is
substituted.

"return" leaves the current function call with the expression list (or
"None") as return value.

When "return" passes control out of a "try" statement with a "finally"
clause, that "finally" clause is executed before really leaving the
function.

In a generator function, the "return" statement indicates that the
generator is done and will cause "StopIteration" to be raised. The
returned value (if any) is used as an argument to construct
"StopIteration" and becomes the "StopIteration.value" attribute.

In an asynchronous generator function, an empty "return" statement
indicates that the asynchronous generator is done and will cause
"StopAsyncIteration" to be raised.  A non-empty "return" statement is
a syntax error in an asynchronous generator function.

Related help topics: FUNCTIONS</pre><h4 id="blogTitle64">try, except, finally</h4><pre>The "try" statement
*******************

The "try" statement specifies exception handlers and/or cleanup code
for a group of statements:

   try_stmt  ::= try1_stmt | try2_stmt
   try1_stmt ::= "try" ":" suite
                 ("except" [expression ["as" identifier]] ":" suite)+
                 ["else" ":" suite]
                 ["finally" ":" suite]
   try2_stmt ::= "try" ":" suite
                 "finally" ":" suite

The "except" clause(s) specify one or more exception handlers. When no
exception occurs in the "try" clause, no exception handler is
executed. When an exception occurs in the "try" suite, a search for an
exception handler is started.  This search inspects the except clauses
in turn until one is found that matches the exception.  An expression-
less except clause, if present, must be last; it matches any
exception.  For an except clause with an expression, that expression
is evaluated, and the clause matches the exception if the resulting
object is “compatible” with the exception.  An object is compatible
with an exception if it is the class or a base class of the exception
object or a tuple containing an item compatible with the exception.

If no except clause matches the exception, the search for an exception
handler continues in the surrounding code and on the invocation stack.
[1]

If the evaluation of an expression in the header of an except clause
raises an exception, the original search for a handler is canceled and
a search starts for the new exception in the surrounding code and on
the call stack (it is treated as if the entire "try" statement raised
the exception).

When a matching except clause is found, the exception is assigned to
the target specified after the "as" keyword in that except clause, if
present, and the except clause’s suite is executed.  All except
clauses must have an executable block.  When the end of this block is
reached, execution continues normally after the entire try statement.
(This means that if two nested handlers exist for the same exception,
and the exception occurs in the try clause of the inner handler, the
outer handler will not handle the exception.)

When an exception has been assigned using "as target", it is cleared
at the end of the except clause.  This is as if

   except E as N:
       foo

was translated to

   except E as N:
       try:
           foo
       finally:
           del N

This means the exception must be assigned to a different name to be
able to refer to it after the except clause.  Exceptions are cleared
because with the traceback attached to them, they form a reference
cycle with the stack frame, keeping all locals in that frame alive
until the next garbage collection occurs.

Before an except clause’s suite is executed, details about the
exception are stored in the "sys" module and can be accessed via
"sys.exc_info()". "sys.exc_info()" returns a 3-tuple consisting of the
exception class, the exception instance and a traceback object (see
section The standard type hierarchy) identifying the point in the
program where the exception occurred.  "sys.exc_info()" values are
restored to their previous values (before the call) when returning
from a function that handled an exception.

The optional "else" clause is executed if and when control flows off
the end of the "try" clause. [2] Exceptions in the "else" clause are
not handled by the preceding "except" clauses.

If "finally" is present, it specifies a ‘cleanup’ handler.  The "try"
clause is executed, including any "except" and "else" clauses.  If an
exception occurs in any of the clauses and is not handled, the
exception is temporarily saved. The "finally" clause is executed.  If
there is a saved exception it is re-raised at the end of the "finally"
clause.  If the "finally" clause raises another exception, the saved
exception is set as the context of the new exception. If the "finally"
clause executes a "return" or "break" statement, the saved exception
is discarded:

   &gt;&gt;&gt; def f():
   ...     try:
   ...         1/0
   ...     finally:
   ...         return 42
   ...
   &gt;&gt;&gt; f()
   42

The exception information is not available to the program during
execution of the "finally" clause.

When a "return", "break" or "continue" statement is executed in the
"try" suite of a "try"…"finally" statement, the "finally" clause is
also executed ‘on the way out.’ A "continue" statement is illegal in
the "finally" clause. (The reason is a problem with the current
implementation — this restriction may be lifted in the future).

The return value of a function is determined by the last "return"
statement executed.  Since the "finally" clause always executes, a
"return" statement executed in the "finally" clause will always be the
last one executed:

   &gt;&gt;&gt; def foo():
   ...     try:
   ...         return 'try'
   ...     finally:
   ...         return 'finally'
   ...
   &gt;&gt;&gt; foo()
   'finally'

Additional information on exceptions can be found in section
Exceptions, and information on using the "raise" statement to generate
exceptions may be found in section The raise statement.

Related help topics: EXCEPTIONS</pre><h4 id="blogTitle65">while</h4><pre>The "while" statement
*********************

The "while" statement is used for repeated execution as long as an
expression is true:

   while_stmt ::= "while" expression ":" suite
                  ["else" ":" suite]

This repeatedly tests the expression and, if it is true, executes the
first suite; if the expression is false (which may be the first time
it is tested) the suite of the "else" clause, if present, is executed
and the loop terminates.

A "break" statement executed in the first suite terminates the loop
without executing the "else" clause’s suite.  A "continue" statement
executed in the first suite skips the rest of the suite and goes back
to testing the expression.

Related help topics: break, continue, if, TRUTHVALUE</pre><h4 id="blogTitle66">with, as</h4><div><pre>The "with" statement
********************

The "with" statement is used to wrap the execution of a block with
methods defined by a context manager (see section With Statement
Context Managers). This allows common "try"…"except"…"finally" usage
patterns to be encapsulated for convenient reuse.

   with_stmt ::= "with" with_item ("," with_item)* ":" suite
   with_item ::= expression ["as" target]

The execution of the "with" statement with one “item” proceeds as
follows:

1. The context expression (the expression given in the "with_item")
   is evaluated to obtain a context manager.

2. The context manager’s "__exit__()" is loaded for later use.

3. The context manager’s "__enter__()" method is invoked.

4. If a target was included in the "with" statement, the return
   value from "__enter__()" is assigned to it.

   Note: The "with" statement guarantees that if the "__enter__()"
     method returns without an error, then "__exit__()" will always be
     called. Thus, if an error occurs during the assignment to the
     target list, it will be treated the same as an error occurring
     within the suite would be. See step 6 below.

5. The suite is executed.

6. The context manager’s "__exit__()" method is invoked.  If an
   exception caused the suite to be exited, its type, value, and
   traceback are passed as arguments to "__exit__()". Otherwise, three
   "None" arguments are supplied.

   If the suite was exited due to an exception, and the return value
   from the "__exit__()" method was false, the exception is reraised.
   If the return value was true, the exception is suppressed, and
   execution continues with the statement following the "with"
   statement.

   If the suite was exited for any reason other than an exception, the
   return value from "__exit__()" is ignored, and execution proceeds
   at the normal location for the kind of exit that was taken.

With more than one item, the context managers are processed as if
multiple "with" statements were nested:

   with A() as a, B() as b:
       suite

is equivalent to

   with A() as a:
       with B() as b:
           suite

Changed in version 3.1: Support for multiple context expressions.

See also:

  **PEP 343** - The “with” statement
     The specification, background, and examples for the Python "with"
     statement.

Related help topics: CONTEXTMANAGERS, EXCEPTIONS, yield</pre></div><div><b style="background-color: yellow;"><font color="#ff0000">with 语句适用于对资源进行访问的场合，确保不管使用过程中是否发生异常都会执行必要的“清理”操作，释放资源，比如文件使用后自动关闭、线程中锁的自动获取和释放等。</font></b><br></div><h5 id="blogTitle67">with 语句出现的起因</h5><div><p style="margin: 15px 0px; overflow-wrap: break-word; white-space: pre-wrap; color: rgb(102, 102, 102); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 14px; background-color: rgb(255, 255, 255);">要以读文件的模式打开一个文件对象，使用Python内置的<code style="font-size: 12px; font-family: Consolas, monospace, serif; color: rgb(221, 0, 85); white-space: nowrap; padding: 0px 4px; border: 1px solid rgb(221, 221, 221); border-radius: 3px; background: rgb(250, 250, 250);">open()</code>函数，传入文件名和标示符：</p><pre style="margin-top: 15px; margin-bottom: 15px; padding: 10px; background-color: rgb(250, 250, 250); font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 12px; line-height: 18px; font-family: Consolas, monospace, serif; color: rgb(68, 68, 68); tab-size: 4; border: 1px solid rgb(221, 221, 221); word-break: break-all; overflow-wrap: break-word; white-space: pre-wrap;"><code class="python"><span class="prompt" style="color: rgb(153, 0, 115);">&gt;&gt;&gt; </span>f = open(<span class="string" style="color: rgb(221, 17, 68);">'/Users/michael/test.txt'</span>, <span class="string" style="color: rgb(221, 17, 68);">'r'</span>)
</code></pre><p style="margin: 15px 0px; overflow-wrap: break-word; white-space: pre-wrap; color: rgb(102, 102, 102); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 14px; background-color: rgb(255, 255, 255);">标示符'r'表示读，这样，我们就成功地打开了一个文件。</p><p style="margin: 15px 0px; overflow-wrap: break-word; white-space: pre-wrap; color: rgb(102, 102, 102); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 14px; background-color: rgb(255, 255, 255);">如果文件不存在，<code style="font-size: 12px; font-family: Consolas, monospace, serif; color: rgb(221, 0, 85); white-space: nowrap; padding: 0px 4px; border: 1px solid rgb(221, 221, 221); border-radius: 3px; background: rgb(250, 250, 250);">open()</code>函数就会抛出一个<code style="font-size: 12px; font-family: Consolas, monospace, serif; color: rgb(221, 0, 85); white-space: nowrap; padding: 0px 4px; border: 1px solid rgb(221, 221, 221); border-radius: 3px; background: rgb(250, 250, 250);">IOError</code>的错误，并且给出错误码和详细的信息告诉你文件不存在：</p><pre style="margin-top: 15px; margin-bottom: 15px; padding: 10px; background-color: rgb(250, 250, 250); font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 12px; line-height: 18px; font-family: Consolas, monospace, serif; color: rgb(68, 68, 68); tab-size: 4; border: 1px solid rgb(221, 221, 221); word-break: break-all; overflow-wrap: break-word; white-space: pre-wrap;"><code class="sql">&gt;&gt;&gt; f=open('/Users/michael/notfound.txt', 'r')
Traceback (most recent <span class="operator"><span class="keyword" style="color: rgb(51, 51, 51); font-weight: bold;">call</span> <span class="keyword" style="color: rgb(51, 51, 51); font-weight: bold;">last</span>):
  File <span class="string" style="color: rgb(221, 17, 68);">"&lt;stdin&gt;"</span>, line <span class="number" style="color: rgb(0, 153, 153);">1</span>, <span class="keyword" style="color: rgb(51, 51, 51); font-weight: bold;">in</span> &lt;<span class="keyword" style="color: rgb(51, 51, 51); font-weight: bold;">module</span>&gt;
FileNotFoundError: [Errno <span class="number" style="color: rgb(0, 153, 153);">2</span>] <span class="keyword" style="color: rgb(51, 51, 51); font-weight: bold;">No</span> such file <span class="keyword" style="color: rgb(51, 51, 51); font-weight: bold;">or</span> directory: <span class="string" style="color: rgb(221, 17, 68);">'/Users/michael/notfound.txt'</span>
</span></code></pre><p style="margin: 15px 0px; overflow-wrap: break-word; white-space: pre-wrap; color: rgb(102, 102, 102); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 14px; background-color: rgb(255, 255, 255);">如果文件打开成功，接下来，调用<code style="font-size: 12px; font-family: Consolas, monospace, serif; color: rgb(221, 0, 85); white-space: nowrap; padding: 0px 4px; border: 1px solid rgb(221, 221, 221); border-radius: 3px; background: rgb(250, 250, 250);">read()</code>方法可以一次读取文件的全部内容，Python把内容读到内存，用一个<code style="font-size: 12px; font-family: Consolas, monospace, serif; color: rgb(221, 0, 85); white-space: nowrap; padding: 0px 4px; border: 1px solid rgb(221, 221, 221); border-radius: 3px; background: rgb(250, 250, 250);">str</code>对象表示：</p><pre style="margin-top: 15px; margin-bottom: 15px; padding: 10px; background-color: rgb(250, 250, 250); font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 12px; line-height: 18px; font-family: Consolas, monospace, serif; color: rgb(68, 68, 68); tab-size: 4; border: 1px solid rgb(221, 221, 221); word-break: break-all; overflow-wrap: break-word; white-space: pre-wrap;"><code class="python"><span class="prompt" style="color: rgb(153, 0, 115);">&gt;&gt;&gt; </span>f.read()
<span class="string" style="color: rgb(221, 17, 68);">'Hello, world!'</span>
</code></pre><p style="margin: 15px 0px; overflow-wrap: break-word; white-space: pre-wrap; color: rgb(102, 102, 102); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 14px; background-color: rgb(255, 255, 255);">最后一步是调用<code style="font-size: 12px; font-family: Consolas, monospace, serif; color: rgb(221, 0, 85); white-space: nowrap; padding: 0px 4px; border: 1px solid rgb(221, 221, 221); border-radius: 3px; background: rgb(250, 250, 250);">close()</code>方法关闭文件。文件使用完毕后必须关闭，因为文件对象会占用操作系统的资源，并且操作系统同一时间能打开的文件数量也是有限的：</p><pre style="margin-top: 15px; margin-bottom: 15px; padding: 10px; background-color: rgb(250, 250, 250); font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 12px; line-height: 18px; font-family: Consolas, monospace, serif; color: rgb(68, 68, 68); tab-size: 4; border: 1px solid rgb(221, 221, 221); word-break: break-all; overflow-wrap: break-word; white-space: pre-wrap;"><code class="python"><span class="prompt" style="color: rgb(153, 0, 115);">&gt;&gt;&gt; </span>f.close()
</code></pre><p style="margin: 15px 0px; overflow-wrap: break-word; white-space: pre-wrap; color: rgb(102, 102, 102); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 14px; background-color: rgb(255, 255, 255);">由于文件读写时都有可能产生<code style="font-size: 12px; font-family: Consolas, monospace, serif; color: rgb(221, 0, 85); white-space: nowrap; padding: 0px 4px; border: 1px solid rgb(221, 221, 221); border-radius: 3px; background: rgb(250, 250, 250);">IOError</code>，一旦出错，后面的<code style="font-size: 12px; font-family: Consolas, monospace, serif; color: rgb(221, 0, 85); white-space: nowrap; padding: 0px 4px; border: 1px solid rgb(221, 221, 221); border-radius: 3px; background: rgb(250, 250, 250);">f.close()</code>就不会调用。所以，为了保证无论是否出错都能正确地关闭文件，我们可以使用<code style="font-size: 12px; font-family: Consolas, monospace, serif; color: rgb(221, 0, 85); white-space: nowrap; padding: 0px 4px; border: 1px solid rgb(221, 221, 221); border-radius: 3px; background: rgb(250, 250, 250);">try ... finally</code>来实现：</p><pre style="margin-top: 15px; margin-bottom: 15px; padding: 10px; background-color: rgb(250, 250, 250); font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 12px; line-height: 18px; font-family: Consolas, monospace, serif; color: rgb(68, 68, 68); tab-size: 4; border: 1px solid rgb(221, 221, 221); word-break: break-all; overflow-wrap: break-word; white-space: pre-wrap;"><code class="python"><span class="keyword" style="color: rgb(51, 51, 51); font-weight: bold;">try</span>:
    f = open(<span class="string" style="color: rgb(221, 17, 68);">'/path/to/file'</span>, <span class="string" style="color: rgb(221, 17, 68);">'r'</span>)
    print(f.read())
<span class="keyword" style="color: rgb(51, 51, 51); font-weight: bold;">finally</span>:
    <span class="keyword" style="color: rgb(51, 51, 51); font-weight: bold;">if</span> f:
        f.close()
</code></pre><p style="margin: 15px 0px; overflow-wrap: break-word; white-space: pre-wrap; color: rgb(102, 102, 102); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 14px; background-color: rgb(255, 255, 255);">但是每次都这么写实在太繁琐，所以，Python引入了<code style="font-size: 12px; font-family: Consolas, monospace, serif; color: rgb(221, 0, 85); white-space: nowrap; padding: 0px 4px; border: 1px solid rgb(221, 221, 221); border-radius: 3px; background: rgb(250, 250, 250);">with</code>语句来自动帮我们调用<code style="font-size: 12px; font-family: Consolas, monospace, serif; color: rgb(221, 0, 85); white-space: nowrap; padding: 0px 4px; border: 1px solid rgb(221, 221, 221); border-radius: 3px; background: rgb(250, 250, 250);">close()</code>方法：</p><pre style="margin-top: 15px; margin-bottom: 15px; padding: 10px; background-color: rgb(250, 250, 250); font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 12px; line-height: 18px; font-family: Consolas, monospace, serif; color: rgb(68, 68, 68); tab-size: 4; border: 1px solid rgb(221, 221, 221); word-break: break-all; overflow-wrap: break-word; white-space: pre-wrap;"><code class="python"><span class="keyword" style="color: rgb(51, 51, 51); font-weight: bold;">with</span> open(<span class="string" style="color: rgb(221, 17, 68);">'/path/to/file'</span>, <span class="string" style="color: rgb(221, 17, 68);">'r'</span>) <span class="keyword" style="color: rgb(51, 51, 51); font-weight: bold;">as</span> f:
    print(f.read())
</code></pre><p style="margin: 15px 0px; overflow-wrap: break-word; white-space: pre-wrap; color: rgb(102, 102, 102); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 14px; background-color: rgb(255, 255, 255);">这和前面的<code style="font-size: 12px; font-family: Consolas, monospace, serif; color: rgb(221, 0, 85); white-space: nowrap; padding: 0px 4px; border: 1px solid rgb(221, 221, 221); border-radius: 3px; background: rgb(250, 250, 250);">try ... finally</code>是一样的，但是代码更佳简洁，并且不必调用<code style="font-size: 12px; font-family: Consolas, monospace, serif; color: rgb(221, 0, 85); white-space: nowrap; padding: 0px 4px; border: 1px solid rgb(221, 221, 221); border-radius: 3px; background: rgb(250, 250, 250);">f.close()</code>方法。</p></div><h5 id="blogTitle68">术语</h5><div>要使用 with 语句，首先要明白上下文管理器这一概念。有了上下文管理器，with 语句才能工作。<br></div><div><h6 id="blogTitle69">上下文管理器协议</h6><div>上下文管理协议（Context Management Protocol）：包含方法 __enter__() 和 __exit__()，支持该协议的对象要实现这两个方法。</div></div><h6 id="blogTitle70">上下文管理器</h6><div><div>上下文管理器（Context Manager）：支持上下文管理器协议的对象，这种对象实现了 __enter__() 和 __exit__() 方法。上下文管理器定义执行 with 语句时要建立的运行时上下文，负责执行 with 语句块上下文中的进入与退出操作。通常使用 with 语句调用上下文管理器，也可以通过直接调用其方法来使用。</div></div><h6 id="blogTitle71">运行时上下文</h6><div><div>运行时上下文（runtime context）：由上下文管理器创建，通过上下文管理器的 __enter__() 和 __exit__() 方法实现，__enter__() 方法在语句体执行之前进入运行时上下文，__exit__() 在语句体执行完后从运行时上下文退出。with 语句支持运行时上下文这一概念。</div></div><h6 id="blogTitle72">上下文表达式</h6><div><div>上下文表达式（Context Expression）：with 语句中跟在关键字 with 之后的表达式，该表达式要返回一个上下文管理器对象。</div></div><h6 id="blogTitle73">语句体</h6><div><div>语句体（with-body）：with 语句包裹起来的代码块，在执行语句体之前会调用上下文管理器的 __enter__() 方法，执行完语句体之后会执行 __exit__() 方法。</div></div><div><br></div><h5 id="blogTitle74">格式</h5><pre>with open(path, 操作方式, encoding='utf-8') as file:
    data = file.read()
    ...
    # 进行文件的其他操作
# 缩进取消，退出 with 语句块，表明文件操作结束，python 自动关闭文件<br></pre><h5 id="blogTitle75">特点</h5><div><div><ul><li>with 语句打开文件，并指示了一个语句块(即接下来有一个缩进的多行代码区域)，该语句块内的代码是对文件的操作，当脱离该语句块时(即没有了缩进)，则表示 with 语句块结束，接下来的代码不是对文件的操作代码<br></li><li>注意，当脱离 with 语句块的时候，即表示结束了文件的操作，这时 python 会自动调用 close() 关闭这个文件，此后不能再引用这个文件对象<br></li></ul></div></div><h5 id="blogTitle76">优点</h5><div><div><ul><li>简单<br></li><li>自动管理文件对象，不需要调用 close()<br></li><li>强的鲁棒性；当遭遇程序 bug 时导致本来应有的 close() 未能执行，如果使用 with，python 保证即使出现故障，也能保证文件被正确关闭<br></li></ul></div></div><div><br></div><h4 id="blogTitle77">yield</h4><pre>The "yield" statement
*********************

   yield_stmt ::= yield_expression

A "yield" statement is semantically equivalent to a yield expression.
The yield statement can be used to omit the parentheses that would
otherwise be required in the equivalent yield expression statement.
For example, the yield statements

   yield &lt;expr&gt;
   yield from &lt;expr&gt;

are equivalent to the yield expression statements

   (yield &lt;expr&gt;)
   (yield from &lt;expr&gt;)

Yield expressions and statements are only used when defining a
*generator* function, and are only used in the body of the generator
function.  Using yield in a function definition is sufficient to cause
that definition to create a generator function instead of a normal
function.

For full details of "yield" semantics, refer to the Yield expressions
section.</pre><h3 id="blogTitle78">行与缩进</h3><div><p>python 最具特色的就是使用缩进来表示代码块，不需要使用大括号 {} 。</p><p>缩进的空格数是可变的，但是同一个代码块的语句必须包含相同的缩进空格数。</p><h3 id="blogTitle79">注释</h3><div><div><ul><li>确保对模块, 函数, 方法和行内注释使用正确的风格<br></li><li>Python中的注释有单行注释和多行注释<br></li></ul></div></div><h4 id="blogTitle80">单行注释用 #</h4><h4 id="blogTitle81">多行注释用 ''' 或 """</h4></div><h2 id="blogTitle82">常量和变量</h2><p>在计算机内部，可以把任何数据都看成一个“对象”，而变量就是在程序中用来指向这些数据对象的，对变量赋值就是把数据和变量给关联起来。</p><p></p><ul><li>Python 中，变量不需要声明。每个变量在使用前都必须赋值，变量赋值以后该变量才会被创建。<br></li><li><b style="background-color: yellow;"><font color="#ff0000">Python 中，变量就是变量，它没有类型，我们所说的"类型"是变量所指的内存中对象的类型。</font></b><br></li><li>等号（=）用来给变量赋值。<br></li><li>等号（=）运算符左边是一个变量名,等号（=）运算符右边是存储在变量中的值。<br></li></ul><p></p><h3 id="blogTitle83">命名规则</h3><h4 id="blogTitle84">变量的命名</h4><div><p style="hyphens: auto; line-height: 22.4px;"></p><ul><li>大写和小写字母&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">A</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">&nbsp;</span>至&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">Z</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">，下划线</span>&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">_</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">&nbsp;</span>以及数字&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">0</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">&nbsp;</span>至&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">9</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">，<span style="background-color: yellow;"><b>但不可以数字开头</b></span>。</span><br></li><li>Python 保留关键字不能用于变量名。</li><li>Python 3.0 引入了 ASCII 范围以外的额外字符 (见&nbsp;<span class="target" id="index-39"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-3131">PEP 3131</a>)。这些字符的分类使用包含于&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/unicodedata.html#module-unicodedata" title="unicodedata: Access the Unicode Database."><span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">unicodedata</span></a>&nbsp;模块中的 Unicode 字符数据库版本。<br></li><li>标识符的长度没有限制。</li><li>对大小写敏感。<br></li></ul><p></p><h4 style="hyphens: auto; line-height: 22.4px;" id="blogTitle85">常量的命名</h4><p style="hyphens: auto; line-height: 22.4px;">所谓常量就是不能变的变量。在 Python 中，通常用全部大写的变量名表示常量。</p><p style="hyphens: auto; line-height: 22.4px;">但事实上常量仍然是一个变量，Python 根本没有任何机制保证常量不会被改变，所以，用全部大写的变量名表示常量只是一个习惯上的用法，如果你一定要改变常量的值，也没人能拦住你。<br></p></div><h3 id="blogTitle86">变量的赋值</h3><div>可以用赋值运算符 '=' 为变量赋值</div><h4 id="blogTitle87">单个变量赋值</h4><h4 id="blogTitle88">多个变量赋值</h4><div><p style="border: 0px; margin: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all; font-size: 13px; font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif; color: rgb(51, 51, 51); background-color: rgb(255, 255, 255);">Python允许你同时为多个变量赋值。例如：</p><pre class="prettyprint prettyprinted" style="border-width: 1px 1px 1px 4px; border-style: solid; border-color: rgb(221, 221, 221); border-image: initial; margin: 15px auto; padding: 10px 15px; font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 12px; line-height: 20px; font-family: Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace; white-space: pre-wrap; word-break: break-all; overflow-wrap: break-word; background-image: url(&quot;/images/codecolorer_bg.gif&quot;); background-position: center top; background-color: rgb(251, 251, 251); color: rgb(51, 51, 51);"><span class="pln" style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 0, 0);">a </span><span class="pun" style="border: 0px; margin: 0px; padding: 0px; color: rgb(102, 102, 0);">=</span><span class="pln" style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 0, 0);"> b </span><span class="pun" style="border: 0px; margin: 0px; padding: 0px; color: rgb(102, 102, 0);">=</span><span class="pln" style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 0, 0);"> c </span><span class="pun" style="border: 0px; margin: 0px; padding: 0px; color: rgb(102, 102, 0);">=</span><span class="pln" style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span class="lit" style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 102, 102);">1</span></pre><p style="border: 0px; margin: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all; font-size: 13px; font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif; color: rgb(51, 51, 51); background-color: rgb(255, 255, 255);">以上实例，创建一个整型对象，值为 1，从后向前赋值，三个变量被赋予相同的数值。</p><p style="border: 0px; margin: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all; font-size: 13px; font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif; color: rgb(51, 51, 51); background-color: rgb(255, 255, 255);">您也可以为多个对象指定多个变量。例如：</p><pre class="prettyprint prettyprinted" style="border-width: 1px 1px 1px 4px; border-style: solid; border-color: rgb(221, 221, 221); border-image: initial; margin: 15px auto; padding: 10px 15px; font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 12px; line-height: 20px; font-family: Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace; white-space: pre-wrap; word-break: break-all; overflow-wrap: break-word; background-image: url(&quot;/images/codecolorer_bg.gif&quot;); background-position: center top; background-color: rgb(251, 251, 251); color: rgb(51, 51, 51);"><span class="pln" style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 0, 0);">a</span><span class="pun" style="border: 0px; margin: 0px; padding: 0px; color: rgb(102, 102, 0);">,</span><span class="pln" style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 0, 0);"> b</span><span class="pun" style="border: 0px; margin: 0px; padding: 0px; color: rgb(102, 102, 0);">,</span><span class="pln" style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 0, 0);"> c </span><span class="pun" style="border: 0px; margin: 0px; padding: 0px; color: rgb(102, 102, 0);">=</span><span class="pln" style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span class="lit" style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 102, 102);">1</span><span class="pun" style="border: 0px; margin: 0px; padding: 0px; color: rgb(102, 102, 0);">,</span><span class="pln" style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span class="lit" style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 102, 102);">2</span><span class="pun" style="border: 0px; margin: 0px; padding: 0px; color: rgb(102, 102, 0);">,</span><span class="pln" style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span class="str" style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 136, 0);">"runoob"</span></pre><p style="border: 0px; margin: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all; font-size: 13px; font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif; color: rgb(51, 51, 51); background-color: rgb(255, 255, 255);">以上实例，两个整型对象 1 和 2 的分配给变量 a 和 b，字符串对象 "runoob" 分配给变量 c。</p></div><h3 id="blogTitle89">变量的种类</h3><div><h4 id="blogTitle90">全局变量</h4><h4 id="blogTitle91">局部变量</h4><h4 id="blogTitle92">类变量</h4><h4 id="blogTitle93">实例变量</h4></div><h3 id="blogTitle94">变量的作用域</h3><div><p style="border: 0px; margin: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all; font-size: 13px; font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif; color: rgb(51, 51, 51); background-color: rgb(255, 255, 255);">Python 中，程序的变量并不是在哪个位置都可以访问的，访问权限决定于这个变量是在哪里赋值的。</p><p style="border: 0px; margin: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all; font-size: 13px; font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif; color: rgb(51, 51, 51); background-color: rgb(255, 255, 255);">变量的作用域决定了在哪一部分程序可以访问哪个特定的变量名称。Python 的作用域一共有4种，分别是：</p><ul style="border: 0px; margin: 1em 0px; padding: 0px; line-height: 16.8px; list-style: none; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif; font-size: 12px; background-color: rgb(255, 255, 255);"><li style="border: 0px; margin: 0px 0px 1em 1em; padding: 0px 0px 0px 1.5em; line-height: 1.5em; font-size: 13px; word-break: break-all; background-image: url(&quot;./assets/img/bullet.png&quot;); background-repeat: no-repeat; background-position: left 0.5em;">L （Local） 局部作用域</li><li style="border: 0px; margin: 0px 0px 1em 1em; padding: 0px 0px 0px 1.5em; line-height: 1.5em; font-size: 13px; word-break: break-all; background-image: url(&quot;./assets/img/bullet.png&quot;); background-repeat: no-repeat; background-position: left 0.5em;">E （Enclosing） 嵌套作用域</li><li style="border: 0px; margin: 0px 0px 1em 1em; padding: 0px 0px 0px 1.5em; line-height: 1.5em; font-size: 13px; word-break: break-all; background-image: url(&quot;./assets/img/bullet.png&quot;); background-repeat: no-repeat; background-position: left 0.5em;">G （Global） 全局作用域</li><li style="border: 0px; margin: 0px 0px 1em 1em; padding: 0px 0px 0px 1.5em; line-height: 1.5em; font-size: 13px; word-break: break-all; background-image: url(&quot;./assets/img/bullet.png&quot;); background-repeat: no-repeat; background-position: left 0.5em;">B （Built-in） 内建作用域</li></ul><p style="border: 0px; margin: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all; font-size: 13px; font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif; color: rgb(51, 51, 51); background-color: rgb(255, 255, 255);">以 L –&gt; E –&gt; G –&gt;B 的规则查找，即：在局部找不到，便会去局部外的局部找（例如闭包），再找不到就会去全局找，再者去内建中找。</p><pre class="prettyprint prettyprinted" style="border-width: 1px 1px 1px 4px; border-style: solid; border-color: rgb(221, 221, 221); border-image: initial; margin: 15px auto; padding: 10px 15px; font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 12px; line-height: 20px; font-family: Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace; white-space: pre-wrap; word-break: break-all; overflow-wrap: break-word; background-image: url(&quot;/images/codecolorer_bg.gif&quot;); background-position: center top; background-color: rgb(251, 251, 251); color: rgb(51, 51, 51);"><span class="pln" style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 0, 0);">x </span><span class="pun" style="border: 0px; margin: 0px; padding: 0px; color: rgb(102, 102, 0);">=</span><span class="pln" style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span class="kwd" style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 0, 136);">int</span><span class="pun" style="border: 0px; margin: 0px; padding: 0px; color: rgb(102, 102, 0);">(</span><span class="lit" style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 102, 102);">2.9</span><span class="pun" style="border: 0px; margin: 0px; padding: 0px; color: rgb(102, 102, 0);">)</span><span class="pln" style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 0, 0);">  </span><span class="com" style="border: 0px; margin: 0px; padding: 0px; color: rgb(136, 0, 0);"># 内建作用域</span><span class="pln" style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 0, 0);">

g_count </span><span class="pun" style="border: 0px; margin: 0px; padding: 0px; color: rgb(102, 102, 0);">=</span><span class="pln" style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span class="lit" style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 102, 102);">0</span><span class="pln" style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 0, 0);">  </span><span class="com" style="border: 0px; margin: 0px; padding: 0px; color: rgb(136, 0, 0);"># 全局作用域</span><span class="pln" style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 0, 0);">
</span><span class="kwd" style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 0, 136);">def</span><span class="pln" style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 0, 0);"> outer</span><span class="pun" style="border: 0px; margin: 0px; padding: 0px; color: rgb(102, 102, 0);">():</span><span class="pln" style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 0, 0);">
    o_count </span><span class="pun" style="border: 0px; margin: 0px; padding: 0px; color: rgb(102, 102, 0);">=</span><span class="pln" style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span class="lit" style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 102, 102);">1</span><span class="pln" style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 0, 0);">  </span><span class="com" style="border: 0px; margin: 0px; padding: 0px; color: rgb(136, 0, 0);"># 闭包函数外的函数中</span><span class="pln" style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 0, 0);">
    </span><span class="kwd" style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 0, 136);">def</span><span class="pln" style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 0, 0);"> inner</span><span class="pun" style="border: 0px; margin: 0px; padding: 0px; color: rgb(102, 102, 0);">():</span><span class="pln" style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 0, 0);">
        i_count </span><span class="pun" style="border: 0px; margin: 0px; padding: 0px; color: rgb(102, 102, 0);">=</span><span class="pln" style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span class="lit" style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 102, 102);">2</span><span class="pln" style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 0, 0);">  </span><span class="com" style="border: 0px; margin: 0px; padding: 0px; color: rgb(136, 0, 0);"># 局部作用域
        print(i_count * o_count + g_count - int(5.8))</span></pre><p style="border: 0px; margin: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all; font-size: 13px; font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif;"><span style="background-color: yellow;"><b style=""><font color="#ff0000">Python 中只有模块（module），类（class）以及函数（def、lambda）才会引入新的作用域，其它的代码块（如 if/elif/else/、try/except、for/while等）是不会引入新的作用域的，也就是说这些语句内定义的变量，外部也可以访问</font></b></span><span style="color: rgb(51, 51, 51); background-color: rgb(255, 255, 255);">，如下代码：</span></p><pre class="prettyprint prettyprinted" style="border-width: 1px 1px 1px 4px; border-style: solid; border-color: rgb(221, 221, 221); border-image: initial; margin: 15px auto; padding: 10px 15px; font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 12px; line-height: 20px; font-family: Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace; white-space: pre-wrap; word-break: break-all; overflow-wrap: break-word; background-image: url(&quot;/images/codecolorer_bg.gif&quot;); background-position: center top; background-color: rgb(251, 251, 251); color: rgb(51, 51, 51);"><span class="pun" style="border: 0px; margin: 0px; padding: 0px; color: rgb(102, 102, 0);">&gt;&gt;&gt;</span><span class="pln" style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span class="kwd" style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 0, 136);">if</span><span class="pln" style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span class="kwd" style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 0, 136);">True</span><span class="pun" style="border: 0px; margin: 0px; padding: 0px; color: rgb(102, 102, 0);">:</span><span class="pln" style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 0, 0);">
</span><span class="pun" style="border: 0px; margin: 0px; padding: 0px; color: rgb(102, 102, 0);">...</span><span class="pln" style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 0, 0);">  msg </span><span class="pun" style="border: 0px; margin: 0px; padding: 0px; color: rgb(102, 102, 0);">=</span><span class="pln" style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span class="str" style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 136, 0);">'I am from Runoob'</span><span class="pln" style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 0, 0);">
</span><span class="pun" style="border: 0px; margin: 0px; padding: 0px; color: rgb(102, 102, 0);">...</span><span class="pln" style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 0, 0);">
</span><span class="pun" style="border: 0px; margin: 0px; padding: 0px; color: rgb(102, 102, 0);">&gt;&gt;&gt;</span><span class="pln" style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 0, 0);"> msg
</span><span class="str" style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 136, 0);">'I am from Runoob'</span><span class="pln" style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 0, 0);">
</span><span class="pun" style="border: 0px; margin: 0px; padding: 0px; color: rgb(102, 102, 0);">&gt;&gt;&gt;</span><span class="pln" style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span></pre><p style="border: 0px; margin: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all; font-size: 13px; font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif; color: rgb(51, 51, 51); background-color: rgb(255, 255, 255);">实例中 msg 变量定义在 if 语句块中，但外部还是可以访问的。</p><p style="border: 0px; margin: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all; font-size: 13px; font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif; color: rgb(51, 51, 51); background-color: rgb(255, 255, 255);">如果将 msg 定义在函数中，则它就是局部变量，外部不能访问：</p><pre class="prettyprint prettyprinted" style="border-width: 1px 1px 1px 4px; border-style: solid; border-color: rgb(221, 221, 221); border-image: initial; margin: 15px auto; padding: 10px 15px; font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 12px; line-height: 20px; font-family: Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace; white-space: pre-wrap; word-break: break-all; overflow-wrap: break-word; background-image: url(&quot;/images/codecolorer_bg.gif&quot;); background-position: center top; background-color: rgb(251, 251, 251); color: rgb(51, 51, 51);"><span class="pun" style="border: 0px; margin: 0px; padding: 0px; color: rgb(102, 102, 0);">&gt;&gt;&gt;</span><span class="pln" style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span class="kwd" style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 0, 136);">def</span><span class="pln" style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 0, 0);"> test</span><span class="pun" style="border: 0px; margin: 0px; padding: 0px; color: rgb(102, 102, 0);">():</span><span class="pln" style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 0, 0);">
</span><span class="pun" style="border: 0px; margin: 0px; padding: 0px; color: rgb(102, 102, 0);">...</span><span class="pln" style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 0, 0);">     msg_inner </span><span class="pun" style="border: 0px; margin: 0px; padding: 0px; color: rgb(102, 102, 0);">=</span><span class="pln" style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span class="str" style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 136, 0);">'I am from Runoob'</span><span class="pln" style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 0, 0);">
</span><span class="pun" style="border: 0px; margin: 0px; padding: 0px; color: rgb(102, 102, 0);">...</span><span class="pln" style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 0, 0);">
</span><span class="pun" style="border: 0px; margin: 0px; padding: 0px; color: rgb(102, 102, 0);">&gt;&gt;&gt;</span><span class="pln" style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 0, 0);"> msg_inner
</span><span class="typ" style="border: 0px; margin: 0px; padding: 0px; color: rgb(102, 0, 102);">Traceback</span><span class="pln" style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span class="pun" style="border: 0px; margin: 0px; padding: 0px; color: rgb(102, 102, 0);">(</span><span class="pln" style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 0, 0);">most recent call </span><span class="kwd" style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 0, 136);">last</span><span class="pun" style="border: 0px; margin: 0px; padding: 0px; color: rgb(102, 102, 0);">):</span><span class="pln" style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 0, 0);">
  </span><span class="typ" style="border: 0px; margin: 0px; padding: 0px; color: rgb(102, 0, 102);">File</span><span class="pln" style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span class="str" style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 136, 0);">"&lt;stdin&gt;"</span><span class="pun" style="border: 0px; margin: 0px; padding: 0px; color: rgb(102, 102, 0);">,</span><span class="pln" style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 0, 0);"> line </span><span class="lit" style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 102, 102);">1</span><span class="pun" style="border: 0px; margin: 0px; padding: 0px; color: rgb(102, 102, 0);">,</span><span class="pln" style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span class="kwd" style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 0, 136);">in</span><span class="pln" style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span class="str" style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 136, 0);">&lt;module&gt;</span><span class="pln" style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 0, 0);">
</span><span class="typ" style="border: 0px; margin: 0px; padding: 0px; color: rgb(102, 0, 102);">NameError</span><span class="pun" style="border: 0px; margin: 0px; padding: 0px; color: rgb(102, 102, 0);">:</span><span class="pln" style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 0, 0);"> name </span><span class="str" style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 136, 0);">'msg_inner'</span><span class="pln" style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span class="kwd" style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 0, 136);">is</span><span class="pln" style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span class="kwd" style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 0, 136);">not</span><span class="pln" style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span class="kwd" style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 0, 136);">defined</span><span class="pln" style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 0, 0);">
</span><span class="pun" style="border: 0px; margin: 0px; padding: 0px; color: rgb(102, 102, 0);">&gt;&gt;&gt;</span><span class="pln" style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span></pre><p style="border: 0px; margin: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all; font-size: 13px; font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif; color: rgb(51, 51, 51); background-color: rgb(255, 255, 255);">从报错的信息上看，说明了 msg_inner 未定义，无法使用，因为它是局部变量，只有在函数内可以使用。</p></div><div><br></div><h4 id="blogTitle95">局部作用域 L - Local</h4><h4 id="blogTitle96">嵌套作用域 E - Enclosing</h4><h4 id="blogTitle97">全局作用域 G - Global</h4><h4 id="blogTitle98">内建作用域 B - Built-in</h4><h3 id="blogTitle99">变量查找规则</h3><div><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(255, 255, 255);">对于变量作用域，变量的访问以&nbsp;</span><strong style="border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(255, 255, 255);">L（Local） –&gt; E（Enclosing） –&gt; G（Global） –&gt;B（Built-in）</strong><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(255, 255, 255);">&nbsp;的规则查找，即：在局部找不到，便会去局部外的局部找（例如闭包），再找不到就会去全局找，再者去内建中找。</span><br></div><div><br></div><div><br></div><h2 id="blogTitle100">控制成分<br></h2><div>见&nbsp;/py/spec/statement</div><h3 id="blogTitle101">条件</h3><h3 id="blogTitle102">循环</h3><h2 id="blogTitle103">运算成分</h2><div><span style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; text-align: justify; background-color: rgb(255, 255, 255);">This chapter explains the meaning of the elements of expressions in Python.</span><br></div><h3 id="blogTitle104">表达式</h3><div>表达式（Expression）是运算符（operator）和操作数（operand）所构成的序列。</div><div><div><h4 id="blogTitle105">Arithmetic conversions</h4><div><p id="index-1" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px;"><span style="background-color: rgb(255, 255, 255);">When a description of an arithmetic operator below uses the phrase&nbsp;</span><span style="background-color: yellow;">“the numeric arguments are converted to a common type,”</span><span style="background-color: rgb(255, 255, 255);">&nbsp;this means that the operator implementation for built-in types works as follows:</span></p><ul class="simple" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><li style="hyphens: auto; text-align: justify; line-height: 20.8px;">If either argument is a complex number, the other is converted to complex;</li><li style="hyphens: auto; text-align: justify; line-height: 20.8px;">otherwise, if either argument is a floating point number, the other is converted to floating point;</li><li style="hyphens: auto; text-align: justify; line-height: 20.8px;">otherwise, both must be integers and no conversion is necessary.</li></ul><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">Some additional rules apply for certain operators (e.g., a string as a left argument to the ‘%’ operator). Extensions must define their own conversion behavior.</p></div></div><h4 id="blogTitle106">Atoms</h4><div><p id="index-2" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">“原子”指表达式的最基本构成元素。 最简单的原子是标识符和字面值。 以圆括号、方括号或花括号包括的形式在语法上也被归类为原子。 原子的句法为:<br></p><pre style="padding: 5px; overflow-y: hidden; background-color: rgb(238, 255, 204); font-size: 15.44px; font-family: monospace, sans-serif; line-height: 18.528px; color: rgb(51, 51, 51); border: 1px solid rgb(170, 204, 153);"><strong id="grammar-token-atom">atom     </strong> ::=  <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/lexical_analysis.html#grammar-token-identifier" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">identifier</span></code></a> | <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-literal" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">literal</span></code></a> | <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-enclosure" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">enclosure</span></code></a>
<strong id="grammar-token-enclosure">enclosure</strong> ::=  <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-parenth-form" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">parenth_form</span></code></a> | <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-list-display" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">list_display</span></code></a> | <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-dict-display" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">dict_display</span></code></a> | <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-set-display" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">set_display</span></code></a>
               | <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-generator-expression" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">generator_expression</span></code></a> | <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-yield-atom" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">yield_atom</span></code></a></pre></div><h5 id="blogTitle107">Identifiers (Names)</h5><div><p id="index-3" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">作为原子出现的标识符叫做名称。 请参看&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#identifiers" style="color: rgb(99, 99, 187); text-decoration-line: none;">标识符和关键字</a>&nbsp;一节了解其词法定义，以及&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/executionmodel.html#naming" style="color: rgb(99, 99, 187); text-decoration-line: none;">命名与绑定</a>&nbsp;获取有关命名与绑定的文档。</p><p id="index-4" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">当名称被绑定到一个对象时，对该原子求值将返回相应对象。 当名称未被绑定时，尝试对其求值将引发&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#NameError" title="NameError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">NameError</span></code></a>&nbsp;异常。</p><p id="index-5" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><strong>私有名称转换:</strong>&nbsp;当以文本形式出现在类定义中的一个标识符以两个或更多下划线开头并且不以两个或更多下划线结尾，它会被视为该类的&nbsp;<em class="dfn">私有名称</em>。 私有名称会在为其生成代码之前被转换为一种更长的形式。 转换时会插入类名，移除打头的下划线再在名称前增加一个下划线。 例如，出现在一个名为&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Ham</span></code>&nbsp;的类中的标识符&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__spam</span></code>&nbsp;会被转换为&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">_Ham__spam</span></code>。 这种转换独立于标识符所使用的相关句法。 如果转换后的名称太长（超过 255 个字符），可能发生由具体实现定义的截断。 如果类名仅由下划线组成，则不会进行转换。</p></div><h5 id="blogTitle108">字面值</h5></div><div><p id="index-6" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">Python 支持字符串和字节串字面值，以及几种数字字面值:</p><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><strong id="grammar-token-literal">literal</strong> ::=  <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-stringliteral" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">stringliteral</span></code></a> | <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-bytesliteral" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">bytesliteral</span></code></a>
             | <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-integer" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">integer</span></code></a> | <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-floatnumber" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">floatnumber</span></code></a> | <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-imagnumber" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">imagnumber</span></code></a>
</pre><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">对字面值求值将返回一个该值所对应类型的对象（字符串、字节串、整数、浮点数、复数）。 对于浮点数和虚数（复数）的情况，该值可能为近似值。 详情参见&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#literals" style="color: rgb(99, 99, 187); text-decoration-line: none;">字面值</a>。</p><p id="index-7" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">所有字面值都对应于不可变数据类型，因此对象标识的重要性不如其实际值。 多次对具有相同值的字面值求值（不论是发生在程序文本的相同位置还是不同位置）可能得到相同对象或是具有相同值的不同对象。</p></div><h5 id="blogTitle109">Parenthesized forms</h5><div><p id="index-8" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">带圆括号的形式是包含在圆括号中的可选表达式列表。</p><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><strong id="grammar-token-parenth-form">parenth_form</strong> ::=  "(" [<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#grammar-token-starred-expression" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">starred_expression</span></code></a>] ")"
</pre><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">带圆括号的表达式列表将返回该表达式列表所产生的任何东西：如果该列表包含至少一个逗号，它会产生一个元组；否则，它会产生该表达式列表所对应的单一表达式。</p><p id="index-9" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">一对内容为空的圆括号将产生一个空的元组对象。 由于元组是不可变对象，因此适用字面值规则（即两次出现的空元组所产生的对象可能相同也可能不同）。</p><p id="index-10" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">请注意元组并不是由圆括号构建，实际起作用的是逗号操作符。 例外情况是空元组，这时圆括号&nbsp;<em>才是</em>&nbsp;必须的 --- 允许在表达式中使用不带圆括号的 "空" 会导致歧义，并会造成常见输入错误无法被捕获。</p></div><h5 id="blogTitle110">Displays for lists, sets and dictionaries</h5><div><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">为了构建列表、集合或字典，Python 提供了名为“显示”的特殊句法，每个类型各有两种形式:</p><ul class="simple" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><li style="hyphens: auto; text-align: justify; line-height: 20.8px;">第一种是显式地列出容器内容</li><li style="hyphens: auto; text-align: justify; line-height: 20.8px;">第二种是通过一组循环和筛选指令计算出来，称为&nbsp;<em class="dfn">推导式</em>。</li></ul><p id="index-11" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">推导式的常用句法元素为:</p><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><strong id="grammar-token-comprehension">comprehension</strong> ::=  <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#grammar-token-expression" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">expression</span></code></a> <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#grammar-token-comp-for" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">comp_for</span></code></a>
<strong id="grammar-token-comp-for">comp_for     </strong> ::=  ["async"] "for" <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/simple_stmts.html#grammar-token-target-list" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">target_list</span></code></a> "in" <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#grammar-token-or-test" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">or_test</span></code></a> [<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#grammar-token-comp-iter" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">comp_iter</span></code></a>]
<strong id="grammar-token-comp-iter">comp_iter    </strong> ::=  <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#grammar-token-comp-for" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">comp_for</span></code></a> | <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#grammar-token-comp-if" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">comp_if</span></code></a>
<strong id="grammar-token-comp-if">comp_if      </strong> ::=  "if" <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#grammar-token-expression-nocond" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">expression_nocond</span></code></a> [<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#grammar-token-comp-iter" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">comp_iter</span></code></a>]
</pre><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">推导式的结构是一个单独表达式后面加至少一个&nbsp;<code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">for</span></code>&nbsp;子句以及零个或更多个&nbsp;<code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">for</span></code>&nbsp;或&nbsp;<code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">if</span></code>&nbsp;子句。 在这种情况下，新容器的元素产生方式是将每个&nbsp;<code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">for</span></code>&nbsp;或&nbsp;<code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">if</span></code>&nbsp;子句视为一个代码块，按从左至右的顺序嵌套，然后每次到达最内层代码块时就对表达式进行求值以产生一个元素。</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">不过，除了最左边&nbsp;<code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">for</span></code>&nbsp;子句中的可迭代表达式，推导式是在另一个隐式嵌套的作用域内执行的。 这能确保赋给目标列表的名称不会“泄露”到外层的作用域。</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">最左边&nbsp;<code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">for</span></code>&nbsp;子句中的可迭代表达式会直接在外层作用域中被求值，然后作为一个参数被传给隐式嵌套的作用域。 后续的&nbsp;<code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">for</span></code>&nbsp;子句以及最左侧&nbsp;<code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">for</span></code>&nbsp;子句中的任何筛选条件不能在外层作用域中被求值，因为它们可能依赖于从最左侧可迭代对象中获得的值。 例如:&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">[x*y</span>&nbsp;<span class="pre" style="hyphens: none;">for</span>&nbsp;<span class="pre" style="hyphens: none;">x</span>&nbsp;<span class="pre" style="hyphens: none;">in</span>&nbsp;<span class="pre" style="hyphens: none;">range(10)</span>&nbsp;<span class="pre" style="hyphens: none;">for</span>&nbsp;<span class="pre" style="hyphens: none;">y</span>&nbsp;<span class="pre" style="hyphens: none;">in</span>&nbsp;<span class="pre" style="hyphens: none;">range(x,</span><span class="pre" style="hyphens: none;">x+10)]</span></code>.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">为了确保推导式得出的结果总是一个类型正确的容器，在隐式嵌套的作用域内禁止使用&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">yield</span></code>&nbsp;和&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">yield</span><span class="pre" style="hyphens: none;">from</span></code>&nbsp;表达式 (在 Python 3.7 中，这样的表达式会在编译时引发&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#DeprecationWarning" title="DeprecationWarning" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">DeprecationWarning</span></code></a>，在 Python 3.8+ 中它们将引发&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#SyntaxError" title="SyntaxError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">SyntaxError</span></code></a>)。</p><p id="index-12" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">从 Python 3.6 开始，在&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/compound_stmts.html#async-def" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">async</span>&nbsp;<span class="pre" style="hyphens: none;">def</span></code></a>&nbsp;函数中可以使用&nbsp;<code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">async</span>&nbsp;<span class="pre" style="hyphens: none;">for</span></code>&nbsp;子句来迭代&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/glossary.html#term-asynchronous-iterator" style="color: rgb(99, 99, 187); text-decoration-line: none;">asynchronous iterator</a>。 在&nbsp;<code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">async</span>&nbsp;<span class="pre" style="hyphens: none;">def</span></code>&nbsp;函数中构建推导式可以通过在打头的表达式后加上&nbsp;<code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">for</span></code>&nbsp;或&nbsp;<code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">async</span>&nbsp;<span class="pre" style="hyphens: none;">for</span></code>&nbsp;子句，也可能包含额外的&nbsp;<code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">for</span></code>&nbsp;或&nbsp;<code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">async</span>&nbsp;<span class="pre" style="hyphens: none;">for</span></code>&nbsp;子句，还可能使用&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#await" style="color: rgb(0, 176, 228);"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">await</span></code></a>&nbsp;表达式。 如果一个推导式包含&nbsp;<code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">async</span>&nbsp;<span class="pre" style="hyphens: none;">for</span></code>&nbsp;子句或者&nbsp;<code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">await</span></code>&nbsp;表达式，则被称为&nbsp;<em class="dfn">异步推导式</em>。 异步推导式可以暂停执行它所在的协程函数。 另请参阅&nbsp;<span class="target" id="index-101"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0530" style="color: rgb(99, 99, 187); text-decoration-line: none;"><strong>PEP 530</strong></a>。</p><div class="versionadded" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><p style="hyphens: auto; text-align: justify; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">3.6 新版功能:&nbsp;</span>引入了异步推导式。</p></div><div class="deprecated" style="border-radius: 3px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><p style="hyphens: auto; text-align: justify; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">3.7 版后已移除:&nbsp;</span><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">yield</span></code>&nbsp;and&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">yield</span>&nbsp;<span class="pre" style="hyphens: none;">from</span></code>&nbsp;在隐式嵌套的作用域内已弃用。</p></div></div><h6 id="blogTitle111">List displays</h6><div><p id="index-14" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">列表显示是一个用方括号括起来的可能为空的表达式系列:</p><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><strong id="grammar-token-list-display">list_display</strong> ::=  "[" [<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#grammar-token-starred-list" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">starred_list</span></code></a> | <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#grammar-token-comprehension" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">comprehension</span></code></a>] "]"
</pre><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">列表显示会产生一个新的列表对象，其内容通过一系列表达式或一个推导式来指定。 当提供由逗号分隔的一系列表达式时，其元素会从左至右被求值并按此顺序放入列表对象。 当提供一个推导式时，列表会根据推导式所产生的结果元素进行构建。</p></div><h6 id="blogTitle112">Set displays</h6><div><p id="index-15" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">集合显示是用花括号标明的，与字典显示的区别在于没有冒号分隔的键和值:</p><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><strong id="grammar-token-set-display">set_display</strong> ::=  "{" (<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#grammar-token-starred-list" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">starred_list</span></code></a> | <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#grammar-token-comprehension" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">comprehension</span></code></a>) "}"
</pre><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">集合显示会产生一个新的可变集合对象，其内容通过一系列表达式或一个推导式来指定。 当提供由逗号分隔的一系列表达式时，其元素会从左至右被求值并加入到集合对象。 当提供一个推导式时，集合会根据推导式所产生的结果元素进行构建。</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">空集合不能用&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">{}</span></code>&nbsp;来构建；该字面值所构建的是一个空字典。</p></div><h6 id="blogTitle113">Dictionary displays</h6><div><p id="index-16" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">字典显示是一个用花括号括起来的可能为空的键/数据对系列:</p><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><strong id="grammar-token-dict-display">dict_display      </strong> ::=  "{" [<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#grammar-token-key-datum-list" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">key_datum_list</span></code></a> | <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#grammar-token-dict-comprehension" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">dict_comprehension</span></code></a>] "}"
<strong id="grammar-token-key-datum-list">key_datum_list    </strong> ::=  <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#grammar-token-key-datum" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">key_datum</span></code></a> ("," <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#grammar-token-key-datum" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">key_datum</span></code></a>)* [","]
<strong id="grammar-token-key-datum">key_datum         </strong> ::=  <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#grammar-token-expression" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">expression</span></code></a> ":" <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#grammar-token-expression" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">expression</span></code></a> | "**" <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#grammar-token-or-expr" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">or_expr</span></code></a>
<strong id="grammar-token-dict-comprehension">dict_comprehension</strong> ::=  <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#grammar-token-expression" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">expression</span></code></a> ":" <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#grammar-token-expression" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">expression</span></code></a> <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#grammar-token-comp-for" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">comp_for</span></code></a>
</pre><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">字典显示会产生一个新的字典对象。</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">如果给出一个由逗号分隔的键/数据对序列，它们会从左至右被求值以定义字典的条目：每个键对象会被用作在字典中存放相应数据的键。 这意味着你可以在键/数据对序列中多次指定相同的键，最终字典的值将由最后一次给出的键决定。</p><p id="index-17" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">双星号&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">**</span></code>&nbsp;表示&nbsp;<em class="dfn">字典拆包</em>。 它的操作数必须是一个&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/glossary.html#term-mapping" style="color: rgb(99, 99, 187); text-decoration-line: none;">mapping</a>。 每个映射项被会加入新的字典。 后续的值会替代先前的键/数据对和先前的字典拆包所设置的值。</p><div class="versionadded" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><p style="hyphens: auto; text-align: justify; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">3.5 新版功能:&nbsp;</span>拆包到字典显示，最初由&nbsp;<span class="target" id="index-102"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0448" style="color: rgb(99, 99, 187); text-decoration-line: none;"><strong>PEP 448</strong></a>&nbsp;提出。</p></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">字典推导式与列表和集合推导式有所不同，它需要以冒号分隔的两个表达式，后面带上标准的 "for" 和 "if" 子句。 当推导式被执行时，作为结果的键和值元素会按它们的产生顺序被加入新的字典。</p><p id="index-19" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">对键取值类型的限制已列在之前的&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#types" style="color: rgb(99, 99, 187); text-decoration-line: none;">标准类型层级结构</a>&nbsp;一节中。 (总的说来，键的类型应该为&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/glossary.html#term-hashable" style="color: rgb(99, 99, 187); text-decoration-line: none;">hashable</a>，这就把所有可变对象都排除在外。) 重复键之间的冲突不会被检测；指定键所保存的最后一个数据 (即在显示中排最右边的文本) 为最终有效数据。</p></div><h5 id="blogTitle114">Generator expressions</h5><div><p id="index-20" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">生成器表达式是用圆括号括起来的紧凑形式生成器标注。</p><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><strong id="grammar-token-generator-expression">generator_expression</strong> ::=  "(" <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#grammar-token-expression" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">expression</span></code></a> <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#grammar-token-comp-for" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">comp_for</span></code></a> ")"
</pre><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">生成器表达式会产生一个新的生成器对象。 其句法与推导式相同，区别在于它是用圆括号而不是用方括号或花括号括起来的。</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">在生成器表达式中使用的变量会在为生成器对象调用&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#generator.__next__" title="generator.__next__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__next__()</span></code></a>&nbsp;方法的时候以惰性方式被求值（即与普通生成器相同的方式）。 但是，最左侧&nbsp;<code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">for</span></code>&nbsp;子句内的可迭代对象是会被立即求值的，因此它所造成的错误会在生成器表达式被定义时被检测到，而不是在获取第一个值时才出错。 后续的&nbsp;<code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">for</span></code>&nbsp;子句以及最左侧&nbsp;<code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">for</span></code>&nbsp;子句内的任何筛选条件无法在外层作用域内被求值，因为它们可能会依赖于从最左侧可迭代对象获取的值。 例如:&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">(x*y</span>&nbsp;<span class="pre" style="hyphens: none;">for</span>&nbsp;<span class="pre" style="hyphens: none;">x</span>&nbsp;<span class="pre" style="hyphens: none;">in</span>&nbsp;<span class="pre" style="hyphens: none;">range(10)</span>&nbsp;<span class="pre" style="hyphens: none;">for</span>&nbsp;<span class="pre" style="hyphens: none;">y</span>&nbsp;<span class="pre" style="hyphens: none;">in</span>&nbsp;<span class="pre" style="hyphens: none;">range(x,</span>&nbsp;<span class="pre" style="hyphens: none;">x+10))</span></code>.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">圆括号在只附带一个参数的调用中可以被省略。 详情参见&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#calls" style="color: rgb(99, 99, 187); text-decoration-line: none;">调用</a>&nbsp;一节。</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">为避免干扰到生成器表达式本身预期的操作，<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">yield</span></code>&nbsp;和&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">yield</span>&nbsp;<span class="pre" style="hyphens: none;">from</span></code>&nbsp;表达式禁止在隐式定义的生成器中使用 (在 Python 3.7 中，这种表达式会在编译时引发&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#DeprecationWarning" title="DeprecationWarning" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">DeprecationWarning</span></code></a>，在 Python 3.8+ 中它们将引发&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#SyntaxError" title="SyntaxError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">SyntaxError</span></code></a>)。</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">如果生成器表达式包含&nbsp;<code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">async</span>&nbsp;<span class="pre" style="hyphens: none;">for</span></code>&nbsp;子句或&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#await" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">await</span></code></a>&nbsp;表达式，则称为&nbsp;<em class="dfn">异步生成器表达式</em>。 异步生成器表达式会返回一个新的异步生成器对象，此对象属于异步迭代器 (参见&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#async-iterators" style="color: rgb(99, 99, 187); text-decoration-line: none;">异步迭代器</a>)。</p><div class="versionadded" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><p style="hyphens: auto; text-align: justify; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">3.6 新版功能:&nbsp;</span>引入了异步生成器表达式。</p></div><div class="versionchanged" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><p style="hyphens: auto; text-align: justify; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">在 3.7 版更改:&nbsp;</span>在 Python 3.7 之前，异步生成器表达式只能在&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/compound_stmts.html#async-def" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">async</span>&nbsp;<span class="pre" style="hyphens: none;">def</span></code></a>&nbsp;协和中出现。 从 3.7 开始，任何函数都可以使用异步生成器表达式。</p></div><div class="deprecated" style="border-radius: 3px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><p style="hyphens: auto; text-align: justify; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">3.7 版后已移除:&nbsp;</span><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">yield</span></code>&nbsp;and&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">yield</span>&nbsp;<span class="pre" style="hyphens: none;">from</span></code>&nbsp;在隐式嵌套的作用域内已弃用。</p></div></div><h5 id="blogTitle115">Yield 表达式</h5><div><pre id="index-21" style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><pre id="index-21" style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><strong id="grammar-token-yield-atom">yield_atom      </strong> ::=  "(" <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#grammar-token-yield-expression" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">yield_expression</span></code></a> ")"
<strong id="grammar-token-yield-expression">yield_expression</strong> ::=  "yield" [<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#grammar-token-expression-list" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">expression_list</span></code></a> | "from" <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#grammar-token-expression" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">expression</span></code></a>]
</pre><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; white-space: normal; background-color: rgb(255, 255, 255);">yield 表达式在定义&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/glossary.html#term-generator" style="color: rgb(99, 99, 187); text-decoration-line: none;">generator</a>&nbsp;函数或是&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/glossary.html#term-asynchronous-generator" style="color: rgb(99, 99, 187); text-decoration-line: none;">asynchronous generator</a>&nbsp;的时候才会用到。 因此只能在函数定义的内部使用yield表达式。 在一个函数体内使用 yield 表达式会使这个函数变成一个生成器，并且在一个&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/compound_stmts.html#async-def" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">async</span>&nbsp;<span class="pre" style="hyphens: none;">def</span></code></a>&nbsp;定义的函数体内使用 yield 表达式会让协程函数变成异步的生成器。 比如说:</p><div class="highlight-python3 notranslate" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; white-space: normal; background-color: rgb(255, 255, 255); position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">def</span> <span class="nf" style="color: rgb(6, 40, 126);">gen</span><span class="p">():</span>  <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># defines a generator function</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">yield</span> <span class="mi" style="color: rgb(32, 128, 80);">123</span>

<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">async</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">def</span> <span class="nf" style="color: rgb(6, 40, 126);">agen</span><span class="p">():</span> <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># defines an asynchronous generator function</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">yield</span> <span class="mi" style="color: rgb(32, 128, 80);">123</span>
</pre></div></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; white-space: normal; background-color: rgb(255, 255, 255);">由于它们会对外层作用域造成附带影响，<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">yield</span></code>&nbsp;表达式不被允许作为用于实现推导式和生成器表达式的隐式定义作用域的一部分 (在 Python 3.7 中，此类表达式会在编译时引发&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#DeprecationWarning" title="DeprecationWarning" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">DeprecationWarning</span></code></a>，在 Python 3.8+ 中它们将引发&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#SyntaxError" title="SyntaxError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">SyntaxError</span></code></a>)。</p><div class="deprecated" style="border-radius: 3px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; white-space: normal; background-color: rgb(255, 255, 255);"><p style="hyphens: auto; text-align: justify; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">3.7 版后已移除:&nbsp;</span>yield 表达式在用于实现推导式和生成器表达式的隐式嵌套作用域中已弃用。</p></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; white-space: normal; background-color: rgb(255, 255, 255);">下面是对生成器函数的描述，异步生成器函数会在&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#asynchronous-generator-functions" style="color: rgb(99, 99, 187); text-decoration-line: none;">异步生成器函数</a>&nbsp;一节中单独介绍。</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; white-space: normal; background-color: rgb(255, 255, 255);">当一个生成器函数被调用的时候，它返回一个迭代器，称为生成器。然后这个生成器来控制生成器函数的执行。当这个生成器的某一个方法被调用的时候，生成器函数开始执行。这时会一直执行到第一个 yield 表达式，在此执行再次被挂起，给生成器的调用者返回&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#grammar-token-expression-list" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-token docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">expression_list</span></code></a>&nbsp;的值。挂起后，我们说所有局部状态都被保留下来，包括局部变量的当前绑定，指令指针，内部求值栈和任何异常处理的状态。通过调用生成器的某一个方法，生成器函数继续执行。此时函数的运行就和 yield 表达式只是一个外部函数调用的情况完全一致。恢复后 yield 表达式的值取决于调用的哪个方法来恢复执行。 如果用的是&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#generator.__next__" title="generator.__next__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__next__()</span></code></a>(通常通过语言内置的&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/compound_stmts.html#for" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">for</span></code></a>&nbsp;或是&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#next" title="next" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">next()</span></code></a>&nbsp;来调用) 那么结果就是&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/constants.html#None" title="None" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code></a>. 否则，如果用&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#generator.send" title="generator.send" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">send()</span></code></a>, 那么结果就是传递给send方法的值。</p><p id="index-22" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; white-space: normal; background-color: rgb(255, 255, 255);">所有这些使生成器函数与协程非常相似；它们 yield 多次，它们具有多个入口点，并且它们的执行可以被挂起。唯一的区别是生成器函数不能控制在它在 yield 后交给哪里继续执行；控制权总是转移到生成器的调用者。</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; white-space: normal; background-color: rgb(255, 255, 255);">在&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/compound_stmts.html#try" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">try</span></code></a>&nbsp;结构中的任何位置都允许yield表达式。如果生成器在(因为引用计数到零或是因为被垃圾回收)销毁之前没有恢复执行，将调用生成器-迭代器的&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#generator.close" title="generator.close" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">close()</span></code></a>&nbsp;方法. close 方法允许任何挂起的&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/compound_stmts.html#finally" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">finally</span></code></a>&nbsp;子句执行。</p><p id="index-23" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; white-space: normal; background-color: rgb(255, 255, 255);">当使用&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">yield</span>&nbsp;<span class="pre" style="hyphens: none;">from</span>&nbsp;<span class="pre" style="hyphens: none;">&lt;expr&gt;</span></code>&nbsp;时，它会将所提供的表达式视为一个子迭代器。 这个子迭代器产生的所有值都直接被传递给当前生成器方法的调用者。 通过&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#generator.send" title="generator.send" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">send()</span></code></a>&nbsp;传入的任何值以及通过&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#generator.throw" title="generator.throw" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">throw()</span></code></a>&nbsp;传入的任何异常如果有适当的方法则会被传给下层迭代器。 如果不是这种情况，那么&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#generator.send" title="generator.send" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">send()</span></code></a>&nbsp;将引发&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#AttributeError" title="AttributeError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">AttributeError</span></code></a>&nbsp;或&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#TypeError" title="TypeError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">TypeError</span></code></a>，而&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#generator.throw" title="generator.throw" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">throw()</span></code></a>&nbsp;将立即引发所传入的异常。</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; white-space: normal; background-color: rgb(255, 255, 255);">当下层迭代器完成时，被引发的&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#StopIteration" title="StopIteration" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">StopIteration</span></code></a>&nbsp;实例的&nbsp;<code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">value</span></code>&nbsp;属性会成为 yield 表达式的值。 它可以在引发&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#StopIteration" title="StopIteration" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">StopIteration</span></code></a>&nbsp;时被显式地设置，也可以在子迭代器是一个生成器时自动地设置（通过从子生成器返回一个值）。</p><blockquote style="hyphens: auto; text-align: justify; line-height: 20.8px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; white-space: normal; background-color: rgb(255, 255, 255);"><div class="versionchanged"><p style="hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">在 3.3 版更改:&nbsp;</span>添加&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">yield</span>&nbsp;<span class="pre" style="hyphens: none;">from</span>&nbsp;<span class="pre" style="hyphens: none;">&lt;expr&gt;</span></code>&nbsp;以委托控制流给一个子迭代器。</p></div></blockquote><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; white-space: normal; background-color: rgb(255, 255, 255);">当yield表达式是赋值语句右侧的唯一表达式时，括号可以省略。</p><div class="admonition seealso" style="margin-top: 10px; margin-bottom: 10px; padding: 7px; background-color: rgb(255, 255, 204); border: 1px solid rgb(221, 221, 102); border-radius: 3px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; white-space: normal;"><p class="first admonition-title" style="margin: 0px 10px 5px 0px; font-weight: bold; display: inline; hyphens: auto; text-align: justify; line-height: 22.4px;">参见</p><dl class="last docutils" style="margin-bottom: 0px;"><dt style="font-weight: bold;"><span class="target" id="index-103"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0255" style="color: rgb(99, 99, 187); text-decoration-line: none;">PEP 255</a>&nbsp;- 简单生成器</dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;">在 Python 中加入生成器和&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/simple_stmts.html#yield" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">yield</span></code></a>&nbsp;语句的提议。</dd><dt style="font-weight: bold;"><span class="target" id="index-104"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0342" style="color: rgb(99, 99, 187); text-decoration-line: none;">PEP 342</a>&nbsp;- 通过增强型生成器实现协程</dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;">增强生成器 API 和语法的提议，使其可以被用作简单的协程。</dd><dt style="font-weight: bold;"><span class="target" id="index-105"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0380" style="color: rgb(99, 99, 187); text-decoration-line: none;">PEP 380</a>&nbsp;- 委托给子生成器的语法</dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;">引入&nbsp;<code class="xref std std-token docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">yield_from</span></code>&nbsp;语法的提议，以方便地委托给子生成器。</dd><dt style="font-weight: bold;"><span class="target" id="index-106"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0525" style="color: rgb(99, 99, 187); text-decoration-line: none;">PEP 525</a>&nbsp;- 异步生成器</dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;">通过给协程函数加入生成器功能对&nbsp;<span class="target" id="index-107"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0492" style="color: rgb(99, 99, 187); text-decoration-line: none;"><strong>PEP 492</strong></a>&nbsp;进行扩展的提议。</dd></dl></div></pre></div><h6 id="blogTitle116">生成器-迭代器的方法</h6><div><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">这个子小节描述了生成器迭代器的方法。 它们可被用于控制生成器函数的执行。</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">请注意在生成器已经在执行时调用以下任何方法都会引发&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#ValueError" title="ValueError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">ValueError</span></code></a>&nbsp;异常。</p><dl class="method" style="margin-bottom: 15px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><dt id="generator.__next__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">generator.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__next__</code><span class="sig-paren" style="font-size: larger;">(</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/expressions.html#generator.__next__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">开始一个生成器函数的执行或是从上次执行的 yield 表达式位置恢复执行。 当一个生成器函数通过&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#generator.__next__" title="generator.__next__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__next__()</span></code></a>&nbsp;方法恢复执行时，当前的 yield 表达式总是取值为&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/constants.html#None" title="None" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code></a>。 随后会继续执行到下一个 yield 表达式，其&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#grammar-token-expression-list" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-token docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">expression_list</span></code></a>&nbsp;的值会返回给&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#generator.__next__" title="generator.__next__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__next__()</span></code></a>&nbsp;的调用者。 如果生成器没有产生下一个值就退出，则将引发&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#StopIteration" title="StopIteration" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">StopIteration</span></code></a>&nbsp;异常。</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">此方法通常是隐式地调用，例如通过&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/compound_stmts.html#for" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">for</span></code></a>&nbsp;循环或是内置的&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#next" title="next" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">next()</span></code></a>&nbsp;函数。</p></dd></dl><dl class="method" style="margin-bottom: 15px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><dt id="generator.send"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">generator.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">send</code><span class="sig-paren" style="font-size: larger;">(</span><em>value</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/expressions.html#generator.send" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">恢复执行并向生成器函数“发送”一个值。&nbsp;<em>value</em>&nbsp;参数将成为当前 yield 表达式的结果。&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#generator.send" title="generator.send" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">send()</span></code></a>&nbsp;方法会返回生成器所产生的下一个值，或者如果生成器没有产生下一个值就退出则会引发&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#StopIteration" title="StopIteration" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">StopIteration</span></code></a>。 当调用&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#generator.send" title="generator.send" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">send()</span></code></a>&nbsp;来启动生成器时，它必须以&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/constants.html#None" title="None" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code></a>&nbsp;作为调用参数，因为这时没有可以接收值的 yield 表达式。</p></dd></dl><dl class="method" style="margin-bottom: 15px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><dt id="generator.throw"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">generator.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">throw</code><span class="sig-paren" style="font-size: larger;">(</span><em>type</em><span class="optional" style="font-size: 1.3em;">[</span>,&nbsp;<em>value</em><span class="optional" style="font-size: 1.3em;">[</span>,&nbsp;<em>traceback</em><span class="optional" style="font-size: 1.3em;">]</span><span class="optional" style="font-size: 1.3em;">]</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/expressions.html#generator.throw" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">在生成器暂停的位置引发&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">type</span></code>&nbsp;类型的异常，并返回该生成器函数所产生的下一个值。 如果生成器没有产生下一个值就退出，则将引发&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#StopIteration" title="StopIteration" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">StopIteration</span></code></a>&nbsp;异常。 如果生成器函数没有捕获传入的异常，或引发了另一个异常，则该异常会被传播给调用者。</p></dd></dl><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><span class="target" id="index-30" style="text-align: start;"></span><span class="target" id="index-31" style="text-align: start;"></span></p><dl class="method" style="margin-bottom: 15px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><dt id="generator.close"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">generator.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">close</code><span class="sig-paren" style="font-size: larger;">(</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/expressions.html#generator.close" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">在生成器函数暂停的位置引发&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#GeneratorExit" title="GeneratorExit" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">GeneratorExit</span></code></a>。 如果之后生成器函数正常退出、关闭或引发&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#GeneratorExit" title="GeneratorExit" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">GeneratorExit</span></code></a>&nbsp;(由于未捕获该异常) 则关闭并返回其调用者。 如果生成器产生了一个值，关闭会引发&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#RuntimeError" title="RuntimeError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">RuntimeError</span></code></a>。 如果生成器引发任何其他异常，它会被传播给调用者。 如果生成器已经由于异常或正常退出则&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#generator.close" title="generator.close" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">close()</span></code></a>&nbsp;不会做任何事。</p></dd></dl></div><h6 id="blogTitle117">示例</h6><div><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">这里是一个简单的例子，演示了生成器和生成器函数的行为:</p><div class="highlight-python3 notranslate" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255); position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><span class="copybutton" title="Hide the prompts and output" style="cursor: pointer; position: absolute; top: 0px; right: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</span><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">def</span> <span class="nf" style="color: rgb(6, 40, 126);">echo</span><span class="p">(</span><span class="n">value</span><span class="o" style="color: rgb(102, 102, 102);">=</span><span class="kc" style="color: rgb(0, 112, 32); font-weight: bold;">None</span><span class="p">):</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">... </span>    <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="s2" style="color: rgb(64, 112, 160);">"Execution starts when 'next()' is called for the first time."</span><span class="p">)</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">... </span>    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">try</span><span class="p">:</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">... </span>        <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">while</span> <span class="kc" style="color: rgb(0, 112, 32); font-weight: bold;">True</span><span class="p">:</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">... </span>            <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">try</span><span class="p">:</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">... </span>                <span class="n">value</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="p">(</span><span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">yield</span> <span class="n">value</span><span class="p">)</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">... </span>            <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">except</span> <span class="ne" style="color: rgb(0, 112, 32);">Exception</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">as</span> <span class="n">e</span><span class="p">:</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">... </span>                <span class="n">value</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">e</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">... </span>    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">finally</span><span class="p">:</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">... </span>        <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="s2" style="color: rgb(64, 112, 160);">"Don't forget to clean up when 'close()' is called."</span><span class="p">)</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">...</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">generator</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">echo</span><span class="p">(</span><span class="mi" style="color: rgb(32, 128, 80);">1</span><span class="p">)</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="nb" style="color: rgb(0, 112, 32);">next</span><span class="p">(</span><span class="n">generator</span><span class="p">))</span>
<span class="go">Execution starts when 'next()' is called for the first time.</span>
<span class="go">1</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="nb" style="color: rgb(0, 112, 32);">next</span><span class="p">(</span><span class="n">generator</span><span class="p">))</span>
<span class="go">None</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="n">generator</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">send</span><span class="p">(</span><span class="mi" style="color: rgb(32, 128, 80);">2</span><span class="p">))</span>
<span class="go">2</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">generator</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">throw</span><span class="p">(</span><span class="ne" style="color: rgb(0, 112, 32);">TypeError</span><span class="p">,</span> <span class="s2" style="color: rgb(64, 112, 160);">"spam"</span><span class="p">)</span>
<span class="go">TypeError('spam',)</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">generator</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">close</span><span class="p">()</span>
<span class="go">Don't forget to clean up when 'close()' is called.</span>
</pre></div></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">对于&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">yield</span>&nbsp;<span class="pre" style="hyphens: none;">from</span></code>&nbsp;的例子, 参见 “What’s New in Python” 中的&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/whatsnew/3.3.html#pep-380" style="color: rgb(99, 99, 187); text-decoration-line: none;">PEP 380: Syntax for Delegating to a Subgenerator</a>。</p></div><h6 id="blogTitle118">异步生成器函数</h6><div><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">在一个使用&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/compound_stmts.html#async-def" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">async</span>&nbsp;<span class="pre" style="hyphens: none;">def</span></code></a>&nbsp;定义的函数或方法出现的 yield 表达式会进一步将该函数定义为一个&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/glossary.html#term-asynchronous-generator" style="color: rgb(99, 99, 187); text-decoration-line: none;">asynchronous generator</a>&nbsp;函数。</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">当一个异步生成器函数被调用时，它会返回一个名为异步生成器对象的异步迭代器。 此对象将在之后控制该生成器函数的执行。 异步生成器对象通常被用在协程函数的&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/compound_stmts.html#async-for" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">async</span>&nbsp;<span class="pre" style="hyphens: none;">for</span></code></a>&nbsp;语句中，类似于在&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/compound_stmts.html#for" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">for</span></code></a>&nbsp;语句中使用生成器对象。</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">调用异步生成器的方法之一将返回&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/glossary.html#term-awaitable" style="color: rgb(99, 99, 187); text-decoration-line: none;">awaitable</a>&nbsp;对象，执行会在此对象被等待时启动。 到那时，执行将前往第一个 yield 表达式，在那里它会再次暂停，将&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#grammar-token-expression-list" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-token docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">expression_list</span></code></a>&nbsp;的值返回给等待中的协程。 与生成器一样，挂起意味着局部的所有状态会被保留，包括局部变量的当前绑定、指令的指针、内部求值的堆栈以及任何异常处理的状态。 当执行在等待异步生成器的方法返回下一个对象后恢复时，该函数可以从原状态继续进行，就仿佛 yield 表达式只是另一个外部调用。 恢复执行之后 yield 表达式的值取决于恢复执行所用的方法。 如果使用&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#agen.__anext__" title="agen.__anext__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__anext__()</span></code></a>&nbsp;则结果为&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/constants.html#None" title="None" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code></a>。 否则的话，如果使用&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#agen.asend" title="agen.asend" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">asend()</span></code></a>&nbsp;则结果将是传递给该方法的值。</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">在异步生成器函数中，yield 表达式允许出现在&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/compound_stmts.html#try" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">try</span></code></a>&nbsp;结构的任何位置。 但是，如果一个异步生成器在其被终结（由于引用计数达到零或被作为垃圾回收）之前未被恢复，则then a yield expression within a&nbsp;<code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">try</span></code>结构中的 yield 表达式可能导致挂起的&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/compound_stmts.html#finally" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">finally</span></code></a>&nbsp;子句执行失败。 在此情况下，应由运行该异步生成器的事件循环或任务调度器来负责调用异步生成器-迭代器的&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#agen.aclose" title="agen.aclose" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">aclose()</span></code></a>&nbsp;方法并运行所返回的协程对象，从而允许任何挂起的&nbsp;<code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">finally</span></code>&nbsp;子句得以执行。</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">为了能处理最终化，事件循环应该定义一个&nbsp;<em>终结器</em>&nbsp;函数，它接受一个异步生成器-迭代器且可能调用&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#agen.aclose" title="agen.aclose" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">aclose()</span></code></a>&nbsp;并执行协程。 这个&nbsp;<em>终结器</em>&nbsp;可能通过调用&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/sys.html#sys.set_asyncgen_hooks" title="sys.set_asyncgen_hooks" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">sys.set_asyncgen_hooks()</span></code></a>&nbsp;来注册。 当首次迭代时，异步生成器-迭代器将保存已注册的&nbsp;<em>终结器</em>&nbsp;以便在最终化时调用。 有关For a reference example of a&nbsp;<em>终结器</em>&nbsp;方法的参考示例请查看&nbsp;<a class="reference external" href="https://github.com/python/cpython/tree/3.7/Lib/asyncio/base_events.py" style="color: rgb(99, 99, 187); text-decoration-line: none;">Lib/asyncio/base_events.py</a>&nbsp;中实现的&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">asyncio.Loop.shutdown_asyncgens</span></code>。</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">yield</span>&nbsp;<span class="pre" style="hyphens: none;">from</span>&nbsp;<span class="pre" style="hyphens: none;">&lt;expr&gt;</span></code>&nbsp;表达式如果在异步生成器函数中使用会引发语法错误。</p></div><h6 id="blogTitle119">Asynchronous generator-iterator methods</h6><div><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">这个子小节描述了异步生成器迭代器的方法，它们可被用于控制生成器函数的执行。</p><dl class="method" style="margin-bottom: 15px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><dt id="agen.__anext__"><em class="property">coroutine&nbsp;</em><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">agen.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__anext__</code><span class="sig-paren" style="font-size: larger;">(</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/expressions.html#agen.__anext__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">返回一个可等待对象，它在运行时会开始执行该异步生成器或是从上次执行的 yield 表达式位置恢复执行。 当一个异步生成器函数通过&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#agen.__anext__" title="agen.__anext__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__anext__()</span></code></a>&nbsp;方法恢复执行时，当前的 yield 表达式所返回的可等待对象总是取值为&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/constants.html#None" title="None" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code></a>，它在运行时将继续执行到下一个 yield 表达式。 该 yield 表达式的&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#grammar-token-expression-list" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-token docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">expression_list</span></code></a>&nbsp;的值会是完成的协程所引发的&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#StopIteration" title="StopIteration" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">StopIteration</span></code></a>&nbsp;异常的值。 如果异步生成器没有产生下一个值就退出，则该可等待对象将引发&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#StopAsyncIteration" title="StopAsyncIteration" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">StopAsyncIteration</span></code></a>&nbsp;异常，提示该异步迭代操作已完成。</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">此方法通常是通过&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/compound_stmts.html#async-for" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">async</span>&nbsp;<span class="pre" style="hyphens: none;">for</span></code></a>&nbsp;循环隐式地调用。</p></dd></dl><dl class="method" style="margin-bottom: 15px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><dt id="agen.asend"><em class="property">coroutine&nbsp;</em><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">agen.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">asend</code><span class="sig-paren" style="font-size: larger;">(</span><em>value</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/expressions.html#agen.asend" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">返回一个可等待对象，它在运行时会恢复该异步生成器的执行。 与生成器的&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#generator.send" title="generator.send" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">send()</span></code></a>&nbsp;方法一样，此方法会“发送”一个值给异步生成器函数，其&nbsp;<em>value</em>&nbsp;参数会成为当前 yield 表达式的结果值。&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#agen.asend" title="agen.asend" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">asend()</span></code></a>&nbsp;方法所返回的可等待对象将返回生成器产生的下一个值，其值为所引发的&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#StopIteration" title="StopIteration" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">StopIteration</span></code></a>，或者如果异步生成器没有产生下一个值就退出则引发&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#StopAsyncIteration" title="StopAsyncIteration" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">StopAsyncIteration</span></code></a>。 当调用&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#agen.asend" title="agen.asend" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">asend()</span></code></a>&nbsp;来启动异步生成器时，它必须以&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/constants.html#None" title="None" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code></a>&nbsp;作为调用参数，因为这时没有可以接收值的 yield 表达式。</p></dd></dl><dl class="method" style="margin-bottom: 15px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><dt id="agen.athrow"><em class="property">coroutine&nbsp;</em><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">agen.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">athrow</code><span class="sig-paren" style="font-size: larger;">(</span><em>type</em><span class="optional" style="font-size: 1.3em;">[</span>,&nbsp;<em>value</em><span class="optional" style="font-size: 1.3em;">[</span>,&nbsp;<em>traceback</em><span class="optional" style="font-size: 1.3em;">]</span><span class="optional" style="font-size: 1.3em;">]</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/expressions.html#agen.athrow" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">返回一个可等待对象，它会在异步生成器暂停的位置引发&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">type</span></code>&nbsp;类型的异常，并返回该生成器函数所产生的下一个值，其值为所引发的&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#StopIteration" title="StopIteration" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">StopIteration</span></code></a>&nbsp;异常。 如果异步生成器没有产生下一个值就退出，则将由该可等待对象引发&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#StopAsyncIteration" title="StopAsyncIteration" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">StopAsyncIteration</span></code></a>&nbsp;异常。 如果生成器函数没有捕获传入的异常，或引发了另一个异常，则当可等待对象运行时该异常会被传播给可等待对象的调用者。</p></dd></dl><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><span class="target" id="index-34" style="text-align: start;"></span><span class="target" id="index-35" style="text-align: start;"></span></p><dl class="method" style="margin-bottom: 15px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><dt id="agen.aclose"><em class="property">coroutine&nbsp;</em><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">agen.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">aclose</code><span class="sig-paren" style="font-size: larger;">(</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/expressions.html#agen.aclose" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">返回一个可等待对象，它会在运行时向异步生成器函数暂停的位置抛入一个&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#GeneratorExit" title="GeneratorExit" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">GeneratorExit</span></code></a>。 如果该异步生成器函数正常退出、关闭或引发&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#GeneratorExit" title="GeneratorExit" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">GeneratorExit</span></code></a>&nbsp;(由于未捕获该异常) 则返回的可等待对象将引发&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#StopIteration" title="StopIteration" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">StopIteration</span></code></a>&nbsp;异常。 后续调用异步生成器所返回的任何其他可等待对象将引发&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#StopAsyncIteration" title="StopAsyncIteration" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">StopAsyncIteration</span></code></a>&nbsp;异常。 如果异步生成器产生了一个值，该可等待对象会引发&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#RuntimeError" title="RuntimeError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">RuntimeError</span></code></a>。 如果异步生成器引发任何其他异常，它会被传播给可等待对象的调用者。 如果异步生成器已经由于异常或正常退出则后续调用&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#agen.aclose" title="agen.aclose" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">aclose()</span></code></a>&nbsp;将返回一个不会做任何事的可等待对象。</p></dd></dl></div><h4 id="blogTitle120">Primaries</h4><div><p id="index-36" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">Primaries 代表编程语言中最紧密绑定的操作。 它们的句法如下:</p><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><strong id="grammar-token-primary">primary</strong> ::=  <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-atom" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">atom</span></code></a> | <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-attributeref" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">attributeref</span></code></a> | <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-subscription" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">subscription</span></code></a> | <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-slicing" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">slicing</span></code></a> | <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-call" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">call</span></code></a></pre></div><h5 id="blogTitle121">Attribute references</h5><div><p id="index-37" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">An attribute reference is a primary followed by a period and a name:</p><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><strong id="grammar-token-attributeref">attributeref</strong> ::=  <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-primary" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">primary</span></code></a> "." <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/lexical_analysis.html#grammar-token-identifier" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">identifier</span></code></a>
</pre><p id="index-38" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">The primary 必须求值为一个支持属性引用的类型的对象，多数对象都支持属性引用。 随后该对象会被要求产生以指定标识符为名称的属性。 这个产生过程可通过重载&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__getattr__" title="object.__getattr__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__getattr__()</span></code></a>&nbsp;方法来自定义。 如果这个属性不可用，则将引发&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#AttributeError" title="AttributeError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">AttributeError</span></code></a>&nbsp;异常。 否则的话，所产生对象的类型和值会根据该对象来确定。 对同一属性引用的多次求值可能产生不同的对象。</p></div><h5 id="blogTitle122">Subscriptions</h5><div><p id="index-40" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">A subscription 是在序列（字符串、元组或列表）或映射（字典）对象中选择一项:</p><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><strong id="grammar-token-subscription">subscription</strong> ::=  <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-primary" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">primary</span></code></a> "[" <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-expression-list" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">expression_list</span></code></a> "]"
</pre><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">The primary 必须求值为一个支持抽取操作的对象（例如列表或字典）。 用户定义的对象可通过定义&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__getitem__" title="object.__getitem__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__getitem__()</span></code></a>&nbsp;方法来支持抽取操作。</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">对于内置对象，有两种类型的对象支持抽取操作:</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">如果原型为映射，表达式列表必须求值为一个以该映射的键为值的对象，抽取操作会在映射中选出该键所对应的值。（表达式列表为一个元组，除非其中只有一项。）</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">如果原型为序列，表达式列表必须求值为一个整数或一个切片（详情见下节）。</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">正式句法规则并没有在序列中设置负标号的特殊保留条款；但是，内置序列所提供的&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__getitem__" title="object.__getitem__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__getitem__()</span></code></a>&nbsp;方法都可通过在索引中添加序列长度来解析负标号 (这样&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">x[-1]</span></code>&nbsp;会选出&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">x</span></code>&nbsp;中的最后一项)。 结果值必须为一个小于序列中项数的非负整数，抽取操作会选出标号为该值的项（从零开始数）。 由于对负标号和切片的支持存在于对象的&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__getitem__" title="object.__getitem__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__getitem__()</span></code></a>&nbsp;方法，重载此方法的子类需要显式地添加这种支持。</p><p id="index-41" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">字符串的项是字符。 字符不是单独的数据类型而是仅有一个字符的字符串。</p></div><h5 id="blogTitle123">Slicings</h5><div><p id="index-43" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">切片就是在序列对象（字符串、元组或列表）中选择某个范围内的项。 切片可被用作表达式以及赋值或&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/simple_stmts.html#del" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">del</span></code></a>&nbsp;语句的目标。 切片的句法如下:</p><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><strong id="grammar-token-slicing">slicing     </strong> ::=  <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#grammar-token-primary" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">primary</span></code></a> "[" <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#grammar-token-slice-list" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">slice_list</span></code></a> "]"
<strong id="grammar-token-slice-list">slice_list  </strong> ::=  <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#grammar-token-slice-item" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">slice_item</span></code></a> ("," <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#grammar-token-slice-item" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">slice_item</span></code></a>)* [","]
<strong id="grammar-token-slice-item">slice_item  </strong> ::=  <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#grammar-token-expression" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">expression</span></code></a> | <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#grammar-token-proper-slice" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">proper_slice</span></code></a>
<strong id="grammar-token-proper-slice">proper_slice</strong> ::=  [<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#grammar-token-lower-bound" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">lower_bound</span></code></a>] ":" [<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#grammar-token-upper-bound" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">upper_bound</span></code></a>] [ ":" [<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#grammar-token-stride" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">stride</span></code></a>] ]
<strong id="grammar-token-lower-bound">lower_bound </strong> ::=  <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#grammar-token-expression" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">expression</span></code></a>
<strong id="grammar-token-upper-bound">upper_bound </strong> ::=  <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#grammar-token-expression" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">expression</span></code></a>
<strong id="grammar-token-stride">stride      </strong> ::=  <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#grammar-token-expression" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">expression</span></code></a>
</pre><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">此处的正式句法中存在一点歧义：任何形似表达式列表的东西同样也会形似切片列表，因此任何抽取操作也可以被解析为切片。 为了不使句法更加复杂，于是通过定义将此情况解析为抽取优先于解析为切片来消除这种歧义（切片列表未包含正确的切片就属于此情况）。</p><p id="index-44" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">切片的语义如下所述。 元型通过一个根据下面的切片列表来构造的键进行索引（与普通抽取一样使用&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__getitem__" title="object.__getitem__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__getitem__()</span></code></a>&nbsp;方法）。 如果切片列表包含至少一个逗号，则键将是一个包含切片项转换的元组；否则的话，键将是单个切片项的转换。 切片项如为一个表达式，则其转换就是该表达式。 一个正确切片的转换就是一个切片对象（参见&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#types" style="color: rgb(99, 99, 187); text-decoration-line: none;">标准类型层级结构</a>&nbsp;一节），该对象的&nbsp;<code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">start</span></code>,&nbsp;<code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">stop</span></code>&nbsp;和&nbsp;<code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">step</span></code>&nbsp;属性将分别为表达式所给出的下界、上界和步长值，省略的表达式将用&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code>&nbsp;来替换。</p></div><h5 id="blogTitle124">调用</h5><div><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">所谓调用就是附带可能为空的一系列&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/glossary.html#term-argument" style="color: rgb(99, 99, 187); text-decoration-line: none;">参数</a>&nbsp;来执行一个可调用对象 (例如&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/glossary.html#term-function" style="color: rgb(99, 99, 187); text-decoration-line: none;">function</a>):</p><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><strong id="grammar-token-call">call                </strong> ::=  <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#grammar-token-primary" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">primary</span></code></a> "(" [<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#grammar-token-argument-list" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">argument_list</span></code></a> [","] | <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#grammar-token-comprehension" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">comprehension</span></code></a>] ")"
<strong id="grammar-token-argument-list">argument_list       </strong> ::=  <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#grammar-token-positional-arguments" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">positional_arguments</span></code></a> ["," <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#grammar-token-starred-and-keywords" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">starred_and_keywords</span></code></a>]
                            ["," <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#grammar-token-keywords-arguments" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">keywords_arguments</span></code></a>]
                          | <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#grammar-token-starred-and-keywords" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">starred_and_keywords</span></code></a> ["," <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#grammar-token-keywords-arguments" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">keywords_arguments</span></code></a>]
                          | <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#grammar-token-keywords-arguments" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">keywords_arguments</span></code></a>
<strong id="grammar-token-positional-arguments">positional_arguments</strong> ::=  ["*"] <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#grammar-token-expression" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">expression</span></code></a> ("," ["*"] <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#grammar-token-expression" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">expression</span></code></a>)*
<strong id="grammar-token-starred-and-keywords">starred_and_keywords</strong> ::=  ("*" <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#grammar-token-expression" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">expression</span></code></a> | <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#grammar-token-keyword-item" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">keyword_item</span></code></a>)
                          ("," "*" <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#grammar-token-expression" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">expression</span></code></a> | "," <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#grammar-token-keyword-item" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">keyword_item</span></code></a>)*
<strong id="grammar-token-keywords-arguments">keywords_arguments  </strong> ::=  (<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#grammar-token-keyword-item" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">keyword_item</span></code></a> | "**" <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#grammar-token-expression" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">expression</span></code></a>)
                          ("," <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#grammar-token-keyword-item" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">keyword_item</span></code></a> | "," "**" <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#grammar-token-expression" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">expression</span></code></a>)*
<strong id="grammar-token-keyword-item">keyword_item        </strong> ::=  <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-identifier" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">identifier</span></code></a> "=" <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#grammar-token-expression" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">expression</span></code></a>
</pre><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">一个可选项为在位置和关键字参数后加上逗号而不影响语义。</p><p id="index-46" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">此原型必须求值为一个可调用对象（用户定义的函数，内置函数，内置对象的方法，类对象，类实例的方法以及任何具有&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__call__" title="object.__call__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__call__()</span></code></a>&nbsp;方法的对象都是可调用对象）。 所有参数表达式将在尝试调用前被求值。 请参阅&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/compound_stmts.html#function" style="color: rgb(99, 99, 187); text-decoration-line: none;">Function definitions</a>&nbsp;一节了解正式的&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/glossary.html#term-parameter" style="color: rgb(99, 99, 187); text-decoration-line: none;">parameter</a>&nbsp;列表句法。</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">如果存在关键字参数，它们会先通过以下操作被转换为位置参数。 首先，为正式参数创建一个未填充空位的列表. 如果有 N 个位置参数，则将它们放入前 N 个空位。 然后，对于每个关键字参数，使用标识符来确定其对应的空位（如果标识符与第一个正式参数名相同则使用第一个个空位，依此类推）。 如果空位已被填充，则会引发&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#TypeError" title="TypeError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">TypeError</span></code></a>&nbsp;异常。 否则，将参数值放入空位进行填充（即使表达式为&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code>&nbsp;也会填充空位）。 当所有参数处理完毕时，尚未填充的空位将用来自函数定义的相应默认值来填充。 （函数一旦定义其参数默认值就会被计算；因此，当列表或字典这类可变对象被用作默认值时，将会被所有未指定相应空位参数值的调用所共享；这种情况通常应当避免。） 如果任何一个未填充空位没有指定默认值，则会引发&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#TypeError" title="TypeError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">TypeError</span></code></a>&nbsp;异常。 否则的话，已填充空位的列表会被作为调用的参数列表。</p><div class="impl-detail compound" style="border-radius: 3px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><p style="hyphens: auto; text-align: justify; line-height: 22.4px; margin: 0px;"><strong>CPython implementation detail:</strong>&nbsp;某些实现可能提供位置参数没有名称的内置函数，即使它们在文档说明的场合下有“命名”，因此不能以关键字形式提供参数。 在 CPython 中，以 C 编写并使用&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/c-api/arg.html#c.PyArg_ParseTuple" title="PyArg_ParseTuple" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref c c-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">PyArg_ParseTuple()</span></code></a>&nbsp;来解析其参数的函数实现就属于这种情况。</p></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">如果存在比正式参数空位多的位置参数，将会引发&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#TypeError" title="TypeError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">TypeError</span></code></a>&nbsp;异常，除非有一个正式参数使用了&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">*identifier</span></code>&nbsp;句法；在此情况下，该正式参数将接受一个包含了多余位置参数的元组（如果没有多余位置参数则为一个空元组）。</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">如果任何关键字参数没有与之对应的正式参数名称，将会引发&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#TypeError" title="TypeError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">TypeError</span></code></a>&nbsp;异常，除非有一个正式参数使用了&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">**identifier</span></code>&nbsp;句法，该正式参数将接受一个包含了多余关键字参数的字典（使用关键字作为键而参数值作为与键对应的值），如果没有多余关键字参数则为一个（新的）空字典。</p><p id="index-47" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">如果函数调用中出现了&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">*expression</span></code>&nbsp;句法，<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">expression</span></code>&nbsp;必须求值为一个&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/glossary.html#term-iterable" style="color: rgb(99, 99, 187); text-decoration-line: none;">iterable</a>。 来自该可迭代对象的元素会被当作是额外的位置参数。 对于&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">f(x1,</span>&nbsp;<span class="pre" style="hyphens: none;">x2,</span>&nbsp;<span class="pre" style="hyphens: none;">*y,</span>&nbsp;<span class="pre" style="hyphens: none;">x3,</span>&nbsp;<span class="pre" style="hyphens: none;">x4)</span></code>&nbsp;调用，如果&nbsp;<em>y</em>&nbsp;求值为一个序列&nbsp;<em>y1</em>, ...,&nbsp;<em>yM</em>，则它就等价于一个带有 M+4 个位置参数&nbsp;<em>x1</em>,&nbsp;<em>x2</em>,&nbsp;<em>y1</em>, ...,&nbsp;<em>yM</em>,&nbsp;<em>x3</em>,&nbsp;<em>x4</em>&nbsp;的调用。</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">这样做的一个后果是虽然&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">*expression</span></code>&nbsp;句法可能出现于显式的关键字参数&nbsp;<em>之后</em>，但它会在关键字参数（以及任何&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">**expression</span></code>&nbsp;参数 -- 见下文）&nbsp;<em>之前</em>&nbsp;被处理。 因此:</p><div class="highlight-python3 notranslate" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255); position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><span class="copybutton" title="Hide the prompts and output" style="cursor: pointer; position: absolute; top: 0px; right: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</span><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">def</span> <span class="nf" style="color: rgb(6, 40, 126);">f</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">... </span>    <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">...</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">(</span><span class="n">b</span><span class="o" style="color: rgb(102, 102, 102);">=</span><span class="mi" style="color: rgb(32, 128, 80);">1</span><span class="p">,</span> <span class="o" style="color: rgb(102, 102, 102);">*</span><span class="p">(</span><span class="mi" style="color: rgb(32, 128, 80);">2</span><span class="p">,))</span>
<span class="go">2 1</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">(</span><span class="n">a</span><span class="o" style="color: rgb(102, 102, 102);">=</span><span class="mi" style="color: rgb(32, 128, 80);">1</span><span class="p">,</span> <span class="o" style="color: rgb(102, 102, 102);">*</span><span class="p">(</span><span class="mi" style="color: rgb(32, 128, 80);">2</span><span class="p">,))</span>
<span class="gt" style="color: rgb(0, 68, 221);">Traceback (most recent call last):</span>
  File <span class="nb" style="color: rgb(0, 112, 32);">"&lt;stdin&gt;"</span>, line <span class="m" style="color: rgb(32, 128, 80);">1</span>, in <span class="n">&lt;module&gt;</span>
<span class="gr" style="color: rgb(255, 0, 0);">TypeError</span>: <span class="n">f() got multiple values for keyword argument 'a'</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">(</span><span class="mi" style="color: rgb(32, 128, 80);">1</span><span class="p">,</span> <span class="o" style="color: rgb(102, 102, 102);">*</span><span class="p">(</span><span class="mi" style="color: rgb(32, 128, 80);">2</span><span class="p">,))</span>
<span class="go">1 2</span>
</pre></div></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">在同一个调用中同时使用关键字参数和&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">*expression</span></code>&nbsp;句法并不常见，因此实际上这样的混淆不会发生。</p><p id="index-48" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">如果函数调用中出现了&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">**expression</span></code>&nbsp;句法，<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">expression</span></code>&nbsp;必须求值为一个&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/glossary.html#term-mapping" style="color: rgb(99, 99, 187); text-decoration-line: none;">mapping</a>，其内容会被当作是额外的关键字参数。 如果一个关键字已存在（作为显式关键字参数，或来自另一个拆包），则将引发&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#TypeError" title="TypeError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">TypeError</span></code></a>&nbsp;异常。</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">使用&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">*identifier</span></code>&nbsp;或&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">**identifier</span></code>&nbsp;句法的正式参数不能被用作位置参数空位或关键字参数名称。</p><div class="versionchanged" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><p style="hyphens: auto; text-align: justify; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">在 3.5 版更改:&nbsp;</span>函数调用接受任意数量的&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">*</span></code>&nbsp;和&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">**</span></code>&nbsp;拆包，位置参数可能跟在可迭代对象拆包 (<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">*</span></code>) 之后，而关键字参数可能跟在字典拆包 (<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">**</span></code>) 之后。 由&nbsp;<span class="target" id="index-108"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0448" style="color: rgb(99, 99, 187); text-decoration-line: none;"><strong>PEP 448</strong></a>&nbsp;发起最初提议。</p></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">除非引发了异常，调用总是会有返回值，返回值也可能为&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code>。 返回值的计算方式取决于可调用对象的类型。</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">如果类型为---</p><dl class="docutils" style="margin-bottom: 15px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><dt>用户自定义函数:</dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p class="first last" id="index-50" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;">函数的代码块会被执行，并向其传入参数列表。 代码块所做的第一件事是将正式形参绑定到对应参数；相关描述参见&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/compound_stmts.html#function" style="color: rgb(99, 99, 187); text-decoration-line: none;">Function definitions</a>&nbsp;一节。 当代码块执行&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/simple_stmts.html#return" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">return</span></code></a>&nbsp;语句时，由其指定函数调用的返回值。</p></dd><dt>内置函数或方法:</dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p class="first last" id="index-51" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;">具体结果依赖于解释器；有关内置函数和方法的描述参见&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#built-in-funcs" style="color: rgb(99, 99, 187); text-decoration-line: none;">内置函数</a>。</p></dd><dt>类对象:</dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p class="first last" id="index-52" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;">返回该类的一个新实例。</p></dd><dt>类实例方法:</dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p class="first last" id="index-53" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;">调用相应的用户自定义函数，向其传入的参数列表会比调用的参数列表多一项：该实例将成为第一个参数。</p></dd><dt>类实例:</dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p class="first last" id="index-54" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;">该类必须定义有&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__call__" title="object.__call__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__call__()</span></code></a>&nbsp;方法；作用效果将等价于调用该方法。</p></dd></dl></div><h4 id="blogTitle125">Await expression</h4><div><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">挂起&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/glossary.html#term-coroutine" style="color: rgb(99, 99, 187); text-decoration-line: none;">coroutine</a>&nbsp;的执行以等待一个&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/glossary.html#term-awaitable" style="color: rgb(99, 99, 187); text-decoration-line: none;">awaitable</a>&nbsp;对象。 只能在&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/glossary.html#term-coroutine-function" style="color: rgb(99, 99, 187); text-decoration-line: none;">coroutine function</a>&nbsp;内部使用。</p><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><strong id="grammar-token-await-expr">await_expr</strong> ::=  "await" <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#grammar-token-primary" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">primary</span></code></a>
</pre><div class="versionadded" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><p style="hyphens: auto; text-align: justify; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">3.5 新版功能.</span></p></div></div><h4 id="blogTitle126">The power operator</h4><div><p id="index-56" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">幂运算符的绑定比在其左侧的一元运算符更紧密；但绑定紧密程度不及在其右侧的一元运算符。 句法如下:</p><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><strong id="grammar-token-power">power</strong> ::=  (<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#grammar-token-await-expr" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">await_expr</span></code></a> | <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#grammar-token-primary" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">primary</span></code></a>) ["**" <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#grammar-token-u-expr" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">u_expr</span></code></a>]
</pre><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">因此，在一个未加圆括号的幂运算符和单目运算符序列中，运算符将从右向左求值（这不会限制操作数的求值顺序）:&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">-1**2</span></code>&nbsp;结果将为&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">-1</span></code>。</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">幂运算符与附带两个参数调用内置&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#pow" title="pow" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">pow()</span></code></a>&nbsp;函数具有相同的语义：结果为对其左参数进行其右参数所指定幂次的乘方运算。 数值参数会先转换为相同类型，结果也为转换后的类型。</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">对于 int 类型的操作数，结果将具有与操作数相同的类型，除非第二个参数为负数；在那种情况下，所有参数会被转换为 float 类型并输出 float 类型的结果。 例如，<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">10**2</span></code>&nbsp;返回&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">100</span></code>，而&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">10**-2</span></code>&nbsp;返回&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">0.01</span></code>。</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">对&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">0.0</span></code>&nbsp;进行负数幂次运算将导致&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#ZeroDivisionError" title="ZeroDivisionError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">ZeroDivisionError</span></code></a>。 对负数进行分数幂次运算将返回&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#complex" title="complex" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">complex</span></code></a>&nbsp;数值。 （在早期版本中这将引发&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#ValueError" title="ValueError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">ValueError</span></code></a>。）</p></div><h4 id="blogTitle127">Conditional expressions（三元表达式）</h4><div><pre id="index-83" style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><strong id="grammar-token-conditional-expression">conditional_expression</strong> ::=  <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-or-test" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">or_test</span></code></a> ["if" <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-or-test" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">or_test</span></code></a> "else" <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-expression" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">expression</span></code></a>]
<strong id="grammar-token-expression">expression            </strong> ::=  <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-conditional-expression" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">conditional_expression</span></code></a> | <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-lambda-expr" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">lambda_expr</span></code></a>
<strong id="grammar-token-expression-nocond">expression_nocond     </strong> ::=  <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-or-test" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">or_test</span></code></a> | <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-lambda-expr-nocond" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">lambda_expr_nocond</span></code></a>
</pre><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">Conditional expressions (sometimes called a “ternary operator”) have the lowest priority of all Python operations.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">The expression&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">x</span>&nbsp;<span class="pre" style="hyphens: none;">if</span>&nbsp;<span class="pre" style="hyphens: none;">C</span>&nbsp;<span class="pre" style="hyphens: none;">else</span>&nbsp;<span class="pre" style="hyphens: none;">y</span></code>&nbsp;first evaluates the condition,&nbsp;<em>C</em>&nbsp;rather than&nbsp;<em>x</em>. If&nbsp;<em>C&nbsp;</em>is true,&nbsp;<em>x</em>&nbsp;is evaluated and its value is returned; otherwise,&nbsp;<em>y</em>&nbsp;is evaluated and its value is returned.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">See&nbsp;<span class="target" id="index-84"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0308" style="color: rgb(99, 99, 187); text-decoration-line: none;"><strong>PEP 308</strong></a>&nbsp;for more details about conditional expressions.</p></div><h4 id="blogTitle128">Lambdas</h4><div><pre id="index-85" style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><strong id="grammar-token-lambda-expr">lambda_expr       </strong> ::=  "lambda" [<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#grammar-token-parameter-list" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">parameter_list</span></code></a>] ":" <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-expression" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">expression</span></code></a>
<strong id="grammar-token-lambda-expr-nocond">lambda_expr_nocond</strong> ::=  "lambda" [<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#grammar-token-parameter-list" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">parameter_list</span></code></a>] ":" <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-expression-nocond" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">expression_nocond</span></code></a>
</pre><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">Lambda expressions (sometimes called lambda forms) are used to create anonymous functions. The expression&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">lambda</span>&nbsp;<span class="pre" style="hyphens: none;">parameters:</span>&nbsp;<span class="pre" style="hyphens: none;">expression</span></code>&nbsp;yields a function object. The unnamed object behaves like a function object defined with:</p><div class="highlight-none notranslate" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;">def &lt;lambda&gt;(parameters):
    return expression
</pre></div></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">See section&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#function" style="color: rgb(99, 99, 187); text-decoration-line: none;">Function definitions</a>&nbsp;for the syntax of parameter lists. Note that functions created with lambda expressions cannot contain statements or annotations.</p></div><h4 id="blogTitle129">Expression lists</h4><div><pre id="index-86" style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><strong id="grammar-token-expression-list">expression_list   </strong> ::=  <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-expression" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">expression</span></code></a> ("," <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-expression" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">expression</span></code></a>)* [","]
<strong id="grammar-token-starred-list">starred_list      </strong> ::=  <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-starred-item" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">starred_item</span></code></a> ("," <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-starred-item" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">starred_item</span></code></a>)* [","]
<strong id="grammar-token-starred-expression">starred_expression</strong> ::=  <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-expression" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">expression</span></code></a> | (<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-starred-item" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">starred_item</span></code></a> ",")* [<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-starred-item" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">starred_item</span></code></a>]
<strong id="grammar-token-starred-item">starred_item      </strong> ::=  <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-expression" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">expression</span></code></a> | "*" <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-or-expr" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">or_expr</span></code></a>
</pre><p id="index-87" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">Except when part of a list or set display, an expression list containing at least one comma yields a tuple. The length of the tuple is the number of expressions in the list. The expressions are evaluated from left to right.</p><p id="index-88" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">An asterisk&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">*</span></code>&nbsp;denotes&nbsp;<em class="dfn">iterable unpacking</em>. Its operand must be an&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/glossary.html#term-iterable" style="color: rgb(99, 99, 187); text-decoration-line: none;">iterable</a>. The iterable is expanded into a sequence of items, which are included in the new tuple, list, or set, at the site of the unpacking.</p><div class="versionadded" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><p style="hyphens: auto; text-align: justify; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">3.5 新版功能:&nbsp;</span>Iterable unpacking in expression lists, originally proposed by&nbsp;<span class="target" id="index-89"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0448" style="color: rgb(99, 99, 187); text-decoration-line: none;"><strong>PEP 448</strong></a>.</p></div><p id="index-90" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">The trailing comma is required only to create a single tuple (a.k.a. a&nbsp;<em>singleton</em>); it is optional in all other cases. A single expression without a trailing comma doesn’t create a tuple, but rather yields the value of that expression. (To create an empty tuple, use an empty pair of parentheses:&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">()</span></code>.)</p></div><div><h4 id="blogTitle130">Evaluation order</h4></div><div><p id="index-91" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">Python evaluates expressions from left to right. Notice that while evaluating an assignment, the right-hand side is evaluated before the left-hand side.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">In the following lines, expressions will be evaluated in the arithmetic order of their suffixes:</p><div class="highlight-python3 notranslate" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255); position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="n">expr1</span><span class="p">,</span> <span class="n">expr2</span><span class="p">,</span> <span class="n">expr3</span><span class="p">,</span> <span class="n">expr4</span>
<span class="p">(</span><span class="n">expr1</span><span class="p">,</span> <span class="n">expr2</span><span class="p">,</span> <span class="n">expr3</span><span class="p">,</span> <span class="n">expr4</span><span class="p">)</span>
<span class="p">{</span><span class="n">expr1</span><span class="p">:</span> <span class="n">expr2</span><span class="p">,</span> <span class="n">expr3</span><span class="p">:</span> <span class="n">expr4</span><span class="p">}</span>
<span class="n">expr1</span> <span class="o" style="color: rgb(102, 102, 102);">+</span> <span class="n">expr2</span> <span class="o" style="color: rgb(102, 102, 102);">*</span> <span class="p">(</span><span class="n">expr3</span> <span class="o" style="color: rgb(102, 102, 102);">-</span> <span class="n">expr4</span><span class="p">)</span>
<span class="n">expr1</span><span class="p">(</span><span class="n">expr2</span><span class="p">,</span> <span class="n">expr3</span><span class="p">,</span> <span class="o" style="color: rgb(102, 102, 102);">*</span><span class="n">expr4</span><span class="p">,</span> <span class="o" style="color: rgb(102, 102, 102);">**</span><span class="n">expr5</span><span class="p">)</span>
<span class="n">expr3</span><span class="p">,</span> <span class="n">expr4</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">expr1</span><span class="p">,</span> <span class="n">expr2</span></pre></div></div></div><div><br></div><h3 id="blogTitle131">组成</h3><div><ul><li>操作数（operand）<br></li><li>运算符（operators）</li></ul></div><div><h4 id="blogTitle132">操作数</h4><div><br></div><h4 id="blogTitle133">运算符</h4><h3 id="blogTitle134">运算符优先级</h3><div><p id="index-92" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">The following table summarizes the operator precedence in Python, from lowest precedence (least binding) to highest precedence (most binding). Operators in the same box have the same precedence. Unless the syntax is explicitly given, operators are binary. Operators in the same box group left to right (except for exponentiation, which groups from right to left).</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">Note that comparisons, membership tests, and identity tests, all have the same precedence and have a left-to-right chaining feature as described in the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#comparisons" style="color: rgb(99, 99, 187); text-decoration-line: none;">Comparisons</a>&nbsp;section.</p><table border="1" class="docutils" style=""><colgroup><col width="56%"><col width="44%"></colgroup><thead valign="bottom"><tr class="row-odd"><th class="head" style="padding: 0.3em 0.5em; border-radius: 3px; border-top: 1px solid rgb(221, 221, 221) !important; border-right: 1px solid rgb(221, 221, 221) !important; border-left: 1px solid rgb(221, 221, 221) !important; border-bottom-color: rgb(221, 221, 221) !important; border-image: initial !important;">Operator</th><th class="head" style="padding: 0.3em 0.5em; border-radius: 3px; border-top: 1px solid rgb(221, 221, 221) !important; border-right: 1px solid rgb(221, 221, 221) !important; border-left: 1px solid rgb(221, 221, 221) !important; border-bottom-color: rgb(221, 221, 221) !important; border-image: initial !important;">描述</th></tr></thead><tbody valign="top"><tr class="row-even"><td style="padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;"><a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#lambda" style=""><span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">lambda</span></a></td><td style="padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">Lambda expression</td></tr><tr class="row-odd"><td style="padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;"><a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#if" style=""><span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">if</span></a>&nbsp;–&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#else" style=""><span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">else</span></a></td><td style="padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">Conditional expression</td></tr><tr class="row-even"><td style="padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;"><a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#or" style=""><span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">or</span></a></td><td style="padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">Boolean OR</td></tr><tr class="row-odd"><td style="padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;"><a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#and" style=""><span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">and</span></a></td><td style="padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">Boolean AND</td></tr><tr class="row-even"><td style="padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;"><a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#not" style=""><span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">not</span></a>&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">x</span></td><td style="padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">Boolean NOT</td></tr><tr class="row-odd"><td style="padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;"><a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#in" style=""><span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">in</span></a>,&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#not-in" style=""><span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">not</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">&nbsp;</span><span class="pre" style="hyphens: none;">in</span></a>,&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#is" style=""><span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">is</span></a>,&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#is-not" style=""><span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">is</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">&nbsp;</span><span class="pre" style="hyphens: none;">not</span></a>,&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">&lt;</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">,</span>&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">&lt;=</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">,</span>&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">&gt;</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">,</span>&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">&gt;=</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">,</span>&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">!=</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">,</span>&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">==</span></td><td style="padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">Comparisons, including membership tests and identity tests</td></tr><tr class="row-even"><td style="padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;"><span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">|</span></td><td style="padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">Bitwise OR</td></tr><tr class="row-odd"><td style="padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;"><span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">^</span></td><td style="padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">Bitwise XOR</td></tr><tr class="row-even"><td style="padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;"><span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">&amp;</span></td><td style="padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">Bitwise AND</td></tr><tr class="row-odd"><td style="padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;"><span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">&lt;&lt;</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">,</span>&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">&gt;&gt;</span></td><td style="padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">Shifts</td></tr><tr class="row-even"><td style="padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;"><span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">+</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">,</span>&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">-</span></td><td style="padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">Addition and subtraction</td></tr><tr class="row-odd"><td style="padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;"><span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">*</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">,</span>&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">@</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">,</span>&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">/</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">,</span>&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">//</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">,</span>&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">%</span></td><td style="padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">Multiplication, matrix multiplication, division, floor division, remainder&nbsp;<a class="footnote-reference" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#id21" id="id15" style="">[5]</a></td></tr><tr class="row-even"><td style="padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;"><span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">+x</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">,</span>&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">-x</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">,</span>&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">~x</span></td><td style="padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">Positive, negative, bitwise NOT</td></tr><tr class="row-odd"><td style="padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;"><span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">**</span></td><td style="padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">Exponentiation&nbsp;<a class="footnote-reference" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#id22" id="id16" style="">[6]</a></td></tr><tr class="row-even"><td style="padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;"><a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#await" style=""><span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">await</span></a>&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">x</span></td><td style="padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">Await expression</td></tr><tr class="row-odd"><td style="padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;"><span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">x[index]</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">,</span>&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">x[index:index]</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">,</span><span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">x(arguments...)</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">,</span>&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">x.attribute</span></td><td style="padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">Subscription, slicing, call, attribute reference</td></tr><tr class="row-even"><td style="padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;"><span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">(expressions...)</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">,</span>&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">[expressions...]</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">,</span><span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">{key:</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">&nbsp;</span><span class="pre" style="hyphens: none;">value...}</span>,&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">{expressions...}</span></td><td style="padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">Binding or tuple display, list display, dictionary display, set display</td></tr></tbody></table></div><h3 id="blogTitle135">一元算术运算符</h3><div><p id="index-57" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">所有算术和位运算具有相同的优先级:</p><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><strong id="grammar-token-u-expr">u_expr</strong> ::=  <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#grammar-token-power" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">power</span></code></a> | "-" <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#grammar-token-u-expr" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">u_expr</span></code></a> | "+" <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#grammar-token-u-expr" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">u_expr</span></code></a> | "~" <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#grammar-token-u-expr" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">u_expr</span></code></a>
</pre><p id="index-58" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">一元运算符&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">-</span></code>&nbsp;(负) 会产生其数值参数的负值。</p><p id="index-59" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">一元运算符&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">+</span></code>&nbsp;(正) 会产生与其数值参数相同的值。</p><p id="index-60" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">一元运算符&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">~</span></code>&nbsp;(取反) 的结果是对其整数参数按位取反。&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">x</span></code>&nbsp;的按位取反被定义为&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">-(x+1)</span></code>。 它只作用于整数。</p><p id="index-61" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">在所有三种情况下，如果参数的类型不正确，将引发&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#TypeError" title="TypeError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">TypeError</span></code></a>&nbsp;异常。</p></div><h4 id="blogTitle136">**</h4><div><p id="index-56" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">幂运算符的绑定比在其左侧的一元运算符更紧密；但绑定紧密程度不及在其右侧的一元运算符。 句法如下:</p><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><strong id="grammar-token-power">power</strong> ::=  (<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#grammar-token-await-expr" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">await_expr</span></code></a> | <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#grammar-token-primary" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">primary</span></code></a>) ["**" <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#grammar-token-u-expr" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">u_expr</span></code></a>]
</pre><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">因此，在一个未加圆括号的幂运算符和单目运算符序列中，运算符将从右向左求值（这不会限制操作数的求值顺序）:&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">-1**2</span></code>&nbsp;结果将为&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">-1</span></code>。</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">幂运算符与附带两个参数调用内置&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#pow" title="pow" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">pow()</span></code></a>&nbsp;函数具有相同的语义：结果为对其左参数进行其右参数所指定幂次的乘方运算。 数值参数会先转换为相同类型，结果也为转换后的类型。</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">对于 int 类型的操作数，结果将具有与操作数相同的类型，除非第二个参数为负数；在那种情况下，所有参数会被转换为 float 类型并输出 float 类型的结果。 例如，<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">10**2</span></code>&nbsp;返回&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">100</span></code>，而&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">10**-2</span></code>&nbsp;返回&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">0.01</span></code>。</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">对&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">0.0</span></code>&nbsp;进行负数幂次运算将导致&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#ZeroDivisionError" title="ZeroDivisionError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">ZeroDivisionError</span></code></a>。 对负数进行分数幂次运算将返回&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#complex" title="complex" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">complex</span></code></a>&nbsp;数值。 （在早期版本中这将引发&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#ValueError" title="ValueError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">ValueError</span></code></a>。）</p></div><h4 id="blogTitle137">+</h4><div><span style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; text-align: justify; background-color: rgb(255, 255, 255);">The unary&nbsp;</span><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px; color: rgb(34, 34, 34); text-align: justify;"><span class="pre" style="hyphens: none;">-</span></code><span style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; text-align: justify; background-color: rgb(255, 255, 255);">&nbsp;(minus) operator yields the negation of its numeric argument.</span><br></div><h4 id="blogTitle138">-</h4><div><p id="index-59" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">The unary&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">+</span></code>&nbsp;(plus) operator yields its numeric argument unchanged.</p></div><h3 id="blogTitle139">一元位运算符</h3><div>转换为二进制后再进行计算<br></div><h4 id="blogTitle140">按位取反：~</h4><div><span style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; text-align: justify; background-color: rgb(255, 255, 255);">一元运算符&nbsp;</span><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px; color: rgb(34, 34, 34); text-align: justify;"><span class="pre" style="hyphens: none;">~</span></code><span style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; text-align: justify; background-color: rgb(255, 255, 255);">&nbsp;(取反) 的结果是对其整数参数按位取反。&nbsp;</span><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px; color: rgb(34, 34, 34); text-align: justify;"><span class="pre" style="hyphens: none;">x</span></code><span style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; text-align: justify; background-color: rgb(255, 255, 255);">&nbsp;的按位取反被定义为&nbsp;</span><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px; color: rgb(34, 34, 34); text-align: justify;"><span class="pre" style="hyphens: none;">-(x+1)</span></code><span style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; text-align: justify; background-color: rgb(255, 255, 255);">。 它只作用于整数。</span><br></div><h3 id="blogTitle141">二元算术运算符</h3><div><p id="index-62" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">二元算术运算符遵循传统的优先级。 请注意某些此类运算符也作用于特定的非数字类型。 除幂运算符以外只有两个优先级别，一个作用于乘法型运算符，另一个作用于加法型运算符:<br></p><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><strong id="grammar-token-m-expr">m_expr</strong> ::=  <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-u-expr" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">u_expr</span></code></a> | <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-m-expr" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">m_expr</span></code></a> "*" <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-u-expr" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">u_expr</span></code></a> | <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-m-expr" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">m_expr</span></code></a> "@" <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-m-expr" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">m_expr</span></code></a> |
            <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-m-expr" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">m_expr</span></code></a> "//" <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-u-expr" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">u_expr</span></code></a> | <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-m-expr" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">m_expr</span></code></a> "/" <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-u-expr" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">u_expr</span></code></a> |
            <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-m-expr" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">m_expr</span></code></a> "%" <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-u-expr" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">u_expr</span></code></a>
<strong id="grammar-token-a-expr">a_expr</strong> ::=  <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-m-expr" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">m_expr</span></code></a> | <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-a-expr" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">a_expr</span></code></a> "+" <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-m-expr" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">m_expr</span></code></a> | <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-a-expr" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">a_expr</span></code></a> "-" <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-m-expr" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">m_expr</span></code></a></pre></div><h4 id="blogTitle142">+</h4><div><span style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; text-align: justify; background-color: rgb(255, 255, 255);">The&nbsp;</span><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px; color: rgb(34, 34, 34); text-align: justify;"><span class="pre" style="hyphens: none;">+</span></code><span style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; text-align: justify; background-color: rgb(255, 255, 255);">&nbsp;(addition) operator yields the sum of its arguments. The arguments must either both be numbers or both be sequences of the same type. In the former case, the numbers are converted to a common type and then added together. In the latter case, the sequences are concatenated.</span><br></div><h4 id="blogTitle143">-</h4><div><span style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; text-align: justify; background-color: rgb(255, 255, 255);">The&nbsp;</span><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px; color: rgb(34, 34, 34); text-align: justify;"><span class="pre" style="hyphens: none;">-</span></code><span style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; text-align: justify; background-color: rgb(255, 255, 255);">&nbsp;(subtraction) operator yields the difference of its arguments. The numeric arguments are first converted to a common type.</span><br></div><h4 id="blogTitle144">*</h4><div><span style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; text-align: justify; background-color: rgb(255, 255, 255);">The&nbsp;</span><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px; color: rgb(34, 34, 34); text-align: justify;"><span class="pre" style="hyphens: none;">*</span></code><span style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; text-align: justify; background-color: rgb(255, 255, 255);">&nbsp;(multiplication) operator yields the product of its arguments. The arguments must either both be numbers, or one argument must be an integer and the other must be a sequence. In the former case, the numbers are converted to a common type and then multiplied together. In the latter case, sequence repetition is performed; a negative repetition factor yields an empty sequence.</span><br></div><h4 id="blogTitle145">@</h4><div><span style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; text-align: justify; background-color: rgb(255, 255, 255);">The&nbsp;</span><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px; color: rgb(34, 34, 34); text-align: justify;"><span class="pre" style="hyphens: none;">@</span></code><span style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; text-align: justify; background-color: rgb(255, 255, 255);">&nbsp;(at) operator is intended to be used for matrix multiplication. No builtin Python types implement this operator.</span><br></div><h4 id="blogTitle146">/</h4><div><span style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; text-align: justify; background-color: rgb(255, 255, 255);">The&nbsp;</span><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px; color: rgb(34, 34, 34); text-align: justify;"><span class="pre" style="hyphens: none;">/</span></code><span style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; text-align: justify; background-color: rgb(255, 255, 255);">&nbsp;(division) and&nbsp;</span><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px; color: rgb(34, 34, 34); text-align: justify;"><span class="pre" style="hyphens: none;">//</span></code><span style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; text-align: justify; background-color: rgb(255, 255, 255);">&nbsp;(floor division) operators yield the quotient of their arguments. The numeric arguments are first converted to a common type. Division of integers yields a float, while floor division of integers results in an integer; the result is that of mathematical division with the ‘floor’ function applied to the result. Division by zero raises the&nbsp;</span><a class="reference internal" href="https://docs.python.org/zh-cn/3.7/library/exceptions.html#ZeroDivisionError" title="ZeroDivisionError" style="color: rgb(99, 99, 187); text-decoration-line: none; font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; text-align: justify; background-color: rgb(255, 255, 255);"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">ZeroDivisionError</span></code></a><span style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; text-align: justify; background-color: rgb(255, 255, 255);">&nbsp;exception.</span><br></div><h4 id="blogTitle147">//</h4><div><span style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; text-align: justify; background-color: rgb(255, 255, 255);">The&nbsp;</span><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px; color: rgb(34, 34, 34); text-align: justify;"><span class="pre" style="hyphens: none;">/</span></code><span style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; text-align: justify; background-color: rgb(255, 255, 255);">&nbsp;(division) and&nbsp;</span><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px; color: rgb(34, 34, 34); text-align: justify;"><span class="pre" style="hyphens: none;">//</span></code><span style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; text-align: justify; background-color: rgb(255, 255, 255);">&nbsp;(floor division) operators yield the quotient of their arguments. The numeric arguments are first converted to a common type. Division of integers yields a float, while floor division of integers results in an integer; the result is that of mathematical division with the ‘floor’ function applied to the result. Division by zero raises the&nbsp;</span><a class="reference internal" href="https://docs.python.org/zh-cn/3.7/library/exceptions.html#ZeroDivisionError" title="ZeroDivisionError" style="color: rgb(99, 99, 187); text-decoration-line: none; font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; text-align: justify; background-color: rgb(255, 255, 255);"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">ZeroDivisionError</span></code></a><span style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; text-align: justify; background-color: rgb(255, 255, 255);">&nbsp;exception.</span><br></div><div><span style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; text-align: justify; background-color: rgb(255, 255, 255);"><br></span></div><div><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">The floor division and modulo operators are connected by the following identity:&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">x</span>&nbsp;<span class="pre" style="hyphens: none;">==</span>&nbsp;<span class="pre" style="hyphens: none;">(x//y)*y</span>&nbsp;<span class="pre" style="hyphens: none;">+</span>&nbsp;<span class="pre" style="hyphens: none;">(x%y)</span></code>. Floor division and modulo are also connected with the built-in function&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/library/functions.html#divmod" title="divmod" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">divmod()</span></code></a>:&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">divmod(x,</span>&nbsp;<span class="pre" style="hyphens: none;">y)</span>&nbsp;<span class="pre" style="hyphens: none;">==</span>&nbsp;<span class="pre" style="hyphens: none;">(x//y,</span>&nbsp;<span class="pre" style="hyphens: none;">x%y)</span></code>.&nbsp;<a class="footnote-reference" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#id18" id="id10" style="color: rgb(99, 99, 187); text-decoration-line: none;">[2]</a>.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">In addition to performing the modulo operation on numbers, the&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">%</span></code>&nbsp;operator is also overloaded by string objects to perform old-style string formatting (also known as interpolation). The syntax for string formatting is described in the Python Library Reference, section&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/library/stdtypes.html#old-string-formatting" style="color: rgb(99, 99, 187); text-decoration-line: none;">printf-style String Formatting</a>.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">The floor division operator, the modulo operator, and the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/library/functions.html#divmod" title="divmod" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">divmod()</span></code></a>&nbsp;function are not defined for complex numbers. Instead, convert to a floating point number using the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/library/functions.html#abs" title="abs" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">abs()</span></code></a>&nbsp;function if appropriate.</p></div><h4 id="blogTitle148">%</h4><div><span style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; text-align: justify; background-color: rgb(255, 255, 255);">The&nbsp;</span><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px; color: rgb(34, 34, 34); text-align: justify;"><span class="pre" style="hyphens: none;">%</span></code><span style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; text-align: justify; background-color: rgb(255, 255, 255);">&nbsp;(modulo) operator yields the remainder from the division of the first argument by the second. The numeric arguments are first converted to a common type. A zero right argument raises the&nbsp;</span><a class="reference internal" href="https://docs.python.org/zh-cn/3.7/library/exceptions.html#ZeroDivisionError" title="ZeroDivisionError" style="color: rgb(99, 99, 187); text-decoration-line: none; font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; text-align: justify; background-color: rgb(255, 255, 255);"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">ZeroDivisionError</span></code></a><span style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; text-align: justify; background-color: rgb(255, 255, 255);">&nbsp;exception. The arguments may be floating point numbers, e.g.,&nbsp;</span><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px; color: rgb(34, 34, 34); text-align: justify;"><span class="pre" style="hyphens: none;">3.14%0.7</span></code><span style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; text-align: justify; background-color: rgb(255, 255, 255);">&nbsp;equals&nbsp;</span><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px; color: rgb(34, 34, 34); text-align: justify;"><span class="pre" style="hyphens: none;">0.34</span></code><span style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; text-align: justify; background-color: rgb(255, 255, 255);">&nbsp;(since&nbsp;</span><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px; color: rgb(34, 34, 34); text-align: justify;"><span class="pre" style="hyphens: none;">3.14</span></code><span style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; text-align: justify; background-color: rgb(255, 255, 255);">&nbsp;equals&nbsp;</span><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px; color: rgb(34, 34, 34); text-align: justify;"><span class="pre" style="hyphens: none;">4*0.7</span>&nbsp;<span class="pre" style="hyphens: none;">+</span>&nbsp;<span class="pre" style="hyphens: none;">0.34</span></code><span style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; text-align: justify; background-color: rgb(255, 255, 255);">.) The modulo operator always yields a result with the same sign as its second operand (or zero); the absolute value of the result is strictly smaller than the absolute value of the second operand&nbsp;</span><a class="footnote-reference" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#id17" id="id9" style="color: rgb(99, 99, 187); text-decoration-line: none; font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; text-align: justify; background-color: rgb(255, 255, 255);">[1]</a><span style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; text-align: justify; background-color: rgb(255, 255, 255);">.</span><br></div><div><span style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; text-align: justify; background-color: rgb(255, 255, 255);"><br></span></div><div><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">The floor division and modulo operators are connected by the following identity:&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">x</span>&nbsp;<span class="pre" style="hyphens: none;">==</span>&nbsp;<span class="pre" style="hyphens: none;">(x//y)*y</span>&nbsp;<span class="pre" style="hyphens: none;">+</span>&nbsp;<span class="pre" style="hyphens: none;">(x%y)</span></code>. Floor division and modulo are also connected with the built-in function&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/library/functions.html#divmod" title="divmod" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">divmod()</span></code></a>:&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">divmod(x,</span>&nbsp;<span class="pre" style="hyphens: none;">y)</span>&nbsp;<span class="pre" style="hyphens: none;">==</span>&nbsp;<span class="pre" style="hyphens: none;">(x//y,</span>&nbsp;<span class="pre" style="hyphens: none;">x%y)</span></code>.&nbsp;<a class="footnote-reference" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#id18" id="id10" style="color: rgb(99, 99, 187); text-decoration-line: none;">[2]</a>.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">In addition to performing the modulo operation on numbers, the&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">%</span></code>&nbsp;operator is also overloaded by string objects to perform old-style string formatting (also known as interpolation). The syntax for string formatting is described in the Python Library Reference, section&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/library/stdtypes.html#old-string-formatting" style="color: rgb(99, 99, 187); text-decoration-line: none;">printf-style String Formatting</a>.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">The floor division operator, the modulo operator, and the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/library/functions.html#divmod" title="divmod" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">divmod()</span></code></a>&nbsp;function are not defined for complex numbers. Instead, convert to a floating point number using the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/library/functions.html#abs" title="abs" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">abs()</span></code></a>&nbsp;function if appropriate.</p></div><div><br></div><h3 id="blogTitle149">赋值运算符</h3><h4 id="blogTitle150">=</h4><h4 id="blogTitle151">+=</h4><h4 id="blogTitle152">-=</h4><h4 id="blogTitle153">*=</h4><h4 id="blogTitle154">/=</h4><h4 id="blogTitle155">//=</h4><h4 id="blogTitle156">%=</h4><h4 id="blogTitle157">@=</h4><h4 id="blogTitle158">&amp;=</h4><h4 id="blogTitle159">|=</h4><h4 id="blogTitle160">^=</h4><h4 id="blogTitle161">&gt;&gt;=</h4><h4 id="blogTitle162">&lt;&lt;=</h4><h4 id="blogTitle163">**=</h4><h3 id="blogTitle164">比较（关系）运算符</h3><div><p id="index-75" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">Unlike C, all comparison operations in Python have the same priority, which is lower than that of any arithmetic, shifting or bitwise operation. Also unlike C, expressions like&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">a</span>&nbsp;<span class="pre" style="hyphens: none;">&lt;</span>&nbsp;<span class="pre" style="hyphens: none;">b</span>&nbsp;<span class="pre" style="hyphens: none;">&lt;</span>&nbsp;<span class="pre" style="hyphens: none;">c</span></code>&nbsp;have the interpretation that is conventional in mathematics:</p><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><strong id="grammar-token-comparison">comparison   </strong> ::=  <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-or-expr" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">or_expr</span></code></a> (<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-comp-operator" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">comp_operator</span></code></a> <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-or-expr" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">or_expr</span></code></a>)*
<strong id="grammar-token-comp-operator">comp_operator</strong> ::=  "&lt;" | "&gt;" | "==" | "&gt;=" | "&lt;=" | "!="
                   | "is" ["not"] | ["not"] "in"
</pre><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">Comparisons yield boolean values:&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">True</span></code>&nbsp;or&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">False</span></code>.</p><p id="index-76" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">Comparisons can be chained arbitrarily, e.g.,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">x</span>&nbsp;<span class="pre" style="hyphens: none;">&lt;</span>&nbsp;<span class="pre" style="hyphens: none;">y</span>&nbsp;<span class="pre" style="hyphens: none;">&lt;=</span>&nbsp;<span class="pre" style="hyphens: none;">z</span></code>&nbsp;is equivalent to&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">x</span>&nbsp;<span class="pre" style="hyphens: none;">&lt;</span>&nbsp;<span class="pre" style="hyphens: none;">y</span><span class="pre" style="hyphens: none;">and</span>&nbsp;<span class="pre" style="hyphens: none;">y</span>&nbsp;<span class="pre" style="hyphens: none;">&lt;=</span>&nbsp;<span class="pre" style="hyphens: none;">z</span></code>, except that&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">y</span></code>&nbsp;is evaluated only once (but in both cases&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">z</span></code>&nbsp;is not evaluated at all when&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">x</span>&nbsp;<span class="pre" style="hyphens: none;">&lt;</span>&nbsp;<span class="pre" style="hyphens: none;">y</span></code>&nbsp;is found to be false).</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">Formally, if&nbsp;<em>a</em>,&nbsp;<em>b</em>,&nbsp;<em>c</em>, …,&nbsp;<em>y</em>,&nbsp;<em>z</em>&nbsp;are expressions and&nbsp;<em>op1</em>,&nbsp;<em>op2</em>, …,&nbsp;<em>opN</em>&nbsp;are comparison operators, then&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">a</span>&nbsp;<span class="pre" style="hyphens: none;">op1</span>&nbsp;<span class="pre" style="hyphens: none;">b</span>&nbsp;<span class="pre" style="hyphens: none;">op2</span>&nbsp;<span class="pre" style="hyphens: none;">c</span>&nbsp;<span class="pre" style="hyphens: none;">...</span>&nbsp;<span class="pre" style="hyphens: none;">y</span>&nbsp;<span class="pre" style="hyphens: none;">opN</span>&nbsp;<span class="pre" style="hyphens: none;">z</span></code>&nbsp;is equivalent to&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">a</span>&nbsp;<span class="pre" style="hyphens: none;">op1</span>&nbsp;<span class="pre" style="hyphens: none;">b</span>&nbsp;<span class="pre" style="hyphens: none;">and</span>&nbsp;<span class="pre" style="hyphens: none;">b</span><span class="pre" style="hyphens: none;">op2</span>&nbsp;<span class="pre" style="hyphens: none;">c</span>&nbsp;<span class="pre" style="hyphens: none;">and</span>&nbsp;<span class="pre" style="hyphens: none;">...</span>&nbsp;<span class="pre" style="hyphens: none;">y</span>&nbsp;<span class="pre" style="hyphens: none;">opN</span>&nbsp;<span class="pre" style="hyphens: none;">z</span></code>, except that each expression is evaluated at most once.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">Note that&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">a</span>&nbsp;<span class="pre" style="hyphens: none;">op1</span>&nbsp;<span class="pre" style="hyphens: none;">b</span>&nbsp;<span class="pre" style="hyphens: none;">op2</span>&nbsp;<span class="pre" style="hyphens: none;">c</span></code>&nbsp;doesn’t imply any kind of comparison between&nbsp;<em>a</em>&nbsp;and&nbsp;<em>c</em>, so that, e.g.,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">x</span>&nbsp;<span class="pre" style="hyphens: none;">&lt;</span>&nbsp;<span class="pre" style="hyphens: none;">y</span>&nbsp;<span class="pre" style="hyphens: none;">&gt;</span>&nbsp;<span class="pre" style="hyphens: none;">z</span></code>&nbsp;is perfectly legal (though perhaps not pretty).</p></div><h4 id="blogTitle165">Value comparisons</h4><div><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">The operators&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">&lt;</span></code>,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">&gt;</span></code>,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">==</span></code>,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">&gt;=</span></code>,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">&lt;=</span></code>, and&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">!=</span></code>&nbsp;compare the values of two objects. The objects do not need to have the same type.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">Chapter&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/datamodel.html#objects" style="color: rgb(99, 99, 187); text-decoration-line: none;">对象、值与类型</a>&nbsp;states that objects have a value (in addition to type and identity). The value of an object is a rather abstract notion in Python: For example, there is no canonical access method for an object’s value. Also, there is no requirement that the value of an object should be constructed in a particular way, e.g. comprised of all its data attributes. Comparison operators implement a particular notion of what the value of an object is. One can think of them as defining the value of an object indirectly, by means of their comparison implementation.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">Because all types are (direct or indirect) subtypes of&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/library/functions.html#object" title="object" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">object</span></code></a>, they inherit the default comparison behavior from&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/library/functions.html#object" title="object" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">object</span></code></a>. Types can customize their comparison behavior by implementing&nbsp;<em class="dfn">rich comparison methods</em>&nbsp;like&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/datamodel.html#object.__lt__" title="object.__lt__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__lt__()</span></code></a>, described in&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/datamodel.html#customization" style="color: rgb(99, 99, 187); text-decoration-line: none;">基本定制</a>.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">The default behavior for equality comparison (<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">==</span></code>&nbsp;and&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">!=</span></code>) is based on the identity of the objects. Hence, equality comparison of instances with the same identity results in equality, and equality comparison of instances with different identities results in inequality. A motivation for this default behavior is the desire that all objects should be reflexive (i.e.&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">x</span>&nbsp;<span class="pre" style="hyphens: none;">is</span>&nbsp;<span class="pre" style="hyphens: none;">y</span></code>&nbsp;implies&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">x</span>&nbsp;<span class="pre" style="hyphens: none;">==</span>&nbsp;<span class="pre" style="hyphens: none;">y</span></code>).</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">A default order comparison (<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">&lt;</span></code>,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">&gt;</span></code>,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">&lt;=</span></code>, and&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">&gt;=</span></code>) is not provided; an attempt raises&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/library/exceptions.html#TypeError" title="TypeError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">TypeError</span></code></a>. A motivation for this default behavior is the lack of a similar invariant as for equality.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">The behavior of the default equality comparison, that instances with different identities are always unequal, may be in contrast to what types will need that have a sensible definition of object value and value-based equality. Such types will need to customize their comparison behavior, and in fact, a number of built-in types have done that.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">The following list describes the comparison behavior of the most important built-in types.</p><ul style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><li style="hyphens: auto; text-align: justify; line-height: 20.8px;"><p class="first" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;">Numbers of built-in numeric types (<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/library/stdtypes.html#typesnumeric" style="color: rgb(99, 99, 187); text-decoration-line: none;">Numeric Types — int, float, complex</a>) and of the standard library types&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/library/fractions.html#fractions.Fraction" title="fractions.Fraction" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">fractions.Fraction</span></code></a>&nbsp;and&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/library/decimal.html#decimal.Decimal" title="decimal.Decimal" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">decimal.Decimal</span></code></a>&nbsp;can be compared within and across their types, with the restriction that complex numbers do not support order comparison. Within the limits of the types involved, they compare mathematically (algorithmically) correct without loss of precision.</p><p style="hyphens: auto; line-height: 22.4px;">The not-a-number values&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">float('NaN')</span></code>&nbsp;and&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">decimal.Decimal('NaN')</span></code>&nbsp;are special. Any ordered comparison of a number to a not-a-number value is false. A counter-intuitive implication is that not-a-number values are not equal to themselves. For example, if&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">x</span>&nbsp;<span class="pre" style="hyphens: none;">=</span>&nbsp;<span class="pre" style="hyphens: none;">float('NaN')</span></code>,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">3</span>&nbsp;<span class="pre" style="hyphens: none;">&lt;</span>&nbsp;<span class="pre" style="hyphens: none;">x</span></code>,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">x</span>&nbsp;<span class="pre" style="hyphens: none;">&lt;</span>&nbsp;<span class="pre" style="hyphens: none;">3</span></code>,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">x</span><span class="pre" style="hyphens: none;">==</span>&nbsp;<span class="pre" style="hyphens: none;">x</span></code>&nbsp;are all false,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">x</span>&nbsp;<span class="pre" style="hyphens: none;">!=</span>&nbsp;<span class="pre" style="hyphens: none;">x</span></code>&nbsp;is True. This behavior is compliant with IEEE 754.</p></li><li style="hyphens: auto; text-align: justify; line-height: 20.8px;"><p class="first" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;">Binary sequences (instances of&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/library/stdtypes.html#bytes" title="bytes" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">bytes</span></code></a>&nbsp;or&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/library/stdtypes.html#bytearray" title="bytearray" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">bytearray</span></code></a>) can be compared within and across their types. They compare lexicographically using the numeric values of their elements.</p></li><li style="hyphens: auto; text-align: justify; line-height: 20.8px;"><p class="first" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;">Strings (instances of&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/library/stdtypes.html#str" title="str" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">str</span></code></a>) compare lexicographically using the numerical Unicode code points (the result of the built-in function&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/library/functions.html#ord" title="ord" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">ord()</span></code></a>) of their characters.&nbsp;<a class="footnote-reference" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#id19" id="id12" style="color: rgb(99, 99, 187); text-decoration-line: none;">[3]</a></p><p style="hyphens: auto; line-height: 22.4px;">Strings and binary sequences cannot be directly compared.</p></li><li style="hyphens: auto; text-align: justify; line-height: 20.8px;"><p class="first" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;">Sequences (instances of&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/library/stdtypes.html#tuple" title="tuple" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">tuple</span></code></a>,&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/library/stdtypes.html#list" title="list" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">list</span></code></a>, or&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/library/stdtypes.html#range" title="range" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">range</span></code></a>) can be compared only within each of their types, with the restriction that ranges do not support order comparison. Equality comparison across these types results in inequality, and ordering comparison across these types raises&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/library/exceptions.html#TypeError" title="TypeError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">TypeError</span></code></a>.</p><p style="hyphens: auto; line-height: 22.4px;">Sequences compare lexicographically using comparison of corresponding elements, whereby reflexivity of the elements is enforced.</p><p style="hyphens: auto; line-height: 22.4px;">In enforcing reflexivity of elements, the comparison of collections assumes that for a collection element&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">x</span></code>,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">x</span>&nbsp;<span class="pre" style="hyphens: none;">==</span>&nbsp;<span class="pre" style="hyphens: none;">x</span></code>&nbsp;is always true. Based on that assumption, element identity is compared first, and element comparison is performed only for distinct elements. This approach yields the same result as a strict element comparison would, if the compared elements are reflexive. For non-reflexive elements, the result is different than for strict element comparison, and may be surprising: The non-reflexive not-a-number values for example result in the following comparison behavior when used in a list:</p><div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><span class="copybutton" title="Hide the prompts and output" style="cursor: pointer; position: absolute; top: 0px; right: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</span><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">nan</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="nb" style="color: rgb(0, 112, 32);">float</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'NaN'</span><span class="p">)</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">nan</span> <span class="ow" style="color: rgb(0, 112, 32); font-weight: bold;">is</span> <span class="n">nan</span>
<span class="go">True</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">nan</span> <span class="o" style="color: rgb(102, 102, 102);">==</span> <span class="n">nan</span>
<span class="go">False                 &lt;-- the defined non-reflexive behavior of NaN</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">nan</span><span class="p">]</span> <span class="o" style="color: rgb(102, 102, 102);">==</span> <span class="p">[</span><span class="n">nan</span><span class="p">]</span>
<span class="go">True                  &lt;-- list enforces reflexivity and tests identity first</span>
</pre></div></div><p style="hyphens: auto; line-height: 22.4px;">Lexicographical comparison between built-in collections works as follows:</p><ul class="simple"><li style="hyphens: auto; text-align: justify; line-height: 20.8px;">For two collections to compare equal, they must be of the same type, have the same length, and each pair of corresponding elements must compare equal (for example,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">[1,2]</span>&nbsp;<span class="pre" style="hyphens: none;">==</span>&nbsp;<span class="pre" style="hyphens: none;">(1,2)</span></code>&nbsp;is false because the type is not the same).</li><li style="hyphens: auto; text-align: justify; line-height: 20.8px;">Collections that support order comparison are ordered the same as their first unequal elements (for example,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">[1,2,x]</span>&nbsp;<span class="pre" style="hyphens: none;">&lt;=</span>&nbsp;<span class="pre" style="hyphens: none;">[1,2,y]</span></code>&nbsp;has the same value as&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">x</span>&nbsp;<span class="pre" style="hyphens: none;">&lt;=</span>&nbsp;<span class="pre" style="hyphens: none;">y</span></code>). If a corresponding element does not exist, the shorter collection is ordered first (for example,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">[1,2]</span>&nbsp;<span class="pre" style="hyphens: none;">&lt;</span>&nbsp;<span class="pre" style="hyphens: none;">[1,2,3]</span></code>&nbsp;is true).</li></ul></li><li style="hyphens: auto; text-align: justify; line-height: 20.8px;"><p class="first" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;">Mappings (instances of&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/library/stdtypes.html#dict" title="dict" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">dict</span></code></a>) compare equal if and only if they have equal&nbsp;<cite>(key, value)</cite>&nbsp;pairs. Equality comparison of the keys and values enforces reflexivity.</p><p style="hyphens: auto; line-height: 22.4px;">Order comparisons (<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">&lt;</span></code>,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">&gt;</span></code>,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">&lt;=</span></code>, and&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">&gt;=</span></code>) raise&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/library/exceptions.html#TypeError" title="TypeError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">TypeError</span></code></a>.</p></li><li style="hyphens: auto; text-align: justify; line-height: 20.8px;"><p class="first" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;">Sets (instances of&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/library/stdtypes.html#set" title="set" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">set</span></code></a>&nbsp;or&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/library/stdtypes.html#frozenset" title="frozenset" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">frozenset</span></code></a>) can be compared within and across their types.</p><p style="hyphens: auto; line-height: 22.4px;">They define order comparison operators to mean subset and superset tests. Those relations do not define total orderings (for example, the two sets&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">{1,2}</span></code>&nbsp;and&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">{2,3}</span></code>&nbsp;are not equal, nor subsets of one another, nor supersets of one another). Accordingly, sets are not appropriate arguments for functions which depend on total ordering (for example,&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/library/functions.html#min" title="min" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">min()</span></code></a>,&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/library/functions.html#max" title="max" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">max()</span></code></a>, and&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/library/functions.html#sorted" title="sorted" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">sorted()</span></code></a>&nbsp;produce undefined results given a list of sets as inputs).</p><p style="hyphens: auto; line-height: 22.4px;">Comparison of sets enforces reflexivity of its elements.</p></li><li style="hyphens: auto; text-align: justify; line-height: 20.8px;"><p class="first" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;">Most other built-in types have no comparison methods implemented, so they inherit the default comparison behavior.</p></li></ul><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">User-defined classes that customize their comparison behavior should follow some consistency rules, if possible:</p><ul style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><li style="hyphens: auto; text-align: justify; line-height: 20.8px;"><p class="first" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;">Equality comparison should be reflexive. In other words, identical objects should compare equal:</p><blockquote style="hyphens: auto; line-height: 20.8px;"><p style="hyphens: auto; line-height: 22.4px;"><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">x</span>&nbsp;<span class="pre" style="hyphens: none;">is</span>&nbsp;<span class="pre" style="hyphens: none;">y</span></code>&nbsp;implies&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">x</span>&nbsp;<span class="pre" style="hyphens: none;">==</span>&nbsp;<span class="pre" style="hyphens: none;">y</span></code></p></blockquote></li><li style="hyphens: auto; text-align: justify; line-height: 20.8px;"><p class="first" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;">Comparison should be symmetric. In other words, the following expressions should have the same result:</p><blockquote style="hyphens: auto; line-height: 20.8px;"><p style="hyphens: auto; line-height: 22.4px;"><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">x</span>&nbsp;<span class="pre" style="hyphens: none;">==</span>&nbsp;<span class="pre" style="hyphens: none;">y</span></code>&nbsp;and&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">y</span>&nbsp;<span class="pre" style="hyphens: none;">==</span>&nbsp;<span class="pre" style="hyphens: none;">x</span></code></p><p style="hyphens: auto; line-height: 22.4px;"><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">x</span>&nbsp;<span class="pre" style="hyphens: none;">!=</span>&nbsp;<span class="pre" style="hyphens: none;">y</span></code>&nbsp;and&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">y</span>&nbsp;<span class="pre" style="hyphens: none;">!=</span>&nbsp;<span class="pre" style="hyphens: none;">x</span></code></p><p style="hyphens: auto; line-height: 22.4px;"><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">x</span>&nbsp;<span class="pre" style="hyphens: none;">&lt;</span>&nbsp;<span class="pre" style="hyphens: none;">y</span></code>&nbsp;and&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">y</span>&nbsp;<span class="pre" style="hyphens: none;">&gt;</span>&nbsp;<span class="pre" style="hyphens: none;">x</span></code></p><p style="hyphens: auto; line-height: 22.4px;"><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">x</span>&nbsp;<span class="pre" style="hyphens: none;">&lt;=</span>&nbsp;<span class="pre" style="hyphens: none;">y</span></code>&nbsp;and&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">y</span>&nbsp;<span class="pre" style="hyphens: none;">&gt;=</span>&nbsp;<span class="pre" style="hyphens: none;">x</span></code></p></blockquote></li><li style="hyphens: auto; text-align: justify; line-height: 20.8px;"><p class="first" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;">Comparison should be transitive. The following (non-exhaustive) examples illustrate that:</p><blockquote style="hyphens: auto; line-height: 20.8px;"><p style="hyphens: auto; line-height: 22.4px;"><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">x</span>&nbsp;<span class="pre" style="hyphens: none;">&gt;</span>&nbsp;<span class="pre" style="hyphens: none;">y</span>&nbsp;<span class="pre" style="hyphens: none;">and</span>&nbsp;<span class="pre" style="hyphens: none;">y</span>&nbsp;<span class="pre" style="hyphens: none;">&gt;</span>&nbsp;<span class="pre" style="hyphens: none;">z</span></code>&nbsp;implies&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">x</span>&nbsp;<span class="pre" style="hyphens: none;">&gt;</span>&nbsp;<span class="pre" style="hyphens: none;">z</span></code></p><p style="hyphens: auto; line-height: 22.4px;"><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">x</span>&nbsp;<span class="pre" style="hyphens: none;">&lt;</span>&nbsp;<span class="pre" style="hyphens: none;">y</span>&nbsp;<span class="pre" style="hyphens: none;">and</span>&nbsp;<span class="pre" style="hyphens: none;">y</span>&nbsp;<span class="pre" style="hyphens: none;">&lt;=</span>&nbsp;<span class="pre" style="hyphens: none;">z</span></code>&nbsp;implies&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">x</span>&nbsp;<span class="pre" style="hyphens: none;">&lt;</span>&nbsp;<span class="pre" style="hyphens: none;">z</span></code></p></blockquote></li><li style="hyphens: auto; text-align: justify; line-height: 20.8px;"><p class="first" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;">Inverse comparison should result in the boolean negation. In other words, the following expressions should have the same result:</p><blockquote style="hyphens: auto; line-height: 20.8px;"><p style="hyphens: auto; line-height: 22.4px;"><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">x</span>&nbsp;<span class="pre" style="hyphens: none;">==</span>&nbsp;<span class="pre" style="hyphens: none;">y</span></code>&nbsp;and&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">not</span>&nbsp;<span class="pre" style="hyphens: none;">x</span>&nbsp;<span class="pre" style="hyphens: none;">!=</span>&nbsp;<span class="pre" style="hyphens: none;">y</span></code></p><p style="hyphens: auto; line-height: 22.4px;"><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">x</span>&nbsp;<span class="pre" style="hyphens: none;">&lt;</span>&nbsp;<span class="pre" style="hyphens: none;">y</span></code>&nbsp;and&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">not</span>&nbsp;<span class="pre" style="hyphens: none;">x</span>&nbsp;<span class="pre" style="hyphens: none;">&gt;=</span>&nbsp;<span class="pre" style="hyphens: none;">y</span></code>&nbsp;(for total ordering)</p><p style="hyphens: auto; line-height: 22.4px;"><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">x</span>&nbsp;<span class="pre" style="hyphens: none;">&gt;</span>&nbsp;<span class="pre" style="hyphens: none;">y</span></code>&nbsp;and&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">not</span>&nbsp;<span class="pre" style="hyphens: none;">x</span>&nbsp;<span class="pre" style="hyphens: none;">&lt;=</span>&nbsp;<span class="pre" style="hyphens: none;">y</span></code>&nbsp;(for total ordering)</p></blockquote><p style="hyphens: auto; line-height: 22.4px;">The last two expressions apply to totally ordered collections (e.g. to sequences, but not to sets or mappings). See also the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/library/functools.html#functools.total_ordering" title="functools.total_ordering" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">total_ordering()</span></code></a>decorator.</p></li><li style="hyphens: auto; text-align: justify; line-height: 20.8px;"><p class="first" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;">The&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/library/functions.html#hash" title="hash" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">hash()</span></code></a>&nbsp;result should be consistent with equality. Objects that are equal should either have the same hash value, or be marked as unhashable.</p></li></ul><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">Python does not enforce these consistency rules. In fact, the not-a-number values are an example for not following these rules.</p></div><h5 id="blogTitle166">==</h5><h5 id="blogTitle167">!=</h5><h5 id="blogTitle168">&gt;</h5><h5 id="blogTitle169">&lt;</h5><h5 id="blogTitle170">&gt;=</h5><h5 id="blogTitle171">&lt;=</h5><div><div><h4 id="blogTitle172">Membership test operations</h4><div><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">The operators&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#in" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">in</span></code></a>&nbsp;and&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#not-in" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">not</span>&nbsp;<span class="pre" style="hyphens: none;">in</span></code></a>&nbsp;test for membership.&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">x</span>&nbsp;<span class="pre" style="hyphens: none;">in</span>&nbsp;<span class="pre" style="hyphens: none;">s</span></code>&nbsp;evaluates to&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">True</span></code>&nbsp;if&nbsp;<em>x</em>is a member of&nbsp;<em>s</em>, and&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">False</span></code>&nbsp;otherwise.&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">x</span>&nbsp;<span class="pre" style="hyphens: none;">not</span>&nbsp;<span class="pre" style="hyphens: none;">in</span>&nbsp;<span class="pre" style="hyphens: none;">s</span></code>&nbsp;returns the negation of&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">x</span>&nbsp;<span class="pre" style="hyphens: none;">in</span><span class="pre" style="hyphens: none;">s</span></code>. All built-in sequences and set types support this as well as dictionary, for which&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#in" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">in</span></code></a>&nbsp;tests whether the dictionary has a given key. For container types such as list, tuple, set, frozenset, dict, or collections.deque, the expression&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">x</span>&nbsp;<span class="pre" style="hyphens: none;">in</span>&nbsp;<span class="pre" style="hyphens: none;">y</span></code>&nbsp;is equivalent to&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">any(x</span>&nbsp;<span class="pre" style="hyphens: none;">is</span>&nbsp;<span class="pre" style="hyphens: none;">e</span>&nbsp;<span class="pre" style="hyphens: none;">or</span>&nbsp;<span class="pre" style="hyphens: none;">x</span>&nbsp;<span class="pre" style="hyphens: none;">==</span>&nbsp;<span class="pre" style="hyphens: none;">e</span>&nbsp;<span class="pre" style="hyphens: none;">for</span>&nbsp;<span class="pre" style="hyphens: none;">e</span>&nbsp;<span class="pre" style="hyphens: none;">in</span>&nbsp;<span class="pre" style="hyphens: none;">y)</span></code>.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">For the string and bytes types,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">x</span>&nbsp;<span class="pre" style="hyphens: none;">in</span>&nbsp;<span class="pre" style="hyphens: none;">y</span></code>&nbsp;is&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">True</span></code>&nbsp;if and only if&nbsp;<em>x</em>&nbsp;is a substring of&nbsp;<em>y</em>. An equivalent test is&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">y.find(x)</span>&nbsp;<span class="pre" style="hyphens: none;">!=</span>&nbsp;<span class="pre" style="hyphens: none;">-1</span></code>. Empty strings are always considered to be a substring of any other string, so&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">""</span>&nbsp;<span class="pre" style="hyphens: none;">in</span>&nbsp;<span class="pre" style="hyphens: none;">"abc"</span></code>&nbsp;will return&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">True</span></code>.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">For user-defined classes which define the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/datamodel.html#object.__contains__" title="object.__contains__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__contains__()</span></code></a>&nbsp;method,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">x</span>&nbsp;<span class="pre" style="hyphens: none;">in</span>&nbsp;<span class="pre" style="hyphens: none;">y</span></code>returns&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">True</span></code>&nbsp;if&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">y.__contains__(x)</span></code>&nbsp;returns a true value, and&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">False</span></code>&nbsp;otherwise.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">For user-defined classes which do not define&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/datamodel.html#object.__contains__" title="object.__contains__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__contains__()</span></code></a>&nbsp;but do define<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/datamodel.html#object.__iter__" title="object.__iter__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__iter__()</span></code></a>,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">x</span>&nbsp;<span class="pre" style="hyphens: none;">in</span>&nbsp;<span class="pre" style="hyphens: none;">y</span></code>&nbsp;is&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">True</span></code>&nbsp;if some value&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">z</span></code>&nbsp;with&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">x</span>&nbsp;<span class="pre" style="hyphens: none;">==</span>&nbsp;<span class="pre" style="hyphens: none;">z</span></code>&nbsp;is produced while iterating over&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">y</span></code>. If an exception is raised during the iteration, it is as if&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#in" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">in</span></code></a>&nbsp;raised that exception.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">Lastly, the old-style iteration protocol is tried: if a class defines&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/datamodel.html#object.__getitem__" title="object.__getitem__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__getitem__()</span></code></a>,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">x</span>&nbsp;<span class="pre" style="hyphens: none;">in</span>&nbsp;<span class="pre" style="hyphens: none;">y</span></code>&nbsp;is&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">True</span></code>&nbsp;if and only if there is a non-negative integer index&nbsp;<em>i</em>&nbsp;such that&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">x</span><span class="pre" style="hyphens: none;">==</span>&nbsp;<span class="pre" style="hyphens: none;">y[i]</span></code>, and all lower integer indices do not raise&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/library/exceptions.html#IndexError" title="IndexError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">IndexError</span></code></a>&nbsp;exception. (If any other exception is raised, it is as if&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#in" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">in</span></code></a>&nbsp;raised that exception).</p><p id="index-77" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">The operator&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#not-in" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">not</span>&nbsp;<span class="pre" style="hyphens: none;">in</span></code></a>&nbsp;is defined to have the inverse true value of&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#in" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">in</span></code></a>.</p></div><h5 id="blogTitle173">in</h5><h5 id="blogTitle174">not in</h5><h4 id="blogTitle175">Identity comparisons</h4></div><div><span style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; text-align: justify; background-color: rgb(255, 255, 255);">The operators&nbsp;</span><a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#is" style="color: rgb(99, 99, 187); text-decoration-line: none; font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; text-align: justify; background-color: rgb(255, 255, 255);"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">is</span></code></a><span style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; text-align: justify; background-color: rgb(255, 255, 255);">&nbsp;and&nbsp;</span><a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#is-not" style="color: rgb(99, 99, 187); text-decoration-line: none; font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; text-align: justify; background-color: rgb(255, 255, 255);"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">is</span>&nbsp;<span class="pre" style="hyphens: none;">not</span></code></a><span style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; text-align: justify; background-color: rgb(255, 255, 255);">&nbsp;test for object identity:&nbsp;</span><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px; color: rgb(34, 34, 34); text-align: justify;"><span class="pre" style="hyphens: none;">x</span>&nbsp;<span class="pre" style="hyphens: none;">is</span>&nbsp;<span class="pre" style="hyphens: none;">y</span></code><span style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; text-align: justify; background-color: rgb(255, 255, 255);">&nbsp;is true if and only if&nbsp;</span><em style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; text-align: justify; background-color: rgb(255, 255, 255);">x</em><span style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; text-align: justify; background-color: rgb(255, 255, 255);">&nbsp;and&nbsp;</span><em style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; text-align: justify; background-color: rgb(255, 255, 255);">y</em><span style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; text-align: justify; background-color: rgb(255, 255, 255);">&nbsp;are the same object. Object identity is determined using the&nbsp;</span><a class="reference internal" href="https://docs.python.org/zh-cn/3.7/library/functions.html#id" title="id" style="color: rgb(99, 99, 187); text-decoration-line: none; font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; text-align: justify; background-color: rgb(255, 255, 255);"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">id()</span></code></a><span style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; text-align: justify; background-color: rgb(255, 255, 255);">function.&nbsp;</span><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px; color: rgb(34, 34, 34); text-align: justify;"><span class="pre" style="hyphens: none;">x</span>&nbsp;<span class="pre" style="hyphens: none;">is</span>&nbsp;<span class="pre" style="hyphens: none;">not</span>&nbsp;<span class="pre" style="hyphens: none;">y</span></code><span style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; text-align: justify; background-color: rgb(255, 255, 255);">&nbsp;yields the inverse truth value.&nbsp;</span><a class="footnote-reference" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#id20" id="id13" style="color: rgb(99, 99, 187); text-decoration-line: none; font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; text-align: justify; background-color: rgb(255, 255, 255);">[4]</a><br></div><h5 id="blogTitle176">is</h5><h5 id="blogTitle177">is not</h5></div><h3 id="blogTitle178">逻辑运算符</h3><div><pre id="index-79" style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><strong id="grammar-token-or-test">or_test </strong> ::=  <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-and-test" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">and_test</span></code></a> | <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-or-test" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">or_test</span></code></a> "or" <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-and-test" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">and_test</span></code></a>
<strong id="grammar-token-and-test">and_test</strong> ::=  <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-not-test" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">not_test</span></code></a> | <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-and-test" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">and_test</span></code></a> "and" <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-not-test" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">not_test</span></code></a>
<strong id="grammar-token-not-test">not_test</strong> ::=  <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-comparison" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">comparison</span></code></a> | "not" <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-not-test" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">not_test</span></code></a>
</pre><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">In the context of Boolean operations, and also when expressions are used by control flow statements, the following values are interpreted as false:&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">False</span></code>,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code>, numeric zero of all types, and empty strings and containers (including strings, tuples, lists, dictionaries, sets and frozensets). All other values are interpreted as true. User-defined objects can customize their truth value by providing a&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/datamodel.html#object.__bool__" title="object.__bool__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__bool__()</span></code></a>&nbsp;method.</p><p id="index-80" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">The operator&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#not" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">not</span></code></a>&nbsp;yields&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">True</span></code>&nbsp;if its argument is false,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">False</span></code>&nbsp;otherwise.</p><p id="index-81" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">The expression&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">x</span>&nbsp;<span class="pre" style="hyphens: none;">and</span>&nbsp;<span class="pre" style="hyphens: none;">y</span></code>&nbsp;first evaluates&nbsp;<em>x</em>; if&nbsp;<em>x</em>&nbsp;is false, its value is returned; otherwise,&nbsp;<em>y</em>&nbsp;is evaluated and the resulting value is returned.</p><p id="index-82" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">The expression&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">x</span>&nbsp;<span class="pre" style="hyphens: none;">or</span>&nbsp;<span class="pre" style="hyphens: none;">y</span></code>&nbsp;first evaluates&nbsp;<em>x</em>; if&nbsp;<em>x</em>&nbsp;is true, its value is returned; otherwise,&nbsp;<em>y</em>&nbsp;is evaluated and the resulting value is returned.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">(Note that neither&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#and" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">and</span></code></a>&nbsp;nor&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#or" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">or</span></code></a>&nbsp;restrict the value and type they return to&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">False</span></code>&nbsp;and&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">True</span></code>, but rather return the last evaluated argument. This is sometimes useful, e.g., if&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">s</span></code>&nbsp;is a string that should be replaced by a default value if it is empty, the expression&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">s</span>&nbsp;<span class="pre" style="hyphens: none;">or</span>&nbsp;<span class="pre" style="hyphens: none;">'foo'</span></code>&nbsp;yields the desired value. Because&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#not" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">not</span></code></a>&nbsp;has to create a new value, it returns a boolean value regardless of the type of its argument (for example,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">not</span>&nbsp;<span class="pre" style="hyphens: none;">'foo'</span></code>&nbsp;produces&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">False</span></code>&nbsp;rather than&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">''</span></code>.)</p></div><h4 id="blogTitle179">and</h4><h4 id="blogTitle180">or</h4><h4 id="blogTitle181">not</h4><h3 id="blogTitle182">二元位运算符</h3><div>转换为二进制后再进行计算</div><div><p id="index-71" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">Each of the three bitwise operations has a different priority level:</p><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><strong id="grammar-token-and-expr">and_expr</strong> ::=  <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-shift-expr" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">shift_expr</span></code></a> | <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-and-expr" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">and_expr</span></code></a> "&amp;" <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-shift-expr" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">shift_expr</span></code></a>
<strong id="grammar-token-xor-expr">xor_expr</strong> ::=  <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-and-expr" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">and_expr</span></code></a> | <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-xor-expr" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">xor_expr</span></code></a> "^" <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-and-expr" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">and_expr</span></code></a>
<strong id="grammar-token-or-expr">or_expr </strong> ::=  <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-xor-expr" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">xor_expr</span></code></a> | <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-or-expr" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">or_expr</span></code></a> "|" <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-xor-expr" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">xor_expr</span></code></a></pre></div><h4 id="blogTitle183">按位与：&amp;</h4><div><span style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; text-align: justify; background-color: rgb(255, 255, 255);">The&nbsp;</span><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px; color: rgb(34, 34, 34); text-align: justify;"><span class="pre" style="hyphens: none;">&amp;</span></code><span style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; text-align: justify; background-color: rgb(255, 255, 255);">&nbsp;operator yields the bitwise AND of its arguments, which must be integers.</span><br></div><h4 id="blogTitle184">按位异或：^</h4><div><span style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; text-align: justify; background-color: rgb(255, 255, 255);">The&nbsp;</span><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px; color: rgb(34, 34, 34); text-align: justify;"><span class="pre" style="hyphens: none;">^</span></code><span style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; text-align: justify; background-color: rgb(255, 255, 255);">&nbsp;operator yields the bitwise XOR (exclusive OR) of its arguments, which must be integers.</span><br></div><h4 id="blogTitle185">按位或：|</h4><div><span style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; text-align: justify; background-color: rgb(255, 255, 255);">The&nbsp;</span><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px; color: rgb(34, 34, 34); text-align: justify;"><span class="pre" style="hyphens: none;">|</span></code><span style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; text-align: justify; background-color: rgb(255, 255, 255);">&nbsp;operator yields the bitwise (inclusive) OR of its arguments, which must be integers.</span><br></div><h3 id="blogTitle186">Shifting operations</h3><div><p id="index-69" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">The shifting operations have lower priority than the arithmetic operations:</p><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><strong id="grammar-token-shift-expr">shift_expr</strong> ::=  <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-a-expr" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">a_expr</span></code></a> | <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-shift-expr" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">shift_expr</span></code></a> ("&lt;&lt;" | "&gt;&gt;") <a class="reference internal" href="https://docs.python.org/zh-cn/3.7/reference/expressions.html#grammar-token-a-expr" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">a_expr</span></code></a>
</pre><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">These operators accept integers as arguments. They shift the first argument to the left or right by the number of bits given by the second argument.</p></div><h4 id="blogTitle187">右移：&gt;&gt;<br></h4><div><span style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; text-align: justify; background-color: rgb(255, 255, 255);">A right shift by&nbsp;</span><em style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; text-align: justify; background-color: rgb(255, 255, 255);">n</em><span style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; text-align: justify; background-color: rgb(255, 255, 255);">&nbsp;bits is defined as floor division by&nbsp;</span><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px; color: rgb(34, 34, 34); text-align: justify;"><span class="pre" style="hyphens: none;">pow(2,n)</span></code><span style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; text-align: justify; background-color: rgb(255, 255, 255);">.</span><br></div><h4 id="blogTitle188">左移：&lt;&lt;</h4><div><span style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; text-align: justify; background-color: rgb(255, 255, 255);">A left shift by&nbsp;</span><em style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; text-align: justify; background-color: rgb(255, 255, 255);">n&nbsp;</em><span style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; text-align: justify; background-color: rgb(255, 255, 255);">bits is defined as multiplication with&nbsp;</span><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px; color: rgb(34, 34, 34); text-align: justify;"><span class="pre" style="hyphens: none;">pow(2,n)</span></code><span style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; text-align: justify; background-color: rgb(255, 255, 255);">.</span></div></div><h2 id="blogTitle189">数据成分</h2><div><h3 id="blogTitle190">数据类型</h3><div><p style="border: 0px; margin: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all; font-size: 13px; font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif; color: rgb(51, 51, 51); background-color: rgb(255, 255, 255);">Python3 中有六个标准的数据类型：</p><ul style="border: 0px; margin: 1em 0px; padding: 0px; line-height: 16.8px; list-style: none; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif; font-size: 12px; background-color: rgb(255, 255, 255);"><li style="border: 0px; margin: 0px 0px 1em 1em; padding: 0px 0px 0px 1.5em; line-height: 1.5em; font-size: 13px; word-break: break-all; background-image: url(&quot;./assets/img/bullet.png&quot;); background-repeat: no-repeat; background-position: left 0.5em;">Number（数字）</li><li style="border: 0px; margin: 0px 0px 1em 1em; padding: 0px 0px 0px 1.5em; line-height: 1.5em; font-size: 13px; word-break: break-all; background-image: url(&quot;./assets/img/bullet.png&quot;); background-repeat: no-repeat; background-position: left 0.5em;">String（字符串）</li><li style="border: 0px; margin: 0px 0px 1em 1em; padding: 0px 0px 0px 1.5em; line-height: 1.5em; font-size: 13px; word-break: break-all; background-image: url(&quot;./assets/img/bullet.png&quot;); background-repeat: no-repeat; background-position: left 0.5em;">List（列表）</li><li style="border: 0px; margin: 0px 0px 1em 1em; padding: 0px 0px 0px 1.5em; line-height: 1.5em; font-size: 13px; word-break: break-all; background-image: url(&quot;./assets/img/bullet.png&quot;); background-repeat: no-repeat; background-position: left 0.5em;">Tuple（元组）</li><li style="border: 0px; margin: 0px 0px 1em 1em; padding: 0px 0px 0px 1.5em; line-height: 1.5em; font-size: 13px; word-break: break-all; background-image: url(&quot;./assets/img/bullet.png&quot;); background-repeat: no-repeat; background-position: left 0.5em;">Set（集合）</li><li style="border: 0px; margin: 0px 0px 1em 1em; padding: 0px 0px 0px 1.5em; line-height: 1.5em; font-size: 13px; word-break: break-all; background-image: url(&quot;./assets/img/bullet.png&quot;); background-repeat: no-repeat; background-position: left 0.5em;">Dictionary（字典）</li></ul><p style="border: 0px; margin: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all; font-size: 13px; font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif; color: rgb(51, 51, 51); background-color: rgb(255, 255, 255);">Python3 的六个标准数据类型中：</p><ul style="border: 0px; margin: 1em 0px; padding: 0px; line-height: 16.8px; list-style: none; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif; font-size: 12px; background-color: rgb(255, 255, 255);"><li style="border: 0px; margin: 0px 0px 1em 1em; padding: 0px 0px 0px 1.5em; line-height: 1.5em; font-size: 13px; word-break: break-all; background-image: url(&quot;./assets/img/bullet.png&quot;); background-repeat: no-repeat; background-position: left 0.5em;"><strong style="border: 0px; margin: 0px; padding: 0px;">不可变数据（3 个）：</strong>Number（数字）、String（字符串）、Tuple（元组）；</li><li style="border: 0px; margin: 0px 0px 1em 1em; padding: 0px 0px 0px 1.5em; line-height: 1.5em; font-size: 13px; word-break: break-all; background-image: url(&quot;./assets/img/bullet.png&quot;); background-repeat: no-repeat; background-position: left 0.5em;"><strong style="border: 0px; margin: 0px; padding: 0px;">可变数据（3 个）：</strong>List（列表）、Dictionary（字典）、Set（集合）。</li></ul></div><p>Python 的数据类型存在值可变数据类型和值不可变数据类型。</p><div><p style="margin: 0px; padding: 5px 0px; outline: none; line-height: 30px;">总结：不可变数据类型更改后地址发生改变，可变数据类型更改地址不发生改变。</p></div><h4 id="blogTitle191">值不可变 - 值类型</h4><div><dt id="term-immutable" style="background-color: rgb(251, 229, 78); font-weight: bold; font-size: 1.1em; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif;">immutable – 不可变</dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">具有固定值的对象。不可变对象包括数字、字符串和元组。这样的对象不能被改变。如果必须存储一个不同的值，则必须创建新的对象。它们在需要常量哈希值的地方起着重要作用，例如作为字典中的键。</dd><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px; background-color: rgb(255, 255, 255);"><font color="#222222" face="Lucida Grande, Arial, sans-serif">当该数据类型的对应变量的值发生了改变，那么它对应的内存地址也会发生改变，对于这种数据类型，就称不可变数据类型。</font><br></dd></div><h5 id="blogTitle192">number</h5><div><p style="border: 0px; margin: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all; font-size: 13px; font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif; color: rgb(51, 51, 51); background-color: rgb(255, 255, 255);">python中数字有四种类型：整数、布尔型、浮点数和复数。</p><ul style="border: 0px; margin: 1em 0px; padding: 0px; line-height: 16.8px; list-style: none; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif; font-size: 12px; background-color: rgb(255, 255, 255);"><li style="border: 0px; margin: 0px 0px 1em 1em; padding: 0px 0px 0px 1.5em; line-height: 1.5em; font-size: 13px; word-break: break-all; background-image: url(&quot;./assets/img/bullet.png&quot;); background-repeat: no-repeat; background-position: left 0.5em;"><strong style="border: 0px; margin: 0px; padding: 0px;">int</strong>&nbsp;(整数), 如 1, 只有一种整数类型 int，表示为长整型，没有 python2 中的 Long。</li><li style="border: 0px; margin: 0px 0px 1em 1em; padding: 0px 0px 0px 1.5em; line-height: 1.5em; font-size: 13px; word-break: break-all; background-image: url(&quot;./assets/img/bullet.png&quot;); background-repeat: no-repeat; background-position: left 0.5em;"><strong style="border: 0px; margin: 0px; padding: 0px;">bool</strong>&nbsp;(布尔), 如 True。</li><li style="border: 0px; margin: 0px 0px 1em 1em; padding: 0px 0px 0px 1.5em; line-height: 1.5em; font-size: 13px; word-break: break-all; background-image: url(&quot;./assets/img/bullet.png&quot;); background-repeat: no-repeat; background-position: left 0.5em;"><strong style="border: 0px; margin: 0px; padding: 0px;">float</strong>&nbsp;(浮点数), 如 1.23、3E-2</li><li style="border: 0px; margin: 0px 0px 1em 1em; padding: 0px 0px 0px 1.5em; line-height: 1.5em; font-size: 13px; word-break: break-all; background-image: url(&quot;./assets/img/bullet.png&quot;); background-repeat: no-repeat; background-position: left 0.5em;"><strong style="border: 0px; margin: 0px; padding: 0px;">complex</strong>&nbsp;(复数), 如 1 + 2j、 1.1 + 2.2j</li></ul></div><div><pre>a = 1<br>print(id(a),type(a))<br>a = 2<br>print(id(a),type(a))<br>1912499232 &lt;class 'int'&gt;<br>1912499264 &lt;class 'int'&gt;</pre></div><div><p style="margin: 0px; padding: 5px 0px; outline: none; font-size: 14px; line-height: 30px; color: rgb(34, 34, 34); font-family: tahoma, arial, &quot;Microsoft YaHei&quot;; background-color: rgb(255, 255, 255);">我们可以发现，当数据发生改变后，变量的内存地址发生了改变，那么整型就是不可变数据类型。</p></div><h5 id="blogTitle193">str</h5><div><pre>b = 'djx'<br>print(id(b),type(b))<br>b = 'djx1996'<br>print(id(b),type(b))<br>535056476344 &lt;class 'str'&gt;<br>535056476624 &lt;class 'str'&gt;</pre></div><div><p style="margin: 0px; padding: 5px 0px; outline: none; font-size: 14px; line-height: 30px; color: rgb(34, 34, 34); font-family: tahoma, arial, &quot;Microsoft YaHei&quot;; background-color: rgb(255, 255, 255);">我们可以发现，当数据发生改变后，变量的内存地址发生了改变，那么字符串就是不可变数据类型。</p></div><h5 id="blogTitle194">tuple</h5><div><p style="margin: 0px; padding: 5px 0px; outline: none; font-size: 14px; line-height: 30px; color: rgb(34, 34, 34); font-family: tahoma, arial, &quot;Microsoft YaHei&quot;; background-color: rgb(255, 255, 255);">元组被称为只读列表，即数据可以被查询，但不能被修改，但是我们可以在元组的元素中存放一个列表，通过更改列表的值来查看元组是属于可变还是不可变。</p><pre>c1 = ['1','2']<br>c = (1,2,c1)<br>print(c,id(c),type(c))<br>c1[1] = 'd'<br>print(c,id(c),type(c))
<br>result:<br>(1, 2, ['1', '2']) 386030735432 &lt;class 'tuple'&gt;<br>(1, 2, ['1', 'd']) 386030735432 &lt;class 'tuple'&gt;</pre><p style="margin: 0px; padding: 5px 0px; outline: none; font-size: 14px; line-height: 30px; color: rgb(34, 34, 34); font-family: tahoma, arial, &quot;Microsoft YaHei&quot;; background-color: rgb(255, 255, 255);">我们可以发现，虽然元组数据发生改变，但是内存地址没有发生了改变，但是我们不可以以此来判定元组就是可变数据类型。我们回头仔细想想元组的定义就是不可变的。我们修改了元组中列表的值，但是因为列表是可变数据类型，所以虽然在列表中更改了值，但是列表的地址没有改变，列表在元组中的地址的值没有改变，所以也就意味着元组没有发生变化。我们就可以认为元组是不可变数据类型，因为元组是不可变的。</p></div><h4 id="blogTitle195">值可变 - 引用类型</h4><div><dt id="term-mutable" style="font-weight: bold; font-size: 1.1em; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; background-color: rgb(255, 255, 255);">mutable – 可变</dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">可变对象可以在其&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/library/functions.html#id" title="id" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">id()</span></code></a>&nbsp;保持固定的情况下改变其取值。另请参见&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3.7/glossary.html#term-immutable" style="color: rgb(99, 99, 187); text-decoration-line: none;">immutable</a>。</dd><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px; background-color: rgb(255, 255, 255);"><font color="#222222" face="Lucida Grande, Arial, sans-serif">当该数据类型的对应变量的值发生了改变，那么它对应的内存地址不发生改变，对于这种数据类型，就称可变数据类型。</font><br></dd></div><h5 id="blogTitle196">list</h5><div><p style="margin: 0px; padding: 5px 0px; outline: none; font-size: 14px; line-height: 30px; color: rgb(34, 34, 34); font-family: tahoma, arial, &quot;Microsoft YaHei&quot;; background-color: rgb(255, 255, 255);">列表是 python 中的基础数据类型之一，其他语言中也有类似于列表的数据类型，比如 js 中叫数组，它是以 [] 括起来，每个元素以逗号隔开，而且它里面可以存放各种数据类型。</p><pre>list = [1,'q','qwer',True]<br>print(list,type(list),id(list))<br>list.append('djx')<br>print(list,type(list),id(list))
<br>result:<br>[1, 'q', 'qwer', True] &lt;class 'list'&gt; 808140621128<br>[1, 'q', 'qwer', True, 'djx'] &lt;class 'list'&gt; 808140621128</pre><p style="margin: 0px; padding: 5px 0px; outline: none; font-size: 14px; line-height: 30px; color: rgb(34, 34, 34); font-family: tahoma, arial, &quot;Microsoft YaHei&quot;; background-color: rgb(255, 255, 255);">我们可以发现，虽然列表数据发生改变，但是内存地址没有发生了改变，那么列表就是可变数据类型。</p></div><h5 id="blogTitle197">dict</h5><div><p style="margin: 0px; padding: 5px 0px; outline: none; font-size: 14px; line-height: 30px; color: rgb(34, 34, 34); font-family: tahoma, arial, &quot;Microsoft YaHei&quot;; background-color: rgb(255, 255, 255);">字典是python中唯一的映射类型，采用键值对（key-value）的形式存储数据。python对key进行哈希函数运算，根据计算的结果决定value的存储地址，所以字典是无序存储的。但是在3.6版本后，字典开始是有序的，这是新的版本特征。</p><p style="margin: 0px; padding: 5px 0px; outline: none; font-size: 14px; line-height: 30px; color: rgb(34, 34, 34); font-family: tahoma, arial, &quot;Microsoft YaHei&quot;; background-color: rgb(255, 255, 255);">字典的key值可以是整型，字符串，元组，但是不可以是列表，集合，字典。</p><pre>tuple = (1)<br>d = { tuple:1,'key2':'djx','key3':'li'}<br>print(d,type(d),id(d))<br>d['key4'] = 'haha'<br>print(d,type(d),id(d))
<br>result:<br>{1: 1, 'key2': 'djx', 'key3': 'li'} &lt;class 'dict'&gt; 256310956320<br>{1: 1, 'key2': 'djx', 'key3': 'li', 'key4': 'haha'} &lt;class 'dict'&gt; 256310956320</pre><p style="margin: 0px; padding: 5px 0px; outline: none; font-size: 14px; line-height: 30px; color: rgb(34, 34, 34); font-family: tahoma, arial, &quot;Microsoft YaHei&quot;; background-color: rgb(255, 255, 255);">我们可以发现，虽然字典数据发生改变，但是内存地址没有发生了改变，那么字典就是可变数据类型。</p></div><h5 id="blogTitle198">set</h5><div><p style="margin: 0px; padding: 5px 0px; outline: none; font-size: 14px; line-height: 30px; color: rgb(34, 34, 34); font-family: tahoma, arial, &quot;Microsoft YaHei&quot;; background-color: rgb(255, 255, 255);">集合我们常用来进行去重和关系运算，集合是无序的。</p><pre>s = {1,'d','34','1',1}<br>print(s,type(s),id(s))<br>s.add('djx')<br>print(s,type(s),id(s))
<br>result:<br>{'d', 1, '34', '1'} &lt;class 'set'&gt; 870405285032<br>{'d', 1, '34', '1', 'djx'} &lt;class 'set'&gt; 870405285032</pre><p style="margin: 0px; padding: 5px 0px; outline: none; font-size: 14px; line-height: 30px; color: rgb(34, 34, 34); font-family: tahoma, arial, &quot;Microsoft YaHei&quot;; background-color: rgb(255, 255, 255);">我们可以发现，虽然集合数据发生改变，但是内存地址没有发生了改变，那么集合就是可变数据类型。</p></div></div><h3 id="blogTitle199">数据类型转换</h3><div><p style="border: 0px; margin: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all; font-size: 13px; font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif; color: rgb(51, 51, 51); background-color: rgb(255, 255, 255);">有时候，我们需要对数据内置的类型进行转换，数据类型的转换，你只需要将数据类型作为函数名即可。</p><p style="border: 0px; margin: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all; font-size: 13px; font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif; color: rgb(51, 51, 51); background-color: rgb(255, 255, 255);">以下几个内置的函数可以执行数据类型之间的转换。这些函数返回一个新的对象，表示转换的值。</p><table class="reference" style="border: 0px; margin: 4px 0px; padding: 0px;  color: rgb(51, 51, 51); font-family: " helvetica=""><tbody style="border: 0px; margin: 0px; padding: 0px;"><tr style="border: 0px; margin: 0px; padding: 0px; background-color: rgb(246, 244, 240);"><th style="border-top: 1px solid rgb(85, 85, 85); border-right: 1px solid rgb(85, 85, 85); border-left: 1px solid rgb(85, 85, 85); border-bottom-color: rgb(85, 85, 85); border-image: initial; margin: 0px; padding: 3px; color: rgb(255, 255, 255); background-color: rgb(85, 85, 85); vertical-align: top;">函数</th><th style="border-top: 1px solid rgb(85, 85, 85); border-right: 1px solid rgb(85, 85, 85); border-left: 1px solid rgb(85, 85, 85); border-bottom-color: rgb(85, 85, 85); border-image: initial; margin: 0px; padding: 3px; color: rgb(255, 255, 255); background-color: rgb(85, 85, 85); vertical-align: top;">描述</th></tr><tr valign="top" style="border: 0px; margin: 0px; padding: 0px;"><td style="border-width: 1px; border-style: solid; border-color: rgb(212, 212, 212); margin: 0px; padding: 7px 5px; font-size: 13px; min-width: 24px; line-height: 2em; vertical-align: top;"><p style="border: 0px; margin: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all;"><a href="http://www.runoob.com/python3/python-func-int.html" target="_blank" style="border: 0px; margin: 0px; padding: 0px; color: rgb(100, 133, 76); transition-duration: 0.2s; transition-property: opacity;">int(x [,base])</a></p></td><td style="border-width: 1px; border-style: solid; border-color: rgb(212, 212, 212); margin: 0px; padding: 7px 5px; font-size: 13px; line-height: 2em; min-width: 24px; vertical-align: top;"><p style="border: 0px; margin: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all;">将x转换为一个整数</p></td></tr><tr valign="top" style="border: 0px; margin: 0px; padding: 0px; background-color: rgb(246, 244, 240);"><td style="border-width: 1px; border-style: solid; border-color: rgb(212, 212, 212); margin: 0px; padding: 7px 5px; font-size: 13px; min-width: 24px; line-height: 2em; vertical-align: top;"><p style="border: 0px; margin: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all;"><a href="http://www.runoob.com/python3/python-func-float.html" target="_blank" style="border: 0px; margin: 0px; padding: 0px; color: rgb(100, 133, 76); transition-duration: 0.2s; transition-property: opacity;">float(x)</a></p></td><td style="border-width: 1px; border-style: solid; border-color: rgb(212, 212, 212); margin: 0px; padding: 7px 5px; font-size: 13px; line-height: 2em; min-width: 24px; vertical-align: top;"><p style="border: 0px; margin: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all;">将x转换到一个浮点数</p></td></tr><tr valign="top" style="border: 0px; margin: 0px; padding: 0px;"><td style="border-width: 1px; border-style: solid; border-color: rgb(212, 212, 212); margin: 0px; padding: 7px 5px; font-size: 13px; min-width: 24px; line-height: 2em; vertical-align: top;"><p style="border: 0px; margin: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all;"><a href="http://www.runoob.com/python3/python-func-complex.html" target="_blank" style="border: 0px; margin: 0px; padding: 0px; color: rgb(100, 133, 76); transition-duration: 0.2s; transition-property: opacity;">complex(real [,imag])</a></p></td><td style="border-width: 1px; border-style: solid; border-color: rgb(212, 212, 212); margin: 0px; padding: 7px 5px; font-size: 13px; line-height: 2em; min-width: 24px; vertical-align: top;"><p style="border: 0px; margin: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all;">创建一个复数</p></td></tr><tr valign="top" style="border: 0px; margin: 0px; padding: 0px; background-color: rgb(246, 244, 240);"><td style="border-width: 1px; border-style: solid; border-color: rgb(212, 212, 212); margin: 0px; padding: 7px 5px; font-size: 13px; min-width: 24px; line-height: 2em; vertical-align: top;"><p style="border: 0px; margin: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all;"><a href="http://www.runoob.com/python3/python-func-str.html" target="_blank" style="border: 0px; margin: 0px; padding: 0px; color: rgb(100, 133, 76); transition-duration: 0.2s; transition-property: opacity;">str(x)</a></p></td><td style="border-width: 1px; border-style: solid; border-color: rgb(212, 212, 212); margin: 0px; padding: 7px 5px; font-size: 13px; line-height: 2em; min-width: 24px; vertical-align: top;"><p style="border: 0px; margin: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all;">将对象 x 转换为字符串</p></td></tr><tr valign="top" style="border: 0px; margin: 0px; padding: 0px;"><td style="border-width: 1px; border-style: solid; border-color: rgb(212, 212, 212); margin: 0px; padding: 7px 5px; font-size: 13px; min-width: 24px; line-height: 2em; vertical-align: top;"><p style="border: 0px; margin: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all;"><a href="http://www.runoob.com/python3/python-func-repr.html" target="_blank" style="border: 0px; margin: 0px; padding: 0px; color: rgb(100, 133, 76); transition-duration: 0.2s; transition-property: opacity;">repr(x)</a></p></td><td style="border-width: 1px; border-style: solid; border-color: rgb(212, 212, 212); margin: 0px; padding: 7px 5px; font-size: 13px; line-height: 2em; min-width: 24px; vertical-align: top;"><p style="border: 0px; margin: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all;">将对象 x 转换为表达式字符串</p></td></tr><tr valign="top" style="border: 0px; margin: 0px; padding: 0px; background-color: rgb(246, 244, 240);"><td style="border-width: 1px; border-style: solid; border-color: rgb(212, 212, 212); margin: 0px; padding: 7px 5px; font-size: 13px; min-width: 24px; line-height: 2em; vertical-align: top;"><p style="border: 0px; margin: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all;"><a href="http://www.runoob.com/python3/python-func-eval.html" target="_blank" style="border: 0px; margin: 0px; padding: 0px; color: rgb(100, 133, 76); transition-duration: 0.2s; transition-property: opacity;">eval(str)</a></p></td><td style="border-width: 1px; border-style: solid; border-color: rgb(212, 212, 212); margin: 0px; padding: 7px 5px; font-size: 13px; line-height: 2em; min-width: 24px; vertical-align: top;"><p style="border: 0px; margin: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all;">用来计算在字符串中的有效Python表达式,并返回一个对象</p></td></tr><tr valign="top" style="border: 0px; margin: 0px; padding: 0px;"><td style="border-width: 1px; border-style: solid; border-color: rgb(212, 212, 212); margin: 0px; padding: 7px 5px; font-size: 13px; min-width: 24px; line-height: 2em; vertical-align: top;"><p style="border: 0px; margin: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all;"><a href="http://www.runoob.com/python3/python3-func-tuple.html" target="_blank" style="border: 0px; margin: 0px; padding: 0px; color: rgb(100, 133, 76); transition-duration: 0.2s; transition-property: opacity;">tuple(s)</a></p></td><td style="border-width: 1px; border-style: solid; border-color: rgb(212, 212, 212); margin: 0px; padding: 7px 5px; font-size: 13px; line-height: 2em; min-width: 24px; vertical-align: top;"><p style="border: 0px; margin: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all;">将序列 s 转换为一个元组</p></td></tr><tr valign="top" style="border: 0px; margin: 0px; padding: 0px; background-color: rgb(246, 244, 240);"><td style="border-width: 1px; border-style: solid; border-color: rgb(212, 212, 212); margin: 0px; padding: 7px 5px; font-size: 13px; min-width: 24px; line-height: 2em; vertical-align: top;"><p style="border: 0px; margin: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all;"><a href="http://www.runoob.com/python3/python3-att-list-list.html" target="_blank" style="border: 0px; margin: 0px; padding: 0px; color: rgb(100, 133, 76); transition-duration: 0.2s; transition-property: opacity;">list(s)</a></p></td><td style="border-width: 1px; border-style: solid; border-color: rgb(212, 212, 212); margin: 0px; padding: 7px 5px; font-size: 13px; line-height: 2em; min-width: 24px; vertical-align: top;"><p style="border: 0px; margin: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all;">将序列 s 转换为一个列表</p></td></tr><tr valign="top" style="border: 0px; margin: 0px; padding: 0px;"><td style="border-width: 1px; border-style: solid; border-color: rgb(212, 212, 212); margin: 0px; padding: 7px 5px; font-size: 13px; min-width: 24px; line-height: 2em; vertical-align: top;"><p style="border: 0px; margin: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all;"><a href="http://www.runoob.com/python3/python-func-set.html" target="_blank" style="border: 0px; margin: 0px; padding: 0px; color: rgb(100, 133, 76); transition-duration: 0.2s; transition-property: opacity;">set(s)</a></p></td><td style="border-width: 1px; border-style: solid; border-color: rgb(212, 212, 212); margin: 0px; padding: 7px 5px; font-size: 13px; line-height: 2em; min-width: 24px; vertical-align: top;"><p style="border: 0px; margin: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all;">转换为可变集合</p></td></tr><tr valign="top" style="border: 0px; margin: 0px; padding: 0px; background-color: rgb(246, 244, 240);"><td style="border-width: 1px; border-style: solid; border-color: rgb(212, 212, 212); margin: 0px; padding: 7px 5px; font-size: 13px; min-width: 24px; line-height: 2em; vertical-align: top;"><p style="border: 0px; margin: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all;"><a href="http://www.runoob.com/python3/python-func-dict.html" target="_blank" style="border: 0px; margin: 0px; padding: 0px; color: rgb(100, 133, 76); transition-duration: 0.2s; transition-property: opacity;">dict(d)</a></p></td><td style="border-width: 1px; border-style: solid; border-color: rgb(212, 212, 212); margin: 0px; padding: 7px 5px; font-size: 13px; line-height: 2em; min-width: 24px; vertical-align: top;"><p style="border: 0px; margin: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all;">创建一个字典。d 必须是一个序列 (key,value)元组。</p></td></tr><tr valign="top" style="border: 0px; margin: 0px; padding: 0px;"><td style="border-width: 1px; border-style: solid; border-color: rgb(212, 212, 212); margin: 0px; padding: 7px 5px; font-size: 13px; min-width: 24px; line-height: 2em; vertical-align: top;"><p style="border: 0px; margin: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all;"><a href="http://www.runoob.com/python3/python-func-frozenset.html" target="_blank" style="border: 0px; margin: 0px; padding: 0px; color: rgb(100, 133, 76); transition-duration: 0.2s; transition-property: opacity;">frozenset(s)</a></p></td><td style="border-width: 1px; border-style: solid; border-color: rgb(212, 212, 212); margin: 0px; padding: 7px 5px; font-size: 13px; line-height: 2em; min-width: 24px; vertical-align: top;"><p style="border: 0px; margin: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all;">转换为不可变集合</p></td></tr><tr valign="top" style="border: 0px; margin: 0px; padding: 0px; background-color: rgb(246, 244, 240);"><td style="border-width: 1px; border-style: solid; border-color: rgb(212, 212, 212); margin: 0px; padding: 7px 5px; font-size: 13px; min-width: 24px; line-height: 2em; vertical-align: top;"><p style="border: 0px; margin: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all;"><a href="http://www.runoob.com/python3/python-func-chr.html" target="_blank" style="border: 0px; margin: 0px; padding: 0px; color: rgb(100, 133, 76); transition-duration: 0.2s; transition-property: opacity;">chr(x)</a></p></td><td style="border-width: 1px; border-style: solid; border-color: rgb(212, 212, 212); margin: 0px; padding: 7px 5px; font-size: 13px; line-height: 2em; min-width: 24px; vertical-align: top;"><p style="border: 0px; margin: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all;">将一个整数转换为一个字符</p></td></tr><tr valign="top" style="border: 0px; margin: 0px; padding: 0px;"><td style="border-width: 1px; border-style: solid; border-color: rgb(212, 212, 212); margin: 0px; padding: 7px 5px; font-size: 13px; min-width: 24px; line-height: 2em; vertical-align: top;"><p style="border: 0px; margin: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all;"><a href="http://www.runoob.com/python3/python-func-ord.html" target="_blank" style="border: 0px; margin: 0px; padding: 0px; color: rgb(100, 133, 76); transition-duration: 0.2s; transition-property: opacity;">ord(x)</a></p></td><td style="border-width: 1px; border-style: solid; border-color: rgb(212, 212, 212); margin: 0px; padding: 7px 5px; font-size: 13px; line-height: 2em; min-width: 24px; vertical-align: top;"><p style="border: 0px; margin: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all;">将一个字符转换为它的整数值</p></td></tr><tr valign="top" style="border: 0px; margin: 0px; padding: 0px; background-color: rgb(246, 244, 240);"><td style="border-width: 1px; border-style: solid; border-color: rgb(212, 212, 212); margin: 0px; padding: 7px 5px; font-size: 13px; min-width: 24px; line-height: 2em; vertical-align: top;"><p style="border: 0px; margin: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all;"><a href="http://www.runoob.com/python3/python-func-hex.html" target="_blank" style="border: 0px; margin: 0px; padding: 0px; color: rgb(100, 133, 76); transition-duration: 0.2s; transition-property: opacity;">hex(x)</a></p></td><td style="border-width: 1px; border-style: solid; border-color: rgb(212, 212, 212); margin: 0px; padding: 7px 5px; font-size: 13px; line-height: 2em; min-width: 24px; vertical-align: top;"><p style="border: 0px; margin: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all;">将一个整数转换为一个十六进制字符串</p></td></tr><tr valign="top" style="border: 0px; margin: 0px; padding: 0px;"><td style="border-width: 1px; border-style: solid; border-color: rgb(212, 212, 212); margin: 0px; padding: 7px 5px; font-size: 13px; min-width: 24px; line-height: 2em; vertical-align: top;"><p style="border: 0px; margin: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all;"><a href="http://www.runoob.com/python3/python-func-oct.html" target="_blank" style="border: 0px; margin: 0px; padding: 0px; color: rgb(100, 133, 76); transition-duration: 0.2s; transition-property: opacity;">oct(x)</a></p></td><td style="border-width: 1px; border-style: solid; border-color: rgb(212, 212, 212); margin: 0px; padding: 7px 5px; font-size: 13px; line-height: 2em; min-width: 24px; vertical-align: top;"><p style="border: 0px; margin: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all;">将一个整数转换为一个八进制字符串</p></td></tr></tbody></table></div><div><br></div><h2 id="blogTitle200">设计哲学</h2><h2 id="blogTitle201">编程风格</h2><h3 id="blogTitle202">编程规范</h3><h4 id="blogTitle203">什么是 PEP8？</h4><p></p><ul><li>PEP - Python Environment Proposals<br></li><li>PEP8 - the Style Guide for Python Code<br></li><li>PEP8 是一个编程规范，一些关于如何让你的程序更具有可读性的建议。<br></li><li>其主要内容包括代码编排、文档编排、空格的使用、注释、文档描述、命名规范、编码建议等。</li></ul><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p>
</article>
{% endblock point1 %}
