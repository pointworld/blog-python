{% extends 'c-word.html' %}

{% block title %} scrapy - computer | software | language | python | framework | crawler {% endblock title %}

{% block point1 %}
<article contenteditable="true">
  <p>Category: computer | software | language | python | framework | crawler | scrapy</p>
  <h1 id="blogTitle0">Scrapy</h1><h2 id="blogTitle1">概述</h2><h3 id="blogTitle2">定义</h3><div><br></div><div><p style="box-sizing: border-box; line-height: 24px; margin: 0px 0px 24px; font-size: 16px; color: rgb(64, 64, 64); font-family: Lato, proxima-nova, &quot;Helvetica Neue&quot;, Arial, sans-serif; background-color: rgb(252, 252, 252);">Scrapy is an application framework for crawling web sites and extracting structured data which can be used for a wide range of useful applications, like data mining, information processing or historical archival.</p></div><div><ul style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; margin: 0px 0px 0.85em; padding: 0px 0px 0px 2em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;"><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">Scrapy是用纯Python实现一个为了爬取网站数据、提取结构性数据而编写的应用框架，用途非常广泛，如数据挖掘、信息处理、历史建档等。</p></li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">框架的力量，用户只需要定制开发几个模块就可以轻松的实现一个爬虫，用来抓取网页内容以及各种图片，非常之方便。</p></li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">Scrapy 使用了 Twisted<code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">['twɪstɪd]</code>(其主要对手是Tornado)异步网络框架来处理网络通讯，可以加快我们的下载速度，不用自己去实现异步框架，并且包含了各种中间件接口，可以灵活的完成各种需求。</p></li></ul></div><div><br></div><h3 id="blogTitle3">架构</h3><h4 id="blogTitle4">架构图</h4><div>绿线是数据流向<br></div><div><img src="data:image/png;base64,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"><br></div><div><ul style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; margin: 0px 0px 0.85em; padding: 0px 0px 0px 2em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;"><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;"><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">Scrapy Engine(引擎)</code>: 负责<code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">Spider</code>、<code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">ItemPipeline</code>、<code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">Downloader</code>、<code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">Scheduler</code>中间的通讯，信号、数据传递等。</p></li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;"><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">Scheduler(调度器)</code>: 它负责接受<code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">引擎</code>发送过来的Request请求，并按照一定的方式进行整理排列，入队，当<code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">引擎</code>需要时，交还给<code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">引擎</code>。</p></li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;"><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">Downloader（下载器）</code>：负责下载<code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">Scrapy Engine(引擎)</code>发送的所有Requests请求，并将其获取到的Responses交还给<code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">Scrapy Engine(引擎)</code>，由<code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">引擎</code>交给<code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">Spider</code>来处理，</p></li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;"><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">Spiders（爬虫）</code>：它负责处理所有Responses,从中分析提取数据，获取Item字段需要的数据，并将需要跟进的URL提交给<code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">引擎</code>，再次进入<code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">Scheduler(调度器)</code>，</p></li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;"><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">Item Pipeline(管道)</code>：它负责处理<code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">Spider</code>中获取到的Item，并进行进行后期处理（详细分析、过滤、存储等）的地方.</p></li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;"><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">Downloader Middlewares（下载中间件）</code>：你可以当作是一个可以自定义扩展下载功能的组件。</p></li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;"><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">Spider Middlewares（Spider中间件）</code>：你可以理解为是一个可以自定扩展和操作<code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">引擎</code>和<code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">Spider</code>中间<code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">通信</code>的功能组件（比如进入<code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">Spider</code>的Responses;和从<code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">Spider</code>出去的Requests）</p></li></ul><h4 style="" id="blogTitle5">Scrapy Engine（ Spider 引擎）</h4><div><code style="letter-spacing: 0.2px; orphans: 3; widows: 3; -webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">Scrapy Engine(引擎)</code><span style="color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 16px; letter-spacing: 0.2px; orphans: 3; widows: 3;">: 负责</span><code style="letter-spacing: 0.2px; orphans: 3; widows: 3; -webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">Spiders</code><span style="color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 16px; letter-spacing: 0.2px; orphans: 3; widows: 3;">、</span><code style="letter-spacing: 0.2px; orphans: 3; widows: 3; -webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">ItemPipeline</code><span style="color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 16px; letter-spacing: 0.2px; orphans: 3; widows: 3;">、</span><code style="letter-spacing: 0.2px; orphans: 3; widows: 3; -webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">Downloader</code><span style="color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 16px; letter-spacing: 0.2px; orphans: 3; widows: 3;">、</span><code style="letter-spacing: 0.2px; orphans: 3; widows: 3; -webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">Scheduler</code><span style="color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 16px; letter-spacing: 0.2px; orphans: 3; widows: 3;">中间的通讯，信号、数据传递等。</span><br></div><h4 style="" id="blogTitle6">Scheduler（调度器）</h4><div><code style="letter-spacing: 0.2px; orphans: 3; widows: 3; -webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">Scheduler(调度器)</code><span style="color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 16px; letter-spacing: 0.2px; orphans: 3; widows: 3;">: 它负责接受</span><code style="letter-spacing: 0.2px; orphans: 3; widows: 3; -webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">引擎</code><span style="color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 16px; letter-spacing: 0.2px; orphans: 3; widows: 3;">发送过来的Request请求，并按照一定的方式进行整理排列，入队，当</span><code style="letter-spacing: 0.2px; orphans: 3; widows: 3; -webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">引擎</code><span style="color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 16px; letter-spacing: 0.2px; orphans: 3; widows: 3;">需要时，交还给</span><code style="letter-spacing: 0.2px; orphans: 3; widows: 3; -webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">引擎</code><span style="color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 16px; letter-spacing: 0.2px; orphans: 3; widows: 3;">。</span><br></div><h4 style="" id="blogTitle7">Downloader（下载器）</h4><div><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227); letter-spacing: 0.2px; orphans: 3; widows: 3;">Downloader（下载器）</code><span style="color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 16px; letter-spacing: 0.2px; orphans: 3; widows: 3; background-color: rgb(243, 234, 203);">：负责下载</span><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227); letter-spacing: 0.2px; orphans: 3; widows: 3;">Scrapy Engine(引擎)</code><span style="color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 16px; letter-spacing: 0.2px; orphans: 3; widows: 3; background-color: rgb(243, 234, 203);">发送的所有Requests请求，并将其获取到的Responses交还给</span><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227); letter-spacing: 0.2px; orphans: 3; widows: 3;">Scrapy Engine(引擎)</code><span style="color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 16px; letter-spacing: 0.2px; orphans: 3; widows: 3; background-color: rgb(243, 234, 203);">，由</span><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227); letter-spacing: 0.2px; orphans: 3; widows: 3;">引擎</code><span style="color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 16px; letter-spacing: 0.2px; orphans: 3; widows: 3; background-color: rgb(243, 234, 203);">交给</span><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227); letter-spacing: 0.2px; orphans: 3; widows: 3;">Spider</code><span style="color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 16px; letter-spacing: 0.2px; orphans: 3; widows: 3; background-color: rgb(243, 234, 203);">来处理。</span><br></div><h4 style="" id="blogTitle8">Spiders（爬虫）</h4><div><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227); letter-spacing: 0.2px; orphans: 3; widows: 3;">Spider（爬虫）</code><span style="color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 16px; letter-spacing: 0.2px; orphans: 3; widows: 3; background-color: rgb(243, 234, 203);">：它负责处理所有 Responses，从中分析提取数据，获取 Item 字段需要的数据，并将需要跟进的 URL 提交给</span><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227); letter-spacing: 0.2px; orphans: 3; widows: 3;">引擎</code><span style="color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 16px; letter-spacing: 0.2px; orphans: 3; widows: 3; background-color: rgb(243, 234, 203);">，再次进入</span><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227); letter-spacing: 0.2px; orphans: 3; widows: 3;">Scheduler(调度器)</code><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0.2em; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; letter-spacing: 0.2px; orphans: 3; widows: 3; font-size: 16px; background-color: rgb(243, 234, 203);"><font color="#704214" face="Helvetica Neue, Helvetica, Arial, sans-serif">。</font></code><br></div><h4 style="" id="blogTitle9">Item Pipeline（Item 管道）</h4><div><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227); letter-spacing: 0.2px; orphans: 3; widows: 3;">Item Pipeline(管道)</code><span style="color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 16px; letter-spacing: 0.2px; orphans: 3; widows: 3; background-color: rgb(243, 234, 203);">：它负责处理</span><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227); letter-spacing: 0.2px; orphans: 3; widows: 3;">Spider</code><span style="color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 16px; letter-spacing: 0.2px; orphans: 3; widows: 3; background-color: rgb(243, 234, 203);">中获取到的 Item，并进行进行后期处理（详细分析、过滤、存储等）。</span><br></div><h4 style="" id="blogTitle10">Downloader Middlewares（下载中间件）</h4><div><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227); letter-spacing: 0.2px; orphans: 3; widows: 3;">Downloader Middlewares（下载中间件）</code><span style="color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 16px; letter-spacing: 0.2px; orphans: 3; widows: 3; background-color: rgb(243, 234, 203);">：你可以当作是一个可以自定义扩展下载功能的组件。</span><br></div><h4 style="" id="blogTitle11">Spider Middlewares（Spider 中间件）</h4></div><div style="orphans: 3; widows: 3;"><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227); letter-spacing: 0.2px;">Spider Middlewares（Spider中间件）</code><span style="color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 16px; letter-spacing: 0.2px; background-color: rgb(243, 234, 203);">：你可以理解为是一个可以自定义扩展和操作</span><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227); letter-spacing: 0.2px;">引擎</code><span style="color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 16px; letter-spacing: 0.2px; background-color: rgb(243, 234, 203);">和</span><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227); letter-spacing: 0.2px;">Spider</code><span style="color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 16px; letter-spacing: 0.2px; background-color: rgb(243, 234, 203);">中间</span><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227); letter-spacing: 0.2px;">通信</code><span style="color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 16px; letter-spacing: 0.2px; background-color: rgb(243, 234, 203);">的功能组件（比如进入</span><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227); letter-spacing: 0.2px;">Spider</code><span style="color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 16px; letter-spacing: 0.2px; background-color: rgb(243, 234, 203);">的 Responses; 和从</span><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227); letter-spacing: 0.2px;">Spider</code><span style="color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 16px; letter-spacing: 0.2px; background-color: rgb(243, 234, 203);">出去的 Requests）。</span><font color="#704214" face="Helvetica Neue, Helvetica, Arial, sans-serif"><span style="letter-spacing: 0.2px;"><br></span></font></div><div style="orphans: 3; widows: 3;"><font color="#704214" face="Helvetica Neue, Helvetica, Arial, sans-serif"><span style="letter-spacing: 0.2px;"><br></span></font></div><h3 id="blogTitle12">运作流程<br></h3><div><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;">代码写好，程序开始运行...</p><ol style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; margin: 0px 0px 0.85em; padding: 0px 0px 0px 2em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;"><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;"><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">引擎</code>：Hi！<code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">Spider</code>, 你要处理哪一个网站？</p></li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;"><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">Spider</code>：老大要我处理 xxxx.com。</p></li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;"><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">引擎</code>：你把第一个需要处理的 URL 给我吧。</p></li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;"><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">Spider</code>：给你，第一个 URL 是 xxxxxxx.com。</p></li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;"><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">引擎</code>：Hi！<code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">调度器</code>，我这有 request 请求你帮我排序入队一下。</p></li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;"><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">调度器</code>：好的，正在处理你等一下。</p></li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;"><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">引擎</code>：Hi！<code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">调度器</code>，把你处理好的 request 请求给我。</p></li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;"><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">调度器</code>：给你，这是我处理好的 request。</p></li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;"><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">引擎</code>：Hi！下载器，你按照老大的<code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">下载中间件</code>的设置帮我下载一下这个 request 请求。</p></li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;"><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">下载器</code>：好的！给你，这是下载好的东西。（如果失败：sorry，这个 request 下载失败了。然后<code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">引擎</code>告诉<code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">调度器</code>，这个 request 下载失败了，你记录一下，我们待会儿再下载）。</p></li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;"><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">引擎</code>：Hi！<code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">Spider</code>，这是下载好的东西，并且已经按照老大的<code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">下载中间件</code>处理过了，你自己处理一下（注意！这儿 responses 默认是交给&nbsp;<code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">def parse()</code>这个函数处理的）。</p></li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;"><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">Spider</code>：（处理完毕数据之后对于需要跟进的 URL），Hi！<code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">引擎</code>，我这里有两个结果，这个是我需要跟进的 URL，还有这个是我获取到的 Item 数据。</p></li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;"><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">引擎</code>：Hi ！<code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">管道</code>&nbsp;我这儿有个 item 你帮我处理一下！<code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">调度器</code>！这是需要跟进 URL 你帮我处理下。然后从第四步开始循环，直到获取完老大需要全部信息。</p></li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;"><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">管道``调度器</code>：好的，现在就做！</p></li></ol><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;"><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-weight: 700; font-size: inherit;">注意！只有当<code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">调度器</code>中不存在任何 request 了，整个程序才会停止，（也就是说，对于下载失败的 URL，Scrapy 也会重新下载。）</span></p></div><div><br></div><div><br></div><h3 id="blogTitle13">特点</h3><h4 id="blogTitle14">使用 twisted 异步网络框架处理网络通讯</h4><div><span style="color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 16px; letter-spacing: 0.2px; orphans: 3; widows: 3; background-color: rgb(243, 234, 203);">Scrapy 使用了 Twisted</span><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227); letter-spacing: 0.2px; orphans: 3; widows: 3;">['twɪstɪd]</code><span style="color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 16px; letter-spacing: 0.2px; orphans: 3; widows: 3; background-color: rgb(243, 234, 203);">(其主要对手是Tornado)异步网络框架来处理网络通讯，可以加快我们的下载速度，不用自己去实现异步框架，并且包含了各种中间件接口，可以灵活的完成各种需求。</span><br></div><div><br></div><div><br></div><div><br></div><div><br></div><h3 id="blogTitle15">制作 Scrapy 爬虫 一共需要 4 步<br></h3><div><ul style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; margin: 0px 0px 0.85em; padding: 0px 0px 0px 2em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;"><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;">新建项目（scrapy startproject xxx）：新建一个新的爬虫项目</li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;">明确目标（编写 items.py）：明确你想要抓取的目标</li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;">制作爬虫（spiders/xxspider.py）：制作爬虫开始爬取网页</li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;">存储内容（pipelines.py）：设计管道存储爬取内容</li></ul></div><h4 id="blogTitle16">新建项目</h4><div><ul style="font-size: 16px; -webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; margin: 0px 0px 0.85em; padding: 0px 0px 0px 2em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;"><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;">新建项目（scrapy startproject xxx）：新建一个新的爬虫项目</li></ul></div><h4 id="blogTitle17">明确目标</h4><div><ul style="font-size: 16px; -webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; margin: 0px 0px 0.85em; padding: 0px 0px 0px 2em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;"><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;">明确目标（编写 items.py）：明确你想要抓取的目标</li></ul></div><h4 id="blogTitle18">制作爬虫</h4><div><ul style="font-size: 16px; -webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; margin: 0px 0px 0.85em; padding: 0px 0px 0px 2em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;"><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;">制作爬虫（spiders/xxspider.py）：制作爬虫开始爬取网页</li></ul></div><h4 id="blogTitle19">存储内容</h4><div><ul style="font-size: 16px; -webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; margin: 0px 0px 0.85em; padding: 0px 0px 0px 2em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;"><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;">存储内容（pipelines.py）：设计管道存储爬取内容</li></ul></div><h3 id="blogTitle20">组成</h3><div><br></div><h3 id="blogTitle21">功能</h3><div><br></div><h3 id="blogTitle22">用途</h3><div><br></div><div><br></div><h2 id="blogTitle23">文档<br></h2><h3 id="blogTitle24">安装</h3><div><span style="color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 16px; font-weight: 700; letter-spacing: 0.2px; background-color: rgb(243, 234, 203);">具体Scrapy安装流程参考：</span><a href="http://doc.scrapy.org/en/latest/intro/install.html#intro-install-platform-notes" target="_blank" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; text-decoration-line: none; font-size: 16px; background: 0px 0px rgb(243, 234, 203); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-weight: 700; letter-spacing: 0.2px;">http://doc.scrapy.org/en/latest/intro/install.html#intro-install-platform-notes</a><span style="color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 16px; font-weight: 700; letter-spacing: 0.2px; background-color: rgb(243, 234, 203);">&nbsp;里面有各个平台的安装方法</span><br></div><h4 id="blogTitle25">下载</h4><div><span style="color: rgb(101, 123, 131); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 13.6px; letter-spacing: 0.2px; background-color: rgb(253, 246, 227);">pip3 install scrapy</span><br></div><h4 id="blogTitle26">创建软链接</h4><pre>ln -s /usr/local/python3/bin/scrapy /usr/bin/scrapy</pre><div><br></div><div><br></div><div><br></div><h2 id="blogTitle27">基础概念</h2><h3>命令行工具</h3><h3>Spiders</h3><h3>Selectors</h3><h3>Scrapy shell</h3><h3>Items</h3><h3>Item Loaders</h3><h3>Item Pipeline</h3><h3>Feed exports</h3><h3>Requests and Responses</h3><h3>Link Extractors</h3><h3>Settings</h3><h3>Exceptions</h3><h2>Built-in services</h2><h3>Logging</h3><h3>Stats Collection</h3><h3>Sending e-mail</h3><h3>Telnet Console</h3><h3>Web Service</h3><h2>Extending Scrapy</h2><h3>Architecture overview</h3><h3>下载器中间件</h3><h3>Spider 中间件</h3><h3>Extensions</h3><h3>核心 API</h3><h3>信号</h3><h3>Item Exporters&nbsp;</h3><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><h2 id="blogTitle27">Scrapy 框架</h2><h3 id="blogTitle28">入门案例</h3><h4 id="blogTitle29">学习目标</h4><div><ul style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; margin: 0px 0px 0.85em; padding: 0px 0px 0px 2em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;"><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;">创建一个 Scrapy 项目</li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;">定义提取的结构化数据 (Item)</li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;">编写爬取网站的 Spider 并提取出结构化数据 (Item)</li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;">编写 Item Pipelines 来存储提取到的 Item (即结构化数据)</li></ul></div><h4 id="blogTitle30">新建项目 (scrapy startproject)</h4><div><ul style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; margin: 0px 0px 0.85em; padding: 0px 0px 0px 2em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;"><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;">在开始爬取之前，必须创建一个新的 Scrapy 项目。进入自定义的项目目录中，运行下列命令：</li></ul><pre style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 16px; white-space: pre-wrap; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); overflow-wrap: normal; margin-top: 0px; margin-bottom: 1.275em; padding-top: 0.85em; padding-bottom: 0.85em; background-color: rgb(253, 246, 227); letter-spacing: 0.2px;"><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;">scrapy startproject mySpider</code></pre></div><div><ul style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; margin: 0px 0px 0.85em; padding: 0px 0px 0px 2em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;"><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;">其中， mySpider 为项目名称，可以看到将会创建一个 mySpider 文件夹，目录结构大致如下：</li></ul></div><pre>.
└── mySpider
    ├── mySpider
    │&nbsp;&nbsp; ├── __init__.py
    │&nbsp;&nbsp; ├── items.py
    │&nbsp;&nbsp; ├── middlewares.py
    │&nbsp;&nbsp; ├── pipelines.py
    │&nbsp;&nbsp; ├── settings.py
    │&nbsp;&nbsp; └── spiders
    │&nbsp;&nbsp;     └── __init__.py
    └── scrapy.cfg

</pre><div><br></div><div><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;">下面来简单介绍一下各个主要文件的作用：</p><blockquote style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; break-inside: avoid; margin: 0px 0px 0.85em; padding: 0px 15px; color: rgb(133, 133, 133); border-color: inherit; font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">scrapy.cfg ：项目的配置文件</p><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">mySpider/ ：项目的Python模块，将会从这里引用代码</p><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">mySpider/items.py ：项目的目标文件</p><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">mySpider/pipelines.py ：项目的管道文件</p><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">mySpider/settings.py ：项目的设置文件</p><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">mySpider/spiders/ ：存储爬虫代码目录</p></blockquote></div><h4 id="blogTitle31">明确目标 (mySpider/items.py)</h4><div><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;">我们打算抓取：<a href="http://www.itcast.cn/channel/teacher.shtml" target="_blank" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; text-decoration-line: none; font-size: inherit; background: 0px 0px;">http://www.itcast.cn/channel/teacher.shtml</a>&nbsp;网站里的所有讲师的姓名、职称和个人信息。</p><ol style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; margin: 0px 0px 0.85em; padding: 0px 0px 0px 2em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;"><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">打开 mySpider 目录下的 items.py</p></li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">Item 定义结构化数据字段，用来保存爬取到的数据，有点像 Python 中的 dict，但是提供了一些额外的保护，减少错误。</p></li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">可以通过创建一个 scrapy.Item 类， 并且定义类型为 scrapy.Field 的类属性来定义一个Item（可以理解成类似于 ORM 的映射关系）。</p></li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">接下来，创建一个 ItcastItem 类，和构建 item 模型（model）。</p></li></ol><pre style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 16px; white-space: pre-wrap; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); overflow-wrap: normal; margin-top: 0px; margin-bottom: 1.275em; padding-top: 0.85em; padding-bottom: 0.85em; background-color: rgb(253, 246, 227); letter-spacing: 0.2px;"><code class="lang-python" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">import</span> scrapy

<span class="hljs-class" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">class</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(181, 137, 0);">ItcastItem</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(scrapy.Item)</span>:</span>
    name = scrapy.Field()
    level = scrapy.Field()
    info = scrapy.Field()</code></pre></div><div><br></div><h4 id="blogTitle32">制作爬虫 （spiders/itcastSpider.py）</h4><div><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;"><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-weight: 700; font-size: inherit;">爬虫功能要分两步：</span></p><h5 style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; break-after: avoid; margin-top: 1.275em; margin-bottom: 0.85em;" id="blogTitle33">1. 爬数据</h5><ul style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; margin: 0px 0px 0.85em; padding: 0px 0px 0px 2em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;"><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;">在当前目录下输入命令，将在<code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">mySpider/spider</code>目录下创建一个名为<code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">itcast</code>的爬虫，并指定爬取域的范围：</li></ul><pre style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 16px; white-space: pre-wrap; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); overflow-wrap: normal; margin-top: 0px; margin-bottom: 1.275em; padding-top: 0.85em; padding-bottom: 0.85em; background-color: rgb(253, 246, 227); letter-spacing: 0.2px;"><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;">scrapy genspider itcast "itcast.cn"
</code></pre><ul style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; margin: 0px 0px 0.85em; padding: 0px 0px 0px 2em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;"><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;">打开 mySpider/spider目录里的 itcast.py，默认增加了下列代码:</li></ul><pre style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 16px; white-space: pre-wrap; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); overflow-wrap: normal; margin-top: 0px; margin-bottom: 1.275em; padding-top: 0.85em; padding-bottom: 0.85em; background-color: rgb(253, 246, 227); letter-spacing: 0.2px;"><code class="lang-python" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">import</span> scrapy

<span class="hljs-class" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">class</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(181, 137, 0);">ItcastSpider</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(scrapy.Spider)</span>:</span>
    name = <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"itcast"</span>
    allowed_domains = [<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"itcast.cn"</span>]
    start_urls = (
        <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'http://www.itcast.cn/'</span>,
    )

    <span class="hljs-function" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(66, 113, 174);"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">def</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">parse</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(self, response)</span>:</span>
        <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">pass</span>
</code></pre><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 1em; margin-top: 1.275em; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;">其实也可以由我们自行创建 itcast.py 并编写上面的代码，只不过使用命令可以免去编写固定代码的麻烦</p><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;">要建立一个 Spider， 你必须用 scrapy.Spider 类创建一个子类，并确定了三个强制的属性 和 一个方法。</p><ul style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; margin: 0px 0px 0.85em; padding: 0px 0px 0px 2em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;"><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;"><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">name = ""</code>&nbsp;：这个爬虫的识别名称，必须是唯一的，在不同的爬虫必须定义不同的名字。</p></li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;"><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">allow_domains = []</code>&nbsp;是搜索的域名范围，也就是爬虫的约束区域，规定爬虫只爬取这个域名下的网页，不存在的URL会被忽略。</p></li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;"><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">start_urls = ()</code>&nbsp;：爬取的 URL 元组/列表。爬虫从这里开始抓取数据，所以，第一次下载的数据将会从这些 urls 开始。其他子 URL 将会从这些起始 URL 中继承性生成。</p></li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;"><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">parse(self, response)</code>&nbsp;：解析的方法，每个初始 URL 完成下载后将被调用，调用的时候传入从每一个 URL 传回的 Response 对象来作为唯一参数，主要作用如下：</p><ol style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; margin: 0px; padding: 0px 0px 0px 2em;"><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;">负责解析返回的网页数据 (response.body)，提取所需的结构化数据 (生成 item)</li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;">生成需要下一页的URL请求。</li></ol></li></ul><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 1em; orphans: 3; widows: 3; break-after: avoid; margin-top: 1.275em; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;">将 start_urls 的值修改为需要爬取的第一个url</p><pre style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 16px; white-space: pre-wrap; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); overflow-wrap: normal; margin-top: 0px; margin-bottom: 1.275em; padding-top: 0.85em; padding-bottom: 0.85em; background-color: rgb(253, 246, 227); letter-spacing: 0.2px;"><code class="lang-python" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;">start_urls = (<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"http://www.itcast.cn/channel/teacher.shtml"</span>,)
</code></pre><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 1em; orphans: 3; widows: 3; break-after: avoid; margin-top: 1.275em; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;">修改 parse() 方法</p><pre style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 16px; white-space: pre-wrap; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); overflow-wrap: normal; margin-top: 0px; margin-bottom: 1.275em; padding-top: 0.85em; padding-bottom: 0.85em; background-color: rgb(253, 246, 227); letter-spacing: 0.2px;"><code class="lang-python" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;"><span class="hljs-function" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(66, 113, 174);"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">def</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">parse</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(self, response)</span>:</span>
    filename = <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"teacher.html"</span>
    open(filename, <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'w'</span>).write(response.body)
</code></pre><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;">然后运行一下看看，在 mySpider 目录下执行：</p><pre style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 16px; white-space: pre-wrap; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); overflow-wrap: normal; margin-top: 0px; margin-bottom: 1.275em; padding-top: 0.85em; padding-bottom: 0.85em; background-color: rgb(253, 246, 227); letter-spacing: 0.2px;"><code class="lang-python" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;">scrapy crawl itcast
</code></pre><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;">是的，就是 itcast，看上面代码，它是 ItcastSpider 类的 name 属性，也就是使用&nbsp;<code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">scrapy genspider</code>命令的唯一爬虫名。</p><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;">运行之后，如果打印的日志出现&nbsp;<code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">[scrapy] INFO: Spider closed (finished)</code>，代表执行完成。 之后当前文件夹中就出现了一个 teacher.html 文件，里面就是我们刚刚要爬取的网页的全部源代码信息。</p><h5 style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; break-after: avoid; margin-top: 1.275em; margin-bottom: 0.85em;" id="blogTitle34">2. 取数据</h5><ul style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; margin: 0px 0px 0.85em; padding: 0px 0px 0px 2em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;"><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;">爬取整个网页完毕，接下来的就是的取过程了，首先观察页面源码：</li></ul><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;"><img src="../images/teacher_html.png" alt="" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; border: 0px; font-size: inherit; break-inside: avoid; max-width: 100%;"></p><pre style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 16px; white-space: pre-wrap; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); overflow-wrap: normal; margin-top: 0px; margin-bottom: 1.275em; padding-top: 0.85em; padding-bottom: 0.85em; background-color: rgb(253, 246, 227); letter-spacing: 0.2px;"><code class="lang-html" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;"><span class="hljs-tag" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(200, 40, 41);">&lt;<span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">div</span> <span class="hljs-attribute" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(181, 137, 0);">class</span>=<span class="hljs-value" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"li_txt"</span>&gt;</span>
    <span class="hljs-tag" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(200, 40, 41);">&lt;<span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">h3</span>&gt;</span>  xxx  <span class="hljs-tag" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(200, 40, 41);">&lt;/<span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">h3</span>&gt;</span>
    <span class="hljs-tag" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(200, 40, 41);">&lt;<span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">h4</span>&gt;</span> xxxxx <span class="hljs-tag" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(200, 40, 41);">&lt;/<span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">h4</span>&gt;</span>
    <span class="hljs-tag" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(200, 40, 41);">&lt;<span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">p</span>&gt;</span> xxxxxxxx <span class="hljs-tag" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(200, 40, 41);">&lt;/<span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">p</span>&gt;</span>
</code></pre><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 1.25em; orphans: 3; widows: 3; break-after: avoid; margin-top: 1.275em; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;">是不是一目了然？直接上 XPath 开始提取数据吧。</p><ul style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; margin: 0px 0px 0.85em; padding: 0px 0px 0px 2em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;"><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;">我们之前在 mySpider/items.py 里定义了一个 ItcastItem 类。 这里引入进来</li></ul><pre style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 16px; white-space: pre-wrap; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); overflow-wrap: normal; margin-top: 0px; margin-bottom: 1.275em; padding-top: 0.85em; padding-bottom: 0.85em; background-color: rgb(253, 246, 227); letter-spacing: 0.2px;"><code class="lang-python" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;">  <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">from</span> mySpider.items <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">import</span> ItcastItem
</code></pre><ul style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; margin: 0px 0px 0.85em; padding: 0px 0px 0px 2em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;"><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;">然后将我们得到的数据封装到一个&nbsp;<code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">ItcastItem</code>&nbsp;对象中，可以保存每个老师的属性：</li></ul><pre style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 16px; white-space: pre-wrap; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); overflow-wrap: normal; margin-top: 0px; margin-bottom: 1.275em; padding-top: 0.85em; padding-bottom: 0.85em; background-color: rgb(253, 246, 227); letter-spacing: 0.2px;"><code class="lang-python" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">from</span> mySpider.items <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">import</span> ItcastItem

<span class="hljs-function" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(66, 113, 174);"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">def</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">parse</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(self, response)</span>:</span>
    <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);">#open("teacher.html","wb").write(response.body).close()</span>

    <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 存放老师信息的集合</span>
    items = []

    <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">for</span> each <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">in</span> response.xpath(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"//div[@class='li_txt']"</span>):
        <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 将我们得到的数据封装到一个 `ItcastItem` 对象</span>
        item = ItcastItem()
        <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># extract() 方法返回的都是 unicode 字符串</span>
        name = each.xpath(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"h3/text()"</span>).extract()
        title = each.xpath(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"h4/text()"</span>).extract()
        info = each.xpath(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"p/text()"</span>).extract()

        <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># xpath 返回的是包含一个元素的列表</span>
        item[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'name'</span>] = name[<span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">0</span>]
        item[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'title'</span>] = title[<span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">0</span>]
        item[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'info'</span>] = info[<span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">0</span>]

        items.append(item)

    <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 直接返回最后数据</span>
    <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">return</span> items
</code></pre><ul style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; margin: 0px 0px 0.85em; padding: 0px 0px 0px 2em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;"><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;">我们暂时先不处理管道，后面会详细介绍。</li></ul></div><h4 id="blogTitle35">保存数据</h4><div><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 1em; orphans: 3; widows: 3; break-after: avoid; margin-top: 1.275em; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;">scrapy保存信息的最简单的方法主要有四种，-o 输出指定格式的文件，，命令如下：</p><pre style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 16px; white-space: pre-wrap; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); overflow-wrap: normal; margin-top: 0px; margin-bottom: 1.275em; padding-top: 0.85em; padding-bottom: 0.85em; background-color: rgb(253, 246, 227); letter-spacing: 0.2px;"><code class="lang-python" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;"><span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># json格式，默认为Unicode编码</span>
scrapy crawl itcast -o teachers.json

<span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># json lines格式，默认为Unicode编码</span>
scrapy crawl itcast -o teachers.jsonl

<span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># csv 逗号表达式，可用Excel打开</span>
scrapy crawl itcast -o teachers.csv

<span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># xml格式</span>
scrapy crawl itcast -o teachers.xml</code></pre></div><div><h4 style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; break-after: avoid; margin-top: 1.275em; margin-bottom: 0.85em; border-color: inherit;" id="blogTitle36">思考</h4><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; break-after: avoid; margin-top: 1.275em; margin-bottom: 0.85em;">如果将代码改成下面形式，结果完全一样。</p><h5 style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; break-after: avoid; margin-top: 1.275em; margin-bottom: 0.85em;" id="blogTitle37">请思考 yield 在这里的作用：</h5><pre style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 16px; white-space: pre-wrap; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); overflow-wrap: normal; margin-top: 0px; margin-bottom: 1.275em; padding-top: 0.85em; padding-bottom: 0.85em; background-color: rgb(253, 246, 227); letter-spacing: 0.2px;"><code class="lang-python" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">from</span> mySpider.items <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">import</span> ItcastItem

<span class="hljs-function" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(66, 113, 174);"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">def</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">parse</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(self, response)</span>:</span>
    <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);">#open("teacher.html","wb").write(response.body).close()</span>

    <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 存放老师信息的集合</span>
    <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);">#items = []</span>

    <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">for</span> each <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">in</span> response.xpath(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"//div[@class='li_txt']"</span>):
        <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 将我们得到的数据封装到一个 `ItcastItem` 对象</span>
        item = ItcastItem()
        <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># extract() 方法返回的都是 unicode 字符串</span>
        name = each.xpath(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"h3/text()"</span>).extract()
        title = each.xpath(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"h4/text()"</span>).extract()
        info = each.xpath(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"p/text()"</span>).extract()

        <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># xpath 返回的是包含一个元素的列表</span>
        item[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'name'</span>] = name[<span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">0</span>]
        item[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'title'</span>] = title[<span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">0</span>]
        item[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'info'</span>] = info[<span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">0</span>]

        <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);">#items.append(item)</span>

        <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);">#将获取的数据交给 pipelines</span>
        <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">yield</span> item

    <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 返回数据，不经过 pipeline</span>
    <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);">#return items</span></code></pre></div><h3 id="blogTitle38">Item Pipeline</h3><div><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;">当 Item 在 Spider 中被收集之后，它将会被传递到 Item Pipeline，这些 Item Pipeline 组件按定义的顺序处理 Item。</p><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;">每个 Item Pipeline 都是实现了简单方法的 Python 类，比如决定此 Item 是丢弃而存储。以下是 item pipeline 的一些典型应用：</p><ul style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; margin: 0px 0px 0.85em; padding: 0px 0px 0px 2em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;"><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;">验证爬取的数据(检查 item 包含某些字段，比如说 name 字段)</li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;">查重(并丢弃)</li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;">将爬取结果保存到文件或者数据库中</li></ul><h4 style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; break-after: avoid; margin-top: 1.275em; margin-bottom: 0.85em; border-color: inherit;" id="blogTitle39">编写 item pipeline</h4><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;">编写 item pipeline 很简单，item pipiline 组件是一个独立的 Python 类，其中 process_item() 方法必须实现:</p><pre style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 16px; white-space: pre-wrap; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); overflow-wrap: normal; margin-top: 0px; margin-bottom: 1.275em; padding-top: 0.85em; padding-bottom: 0.85em; background-color: rgb(253, 246, 227); letter-spacing: 0.2px;"><code class="lang-python" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">import</span> something

<span class="hljs-class" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">class</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(181, 137, 0);">SomethingPipeline</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(object)</span>:</span>
    <span class="hljs-function" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(66, 113, 174);"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">def</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">__init__</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(self)</span>:</span>
        <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 可选实现，做参数初始化等</span>
        <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># doing something</span>

    <span class="hljs-function" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(66, 113, 174);"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">def</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">process_item</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(self, item, spider)</span>:</span>
        <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># item (Item 对象) – 被爬取的item</span>
        <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># spider (Spider 对象) – 爬取该 item 的 spider</span>
        <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 这个方法必须实现，每个 item pipeline 组件都需要调用该方法，</span>
        <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 这个方法必须返回一个 Item 对象，被丢弃的 item 将不会被之后的 pipeline 组件所处理。</span>
        <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">return</span> item

    <span class="hljs-function" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(66, 113, 174);"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">def</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">open_spider</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(self, spider)</span>:</span>
        <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># spider (Spider 对象) – 被开启的spider</span>
        <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 可选实现，当spider被开启时，这个方法被调用。</span>

    <span class="hljs-function" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(66, 113, 174);"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">def</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">close_spider</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(self, spider)</span>:</span>
        <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># spider (Spider 对象) – 被关闭的spider</span>
        <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 可选实现，当spider被关闭时，这个方法被调用</span></code></pre><h4 style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; break-after: avoid; margin-top: 1.275em; margin-bottom: 0.85em; border-color: inherit;" id="blogTitle40">完善之前的案例：</h4><h5 style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; break-after: avoid; margin-top: 1.275em; margin-bottom: 0.85em;" id="blogTitle41">item 写入 JSON 文件</h5><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;">以下 pipeline 将所有(从所有 'spider' 中)爬取到的 item，存储到一个独立地 items.json 文件，每行包含一个序列化为 'JSON' 格式的 'item':</p><pre style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 16px; white-space: pre-wrap; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); overflow-wrap: normal; margin-top: 0px; margin-bottom: 1.275em; padding-top: 0.85em; padding-bottom: 0.85em; background-color: rgb(253, 246, 227); letter-spacing: 0.2px;"><code class="lang-python" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">import</span> json

<span class="hljs-class" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">class</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(181, 137, 0);">ItcastJsonPipeline</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(object)</span>:</span>

    <span class="hljs-function" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(66, 113, 174);"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">def</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">__init__</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(self)</span>:</span>
        self.file = open(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'teacher.json'</span>, <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'wb'</span>)

    <span class="hljs-function" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(66, 113, 174);"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">def</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">process_item</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(self, item, spider)</span>:</span>
        content = json.dumps(dict(item), ensure_ascii=<span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">False</span>) + <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"\n"</span>
        self.file.write(content)
        <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">return</span> item

    <span class="hljs-function" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(66, 113, 174);"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">def</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">close_spider</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(self, spider)</span>:</span>
        self.file.close()</code></pre><h5 style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; break-after: avoid; margin-top: 1.275em; margin-bottom: 0.85em;" id="blogTitle42">启用一个 Item Pipeline 组件</h5><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;">为了启用 Item Pipeline 组件，必须将它的类添加到 settings.py 文件 ITEM_PIPELINES 配置，就像下面这个例子:</p><pre style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 16px; white-space: pre-wrap; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); overflow-wrap: normal; margin-top: 0px; margin-bottom: 1.275em; padding-top: 0.85em; padding-bottom: 0.85em; background-color: rgb(253, 246, 227); letter-spacing: 0.2px;"><code class="lang-python" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;"><span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># Configure item pipelines</span>
<span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># See http://scrapy.readthedocs.org/en/latest/topics/item-pipeline.html</span>
ITEM_PIPELINES = {
    <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);">#'mySpider.pipelines.SomePipeline': 300,</span>
    <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"mySpider.pipelines.ItcastJsonPipeline"</span>:<span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">300</span>
}
</code></pre><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;">分配给每个类的整型值，确定了他们运行的顺序，item 按数字从低到高的顺序，通过 pipeline，通常将这些数字定义在 0-1000 范围内（0-1000 随意设置，数值越低，组件的优先级越高）</p><h4 id="blogTitle43" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; break-after: avoid; margin-top: 1.275em; margin-bottom: 0.85em;">重新启动爬虫</h4><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;">将 parse() 方法改为如下代码：</p><pre style="padding-top: 0.85em; padding-bottom: 0.85em; background-color: rgb(253, 246, 227); font-size: 16px; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; color: rgb(101, 123, 131); -webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; white-space: pre-wrap; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); overflow-wrap: normal; margin-top: 0px; margin-bottom: 1.275em; letter-spacing: 0.2px;"><code class="lang-python" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">from</span> mySpider.items <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">import</span> ItcastItem

<span class="hljs-function" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(66, 113, 174);"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">def</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">parse</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(self, response)</span>:</span>
    <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);">#open("teacher.html","wb").write(response.body).close()</span>

    <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 存放老师信息的集合</span>
    <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);">#items = []</span>

    <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">for</span> each <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">in</span> response.xpath(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"//div[@class='li_txt']"</span>):
        <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 将我们得到的数据封装到一个 `ItcastItem` 对象</span>
        item = ItcastItem()
        <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># extract() 方法返回的都是 unicode 字符串</span>
        name = each.xpath(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"h3/text()"</span>).extract()
        title = each.xpath(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"h4/text()"</span>).extract()
        info = each.xpath(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"p/text()"</span>).extract()

        <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># xpath 返回的是包含一个元素的列表</span>
        item[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'name'</span>] = name[<span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">0</span>]
        item[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'title'</span>] = title[<span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">0</span>]
        item[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'info'</span>] = info[<span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">0</span>]

        <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);">#items.append(item)</span>

        <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);">#将获取的数据交给 pipelines</span>
        <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">yield</span> item

    <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 返回数据，不经过 pipeline</span>
    <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);">#return items</span></code></pre><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;">然后执行下面的命令：</p><pre style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 16px; white-space: pre-wrap; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); overflow-wrap: normal; margin-top: 0px; margin-bottom: 1.275em; padding-top: 0.85em; padding-bottom: 0.85em; background-color: rgb(253, 246, 227); letter-spacing: 0.2px;"><code class="lang-j" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;">scrapy crawl itcast
</code></pre><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;">查看当前目录是否生成 teacher.json</p></div><div><br></div><h3 id="blogTitle44">Scrapy Shell</h3><div><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;">Scrapy 终端是一个交互终端，我们可以在未启动 spider 的情况下尝试及调试代码，也可以用来测试 XPath 或 CSS 表达式，查看他们的工作方式，方便我们爬取的网页中提取的数据。</p><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;">如果安装了 IPython，Scrapy 终端将使用 IPython (替代标准 Python 终端)。 IPython 终端与其他相比更为强大，提供智能的自动补全，高亮输出，及其他特性。（推荐安装IPython）</p><h4 style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; break-after: avoid; margin-top: 1.275em; margin-bottom: 0.85em; border-color: inherit;" id="blogTitle45">启动 Scrapy Shell</h4><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;">进入项目的根目录，执行下列命令来启动shell:</p><pre style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 16px; white-space: pre-wrap; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); overflow-wrap: normal; margin-top: 0px; margin-bottom: 1.275em; padding-top: 0.85em; padding-bottom: 0.85em; background-color: rgb(253, 246, 227); letter-spacing: 0.2px;"><code class="lang-python" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;">scrapy shell <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"http://www.itcast.cn/channel/teacher.shtml"</span>
</code></pre></div><div><code class="lang-python" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;"><span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px; white-space: normal;">Scrapy Shell 根据下载的页面会自动创建一些方便使用的对象，例如 Response 对象，以及&nbsp;<code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">Selector 对象 (对HTML及XML内容)</code>。</p><ul style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; margin: 0px 0px 0.85em; padding: 0px 0px 0px 2em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px; white-space: normal;"><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">当 shell 载入后，将得到一个包含 response 数据的本地 response 变量，输入&nbsp;<code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">response.body</code>将输出 response 的包体，输出&nbsp;<code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">response.headers</code>&nbsp;可以看到 response 的包头。</p></li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">输入&nbsp;<code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">response.selector</code>&nbsp;时， 将获取到一个 response 初始化的类 Selector 的对象，此时可以通过使用&nbsp;<code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">response.selector.xpath()</code>或<code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">response.selector.css()</code>&nbsp;来对 response 进行查询。</p></li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">Scrapy 也提供了一些快捷方式, 例如&nbsp;<code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">response.xpath()</code>或<code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">response.css()</code>同样可以生效（如之前的案例）。</p></li></ul></span></code></div><div><h3 style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; break-after: avoid; margin-top: 1.275em; margin-bottom: 0.85em; border-color: inherit;" id="blogTitle46">Selectors 选择器</h3><h4 style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; margin-top: 1.275em; margin-bottom: 0.85em;" id="blogTitle47">Scrapy Selectors 内置 XPath 和 CSS Selector 表达式机制</h4><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;">Selector 有四个基本的方法，最常用的还是 xpath:</p><ul style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; margin: 0px 0px 0.85em; padding: 0px 0px 0px 2em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;"><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;">xpath(): 传入 xpath 表达式，返回该表达式所对应的所有节点的 selector list 列表</li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;">extract(): 序列化该节点为 Unicode 字符串并返回 list</li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;">css(): 传入 CSS 表达式，返回该表达式所对应的所有节点的 selector list 列表，语法同&nbsp; BeautifulSoup4</li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;">re(): 根据传入的正则表达式对数据进行提取，返回 Unicode 字符串 list 列表</li></ul><h4 id="blogTitle48" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; break-after: avoid; margin-top: 1.275em; margin-bottom: 0.85em;">XPath 表达式的例子及对应的含义:</h4><pre style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); overflow-wrap: normal; margin-top: 0px; margin-bottom: 1.275em; padding-top: 0.85em; padding-bottom: 0.85em; background-color: rgb(253, 246, 227); white-space: pre-wrap; letter-spacing: 0.2px; font-size: 16px; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; color: rgb(101, 123, 131);"><code class="lang-html" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;">/html/head/title: 选择<span class="hljs-tag" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(200, 40, 41);">&lt;<span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">HTML</span>&gt;</span>文档中 <span class="hljs-tag" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(200, 40, 41);">&lt;<span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">head</span>&gt;</span> 标签内的 <span class="hljs-tag" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(200, 40, 41);">&lt;<span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">title</span>&gt;</span> 元素
/html/head/title/text(): 选择上面提到的 <span class="hljs-tag" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(200, 40, 41);">&lt;<span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">title</span>&gt;</span> 元素的文字
//td: 选择所有的 <span class="hljs-tag" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(200, 40, 41);">&lt;<span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">td</span>&gt;</span> 元素
//div[@class="mine"]: 选择所有具有 class="mine" 属性的 div 元素</code></pre><h4 id="blogTitle49" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; break-after: avoid; margin-top: 1.275em; margin-bottom: 0.85em;">尝试Selector</h4><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;">我们用腾讯社招的网站&nbsp;<a href="http://hr.tencent.com/position.php?&amp;start=0#a" target="_blank" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; text-decoration-line: none; font-size: inherit; background: 0px 0px;">http://hr.tencent.com/position.php?&amp;start=0#a</a>&nbsp;举例：</p><pre style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 16px; white-space: pre-wrap; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); overflow-wrap: normal; margin-top: 0px; margin-bottom: 1.275em; padding-top: 0.85em; padding-bottom: 0.85em; background-color: rgb(253, 246, 227); letter-spacing: 0.2px;"><code class="lang-python" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;"># 启动
scrapy shell "http://hr.tencent.com/position.php?&amp;start=0#a"

# 返回 xpath选择器对象列表
response.xpath('//title')
[&lt;Selector xpath='//title' data=u'&lt;title&gt;\u804c\u4f4d\u641c\u7d22 | \u793e\u4f1a\u62db\u8058 | Tencent \u817e\u8baf\u62db\u8058&lt;/title'&gt;]

# 使用 extract()方法返回 Unicode 字符串列表
response.xpath('//title').extract()
[u'&lt;title&gt;\u804c\u4f4d\u641c\u7d22 | \u793e\u4f1a\u62db\u8058 | Tencent \u817e\u8baf\u62db\u8058&lt;/title&gt;']

# 打印列表第一个元素，终端编码格式显示
print response.xpath('//title').extract()[0]
&lt;title&gt;职位搜索 | 社会招聘 | Tencent 腾讯招聘&lt;/title&gt;

# 返回 xpath 选择器对象列表
response.xpath('//title/text()')
&lt;Selector xpath='//title/text()' data=u'\u804c\u4f4d\u641c\u7d22 | \u793e\u4f1a\u62db\u8058 | Tencent \u817e\u8baf\u62db\u8058'&gt;

# 返回列表第一个元素的 Unicode 字符串
response.xpath('//title/text()')[0].extract()
u'\u804c\u4f4d\u641c\u7d22 | \u793e\u4f1a\u62db\u8058 | Tencent \u817e\u8baf\u62db\u8058'

# 按终端编码格式显示
print response.xpath('//title/text()')[0].extract()
职位搜索 | 社会招聘 | Tencent 腾讯招聘

response.xpath('//*[@class="even"]')
职位名称:

print site[0].xpath('./td[1]/a/text()').extract()[0]
TEG15-运营开发工程师（深圳）
职位名称详情页:

print site[0].xpath('./td[1]/a/@href').extract()[0]
position_detail.php?id=20744&amp;keywords=&amp;tid=0&amp;lid=0
职位类别:

print site[0].xpath('./td[2]/text()').extract()[0]
技术类
</code></pre><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;">以后做数据提取的时候，可以把现在 Scrapy Shell 中测试，测试通过后再应用到代码中。</p><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;">当然 Scrapy Shell 作用不仅仅如此，但是不属于我们课程重点，不做详细介绍。</p><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;">官方文档：<a href="http://scrapy-chs.readthedocs.io/zh_CN/latest/topics/shell.html" target="_blank" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; text-decoration-line: none; font-size: inherit; background: 0px 0px;">http://scrapy-chs.readthedocs.io/zh_CN/latest/topics/shell.html</a></p></div><div><br></div><div><br></div><h3 id="blogTitle50">Spider</h3><div><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;">Spider 类定义了如何爬取某个(或某些)网站。包括了爬取的动作(例如:是否跟进链接)以及如何从网页的内容中提取结构化数据(爬取 item)。 换句话说，Spider 就是您定义爬取的动作及分析某个网页(或者是有些网页)的地方。</p><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;"><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">class scrapy.Spider</code>是最基本的类，所有编写的爬虫必须继承这个类。</p><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;">主要用到的函数及调用顺序为：</p><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;"><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">__init__()</code>&nbsp;: 初始化爬虫名字和 start_urls 列表</p><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;"><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">start_requests() 调用 make_requests_from_url()</code>: 生成 Requests 对象交给 Scrapy 下载并返回 response</p><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;"><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">parse()</code>&nbsp;: 解析 response，并返回 Item 或 Requests（需指定回调函数）。Item 传给 Item pipline 持久化 ， 而 Requests 交由 Scrapy 下载，并由指定的回调函数处理（默认 parse())，一直进行循环，直到处理完所有的数据为止。</p><h4 id="blogTitle51" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; break-after: avoid; margin-top: 1.275em; margin-bottom: 0.85em;">源码参考</h4><pre style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 16px; white-space: pre-wrap; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); overflow-wrap: normal; margin-top: 0px; margin-bottom: 1.275em; padding-top: 0.85em; padding-bottom: 0.85em; background-color: rgb(253, 246, 227); letter-spacing: 0.2px;"><code class="lang-python" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;"><span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);">#所有爬虫的基类，用户定义的爬虫必须从这个类继承</span>
<span class="hljs-class" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">class</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(181, 137, 0);">Spider</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(object_ref)</span>:</span>

    <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 定义 spider 名字的字符串(string)。spider 的名字定义了 Scrapy 如何定位(并初始化) spider，所以其必须是唯一的。</span>
    <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># name 是 spider 最重要的属性，而且是必须的。</span>
    <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 一般做法是以该网站(domain)(加或不加 后缀 )来命名 spider。 例如，如果 spider 爬取 mywebsite.com ，该 spider 通常会被命名为 mywebsite</span>
    name = <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">None</span>

    <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 初始化，提取爬虫名字，start_ruls</span>
    <span class="hljs-function" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(66, 113, 174);"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">def</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">__init__</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(self, name=None, **kwargs)</span>:</span>
        <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">if</span> name <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">is</span> <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">not</span> <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">None</span>:
            self.name = name
        <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 如果爬虫没有名字，中断后续操作并报错</span>
        <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">elif</span> <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">not</span> getattr(self, <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'name'</span>, <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">None</span>):
            <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">raise</span> ValueError(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"%s must have a name"</span> % type(self).__name__)

        <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># python 对象或类型通过内置成员 __dict__ 来存储成员信息</span>
        self.__dict__.update(kwargs)

        <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># URL 列表。当没有指定的 URL 时，spider 将从该列表中开始进行爬取。 因此，第一个被获取到的页面的 URL 将是该列表之一。 后续的 URL 将会从获取到的数据中提取。</span>
        <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">if</span> <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">not</span> hasattr(self, <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'start_urls'</span>):
            self.start_urls = []

    <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 打印 Scrapy 执行后的 log 信息</span>
    <span class="hljs-function" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(66, 113, 174);"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">def</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">log</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(self, message, level=log.DEBUG, **kw)</span>:</span>
        log.msg(message, spider=self, level=level, **kw)

    <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 判断对象 object 的属性是否存在，不存在做断言处理</span>
    <span class="hljs-function" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(66, 113, 174);"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">def</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">set_crawler</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(self, crawler)</span>:</span>
        <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">assert</span> <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">not</span> hasattr(self, <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'_crawler'</span>), <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"Spider already bounded to %s"</span> % crawler
        self._crawler = crawler

<span class="hljs-decorator" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">    @property</span>
    <span class="hljs-function" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(66, 113, 174);"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">def</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">crawler</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(self)</span>:</span>
        <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">assert</span> hasattr(self, <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'_crawler'</span>), <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"Spider not bounded to any crawler"</span>
        <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">return</span> self._crawler

<span class="hljs-decorator" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">    @property</span>
    <span class="hljs-function" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(66, 113, 174);"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">def</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">settings</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(self)</span>:</span>
        <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">return</span> self.crawler.settings

    <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);">#该方法将读取start_urls内的地址，并为每一个地址生成一个Request对象，交给Scrapy下载并返回Response</span>
    <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);">#该方法仅调用一次</span>
    <span class="hljs-function" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(66, 113, 174);"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">def</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">start_requests</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(self)</span>:</span>
        <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">for</span> url <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">in</span> self.start_urls:
            <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">yield</span> self.make_requests_from_url(url)

    <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);">#start_requests()中调用，实际生成Request的函数。</span>
    <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);">#Request对象默认的回调函数为parse()，提交的方式为get</span>
    <span class="hljs-function" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(66, 113, 174);"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">def</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">make_requests_from_url</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(self, url)</span>:</span>
        <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">return</span> Request(url, dont_filter=<span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">True</span>)

    <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);">#默认的 Request 对象回调函数，处理返回的 response。</span>
    <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);">#生成 Item 或者 Request 对象。用户必须实现这个类</span>
    <span class="hljs-function" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(66, 113, 174);"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">def</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">parse</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(self, response)</span>:</span>
        <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">raise</span> NotImplementedError

<span class="hljs-decorator" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">    @classmethod</span>
    <span class="hljs-function" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(66, 113, 174);"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">def</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">handles_request</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(cls, request)</span>:</span>
        <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">return</span> url_is_from_spider(request.url, cls)

    <span class="hljs-function" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(66, 113, 174);"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">def</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">__str__</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(self)</span>:</span>
        <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">return</span> <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"&lt;%s %r at 0x%0x&gt;"</span> % (type(self).__name__, self.name, id(self))

    __repr__ = __str__</code></pre><h4 id="blogTitle52" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; break-after: avoid; margin-top: 1.275em; margin-bottom: 0.85em;">主要属性和方法</h4><ul style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; margin: 0px 0px 0.85em; padding: 0px 0px 0px 2em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;"><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">name</p><blockquote style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; break-inside: avoid; margin: 0px; padding: 0px 15px; color: rgb(133, 133, 133); border-color: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">定义spider名字的字符串。</p><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">例如，如果spider爬取 mywebsite.com ，该spider通常会被命名为 mywebsite</p></blockquote></li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">allowed_domains</p><blockquote style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; break-inside: avoid; margin: 0px; padding: 0px 15px; color: rgb(133, 133, 133); border-color: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">包含了spider允许爬取的域名(domain)的列表，可选。</p></blockquote></li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">start_urls</p><blockquote style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; break-inside: avoid; margin: 0px; padding: 0px 15px; color: rgb(133, 133, 133); border-color: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">初始URL元祖/列表。当没有制定特定的URL时，spider将从该列表中开始进行爬取。</p></blockquote></li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">start_requests(self)</p><blockquote style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; break-inside: avoid; margin: 0px; padding: 0px 15px; color: rgb(133, 133, 133); border-color: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">该方法必须返回一个可迭代对象(iterable)。该对象包含了spider用于爬取（默认实现是使用 start_urls 的url）的第一个Request。</p><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">当spider启动爬取并且未指定start_urls时，该方法被调用。</p></blockquote></li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">parse(self, response)</p><blockquote style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; break-inside: avoid; margin: 0px; padding: 0px 15px; color: rgb(133, 133, 133); border-color: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">当请求url返回网页没有指定回调函数时，默认的Request对象回调函数。用来处理网页返回的response，以及生成Item或者Request对象。</p></blockquote></li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">log(self, message[, level, component])</p><blockquote style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; break-inside: avoid; margin: 0px; padding: 0px 15px; color: rgb(133, 133, 133); border-color: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">使用 scrapy.log.msg() 方法记录(log)message。 更多数据请参见&nbsp;<a href="4.7.html" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; text-decoration-line: none; font-size: inherit; background: 0px 0px;">logging</a></p></blockquote></li></ul><h3 style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; break-after: avoid; margin-top: 1.275em; margin-bottom: 0.85em;" id="blogTitle53">案例：腾讯招聘网自动翻页采集</h3><p></p><h4 id="blogTitle54">创建一个新的爬虫</h4><p></p><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;"><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">scrapy genspider tencent "tencent.com"</code></p><h4 id="blogTitle55">编写 items.py<br></h4><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;">获取职位名称、详细信息、</p><pre style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); overflow-wrap: normal; margin-top: 0px; margin-bottom: 1.275em; padding-top: 0.85em; padding-bottom: 0.85em; background-color: rgb(253, 246, 227); white-space: pre-wrap; letter-spacing: 0.2px; font-size: 16px; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; color: rgb(101, 123, 131);"><code class="lang-python" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;"><span class="hljs-class" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">class</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(181, 137, 0);">TencentItem</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(scrapy.Item)</span>:</span>
    name = scrapy.Field()
    detailLink = scrapy.Field()
    positionInfo = scrapy.Field()
    peopleNumber = scrapy.Field()
    workLocation = scrapy.Field()
    publishTime = scrapy.Field()</code></pre><h4 id="blogTitle56">编写 Spider：tencent.py</h4><pre style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 16px; white-space: pre-wrap; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); overflow-wrap: normal; margin-top: 0px; margin-bottom: 1.275em; padding-top: 0.85em; padding-bottom: 0.85em; background-color: rgb(253, 246, 227); letter-spacing: 0.2px;"><code class="lang-python" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;"><span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># tencent.py</span>

<span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">from</span> mySpider.items <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">import</span> TencentItem
<span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">import</span> scrapy
<span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">import</span> re

<span class="hljs-class" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">class</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(181, 137, 0);">TencentSpider</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(scrapy.Spider)</span>:</span>
    name = <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"tencent"</span>
    allowed_domains = [<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"hr.tencent.com"</span>]
    start_urls = [
        <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"http://hr.tencent.com/position.php?&amp;start=0#a"</span>
    ]

    <span class="hljs-function" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(66, 113, 174);"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">def</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">parse</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(self, response)</span>:</span>
        <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">for</span> each <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">in</span> response.xpath(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'//*[@class="even"]'</span>):

            item = TencentItem()
            name = each.xpath(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'./td[1]/a/text()'</span>).extract()[<span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">0</span>]
            detailLink = each.xpath(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'./td[1]/a/@href'</span>).extract()[<span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">0</span>]
            positionInfo = each.xpath(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'./td[2]/text()'</span>).extract()[<span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">0</span>]
            peopleNumber = each.xpath(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'./td[3]/text()'</span>).extract()[<span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">0</span>]
            workLocation = each.xpath(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'./td[4]/text()'</span>).extract()[<span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">0</span>]
            publishTime = each.xpath(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'./td[5]/text()'</span>).extract()[<span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">0</span>]

            <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);">#print name, detailLink, catalog, peopleNumber, workLocation,publishTime</span>

            item[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'name'</span>] = name.encode(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'utf-8'</span>)
            item[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'detailLink'</span>] = detailLink.encode(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'utf-8'</span>)
            item[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'positionInfo'</span>] = positionInfo.encode(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'utf-8'</span>)
            item[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'peopleNumber'</span>] = peopleNumber.encode(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'utf-8'</span>)
            item[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'workLocation'</span>] = workLocation.encode(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'utf-8'</span>)
            item[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'publishTime'</span>] = publishTime.encode(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'utf-8'</span>)

            curpage = re.search(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'(\d+)'</span>,response.url).group(<span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">1</span>)
            page = int(curpage) + <span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">10</span>
            url = re.sub(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'\d+'</span>, str(page), response.url)

            <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 发送新的 url 请求加入待爬队列，并调用回调函数 self.parse</span>
            <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">yield</span> scrapy.Request(url, callback = self.parse)

            <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 将获取的数据交给 pipeline</span>
            <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">yield</span> item</code></pre><h4 id="blogTitle57"><span style="font-size: inherit; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;">编写 pipeline.py 文件</span></h4><pre style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 16px; white-space: pre-wrap; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); overflow-wrap: normal; margin-top: 0px; margin-bottom: 1.275em; padding-top: 0.85em; padding-bottom: 0.85em; background-color: rgb(253, 246, 227); letter-spacing: 0.2px;"><code class="lang-python" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">import</span> json

<span class="hljs-class" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">class</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(181, 137, 0);">TencentJsonPipeline</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(object)</span>:</span>

    <span class="hljs-function" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(66, 113, 174);"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">def</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">__init__</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(self)</span>:</span>
        self.file = open(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'tencent.json'</span>, <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'wb'</span>)

    <span class="hljs-function" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(66, 113, 174);"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">def</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">process_item</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(self, item, spider)</span>:</span>
        content = json.dumps(dict(item), ensure_ascii=<span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">False</span>) + <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"\n"</span>
        self.file.write(content)
        <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">return</span> item

    <span class="hljs-function" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(66, 113, 174);"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">def</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">close_spider</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(self, spider)</span>:</span>
        self.file.close()</code></pre><h4 id="blogTitle58"><span style="font-size: inherit; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;">在 setting.py 里设置 ITEM_PIPELINES</span></h4><pre style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 16px; white-space: pre-wrap; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); overflow-wrap: normal; margin-top: 0px; margin-bottom: 1.275em; padding-top: 0.85em; padding-bottom: 0.85em; background-color: rgb(253, 246, 227); letter-spacing: 0.2px;"><code class="lang-python" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;">ITEM_PIPELINES = {
    <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);">#'mySpider.pipelines.SomePipeline': 300,</span>
    <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"mySpider.pipelines.TencentJsonPipeline"</span>:<span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">300</span>
}</code></pre><h4 id="blogTitle59"><span style="font-size: inherit; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;">执行爬虫</span></h4><ul style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; margin: 0px 0px 0.85em; padding: 0px 0px 0px 2em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;"><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">scrapy crawl tencent</code></li></ul><h4 style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; break-after: avoid; margin-top: 1.275em; margin-bottom: 0.85em; border-color: inherit;" id="blogTitle60">思考</h4><h5 style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; break-after: avoid; margin-top: 1.275em; margin-bottom: 0.85em;" id="blogTitle61">请思考 parse() 方法的工作机制：</h5><pre style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 16px; white-space: pre-wrap; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); overflow-wrap: normal; margin-top: 0px; margin-bottom: 1.275em; padding-top: 0.85em; padding-bottom: 0.85em; background-color: rgb(253, 246, 227); letter-spacing: 0.2px;"><code class="lang-python" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;">
<span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">1.</span> 因为使用的 <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">yield</span>，而不是 <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">return</span>。parse 函数将会被当做一个生成器使用。scrapy 会逐一获取 parse 方法中生成的结果，并判断该结果是一个什么样的类型；
<span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">2.</span> 如果是 request 则加入爬取队列，如果是 item 类型则使用 pipeline 处理，其他类型则返回错误信息。
<span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">3.</span> scrapy 取到第一部分的 request 不会立马就去发送这个 request，只是把这个 request 放到队列里，然后接着从生成器里获取；
<span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">4.</span> 取尽第一部分的 request，然后再获取第二部分的 item，取到 item了，就会放到对应的 pipeline 里处理；
<span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">5.</span> parse() 方法作为回调函数(callback)赋值给了 Request，指定 parse() 方法来处理这些请求 scrapy.Request(url, callback=self.parse)
<span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">6.</span> Request 对象经过调度，执行生成 scrapy.http.response() 的响应对象，并送回给 parse() 方法，直到调度器中没有 Request（递归的思路）
<span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">7.</span> 取尽之后，parse() 工作结束，引擎再根据队列和 pipelines 中的内容去执行相应的操作；
<span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">8.</span> 程序在取得各个页面的 items 前，会先处理完之前所有的 request 队列里的请求，然后再提取 items。
<span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">7.</span> 这一切的一切，Scrapy 引擎和调度器将负责到底。</code></pre></div><h3 id="blogTitle62">CrawlSpiders</h3><div><blockquote style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; break-inside: avoid; margin: 0px 0px 0.85em; padding: 0px 15px; color: rgb(133, 133, 133); border-color: inherit; font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">通过下面的命令可以快速创建 CrawlSpider 模板 的代码：</p><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;"><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">scrapy genspider -t crawl tencent tencent.com</code></p></blockquote><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;">上一个案例中，我们通过正则表达式，制作了新的 url 作为 Request 请求参数，现在我们可以换个花样...</p><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;"><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">class scrapy.spiders.CrawlSpider</code></p><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;">它是 Spider 的派生类，Spider 类的设计原则是只爬取 start_urls 列表中的网页，而 CrawlSpider 类定义了一些规则 (rule) 来提供跟进 link，从爬取的网页中获取 link 并继续爬取。</p><h4 id="blogTitle63" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; break-after: avoid; margin-top: 1.275em; margin-bottom: 0.85em;">源码参考</h4><pre style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 16px; white-space: pre-wrap; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); overflow-wrap: normal; margin-top: 0px; margin-bottom: 1.275em; padding-top: 0.85em; padding-bottom: 0.85em; background-color: rgb(253, 246, 227); letter-spacing: 0.2px;"><code class="lang-python" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;"><span class="hljs-class" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">class</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(181, 137, 0);">CrawlSpider</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(Spider)</span>:</span>
    rules = ()
    <span class="hljs-function" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(66, 113, 174);"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">def</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">__init__</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(self, *a, **kw)</span>:</span>
        super(CrawlSpider, self).__init__(*a, **kw)
        self._compile_rules()

    <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 首先调用 parse()来处理 start_urls 中返回的 response 对象</span>
    <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># parse() 则将这些 response 对象传递给了 _parse_response() 函数处理，并设置回调函数为 parse_start_url()</span>
    <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 设置了跟进标志位 True</span>
    <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># parse 将返回 item 和跟进了的 Request 对象    </span>
    <span class="hljs-function" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(66, 113, 174);"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">def</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">parse</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(self, response)</span>:</span>
        <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">return</span> self._parse_response(response, self.parse_start_url, cb_kwargs={}, follow=<span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">True</span>)

    <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 处理 start_url 中返回的 response，需要重写</span>
    <span class="hljs-function" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(66, 113, 174);"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">def</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">parse_start_url</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(self, response)</span>:</span>
        <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">return</span> []

    <span class="hljs-function" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(66, 113, 174);"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">def</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">process_results</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(self, response, results)</span>:</span>
        <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">return</span> results

    <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 从 response 中抽取符合任一用户定义'规则'的链接，并构造成 Resquest 对象返回</span>
    <span class="hljs-function" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(66, 113, 174);"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">def</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">_requests_to_follow</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(self, response)</span>:</span>
        <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">if</span> <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">not</span> isinstance(response, HtmlResponse):
            <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">return</span>
        seen = set()
        <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 抽取之内的所有链接，只要通过任意一个'规则'，即表示合法</span>
        <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">for</span> n, rule <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">in</span> enumerate(self._rules):
            links = [l <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">for</span> l <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">in</span> rule.link_extractor.extract_links(response) <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">if</span> l <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">not</span> <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">in</span> seen]
            <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 使用用户指定的 process_links 处理每个连接</span>
            <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">if</span> links <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">and</span> rule.process_links:
                links = rule.process_links(links)
            <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 将链接加入 seen 集合，为每个链接生成 Request 对象，并设置回调函数为 _repsonse_downloaded()</span>
            <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">for</span> link <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">in</span> links:
                seen.add(link)
                <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 构造 Request 对象，并将 Rule 规则中定义的回调函数作为这个 Request 对象的回调函数</span>
                r = Request(url=link.url, callback=self._response_downloaded)
                r.meta.update(rule=n, link_text=link.text)
                <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 对每个 Request 调用 process_request() 函数。该函数默认为 indentify，即不做任何处理，直接返回该Request.</span>
                <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">yield</span> rule.process_request(r)

    <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 处理通过 rule 提取出的连接，并返回 item 以及 request</span>
    <span class="hljs-function" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(66, 113, 174);"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">def</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">_response_downloaded</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(self, response)</span>:</span>
        rule = self._rules[response.meta[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'rule'</span>]]
        <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">return</span> self._parse_response(response, rule.callback, rule.cb_kwargs, rule.follow)

    <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 解析 response 对象，会用 callback 解析处理他，并返回 request 或 Item 对象</span>
    <span class="hljs-function" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(66, 113, 174);"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">def</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">_parse_response</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(self, response, callback, cb_kwargs, follow=True)</span>:</span>
        <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 首先判断是否设置了回调函数。（该回调函数可能是 rule 中的解析函数，也可能是 parse_start_url函数）</span>
        <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 如果设置了回调函数（parse_start_url()），那么首先用parse_start_url()处理response对象，</span>
        <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 然后再交给 process_results 处理。返回 cb_res 的一个列表</span>
        <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">if</span> callback:
            <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);">#如果是parse调用的，则会解析成Request对象</span>
            <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);">#如果是rule callback，则会解析成 Item</span>
            cb_res = callback(response, **cb_kwargs) <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">or</span> ()
            cb_res = self.process_results(response, cb_res)
            <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">for</span> requests_or_item <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">in</span> iterate_spider_output(cb_res):
                <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">yield</span> requests_or_item

        <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);">#如果需要跟进，那么使用定义的Rule规则提取并返回这些Request对象</span>
        <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">if</span> follow <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">and</span> self._follow_links:
            <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);">#返回每个Request对象</span>
            <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">for</span> request_or_item <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">in</span> self._requests_to_follow(response):
                <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">yield</span> request_or_item

    <span class="hljs-function" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(66, 113, 174);"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">def</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">_compile_rules</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(self)</span>:</span>
        <span class="hljs-function" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(66, 113, 174);"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">def</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">get_method</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(method)</span>:</span>
            <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">if</span> callable(method):
                <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">return</span> method
            <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">elif</span> isinstance(method, basestring):
                <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">return</span> getattr(self, method, <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">None</span>)

        self._rules = [copy.copy(r) <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">for</span> r <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">in</span> self.rules]
        <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">for</span> rule <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">in</span> self._rules:
            rule.callback = get_method(rule.callback)
            rule.process_links = get_method(rule.process_links)
            rule.process_request = get_method(rule.process_request)

    <span class="hljs-function" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(66, 113, 174);"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">def</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">set_crawler</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(self, crawler)</span>:</span>
        super(CrawlSpider, self).set_crawler(crawler)
        self._follow_links = crawler.settings.getbool(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'CRAWLSPIDER_FOLLOW_LINKS'</span>, <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">True</span>)
</code></pre><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;">CrawlSpider 继承于 Spider 类，除了继承过来的属性外（name、allow_domains），还提供了新的属性和方法:</p><h4 style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; break-after: avoid; margin-top: 1.275em; margin-bottom: 0.85em; border-color: inherit;" id="blogTitle64">LinkExtractors</h4><pre style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 16px; white-space: pre-wrap; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); overflow-wrap: normal; margin-top: 0px; margin-bottom: 1.275em; padding-top: 0.85em; padding-bottom: 0.85em; background-color: rgb(253, 246, 227); letter-spacing: 0.2px;"><code class="lang-python" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;">class scrapy.linkextractors.LinkExtractor
</code></pre><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;">Link Extractors 的目的很简单: 提取链接｡</p><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;">每个 LinkExtractor 有唯一的公共方法是 extract_links()，它接收一个 Response 对象，并返回一个 scrapy.link.Link 对象。</p><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;">Link Extractors 要实例化一次，并且 extract_links 方法会根据不同的 response 调用多次提取链接｡</p><pre style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 16px; white-space: pre-wrap; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); overflow-wrap: normal; margin-top: 0px; margin-bottom: 1.275em; padding-top: 0.85em; padding-bottom: 0.85em; background-color: rgb(253, 246, 227); letter-spacing: 0.2px;"><code class="lang-python" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;">class scrapy.linkextractors.LinkExtractor(
    allow = (),
    deny = (),
    allow_domains = (),
    deny_domains = (),
    deny_extensions = None,
    restrict_xpaths = (),
    tags = ('a','area'),
    attrs = ('href'),
    canonicalize = True,
    unique = True,
    process_value = None
)
</code></pre><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;">主要参数：</p><ul style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; margin: 0px 0px 0.85em; padding: 0px 0px 0px 2em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;"><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;"><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">allow</code>：满足括号中“正则表达式”的值会被提取，如果为空，则全部匹配。</p></li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;"><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">deny</code>：与这个正则表达式(或正则表达式列表)不匹配的 URL 一定不提取。</p></li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;"><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">allow_domains</code>：会被提取的链接的 domains。</p></li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;"><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">deny_domains</code>：一定不会被提取链接的 domains。</p></li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;"><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">restrict_xpaths</code>：使用 xpath 表达式，和 allow 共同作用过滤链接。</p></li></ul><h4 style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; break-after: avoid; margin-top: 1.275em; margin-bottom: 0.85em; border-color: inherit;" id="blogTitle65">rules</h4><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;">在 rules 中包含一个或多个 Rule 对象，每个 Rule 对爬取网站的动作定义了特定操作。如果多个 rule 匹配了相同的链接，则根据规则在本集合中被定义的顺序，第一个会被使用。</p><pre style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 16px; white-space: pre-wrap; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); overflow-wrap: normal; margin-top: 0px; margin-bottom: 1.275em; padding-top: 0.85em; padding-bottom: 0.85em; background-color: rgb(253, 246, 227); letter-spacing: 0.2px;"><code class="lang-python" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;">
class scrapy.spiders.Rule(
        link_extractor,
        callback = None,
        cb_kwargs = None,
        follow = None,
        process_links = None,
        process_request = None
)
</code></pre><ul style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; margin: 0px 0px 0.85em; padding: 0px 0px 0px 2em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;"><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;"><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">link_extractor</code>：是一个 Link Extractor 对象，用于定义需要提取的链接。</p></li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;"><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">callback</code>： 从 link_extractor 中每获取到链接时，参数所指定的值作为回调函数，该回调函数接受一个 response 作为其第一个参数。</p><blockquote style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; break-inside: avoid; margin: 0px; padding: 0px 15px; color: rgb(133, 133, 133); border-color: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">注意：当编写爬虫规则时，避免使用 parse 作为回调函数。由于 CrawlSpider 使用 parse 方法来实现其逻辑，如果覆盖了 parse 方法，crawl spider 将会运行失败。</p></blockquote></li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;"><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">follow</code>：是一个布尔(boolean)值，指定了根据该规则从 response 提取的链接是否需要跟进。 如果 callback 为 None，follow 默认设置为 True ，否则默认为 False。</p></li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;"><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">process_links</code>：指定该 spider 中哪个的函数将会被调用，从 link_extractor 中获取到链接列表时将会调用该函数。该方法主要用来过滤。</p></li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;"><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">process_request</code>：指定该 spider 中哪个的函数将会被调用， 该规则提取到每个 request 时都会调用该函数。 (用来过滤 request)</p></li></ul><h4 style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; break-after: avoid; margin-top: 1.275em; margin-bottom: 0.85em; border-color: inherit;" id="blogTitle66">爬取规则 (Crawling rules)</h4><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;">继续用腾讯招聘为例，给出配合 rule 使用 CrawlSpider 的例子:</p><ol style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; margin: 0px 0px 0.85em; padding: 0px 0px 0px 2em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;"><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">首先运行</p><pre style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: inherit; white-space: pre-wrap; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); overflow-wrap: normal; margin-top: 0px; margin-bottom: 1.275em; padding-top: 0.85em; padding-bottom: 0.85em; background-color: rgb(253, 246, 227);"><code class="lang-sh" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;"> scrapy shell <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"http://hr.tencent.com/position.php?&amp;start=0#a"</span>
</code></pre></li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">导入 LinkExtractor，创建 LinkExtractor 实例对象。：</p><pre style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: inherit; white-space: pre-wrap; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); overflow-wrap: normal; margin-top: 0px; margin-bottom: 1.275em; padding-top: 0.85em; padding-bottom: 0.85em; background-color: rgb(253, 246, 227);"><code class="lang-python" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;"> <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">from</span> scrapy.linkextractors <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">import</span> LinkExtractor

 page_lx = LinkExtractor(allow=(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'position.php?&amp;start=\d+'</span>))
</code></pre><blockquote style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; break-inside: avoid; margin: 0px; padding: 0px 15px; color: rgb(133, 133, 133); border-color: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">allow : LinkExtractor 对象最重要的参数之一，这是一个正则表达式，必须要匹配这个正则表达式(或正则表达式列表)的 URL 才会被提取，如果没有给出(或为空), 它会匹配所有的链接｡</p><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">deny : 用法同 allow，只不过与这个正则表达式匹配的 URL 不会被提取)｡它的优先级高于 allow 的参数，如果没有给出(或 None), 将不排除任何链接｡</p></blockquote></li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">调用 LinkExtractor 实例的 extract_links() 方法查询匹配结果：</p><pre style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: inherit; white-space: pre-wrap; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); overflow-wrap: normal; margin-top: 0px; margin-bottom: 1.275em; padding-top: 0.85em; padding-bottom: 0.85em; background-color: rgb(253, 246, 227);"><code class="lang-python" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;"> page_lx.extract_links(response)
</code></pre></li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">没有查到：</p><pre style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: inherit; white-space: pre-wrap; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); overflow-wrap: normal; margin-top: 0px; margin-bottom: 1.275em; padding-top: 0.85em; padding-bottom: 0.85em; background-color: rgb(253, 246, 227);"><code class="lang-python" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;"> []
</code></pre></li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">注意转义字符的问题，继续重新匹配：</p><pre style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: inherit; white-space: pre-wrap; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); overflow-wrap: normal; margin-top: 0px; margin-bottom: 1.275em; padding-top: 0.85em; padding-bottom: 0.85em; background-color: rgb(253, 246, 227);"><code class="lang-python" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;"> page_lx = LinkExtractor(allow=(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'position\.php\?&amp;start=\d+'</span>))
 <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># page_lx = LinkExtractor(allow = ('start=\d+'))</span>

 page_lx.extract_links(response)
</code></pre></li></ol><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;"><img src="../images/tencent_rule.png" alt="" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; border: 0px; font-size: inherit; break-inside: avoid; max-width: 100%;"></p><h4 style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; break-after: avoid; margin-top: 1.275em; margin-bottom: 0.85em; border-color: inherit;" id="blogTitle67">CrawlSpider 版本</h4><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;">那么，scrapy shell 测试完成之后，修改以下代码</p><pre style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 16px; white-space: pre-wrap; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); overflow-wrap: normal; margin-top: 0px; margin-bottom: 1.275em; padding-top: 0.85em; padding-bottom: 0.85em; background-color: rgb(253, 246, 227); letter-spacing: 0.2px;"><code class="lang-python" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;"><span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);">#提取匹配 'http://hr.tencent.com/position.php?&amp;start=\d+'的链接</span>
page_lx = LinkExtractor(allow = (<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'start=\d+'</span>))

rules = [
    <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);">#提取匹配,并使用spider的parse方法进行分析;并跟进链接(没有callback意味着follow默认为True)</span>
    Rule(page_lx, callback = <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'parse'</span>, follow = <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">True</span>)
]
</code></pre><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;"><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-weight: 700; font-size: inherit;">这么写对吗？</span></p><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;"><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-weight: 700; font-size: inherit;">不对！千万记住 callback 千万不能写 parse，再次强调：由于 CrawlSpider 使用 parse 方法来实现其逻辑，如果覆盖了 parse 方法，crawl spider 将会运行失败。</span></p><pre style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 16px; white-space: pre-wrap; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); overflow-wrap: normal; margin-top: 0px; margin-bottom: 1.275em; padding-top: 0.85em; padding-bottom: 0.85em; background-color: rgb(253, 246, 227); letter-spacing: 0.2px;"><code class="lang-python" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;"><span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># tencent.py</span>

<span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">import</span> scrapy
<span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">from</span> scrapy.spiders <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">import</span> CrawlSpider, Rule
<span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">from</span> scrapy.linkextractors <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">import</span> LinkExtractor
<span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">from</span> mySpider.items <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">import</span> TencentItem

<span class="hljs-class" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">class</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(181, 137, 0);">TencentSpider</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(CrawlSpider)</span>:</span>
    name = <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"tencent"</span>
    allowed_domains = [<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"hr.tencent.com"</span>]
    start_urls = [
        <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"http://hr.tencent.com/position.php?&amp;start=0#a"</span>
    ]

    page_lx = LinkExtractor(allow=(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"start=\d+"</span>))

    rules = [
        Rule(page_lx, callback = <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"parseContent"</span>, follow = <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">True</span>)
    ]

    <span class="hljs-function" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(66, 113, 174);"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">def</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">parseContent</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(self, response)</span>:</span>
        <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">for</span> each <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">in</span> response.xpath(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'//*[@class="even"]'</span>):
            name = each.xpath(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'./td[1]/a/text()'</span>).extract()[<span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">0</span>]
            detailLink = each.xpath(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'./td[1]/a/@href'</span>).extract()[<span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">0</span>]
            positionInfo = each.xpath(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'./td[2]/text()'</span>).extract()[<span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">0</span>]

            peopleNumber = each.xpath(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'./td[3]/text()'</span>).extract()[<span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">0</span>]
            workLocation = each.xpath(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'./td[4]/text()'</span>).extract()[<span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">0</span>]
            publishTime = each.xpath(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'./td[5]/text()'</span>).extract()[<span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">0</span>]
            <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);">#print name, detailLink, catalog,recruitNumber,workLocation,publishTime</span>

            item = TencentItem()
            item[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'name'</span>]=name.encode(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'utf-8'</span>)
            item[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'detailLink'</span>]=detailLink.encode(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'utf-8'</span>)
            item[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'positionInfo'</span>]=positionInfo.encode(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'utf-8'</span>)
            item[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'peopleNumber'</span>]=peopleNumber.encode(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'utf-8'</span>)
            item[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'workLocation'</span>]=workLocation.encode(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'utf-8'</span>)
            item[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'publishTime'</span>]=publishTime.encode(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'utf-8'</span>)

            <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">yield</span> item

    <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># parse() 方法不需要写     </span>
    <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># def parse(self, response):                                              </span>
    <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);">#     pass</span>
</code></pre><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;">运行：&nbsp;<code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">scrapy crawl tencent</code></p><h3 style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; break-after: avoid; margin-top: 1.275em; margin-bottom: 0.85em; border-color: inherit;" id="blogTitle68">Logging</h3><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;">Scrapy 提供了 log 功能，可以通过 logging 模块使用。</p><blockquote style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; break-inside: avoid; margin: 0px 0px 0.85em; padding: 0px 15px; color: rgb(133, 133, 133); border-color: inherit; font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">可以修改配置文件 settings.py，任意位置添加下面两行，效果会清爽很多。</p></blockquote><pre style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); overflow-wrap: normal; margin-top: 0px; margin-bottom: 1.275em; padding-top: 0.85em; padding-bottom: 0.85em; background-color: rgb(253, 246, 227); white-space: pre-wrap; letter-spacing: 0.2px; font-size: 16px; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; color: rgb(101, 123, 131);"><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;">LOG_FILE = "TencentSpider.log"
LOG_LEVEL = "INFO"</code></pre><h4 id="blogTitle69" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; break-after: avoid; margin-top: 1.275em; margin-bottom: 0.85em;">Log levels</h4><ul style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; margin: 0px 0px 0.85em; padding: 0px 0px 0px 2em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;"><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">Scrapy 提供 5 层 logging 级别:</p></li><ul><li>CRITICAL - 严重错误(critical)</li><li>ERROR - 一般错误(regular errors)</li><li>WARNING - 警告信息(warning messages)</li><li>INFO - 一般信息(informational messages)</li><li>DEBUG - 调试信息(debugging messages)</li></ul></ul><h4 id="blogTitle70" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; break-after: avoid; margin-top: 1.275em; margin-bottom: 0.85em;">logging 设置</h4><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;">通过在 setting.py 中进行以下设置可以被用来配置 logging:</p><ol style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; margin: 0px 0px 0.85em; padding: 0px 0px 0px 2em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;"><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">LOG_ENABLED</code>&nbsp;默认: True，启用 logging</li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">LOG_ENCODING</code>&nbsp;默认: 'utf-8'，logging 使用的编码</li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">LOG_FILE</code>&nbsp;默认: None，在当前目录里创建 logging 输出文件的文件名</li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">LOG_LEVEL</code>&nbsp;默认: 'DEBUG'，log 的最低级别</li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">LOG_STDOUT</code>&nbsp;默认: False 如果为 True，进程所有的标准输出(及错误)将会被重定向到 log 中。例如，执行 print "hello" ，其将会在 Scrapy log 中显示。</li></ol></div><h3 id="blogTitle71">Request</h3><div><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;">Request 部分源码：</p><pre style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 16px; white-space: pre-wrap; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); overflow-wrap: normal; margin-top: 0px; margin-bottom: 1.275em; padding-top: 0.85em; padding-bottom: 0.85em; background-color: rgb(253, 246, 227); letter-spacing: 0.2px;"><code class="lang-python" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;"><span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 部分代码</span>
<span class="hljs-class" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">class</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(181, 137, 0);">Request</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(object_ref)</span>:</span>

    <span class="hljs-function" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(66, 113, 174);"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">def</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">__init__</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(self, url, callback=None, method=<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'GET'</span>, headers=None, body=None,
                 cookies=None, meta=None, encoding=<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'utf-8'</span>, priority=<span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">0</span>,
                 dont_filter=False, errback=None)</span>:</span>

        self._encoding = encoding  <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># this one has to be set first</span>
        self.method = str(method).upper()
        self._set_url(url)
        self._set_body(body)
        <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">assert</span> isinstance(priority, int), <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"Request priority not an integer: %r"</span> % priority
        self.priority = priority

        <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">assert</span> callback <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">or</span> <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">not</span> errback, <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"Cannot use errback without a callback"</span>
        self.callback = callback
        self.errback = errback

        self.cookies = cookies <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">or</span> {}
        self.headers = Headers(headers <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">or</span> {}, encoding=encoding)
        self.dont_filter = dont_filter

        self._meta = dict(meta) <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">if</span> meta <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">else</span> <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">None</span>

<span class="hljs-decorator" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">    @property</span>
    <span class="hljs-function" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(66, 113, 174);"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">def</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">meta</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(self)</span>:</span>
        <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">if</span> self._meta <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">is</span> <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">None</span>:
            self._meta = {}
        <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">return</span> self._meta
</code></pre><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;">其中，比较常用的参数：</p><pre style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 16px; white-space: pre-wrap; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); overflow-wrap: normal; margin-top: 0px; margin-bottom: 1.275em; padding-top: 0.85em; padding-bottom: 0.85em; background-color: rgb(253, 246, 227); letter-spacing: 0.2px;"><code class="lang-python" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;">url: 就是需要请求，并进行下一步处理的 url

callback: 指定该请求返回的 Response，由那个函数来处理。

method: 请求一般不需要指定，默认GET方法，可设置为<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"GET"</span>, <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"POST"</span>, <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"PUT"</span>等，且保证字符串大写

headers: 请求时，包含的头文件。一般不需要。内容一般如下：
        <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 自己写过爬虫的肯定知道</span>
        Host: media.readthedocs.org
        User-Agent: Mozilla/<span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">5.0</span> (Windows NT <span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">6.2</span>; WOW64; rv:<span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">33.0</span>) Gecko/<span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">20100101</span> Firefox/<span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">33.0</span>
        Accept: text/css,*/*;q=<span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">0.1</span>
        Accept-Language: zh-cn,zh;q=<span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">0.8</span>,en-us;q=<span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">0.5</span>,en;q=<span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">0.3</span>
        Accept-Encoding: gzip, deflate
        Referer: http://scrapy-chs.readthedocs.org/zh_CN/<span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">0.24</span>/
        Cookie: _ga=GA1<span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">.2</span><span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">.1612165614</span><span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">.1415584110</span>;
        Connection: keep-alive
        If-Modified-Since: Mon, <span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">25</span> Aug <span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">2014</span> <span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">21</span>:<span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">59</span>:<span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">35</span> GMT
        Cache-Control: max-age=<span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">0</span>

meta: 比较常用，在不同的请求之间传递数据使用的。字典 dict 型

        request_with_cookies = Request(
            url=<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"http://www.example.com"</span>,
            cookies={<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'currency'</span>: <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'USD'</span>, <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'country'</span>: <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'UY'</span>},
            meta={<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'dont_merge_cookies'</span>: <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">True</span>}
        )

encoding: 使用默认的 <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'utf-8'</span> 就行。

dont_filter: 表明该请求不由调度器过滤。这是当你想使用多次执行相同的请求,忽略重复的过滤器。默认为<span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">False</span>。

errback: 指定错误处理函数</code></pre><h4 style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; margin: 1.275em 0px 0.85em; break-after: avoid; border-color: inherit;" id="blogTitle72">Response</h4><pre style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 16px; white-space: pre-wrap; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); overflow-wrap: normal; margin-top: 0px; margin-bottom: 1.275em; padding-top: 0.85em; padding-bottom: 0.85em; background-color: rgb(253, 246, 227); letter-spacing: 0.2px;"><code class="lang-python" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;"><span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 部分代码</span>
<span class="hljs-class" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">class</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(181, 137, 0);">Response</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(object_ref)</span>:</span>
    <span class="hljs-function" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(66, 113, 174);"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">def</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">__init__</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(self, url, status=<span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">200</span>, headers=None, body=<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">''</span>, flags=None, request=None)</span>:</span>
        self.headers = Headers(headers <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">or</span> {})
        self.status = int(status)
        self._set_body(body)
        self._set_url(url)
        self.request = request
        self.flags = [] <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">if</span> flags <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">is</span> <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">None</span> <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">else</span> list(flags)

<span class="hljs-decorator" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">    @property</span>
    <span class="hljs-function" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(66, 113, 174);"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">def</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">meta</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(self)</span>:</span>
        <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">try</span>:
            <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">return</span> self.request.meta
        <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">except</span> AttributeError:
            <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">raise</span> AttributeError(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"Response.meta not available, this response "</span> \
                <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"is not tied to any request"</span>)
</code></pre><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;">大部分参数和上面的差不多：</p><pre style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 16px; white-space: pre-wrap; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); overflow-wrap: normal; margin-top: 0px; margin-bottom: 1.275em; padding-top: 0.85em; padding-bottom: 0.85em; background-color: rgb(253, 246, 227); letter-spacing: 0.2px;"><code class="lang-python" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;">
status: 响应码
_set_body(body)： 响应体
_set_url(url)：响应url
self.request = request</code></pre><h4 style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; break-after: avoid; margin-top: 1.275em; margin-bottom: 0.85em; border-color: inherit;" id="blogTitle73">发送 POST 请求</h4><ul style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; margin: 0px 0px 0.85em; padding: 0px 0px 0px 2em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;"><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">可以使用&nbsp;<code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">yield scrapy.FormRequest(url, formdata, callback)</code>方法发送 POST 请求。</p></li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">如果希望程序执行一开始就发送 POST 请求，可以重写 Spider 类的&nbsp;<code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">start_requests(self)</code>&nbsp;方法，并且不再调用 start_urls 里的url。</p></li></ul><pre style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 16px; white-space: pre-wrap; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); overflow-wrap: normal; margin-top: 0px; margin-bottom: 1.275em; padding-top: 0.85em; padding-bottom: 0.85em; background-color: rgb(253, 246, 227); letter-spacing: 0.2px;"><code class="lang-python" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;"><span class="hljs-class" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">class</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(181, 137, 0);">mySpider</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(scrapy.Spider)</span>:</span>
    <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># start_urls = ["http://www.example.com/"]</span>

    <span class="hljs-function" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(66, 113, 174);"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">def</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">start_requests</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(self)</span>:</span>
        url = <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'http://www.renren.com/PLogin.do'</span>

        <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># FormRequest 是Scrapy发送POST请求的方法</span>
        <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">yield</span> scrapy.FormRequest(
            url = url,
            formdata = {<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"email"</span> : <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"mr_mao_hacker@163.com"</span>, <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"password"</span> : <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"axxxxxxxe"</span>},
            callback = self.parse_page
        )
    <span class="hljs-function" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(66, 113, 174);"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">def</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">parse_page</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(self, response)</span>:</span>
        <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># do something</span></code></pre><h4 style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; break-after: avoid; margin-top: 1.275em; margin-bottom: 0.85em; border-color: inherit;" id="blogTitle74">模拟登陆</h4><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;">使用 FormRequest.from_response() 方法<a href="http://docs.pythontab.com/scrapy/scrapy0.24/topics/request-response.html#topics-request-response-ref-request-userlogin" target="_blank" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; text-decoration-line: none; font-size: inherit; background: 0px 0px;">模拟用户登录</a></p><blockquote style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; break-inside: avoid; margin: 0px 0px 0.85em; padding: 0px 15px; color: rgb(133, 133, 133); border-color: inherit; font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">通常网站通过&nbsp;实现对某些表单字段（如数据或是登录界面中的认证令牌等）的预填充。</p><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">使用 Scrapy 抓取网页时，如果想要预填充或重写像用户名、用户密码这些表单字段， 可以使用 FormRequest.from_response() 方法实现。</p><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">下面是使用这种方法的爬虫例子:</p></blockquote><pre style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 16px; white-space: pre-wrap; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); overflow-wrap: normal; margin-top: 0px; margin-bottom: 1.275em; padding-top: 0.85em; padding-bottom: 0.85em; background-color: rgb(253, 246, 227); letter-spacing: 0.2px;"><code class="lang-python" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">import</span> scrapy

<span class="hljs-class" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">class</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(181, 137, 0);">LoginSpider</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(scrapy.Spider)</span>:</span>
    name = <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'example.com'</span>
    start_urls = [<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'http://www.example.com/users/login.php'</span>]

    <span class="hljs-function" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(66, 113, 174);"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">def</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">parse</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(self, response)</span>:</span>
        <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">return</span> scrapy.FormRequest.from_response(
            response,
            formdata={<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'username'</span>: <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'john'</span>, <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'password'</span>: <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'secret'</span>},
            callback=self.after_login
        )

    <span class="hljs-function" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(66, 113, 174);"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">def</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">after_login</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(self, response)</span>:</span>
        <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># check login succeed before going on</span>
        <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">if</span> <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"authentication failed"</span> <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">in</span> response.body:
            self.log(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"Login failed"</span>, level=log.ERROR)
            <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">return</span>

        <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># continue scraping with authenticated session...</span></code></pre><h4 style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; break-after: avoid; margin-top: 1.275em; margin-bottom: 0.85em; border-color: inherit;" id="blogTitle75">知乎爬虫案例参考：</h4><h5 style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; break-after: avoid; margin-top: 1.275em; margin-bottom: 0.85em;" id="blogTitle76">zhihuSpider.py 爬虫代码</h5><pre style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 16px; white-space: pre-wrap; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); overflow-wrap: normal; margin-top: 0px; margin-bottom: 1.275em; padding-top: 0.85em; padding-bottom: 0.85em; background-color: rgb(253, 246, 227); letter-spacing: 0.2px;"><code class="lang-python" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;"><span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);">#!/usr/bin/env python</span>
<span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># -*- coding:utf-8 -*-</span>
<span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">from</span> scrapy.spiders <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">import</span> CrawlSpider, Rule
<span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">from</span> scrapy.selector <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">import</span> Selector
<span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">from</span> scrapy.linkextractors <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">import</span> LinkExtractor
<span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">from</span> scrapy <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">import</span> Request, FormRequest
<span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">from</span> zhihu.items <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">import</span> ZhihuItem

<span class="hljs-class" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">class</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(181, 137, 0);">ZhihuSipder</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(CrawlSpider)</span> :</span>
    name = <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"zhihu"</span>
    allowed_domains = [<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"www.zhihu.com"</span>]
    start_urls = [
        <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"http://www.zhihu.com"</span>
    ]
    rules = (
        Rule(LinkExtractor(allow = (<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'/question/\d+#.*?'</span>, )), callback = <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'parse_page'</span>, follow = <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">True</span>),
        Rule(LinkExtractor(allow = (<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'/question/\d+'</span>, )), callback = <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'parse_page'</span>, follow = <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">True</span>),
    )

    headers = {
    <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"Accept"</span>: <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"*/*"</span>,
    <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"Accept-Encoding"</span>: <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"gzip,deflate"</span>,
    <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"Accept-Language"</span>: <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"en-US,en;q=0.8,zh-TW;q=0.6,zh;q=0.4"</span>,
    <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"Connection"</span>: <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"keep-alive"</span>,
    <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"Content-Type"</span>:<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">" application/x-www-form-urlencoded; charset=UTF-8"</span>,
    <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"User-Agent"</span>: <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/38.0.2125.111 Safari/537.36"</span>,
    <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"Referer"</span>: <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"http://www.zhihu.com/"</span>
    }

    <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);">#重写了爬虫类的方法, 实现了自定义请求, 运行成功后会调用callback回调函数</span>
    <span class="hljs-function" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(66, 113, 174);"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">def</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">start_requests</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(self)</span>:</span>
        <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">return</span> [Request(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"https://www.zhihu.com/login"</span>, meta = {<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'cookiejar'</span> : <span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">1</span>}, callback = self.post_login)]

    <span class="hljs-function" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(66, 113, 174);"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">def</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">post_login</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(self, response)</span>:</span>
        <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">print</span> <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'Preparing login'</span>
        <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);">#下面这句话用于抓取请求网页后返回网页中的_xsrf字段的文字, 用于成功提交表单</span>
        xsrf = Selector(response).xpath(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'//input[@name="_xsrf"]/@value'</span>).extract()[<span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">0</span>]
        <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">print</span> xsrf
        <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);">#FormRequeset.from_response是Scrapy提供的一个函数, 用于post表单</span>
        <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);">#登陆成功后, 会调用after_login回调函数</span>
        <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">return</span> [FormRequest.from_response(response,   <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);">#"http://www.zhihu.com/login",</span>
                            meta = {<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'cookiejar'</span> : response.meta[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'cookiejar'</span>]},
                            headers = self.headers,  <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);">#注意此处的headers</span>
                            formdata = {
                            <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'_xsrf'</span>: xsrf,
                            <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'email'</span>: <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'1095511864@qq.com'</span>,
                            <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'password'</span>: <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'123456'</span>
                            },
                            callback = self.after_login,
                            dont_filter = <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">True</span>
                            )]

    <span class="hljs-function" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(66, 113, 174);"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">def</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">after_login</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(self, response)</span> :</span>
        <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">for</span> url <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">in</span> self.start_urls :
            <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">yield</span> self.make_requests_from_url(url)

    <span class="hljs-function" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(66, 113, 174);"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">def</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">parse_page</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(self, response)</span>:</span>
        problem = Selector(response)
        item = ZhihuItem()
        item[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'url'</span>] = response.url
        item[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'name'</span>] = problem.xpath(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'//span[@class="name"]/text()'</span>).extract()
        <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">print</span> item[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'name'</span>]
        item[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'title'</span>] = problem.xpath(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'//h2[@class="zm-item-title zm-editable-content"]/text()'</span>).extract()
        item[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'description'</span>] = problem.xpath(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'//div[@class="zm-editable-content"]/text()'</span>).extract()
        item[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'answer'</span>]= problem.xpath(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'//div[@class=" zm-editable-content clearfix"]/text()'</span>).extract()
        <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">return</span> item
</code></pre><h4 id="blogTitle77" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 1.25em; orphans: 3; widows: 3; break-after: avoid; margin-top: 1.275em; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;">Item 类设置</h4><pre style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 16px; white-space: pre-wrap; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); overflow-wrap: normal; margin-top: 0px; margin-bottom: 1.275em; padding-top: 0.85em; padding-bottom: 0.85em; background-color: rgb(253, 246, 227); letter-spacing: 0.2px;"><code class="lang-python" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">from</span> scrapy.item <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">import</span> Item, Field

<span class="hljs-class" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">class</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(181, 137, 0);">ZhihuItem</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(Item)</span>:</span>
    <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># define the fields for your item here like:</span>
    <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># name = scrapy.Field()</span>
    url = Field()  <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);">#保存抓取问题的url</span>
    title = Field()  <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);">#抓取问题的标题</span>
    description = Field()  <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);">#抓取问题的描述</span>
    answer = Field()  <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);">#抓取问题的答案</span>
    name = Field()  <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);">#个人用户的名称</span></code></pre><h5 style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; break-after: avoid; margin-top: 1.275em; margin-bottom: 0.85em;" id="blogTitle78">setting.py 设置抓取间隔</h5><pre style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 16px; white-space: pre-wrap; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); overflow-wrap: normal; margin-top: 0px; margin-bottom: 1.275em; padding-top: 0.85em; padding-bottom: 0.85em; background-color: rgb(253, 246, 227); letter-spacing: 0.2px;"><code class="lang-python" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;">BOT_NAME = <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'zhihu'</span>

SPIDER_MODULES = [<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'zhihu.spiders'</span>]
NEWSPIDER_MODULE = <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'zhihu.spiders'</span>
DOWNLOAD_DELAY = <span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">0.25</span>   <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);">#设置下载间隔为250ms</span></code></pre></div><h3 id="blogTitle79">反反爬虫相关机制</h3><div><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 1em; orphans: 3; widows: 3; break-after: avoid; margin-top: 1.275em; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;">Some websites implement certain measures to prevent bots from crawling them, with varying degrees of sophistication. Getting around those measures can be difficult and tricky, and may sometimes require special infrastructure. Please consider contacting commercial support if in doubt.</p><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 1.25em; orphans: 3; widows: 3; break-after: avoid; margin-top: 1.275em; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;">(有些网站使用特定的不同程度的复杂性规则防止爬虫访问，绕过这些规则是困难和复杂的，有时可能需要特殊的基础设施，如果有疑问，请联系商业支持。)</p><blockquote style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; break-inside: avoid; margin: 0px 0px 0.85em; padding: 0px 15px; color: rgb(133, 133, 133); border-color: inherit; font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">来自于Scrapy官方文档描述：<a href="http://doc.scrapy.org/en/master/topics/practices.html#avoiding-getting-banned" target="_blank" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; text-decoration-line: none; font-size: inherit; background: 0px 0px;">http://doc.scrapy.org/en/master/topics/practices.html#avoiding-getting-banned</a></p></blockquote><h4 style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; break-after: avoid; margin-top: 1.275em; margin-bottom: 0.85em;" id="blogTitle80">通常防止爬虫被反主要有以下几个策略：</h4><ul style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; margin: 0px 0px 0.85em; padding: 0px 0px 0px 2em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;"><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">动态设置 User-Agent（随机切换 User-Agent，模拟不同用户的浏览器信息）</p></li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">禁用 Cookies（也就是不启用 cookies middleware，不向 Server 发送 cookies，有些网站通过 cookie 的使用发现爬虫行为）</p><ul style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; margin: 0px; padding: 0px 0px 0px 2em;"><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;">可以通过<code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">COOKIES_ENABLED</code>&nbsp;控制 CookiesMiddleware 开启或关闭</li></ul></li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">设置延迟下载（防止访问过于频繁，设置为 2秒 或更高）</p></li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">Google Cache 和 Baidu Cache：如果可能的话，使用谷歌/百度等搜索引擎服务器页面缓存获取页面数据。</p></li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">使用 IP 地址池：VPN 和代理 IP，现在大部分网站都是根据 IP 来 ban 的。</p></li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">使用&nbsp;<a href="https://scrapinghub.com/crawlera" target="_blank" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; text-decoration-line: none; font-size: inherit; background: 0px 0px;">Crawlera</a>（专用于爬虫的代理组件），正确配置和设置下载中间件后，项目所有的 request 都是通过 crawlera 发出。</p><pre style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: inherit; white-space: pre-wrap; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); overflow-wrap: normal; margin-top: 0px; margin-bottom: 1.275em; padding-top: 0.85em; padding-bottom: 0.85em; background-color: rgb(253, 246, 227);"><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;">  DOWNLOADER_MIDDLEWARES = {
      'scrapy_crawlera.CrawleraMiddleware': 600
  }

  CRAWLERA_ENABLED = True
  CRAWLERA_USER = '注册/购买的UserKey'
  CRAWLERA_PASS = '注册/购买的Password'</code></pre></li></ul><h5 style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; break-after: avoid; margin-top: 1.275em; margin-bottom: 0.85em; border-color: inherit;" id="blogTitle81">设置下载中间件（Downloader Middlewares）</h5><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;">下载中间件是处于引擎 (crawler.engine) 和下载器 (crawler.engine.download()) 之间的一层组件，可以有多个下载中间件被加载运行。</p><ol style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; margin: 0px 0px 0.85em; padding: 0px 0px 0px 2em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;"><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">当引擎传递请求给下载器的过程中，下载中间件可以对请求进行处理 （例如增加 http header 信息，增加 proxy 信息等）；</p></li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">在下载器完成 http请求，传递响应给引擎的过程中， 下载中间件可以对响应进行处理（例如进行 gzip 的解压等）</p></li></ol><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;">要激活下载器中间件组件，将其加入到 DOWNLOADER_MIDDLEWARES 设置中。 该设置是一个字典(dict)，键为中间件类的路径，值为其中间件的顺序(order)。</p><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;">这里是一个例子:</p><pre style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 16px; white-space: pre-wrap; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); overflow-wrap: normal; margin-top: 0px; margin-bottom: 1.275em; padding-top: 0.85em; padding-bottom: 0.85em; background-color: rgb(253, 246, 227); letter-spacing: 0.2px;"><code class="lang-python" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;">DOWNLOADER_MIDDLEWARES = {
    <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'mySpider.middlewares.MyDownloaderMiddleware'</span>: <span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">543</span>,
}
</code></pre><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;">编写下载器中间件十分简单。每个中间件组件是一个定义了以下一个或多个方法的 Python 类:</p><pre style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 16px; white-space: pre-wrap; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); overflow-wrap: normal; margin-top: 0px; margin-bottom: 1.275em; padding-top: 0.85em; padding-bottom: 0.85em; background-color: rgb(253, 246, 227); letter-spacing: 0.2px;"><code class="lang-python" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;">class scrapy.contrib.downloadermiddleware.DownloaderMiddleware</code></pre><h5 style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; break-after: avoid; margin-top: 1.275em; margin-bottom: 0.85em;" id="blogTitle82">process_request(self, request, spider)</h5><ul style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; margin: 0px 0px 0.85em; padding: 0px 0px 0px 2em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;"><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">当每个 request 通过下载中间件时，该方法被调用。</p></li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">process_request() 必须返回以下其中之一：一个 None 、一个 Response 对象、一个 Request 对象或 raise IgnoreRequest:</p><ul style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; margin: 0px; padding: 0px 0px 0px 2em;"><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">如果其返回 None ，Scrapy 将继续处理该 request，执行其他的中间件的相应方法，直到合适的下载器处理函数(download handler)被调用， 该 request 被执行(其 response 被下载)。</p></li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">如果其返回 Response 对象，Scrapy 将不会调用 任何 其他的 process_request() 或 process_exception() 方法，或相应地下载函数； 其将返回该 response。 已安装的中间件的 process_response() 方法则会在每个 response 返回时被调用。</p></li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">如果其返回 Request 对象，Scrapy 则停止调用 process_request 方法并重新调度返回的request。当新返回的 request 被执行后， 相应地中间件链将会根据下载的 response 被调用。</p></li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">如果其raise一个 IgnoreRequest 异常，则安装的下载中间件的 process_exception() 方法会被调用。如果没有任何一个方法处理该异常， 则 request 的 errback(Request.errback) 方法会被调用。如果没有代码处理抛出的异常， 则该异常被忽略且不记录(不同于其他异常那样)。</p></li></ul></li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">参数:</p><ul style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; margin: 0px; padding: 0px 0px 0px 2em;"><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">request (Request 对象)</code>&nbsp;– 处理的request</li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">spider (Spider 对象)</code>&nbsp;– 该request对应的spider</li></ul></li></ul><h5 style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; break-after: avoid; margin-top: 1.275em; margin-bottom: 0.85em;" id="blogTitle83">process_response(self, request, response, spider)</h5><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;">当下载器完成 http 请求，传递响应给引擎的时候调用</p><ul style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; margin: 0px 0px 0.85em; padding: 0px 0px 0px 2em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;"><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">process_request() 必须返回以下其中之一: 返回一个 Response 对象、 返回一个 Request 对象或 raise 一个 IgnoreRequest 异常。</p><ul style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; margin: 0px; padding: 0px 0px 0px 2em;"><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">如果其返回一个 Response (可以与传入的response相同，也可以是全新的对象)， 该response会被在链中的其他中间件的 process_response() 方法处理。</p></li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">如果其返回一个 Request 对象，则中间件链停止， 返回的request会被重新调度下载。处理类似于 process_request() 返回request所做的那样。</p></li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">如果其抛出一个 IgnoreRequest 异常，则调用request的errback(Request.errback)。 如果没有代码处理抛出的异常，则该异常被忽略且不记录(不同于其他异常那样)。</p></li></ul></li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">参数:</p><ul style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; margin: 0px; padding: 0px 0px 0px 2em;"><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">request (Request 对象)</code>&nbsp;– response所对应的request</li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">response (Response 对象)</code>&nbsp;– 被处理的response</li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">spider (Spider 对象)</code>&nbsp;– response所对应的spider</li></ul></li></ul><h4 style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; break-after: avoid; margin-top: 1.275em; margin-bottom: 0.85em; border-color: inherit;" id="blogTitle84">使用案例：</h4><h5 style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; break-after: avoid; margin-top: 1.275em; margin-bottom: 0.85em;" id="blogTitle85">1. 创建<font color="#657b83" face="Consolas, Liberation Mono, Menlo, Courier, monospace"><span style="font-size: 0.85em; letter-spacing: 0.2px; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; break-inside: avoid; border-width: initial; border-color: rgb(248, 223, 156); border-image: initial; padding: 0.2em; background: rgb(253, 246, 227);">middlewares.py</span></font>文件。</h5><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;">Scrapy 代理 IP、Uesr-Agent 的切换都是通过<code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">DOWNLOADER_MIDDLEWARES</code>进行控制，我们在<code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">settings.py</code>同级目录下创建<code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">middlewares.py</code>文件，包装所有请求。</p><pre style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 16px; white-space: pre-wrap; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); overflow-wrap: normal; margin-top: 0px; margin-bottom: 1.275em; padding-top: 0.85em; padding-bottom: 0.85em; background-color: rgb(253, 246, 227); letter-spacing: 0.2px;"><code class="lang-python" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;"><span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># middlewares.py</span>

<span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);">#!/usr/bin/env python</span>
<span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># -*- coding:utf-8 -*-</span>

<span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">import</span> random
<span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">import</span> base64

<span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">from</span> settings <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">import</span> USER_AGENTS
<span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">from</span> settings <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">import</span> PROXIES

<span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 随机的 User-Agent</span>
<span class="hljs-class" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">class</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(181, 137, 0);">RandomUserAgent</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(object)</span>:</span>
    <span class="hljs-function" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(66, 113, 174);"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">def</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">process_request</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(self, request, spider)</span>:</span>
        useragent = random.choice(USER_AGENTS)

        request.headers.setdefault(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"User-Agent"</span>, useragent)

<span class="hljs-class" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">class</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(181, 137, 0);">RandomProxy</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(object)</span>:</span>
    <span class="hljs-function" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(66, 113, 174);"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">def</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">process_request</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(self, request, spider)</span>:</span>
        proxy = random.choice(PROXIES)

        <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">if</span> proxy[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'user_passwd'</span>] <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">is</span> <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">None</span>:
            <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 没有代理账户验证的代理使用方式</span>
            request.meta[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'proxy'</span>] = <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"http://"</span> + proxy[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'ip_port'</span>]
        <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">else</span>:
            <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 对账户密码进行base64编码转换</span>
            base64_userpasswd = base64.b64encode(proxy[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'user_passwd'</span>])
            <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 对应到代理服务器的信令格式里</span>
            request.headers[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'Proxy-Authorization'</span>] = <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'Basic '</span> + base64_userpasswd
            request.meta[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'proxy'</span>] = <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"http://"</span> + proxy[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'ip_port'</span>]
</code></pre><blockquote style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; break-inside: avoid; margin: 0px 0px 0.85em; padding: 0px 15px; color: rgb(133, 133, 133); border-color: inherit; font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">为什么 HTTP 代理要使用 base64 编码：</p><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">HTTP代理的原理很简单，就是通过HTTP协议与代理服务器建立连接，协议信令中包含要连接到的远程主机的IP和端口号，如果有需要身份验证的话还需要加上授权信息，服务器收到信令后首先进行身份验证，通过后便与远程主机建立连接，连接成功之后会返回给客户端200，表示验证通过，就这么简单，下面是具体的信令格式：</p></blockquote><pre style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 16px; white-space: pre-wrap; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); overflow-wrap: normal; margin-top: 0px; margin-bottom: 1.275em; padding-top: 0.85em; padding-bottom: 0.85em; background-color: rgb(253, 246, 227); letter-spacing: 0.2px;"><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;">CONNECT 59.64.128.198:21 HTTP/1.1
Host: 59.64.128.198:21
Proxy-Authorization: Basic bGV2I1TU5OTIz
User-Agent: OpenFetion
</code></pre><blockquote style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; break-inside: avoid; margin: 0px 0px 0.85em; padding: 0px 15px; color: rgb(133, 133, 133); border-color: inherit; font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">其中<code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">Proxy-Authorization</code>是身份验证信息，Basic后面的字符串是用户名和密码组合后进行base64编码的结果，也就是对username:password进行base64编码。</p></blockquote><pre style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 16px; white-space: pre-wrap; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); overflow-wrap: normal; margin-top: 0px; margin-bottom: 1.275em; padding-top: 0.85em; padding-bottom: 0.85em; background-color: rgb(253, 246, 227); letter-spacing: 0.2px;"><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;">HTTP/1.0 200 Connection established
</code></pre><blockquote style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; break-inside: avoid; margin: 0px 0px 0.85em; padding: 0px 15px; color: rgb(133, 133, 133); border-color: inherit; font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">OK，客户端收到收面的信令后表示成功建立连接，接下来要发送给远程主机的数据就可以发送给代理服务器了，代理服务器建立连接后会在根据IP地址和端口号对应的连接放入缓存，收到信令后再根据IP地址和端口号从缓存中找到对应的连接，将数据通过该连接转发出去。</p></blockquote><h5 style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; break-after: avoid; margin-top: 1.275em; margin-bottom: 0.85em;" id="blogTitle86">2. 修改 settings.py 配置 USER_AGENTS 和 PROXIES</h5><ul style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; margin: 0px 0px 0.85em; padding: 0px 0px 0px 2em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;"><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;">添加 USER_AGENTS：</li></ul><pre style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 16px; white-space: pre-wrap; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); overflow-wrap: normal; margin-top: 0px; margin-bottom: 1.275em; padding-top: 0.85em; padding-bottom: 0.85em; background-color: rgb(253, 246, 227); letter-spacing: 0.2px;"><code class="lang-python" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;">　　USER_AGENTS = [
    <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; Win64; x64; Trident/5.0; .NET CLR 3.5.30729; .NET CLR 3.0.30729; .NET CLR 2.0.50727; Media Center PC 6.0)"</span>,
    <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"Mozilla/5.0 (compatible; MSIE 8.0; Windows NT 6.0; Trident/4.0; WOW64; Trident/4.0; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR 3.0.30729; .NET CLR 1.0.3705; .NET CLR 1.1.4322)"</span>,
    <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"Mozilla/4.0 (compatible; MSIE 7.0b; Windows NT 5.2; .NET CLR 1.1.4322; .NET CLR 2.0.50727; InfoPath.2; .NET CLR 3.0.04506.30)"</span>,
    <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"Mozilla/5.0 (Windows; U; Windows NT 5.1; zh-CN) AppleWebKit/523.15 (KHTML, like Gecko, Safari/419.3) Arora/0.3 (Change: 287 c9dfb30)"</span>,
    <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"Mozilla/5.0 (X11; U; Linux; en-US) AppleWebKit/527+ (KHTML, like Gecko, Safari/419.3) Arora/0.6"</span>,
    <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.8.1.2pre) Gecko/20070215 K-Ninja/2.1.1"</span>,
    <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"Mozilla/5.0 (Windows; U; Windows NT 5.1; zh-CN; rv:1.9) Gecko/20080705 Firefox/3.0 Kapiko/3.0"</span>,
    <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"Mozilla/5.0 (X11; Linux i686; U;) Gecko/20070322 Kazehakase/0.4.5"</span>
    ]
</code></pre><ul style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; margin: 0px 0px 0.85em; padding: 0px 0px 0px 2em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;"><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">添加代理 IP 设置 PROXIES：</p><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">免费代理 IP 可以网上搜索，或者付费购买一批可用的私密代理 IP：</p></li></ul><pre style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 16px; white-space: pre-wrap; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); overflow-wrap: normal; margin-top: 0px; margin-bottom: 1.275em; padding-top: 0.85em; padding-bottom: 0.85em; background-color: rgb(253, 246, 227); letter-spacing: 0.2px;"><code class="lang-python" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;">PROXIES = [
    {<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'ip_port'</span>: <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'111.8.60.9:8123'</span>, <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'user_passwd'</span>: <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'user1:pass1'</span>},
    {<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'ip_port'</span>: <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'101.71.27.120:80'</span>, <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'user_passwd'</span>: <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'user2:pass2'</span>},
    {<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'ip_port'</span>: <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'122.96.59.104:80'</span>, <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'user_passwd'</span>: <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'user3:pass3'</span>},
    {<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'ip_port'</span>: <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'122.224.249.122:8088'</span>, <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'user_passwd'</span>: <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'user4:pass4'</span>},
]
</code></pre><ul style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; margin: 0px 0px 0.85em; padding: 0px 0px 0px 2em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;"><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;">除非特殊需要，禁用 cookies，防止某些网站根据 Cookie 来封锁爬虫。</li></ul><pre style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 16px; white-space: pre-wrap; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); overflow-wrap: normal; margin-top: 0px; margin-bottom: 1.275em; padding-top: 0.85em; padding-bottom: 0.85em; background-color: rgb(253, 246, 227); letter-spacing: 0.2px;"><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;">COOKIES_ENABLED = False
</code></pre><ul style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; margin: 0px 0px 0.85em; padding: 0px 0px 0px 2em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;"><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;">设置下载延迟</li></ul><pre style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 16px; white-space: pre-wrap; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); overflow-wrap: normal; margin-top: 0px; margin-bottom: 1.275em; padding-top: 0.85em; padding-bottom: 0.85em; background-color: rgb(253, 246, 227); letter-spacing: 0.2px;"><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;">DOWNLOAD_DELAY = 3
</code></pre><ul style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; margin: 0px 0px 0.85em; padding: 0px 0px 0px 2em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;"><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;">最后设置 setting.py 里的 DOWNLOADER_MIDDLEWARES，添加自己编写的下载中间件类。</li></ul><pre style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 16px; white-space: pre-wrap; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); overflow-wrap: normal; margin-top: 0px; margin-bottom: 1.275em; padding-top: 0.85em; padding-bottom: 0.85em; background-color: rgb(253, 246, 227); letter-spacing: 0.2px;"><code class="lang-python" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;">DOWNLOADER_MIDDLEWARES = {
    <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);">#'mySpider.middlewares.MyCustomDownloaderMiddleware': 543,</span>
    <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'mySpider.middlewares.RandomUserAgent'</span>: <span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">1</span>,
    <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'mySpider.middlewares.ProxyMiddleware'</span>: <span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">100</span>
}</code></pre></div><h3 id="blogTitle87">Settings</h3><div><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;">Scrapy 设置(settings)提供了定制 Scrapy 组件的方法。可以控制包括核心(core)，插件(extension)，pipeline 及 spider 组件。比如 设置 Json Pipeliine、LOG_LEVEL 等。</p><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;">参考文档：<a href="http://scrapy-chs.readthedocs.io/zh_CN/1.0/topics/settings.html#topics-settings-ref" target="_blank" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; text-decoration-line: none; font-size: inherit; background: 0px 0px;">http://scrapy-chs.readthedocs.io/zh_CN/1.0/topics/settings.html#topics-settings-ref</a></p><h4 style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; break-after: avoid; margin-top: 1.275em; margin-bottom: 0.85em; border-color: inherit;" id="blogTitle88">内置设置参考手册</h4><ul style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; margin: 0px 0px 0.85em; padding: 0px 0px 0px 2em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;"><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;"><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">BOT_NAME</code></p><ul style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; margin: 0px; padding: 0px 0px 0px 2em;"><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">默认: 'scrapybot'</p></li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">当您使用 startproject 命令创建项目时其也被自动赋值。</p></li></ul></li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;"><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">CONCURRENT_ITEMS</code></p><ul style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; margin: 0px; padding: 0px 0px 0px 2em;"><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">默认: 100</p></li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">Item Processor(即 Item Pipeline) 同时处理(每个response的)item的最大值。</p></li></ul></li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 1em; orphans: 3; widows: 3; break-after: avoid; margin-top: 1.275em; margin-bottom: 0.85em; color: inherit;"><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">CONCURRENT_REQUESTS</code></p><ul style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; margin: 0px; padding: 0px 0px 0px 2em;"><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">默认: 16</p></li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">Scrapy downloader 并发请求(concurrent requests)的最大值。</p></li></ul></li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 1em; orphans: 3; widows: 3; break-after: avoid; margin-top: 1.275em; margin-bottom: 0.85em; color: inherit;"><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">DEFAULT_REQUEST_HEADERS</code></p><ul style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; margin: 0px; padding: 0px 0px 0px 2em;"><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">默认: 如下</p><pre style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: inherit; white-space: pre-wrap; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); overflow-wrap: normal; margin-top: 0px; margin-bottom: 1.275em; padding-top: 0.85em; padding-bottom: 0.85em; background-color: rgb(253, 246, 227);"><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;">{
'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8',
'Accept-Language': 'en',
}
</code></pre><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">Scrapy HTTP Request 使用的默认 header。</p></li></ul></li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;"><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">DEPTH_LIMIT</code></p><ul style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; margin: 0px; padding: 0px 0px 0px 2em;"><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">默认: 0</p></li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">爬取网站最大允许的深度(depth)值。如果为0，则没有限制。</p></li></ul></li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 1em; orphans: 3; widows: 3; break-after: avoid; margin-top: 1.275em; margin-bottom: 0.85em; color: inherit;"><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">DOWNLOAD_DELAY</code></p><ul style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; margin: 0px; padding: 0px 0px 0px 2em;"><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">默认: 0</p></li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">下载器在下载同一个网站下一个页面前需要等待的时间。该选项可以用来限制爬取速度， 减轻服务器压力。同时也支持小数:</p></li></ul><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;"><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">DOWNLOAD_DELAY = 0.25 # 250 ms of delay</code></p><ul style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; margin: 0px; padding: 0px 0px 0px 2em;"><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;">默认情况下，Scrapy 在两个请求间不等待一个固定的值， 而是使用0.5到1.5之间的一个随机值 * DOWNLOAD_DELAY 的结果作为等待间隔。</li></ul></li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;"><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">DOWNLOAD_TIMEOUT</code></p><ul style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; margin: 0px; padding: 0px 0px 0px 2em;"><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">默认: 180</p></li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">下载器超时时间(单位: 秒)。</p></li></ul></li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 1em; orphans: 3; widows: 3; break-after: avoid; margin-top: 1.275em; margin-bottom: 0.85em; color: inherit;"><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">ITEM_PIPELINES</code></p><ul style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; margin: 0px; padding: 0px 0px 0px 2em;"><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">默认: {}</p></li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">保存项目中启用的 pipeline 及其顺序的字典。该字典默认为空，值(value)任意，不过值(value)习惯设置在0-1000范围内，值越小优先级越高。</p><pre style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: inherit; white-space: pre-wrap; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); overflow-wrap: normal; margin-top: 0px; margin-bottom: 1.275em; padding-top: 0.85em; padding-bottom: 0.85em; background-color: rgb(253, 246, 227);"><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;">ITEM_PIPELINES = {
'mySpider.pipelines.SomethingPipeline': 300,
'mySpider.pipelines.ItcastJsonPipeline': 800,
}
</code></pre></li></ul></li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;"><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">LOG_ENABLED</code></p><ul style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; margin: 0px; padding: 0px 0px 0px 2em;"><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">默认: True</p></li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">是否启用logging。</p></li></ul></li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;"><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">LOG_ENCODING</code></p><ul style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; margin: 0px; padding: 0px 0px 0px 2em;"><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">默认: 'utf-8'</p></li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">logging使用的编码。</p></li></ul></li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;"><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">LOG_LEVEL</code></p><ul style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; margin: 0px; padding: 0px 0px 0px 2em;"><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">默认: 'DEBUG'</p></li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">log的最低级别。可选的级别有: CRITICAL、 ERROR、WARNING、INFO、DEBUG 。</p></li></ul></li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 1em; orphans: 3; widows: 3; break-after: avoid; margin-top: 1.275em; margin-bottom: 0.85em; color: inherit;"><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">USER_AGENT</code></p><ul style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; margin: 0px; padding: 0px 0px 0px 2em;"><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">默认: "Scrapy/VERSION (+<a href="http://scrapy.org" target="_blank" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; text-decoration-line: none; font-size: inherit; background: 0px 0px;">http://scrapy.org</a>)"</p></li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">爬取的默认User-Agent，除非被覆盖。</p></li></ul></li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 1em; orphans: 3; widows: 3; break-after: avoid; margin-top: 1.275em; margin-bottom: 0.85em; color: inherit;"><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">PROXIES</code>： 代理设置</p><ul style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; margin: 0px; padding: 0px 0px 0px 2em;"><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">示例：</p><pre style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: inherit; white-space: pre-wrap; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); overflow-wrap: normal; margin-top: 0px; margin-bottom: 1.275em; padding-top: 0.85em; padding-bottom: 0.85em; background-color: rgb(253, 246, 227);"><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;">PROXIES = [
  {'ip_port': '111.11.228.75:80', 'password': ''},
  {'ip_port': '120.198.243.22:80', 'password': ''},
  {'ip_port': '111.8.60.9:8123', 'password': ''},
  {'ip_port': '101.71.27.120:80', 'password': ''},
  {'ip_port': '122.96.59.104:80', 'password': ''},
  {'ip_port': '122.224.249.122:8088', 'password':''},
]
</code></pre></li></ul></li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 1em; orphans: 3; widows: 3; break-after: avoid; margin-top: 1.275em; margin-bottom: 0.85em; color: inherit;"><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">COOKIES_ENABLED = False</code></p><ul style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; margin: 0px; padding: 0px 0px 0px 2em;"><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;">禁用Cookies</li></ul></li></ul></div><h2>实战项目</h2><h3 id="blogTitle89">（案例一）手机 App 抓包爬虫</h3><div><h4 id="blogTitle90" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; break-after: avoid; margin-top: 1.275em; margin-bottom: 0.85em;">1. items.py</h4><pre style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); overflow-wrap: normal; margin-top: 0px; margin-bottom: 1.275em; padding-top: 0.85em; padding-bottom: 0.85em; background-color: rgb(253, 246, 227); white-space: pre-wrap; letter-spacing: 0.2px; font-size: 16px; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; color: rgb(101, 123, 131);"><code class="lang-python" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;"><span class="hljs-class" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">class</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(181, 137, 0);">DouyuspiderItem</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(scrapy.Item)</span>:</span>
    name = scrapy.Field()<span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 存储照片的名字</span>
    imagesUrls = scrapy.Field()<span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 照片的url路径</span>
    imagesPath = scrapy.Field()<span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 照片保存在本地的路径</span></code></pre><h4 id="blogTitle91" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; break-after: avoid; margin-top: 1.275em; margin-bottom: 0.85em;">2. spiders/douyu.py</h4><pre style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 16px; white-space: pre-wrap; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); overflow-wrap: normal; margin-top: 0px; margin-bottom: 1.275em; padding-top: 0.85em; padding-bottom: 0.85em; background-color: rgb(253, 246, 227); letter-spacing: 0.2px;"><code class="lang-python" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">import</span> scrapy
<span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">import</span> json
<span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">from</span> douyuSpider.items <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">import</span> DouyuspiderItem

<span class="hljs-class" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">class</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(181, 137, 0);">DouyuSpider</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(scrapy.Spider)</span>:</span>
    name = <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"douyu"</span>
    allowd_domains = [<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"http://capi.douyucdn.cn"</span>]

    offset = <span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">0</span>
    url = <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"http://capi.douyucdn.cn/api/v1/getVerticalRoom?limit=20&amp;offset="</span>
    start_urls = [url + str(offset)]

  <span class="hljs-function" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(66, 113, 174);"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">def</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">parse</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(self, response)</span>:</span>
      <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 返回从json里获取 data段数据集合</span>
      data = json.loads(response.text)[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"data"</span>]

      <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">for</span> each <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">in</span> data:
          item = DouyuspiderItem()
          item[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"name"</span>] = each[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"nickname"</span>]
          item[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"imagesUrls"</span>] = each[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"vertical_src"</span>]

          <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">yield</span> item

      self.offset += <span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">20</span>
      <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">yield</span> scrapy.Request(self.url + str(self.offset), callback = self.parse)</code></pre><h4 id="blogTitle92" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; break-after: avoid; margin-top: 1.275em; margin-bottom: 0.85em;">3. 设置 setting.py</h4><pre style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 16px; white-space: pre-wrap; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); overflow-wrap: normal; margin-top: 0px; margin-bottom: 1.275em; padding-top: 0.85em; padding-bottom: 0.85em; background-color: rgb(253, 246, 227); letter-spacing: 0.2px;"><code class="lang-python" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;">
ITEM_PIPELINES = {<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'douyuSpider.pipelines.ImagesPipeline'</span>: <span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">1</span>}

<span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># Images 的存放位置，之后会在pipelines.py里调用</span>
IMAGES_STORE = <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"/Users/Power/lesson_python/douyuSpider/Images"</span>

<span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># user-agent</span>
USER_AGENT = <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'DYZB/2.290 (iPhone; iOS 9.3.4; Scale/2.00)'</span></code></pre><h4 id="blogTitle93" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; break-after: avoid; margin-top: 1.275em; margin-bottom: 0.85em;">4. pipelines.py</h4><pre style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 16px; white-space: pre-wrap; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); overflow-wrap: normal; margin-top: 0px; margin-bottom: 1.275em; padding-top: 0.85em; padding-bottom: 0.85em; background-color: rgb(253, 246, 227); letter-spacing: 0.2px;"><code class="lang-python" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">import</span> scrapy
<span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">import</span> os
<span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">from</span> scrapy.pipelines.images <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">import</span> ImagesPipeline
<span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">from</span> scrapy.utils.project <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">import</span> get_project_settings

<span class="hljs-class" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">class</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(181, 137, 0);">ImagesPipeline</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(ImagesPipeline)</span>:</span>
    IMAGES_STORE = get_project_settings().get(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"IMAGES_STORE"</span>)

    <span class="hljs-function" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(66, 113, 174);"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">def</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">get_media_requests</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(self, item, info)</span>:</span>
        image_url = item[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"imagesUrls"</span>]
        <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">yield</span> scrapy.Request(image_url)

    <span class="hljs-function" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(66, 113, 174);"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">def</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">item_completed</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(self, results, item, info)</span>:</span>
        <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 固定写法，获取图片路径，同时判断这个路径是否正确，如果正确，就放到 image_path里，ImagesPipeline源码剖析可见</span>
        image_path = [x[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"path"</span>] <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">for</span> ok, x <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">in</span> results <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">if</span> ok]

        os.rename(self.IMAGES_STORE + <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"/"</span> + image_path[<span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">0</span>], self.IMAGES_STORE + <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"/"</span> + item[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"name"</span>] + <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">".jpg"</span>)
        item[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"imagesPath"</span>] = self.IMAGES_STORE + <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"/"</span> + item[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"name"</span>]

        <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">return</span> item

<span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);">#get_media_requests的作用就是为每一个图片链接生成一个Request对象，这个方法的输出将作为item_completed的输入中的results，results是一个元组，每个元组包括(success, imageinfoorfailure)。如果success=true，imageinfoor_failure是一个字典，包括url/path/checksum三个key。</span></code></pre><h4 id="blogTitle94" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; break-after: avoid; margin-top: 1.275em; margin-bottom: 0.85em;">在项目根目录下新建 main.py 文件,用于调试</h4><pre style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 16px; white-space: pre-wrap; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); overflow-wrap: normal; margin-top: 0px; margin-bottom: 1.275em; padding-top: 0.85em; padding-bottom: 0.85em; background-color: rgb(253, 246, 227); letter-spacing: 0.2px;"><code class="lang-python" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">from</span> scrapy <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">import</span> cmdline
cmdline.execute(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'scrapy crawl douyu'</span>.split())</code></pre><h4 id="blogTitle95" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; break-after: avoid; margin-top: 1.275em; margin-bottom: 0.85em;">执行程序</h4><pre style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 16px; white-space: pre-wrap; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); overflow-wrap: normal; margin-top: 0px; margin-bottom: 1.275em; padding-top: 0.85em; padding-bottom: 0.85em; background-color: rgb(253, 246, 227); letter-spacing: 0.2px;"><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;">py2 main.py</code></pre></div><h3 id="blogTitle96">（案例二）阳光热线问政平台</h3><div><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;"><a href="http://wz.sun0769.com/index.php/question/questionType?type=4" target="_blank" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; text-decoration-line: none; font-size: inherit; background: 0px 0px;">http://wz.sun0769.com/index.php/question/questionType?type=4</a></p><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;">爬取投诉帖子的编号、帖子的 url、帖子的标题，和帖子里的内容。</p><h4 style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 1.5em; orphans: 3; widows: 3; break-after: avoid; margin-top: 1.275em; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;" id="blogTitle97">items.py</h4><pre style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 16px; white-space: pre-wrap; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); overflow-wrap: normal; margin-top: 0px; margin-bottom: 1.275em; padding-top: 0.85em; padding-bottom: 0.85em; background-color: rgb(253, 246, 227); letter-spacing: 0.2px;"><code class="lang-python" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">import</span> scrapy

<span class="hljs-class" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">class</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(181, 137, 0);">DongguanItem</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(scrapy.Item)</span>:</span>
    <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 每个帖子的标题</span>
    title = scrapy.Field()
    <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 每个帖子的编号</span>
    number = scrapy.Field()
    <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 每个帖子的文字内容</span>
    content = scrapy.Field()
    <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 每个帖子的url</span>
    url = scrapy.Field()
</code></pre><h4 style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 1.5em; orphans: 3; widows: 3; break-after: avoid; margin-top: 1.275em; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;" id="blogTitle98">spiders/sunwz.py</h4><h5 style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 1em; margin-top: 1.275em; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;" id="blogTitle99">Spider 版本</h5><pre style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 16px; white-space: pre-wrap; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); overflow-wrap: normal; margin-top: 0px; margin-bottom: 1.275em; padding-top: 0.85em; padding-bottom: 0.85em; background-color: rgb(253, 246, 227); letter-spacing: 0.2px;"><code class="lang-python" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;"><span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># -*- coding: utf-8 -*-</span>

<span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">import</span> scrapy
<span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">from</span> dongguan.items <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">import</span> DongguanItem

<span class="hljs-class" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">class</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(181, 137, 0);">SunSpider</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(CrawlSpider)</span>:</span>
    name = <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'sun'</span>
    allowed_domains = [<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'wz.sun0769.com'</span>]
    url = <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'http://wz.sun0769.com/index.php/question/questionType?type=4&amp;page='</span>
    offset = <span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">0</span>
    start_urls = [url + str(offset)]

    <span class="hljs-function" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(66, 113, 174);"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">def</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">parse</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(self, response)</span>:</span>
        <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 取出每个页面里帖子链接列表</span>
        links = response.xpath(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"//div[@class='greyframe']/table//td/a[@class='news14']/@href"</span>).extract()
        <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 迭代发送每个帖子的请求，调用parse_item方法处理</span>
        <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">for</span> link <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">in</span> links:
            <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">yield</span> scrapy.Request(link, callback = self.parse_item)
        <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 设置页码终止条件，并且每次发送新的页面请求调用parse方法处理</span>
        <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">if</span> self.offset &lt;= <span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">71130</span>:
            self.offset += <span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">30</span>
            <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">yield</span> scrapy.Request(self.url + str(self.offset), callback = self.parse)

    <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 处理每个帖子里</span>
    <span class="hljs-function" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(66, 113, 174);"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">def</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">parse_item</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(self, response)</span>:</span>
        item = DongguanItem()
        <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 标题</span>
        item[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'title'</span>] = response.xpath(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'//div[contains(@class, "pagecenter p3")]//strong/text()'</span>).extract()[<span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">0</span>]

        <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 编号</span>
        item[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'number'</span>] = item[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'title'</span>].split(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">' '</span>)[-<span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">1</span>].split(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">":"</span>)[-<span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">1</span>]

        <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 文字内容，默认先取出有图片情况下的文字内容列表</span>
        content = response.xpath(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'//div[@class="contentext"]/text()'</span>).extract()
        <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 如果没有内容，则取出没有图片情况下的文字内容列表</span>
        <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">if</span> len(content) == <span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">0</span>:
            content = response.xpath(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'//div[@class="c1 text14_2"]/text()'</span>).extract()
            <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># content为列表，通过join方法拼接为字符串，并去除首尾空格</span>
            item[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'content'</span>] = <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">""</span>.join(content).strip()
        <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">else</span>:
            item[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'content'</span>] = <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">""</span>.join(content).strip()

        <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 链接</span>
        item[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'url'</span>] = response.url

        <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">yield</span> item
</code></pre><h5 style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 1em; margin-top: 1.275em; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;" id="blogTitle100">CrawlSpider 版本</h5><pre style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 16px; white-space: pre-wrap; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); overflow-wrap: normal; margin-top: 0px; margin-bottom: 1.275em; padding-top: 0.85em; padding-bottom: 0.85em; background-color: rgb(253, 246, 227); letter-spacing: 0.2px;"><code class="lang-python" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;">
<span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># -*- coding: utf-8 -*-</span>
<span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">import</span> scrapy
<span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">from</span> scrapy.linkextractors <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">import</span> LinkExtractor
<span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">from</span> scrapy.spiders <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">import</span> CrawlSpider, Rule
<span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">from</span> dongguan.items <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">import</span> DongguanItem
<span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">import</span> time


<span class="hljs-class" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">class</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(181, 137, 0);">SunSpider</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(CrawlSpider)</span>:</span>
    name = <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'sun'</span>
    allowed_domains = [<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'wz.sun0769.com'</span>]
    start_urls = [<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'http://wz.sun0769.com/index.php/question/questionType?type=4&amp;page='</span>]

    <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 每一页的匹配规则</span>
    pagelink = LinkExtractor(allow=(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'type=4'</span>))
    <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 每个帖子的匹配规则</span>
    contentlink = LinkExtractor(allow=<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">r'/html/question/\d+/\d+.shtml'</span>)

    rules = [
        <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 本案例为特殊情况，需要调用deal_links方法处理每个页面里的链接</span>
        Rule(pagelink, process_links = <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"deal_links"</span>, follow = <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">True</span>),
        Rule(contentlink, callback = <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'parse_item'</span>)
    ]

    <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 需要重新处理每个页面里的链接，将链接里的‘Type&amp;type=4?page=xxx’替换为‘Type?type=4&amp;page=xxx’（或者是Type&amp;page=xxx?type=4’替换为‘Type?page=xxx&amp;type=4’），否则无法发送这个链接</span>
    <span class="hljs-function" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(66, 113, 174);"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">def</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">deal_links</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(self, links)</span>:</span>
        <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">for</span> link <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">in</span> links:
            link.url = link.url.replace(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"?"</span>,<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"&amp;"</span>).replace(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"Type&amp;"</span>, <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"Type?"</span>)
            <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">print</span> link.url
        <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">return</span> links


    <span class="hljs-function" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(66, 113, 174);"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">def</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">parse_item</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(self, response)</span>:</span>
        <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">print</span> response.url
        item = DongguanItem()
        <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 标题</span>
        item[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'title'</span>] = response.xpath(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'//div[contains(@class, "pagecenter p3")]//strong/text()'</span>).extract()[<span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">0</span>]

        <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 编号</span>
        item[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'number'</span>] = item[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'title'</span>].split(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">' '</span>)[-<span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">1</span>].split(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">":"</span>)[-<span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">1</span>]

        <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 文字内容，默认先取出有图片情况下的文字内容列表</span>
        content = response.xpath(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'//div[@class="contentext"]/text()'</span>).extract()
        <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 如果没有内容，则取出没有图片情况下的文字内容列表</span>
        <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">if</span> len(content) == <span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">0</span>:
            content = response.xpath(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'//div[@class="c1 text14_2"]/text()'</span>).extract()
            <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># content为列表，通过join方法拼接为字符串，并去除首尾空格</span>
            item[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'content'</span>] = <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">""</span>.join(content).strip()
        <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">else</span>:
            item[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'content'</span>] = <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">""</span>.join(content).strip()

        <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 链接</span>
        item[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'url'</span>] = response.url

        <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">yield</span> item
</code></pre><h4 id="blogTitle101" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 1.25em; orphans: 3; widows: 3; break-after: avoid; margin-top: 1.275em; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;">pipelines.py</h4><pre style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 16px; white-space: pre-wrap; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); overflow-wrap: normal; margin-top: 0px; margin-bottom: 1.275em; padding-top: 0.85em; padding-bottom: 0.85em; background-color: rgb(253, 246, 227); letter-spacing: 0.2px;"><code class="lang-python" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;"><span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># -*- coding: utf-8 -*-</span>

<span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 文件处理类库，可以指定编码格式</span>
<span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">import</span> codecs
<span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">import</span> json

<span class="hljs-class" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">class</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(181, 137, 0);">JsonWriterPipeline</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(object)</span>:</span>

    <span class="hljs-function" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(66, 113, 174);"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">def</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">__init__</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(self)</span>:</span>
        <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 创建一个只写文件，指定文本编码格式为utf-8</span>
        self.filename = codecs.open(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'sunwz.json'</span>, <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'w'</span>, encoding=<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'utf-8'</span>)

    <span class="hljs-function" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(66, 113, 174);"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">def</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">process_item</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(self, item, spider)</span>:</span>
        content = json.dumps(dict(item), ensure_ascii=<span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">False</span>) + <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"\n"</span>
        self.filename.write(content)
        <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">return</span> item

    <span class="hljs-function" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(66, 113, 174);"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">def</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">spider_closed</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(self, spider)</span>:</span>
        self.file.close()
</code></pre><h4 id="blogTitle102" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 1.25em; orphans: 3; widows: 3; break-after: avoid; margin-top: 1.275em; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;">settings.py</h4><pre style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 16px; white-space: pre-wrap; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); overflow-wrap: normal; margin-top: 0px; margin-bottom: 1.275em; padding-top: 0.85em; padding-bottom: 0.85em; background-color: rgb(253, 246, 227); letter-spacing: 0.2px;"><code class="lang-python" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;">ITEM_PIPELINES = {
    <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'dongguan.pipelines.DongguanPipeline'</span>: <span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">300</span>,
}

<span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 日志文件名和处理等级</span>
LOG_FILE = <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"dg.log"</span>
LOG_LEVEL = <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"DEBUG"</span>
</code></pre><h4 id="blogTitle103" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 1.25em; orphans: 3; widows: 3; break-after: avoid; margin-top: 1.275em; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;">在项目根目录下新建main.py文件,用于调试</h4><pre style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 16px; white-space: pre-wrap; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); overflow-wrap: normal; margin-top: 0px; margin-bottom: 1.275em; padding-top: 0.85em; padding-bottom: 0.85em; background-color: rgb(253, 246, 227); letter-spacing: 0.2px;"><code class="lang-python" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">from</span> scrapy <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">import</span> cmdline
cmdline.execute(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'scrapy crawl sunwz'</span>.split())
</code></pre><h4 id="blogTitle104" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 1.25em; orphans: 3; widows: 3; break-after: avoid; margin-top: 1.275em; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;">执行程序</h4><pre style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 16px; white-space: pre-wrap; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); overflow-wrap: normal; margin-top: 0px; margin-bottom: 1.275em; padding-top: 0.85em; padding-bottom: 0.85em; background-color: rgb(253, 246, 227); letter-spacing: 0.2px;"><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;">py2 main.py</code></pre></div><div><br></div><h3 id="blogTitle105">(案例三)新浪网分类资讯爬虫</h3><div><span style="color: rgb(133, 133, 133); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 16px; letter-spacing: 0.2px; orphans: 3; widows: 3; background-color: rgb(243, 234, 203);">爬取新浪网导航页所有下所有大类、小类、小类里的子链接，以及子链接页面的新闻内容。</span><br></div><div><br></div><div><h4 id="blogTitle106" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 1.25em; orphans: 3; widows: 3; break-after: avoid; margin-top: 1.275em; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;">items.py</h4><pre style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 16px; white-space: pre-wrap; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); overflow-wrap: normal; margin-top: 0px; margin-bottom: 1.275em; padding-top: 0.85em; padding-bottom: 0.85em; background-color: rgb(253, 246, 227); letter-spacing: 0.2px;"><code class="lang-python" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">import</span> scrapy
<span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">import</span> sys
reload(sys)
sys.setdefaultencoding(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"utf-8"</span>)

<span class="hljs-class" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">class</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(181, 137, 0);">SinaItem</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(scrapy.Item)</span>:</span>
    <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 大类的标题 和 url</span>
    parentTitle = scrapy.Field()
    parentUrls = scrapy.Field()

    <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 小类的标题 和 子url</span>
    subTitle = scrapy.Field()
    subUrls = scrapy.Field()

    <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 小类目录存储路径</span>
    subFilename = scrapy.Field()

    <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 小类下的子链接</span>
    sonUrls = scrapy.Field()

    <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 文章标题和内容</span>
    head = scrapy.Field()
    content = scrapy.Field()
</code></pre><h4 id="blogTitle107" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 1.25em; orphans: 3; widows: 3; break-after: avoid; margin-top: 1.275em; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;">spiders/sina.py</h4><pre style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 16px; white-space: pre-wrap; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); overflow-wrap: normal; margin-top: 0px; margin-bottom: 1.275em; padding-top: 0.85em; padding-bottom: 0.85em; background-color: rgb(253, 246, 227); letter-spacing: 0.2px;"><code class="lang-python" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;"><span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># -*- coding: utf-8 -*-</span>
<span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># -*- coding: utf-8 -*-</span>

<span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">from</span> Sina.items <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">import</span> SinaItem
<span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">import</span> scrapy
<span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">import</span> os

<span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">import</span> sys
reload(sys)
sys.setdefaultencoding(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"utf-8"</span>)


<span class="hljs-class" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">class</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(181, 137, 0);">SinaSpider</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(scrapy.Spider)</span>:</span>
    name= <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"sina"</span>
    allowed_domains= [<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"sina.com.cn"</span>]
    start_urls= [
       <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"http://news.sina.com.cn/guide/"</span>
    ]

    <span class="hljs-function" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(66, 113, 174);"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">def</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">parse</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(self, response)</span>:</span>
        items= []
        <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 所有大类的url 和 标题</span>
        parentUrls = response.xpath(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'//div[@id=\"tab01\"]/div/h3/a/@href'</span>).extract()
        parentTitle = response.xpath(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"//div[@id=\"tab01\"]/div/h3/a/text()"</span>).extract()

        <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 所有小类的ur 和 标题</span>
        subUrls  = response.xpath(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'//div[@id=\"tab01\"]/div/ul/li/a/@href'</span>).extract()
        subTitle = response.xpath(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'//div[@id=\"tab01\"]/div/ul/li/a/text()'</span>).extract()

        <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);">#爬取所有大类</span>
        <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">for</span> i <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">in</span> range(<span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">0</span>, len(parentTitle)):
            <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 指定大类目录的路径和目录名</span>
            parentFilename = <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"./Data/"</span> + parentTitle[i]

            <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);">#如果目录不存在，则创建目录</span>
            <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">if</span>(<span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">not</span> os.path.exists(parentFilename)):
                os.makedirs(parentFilename)

            <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 爬取所有小类</span>
            <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">for</span> j <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">in</span> range(<span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">0</span>, len(subUrls)):
                item = SinaItem()

                <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 保存大类的title和urls</span>
                item[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'parentTitle'</span>] = parentTitle[i]
                item[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'parentUrls'</span>] = parentUrls[i]

                <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 检查小类的url是否以同类别大类url开头，如果是返回True (sports.sina.com.cn 和 sports.sina.com.cn/nba)</span>
                if_belong = subUrls[j].startswith(item[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'parentUrls'</span>])

                <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 如果属于本大类，将存储目录放在本大类目录下</span>
                <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">if</span>(if_belong):
                    subFilename =parentFilename + <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'/'</span>+ subTitle[j]
                    <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 如果目录不存在，则创建目录</span>
                    <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">if</span>(<span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">not</span> os.path.exists(subFilename)):
                        os.makedirs(subFilename)

                    <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 存储 小类url、title和filename字段数据</span>
                    item[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'subUrls'</span>] = subUrls[j]
                    item[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'subTitle'</span>] =subTitle[j]
                    item[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'subFilename'</span>] = subFilename

                    items.append(item)

        <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);">#发送每个小类url的Request请求，得到Response连同包含meta数据 一同交给回调函数 second_parse 方法处理</span>
        <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">for</span> item <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">in</span> items:
            <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">yield</span> scrapy.Request( url = item[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'subUrls'</span>], meta={<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'meta_1'</span>: item}, callback=self.second_parse)

    <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);">#对于返回的小类的url，再进行递归请求</span>
    <span class="hljs-function" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(66, 113, 174);"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">def</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">second_parse</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(self, response)</span>:</span>
        <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 提取每次Response的meta数据</span>
        meta_1= response.meta[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'meta_1'</span>]

        <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 取出小类里所有子链接</span>
        sonUrls = response.xpath(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'//a/@href'</span>).extract()

        items= []
        <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">for</span> i <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">in</span> range(<span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">0</span>, len(sonUrls)):
            <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 检查每个链接是否以大类url开头、以.shtml结尾，如果是返回True</span>
            if_belong = sonUrls[i].endswith(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'.shtml'</span>) <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">and</span> sonUrls[i].startswith(meta_1[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'parentUrls'</span>])

            <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 如果属于本大类，获取字段值放在同一个item下便于传输</span>
            <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">if</span>(if_belong):
                item = SinaItem()
                item[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'parentTitle'</span>] =meta_1[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'parentTitle'</span>]
                item[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'parentUrls'</span>] =meta_1[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'parentUrls'</span>]
                item[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'subUrls'</span>] = meta_1[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'subUrls'</span>]
                item[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'subTitle'</span>] = meta_1[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'subTitle'</span>]
                item[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'subFilename'</span>] = meta_1[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'subFilename'</span>]
                item[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'sonUrls'</span>] = sonUrls[i]
                items.append(item)

        <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);">#发送每个小类下子链接url的Request请求，得到Response后连同包含meta数据 一同交给回调函数 detail_parse 方法处理</span>
        <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">for</span> item <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">in</span> items:
                <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">yield</span> scrapy.Request(url=item[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'sonUrls'</span>], meta={<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'meta_2'</span>:item}, callback = self.detail_parse)

    <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 数据解析方法，获取文章标题和内容</span>
    <span class="hljs-function" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(66, 113, 174);"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">def</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">detail_parse</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(self, response)</span>:</span>
        item = response.meta[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'meta_2'</span>]
        content = <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">""</span>
        head = response.xpath(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'//h1[@id=\"main_title\"]/text()'</span>)
        content_list = response.xpath(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'//div[@id=\"artibody\"]/p/text()'</span>).extract()

        <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 将p标签里的文本内容合并到一起</span>
        <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">for</span> content_one <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">in</span> content_list:
            content += content_one

        item[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'head'</span>]= head
        item[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'content'</span>]= content

        <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">yield</span> item
</code></pre><h4 id="blogTitle108" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 1.25em; orphans: 3; widows: 3; break-after: avoid; margin-top: 1.275em; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;">pipelines.py</h4><pre style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 16px; white-space: pre-wrap; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); overflow-wrap: normal; margin-top: 0px; margin-bottom: 1.275em; padding-top: 0.85em; padding-bottom: 0.85em; background-color: rgb(253, 246, 227); letter-spacing: 0.2px;"><code class="lang-python" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">from</span> scrapy <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">import</span> signals
<span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">import</span> sys
reload(sys)
sys.setdefaultencoding(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"utf-8"</span>)

<span class="hljs-class" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">class</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(181, 137, 0);">SinaPipeline</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(object)</span>:</span>
    <span class="hljs-function" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(66, 113, 174);"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">def</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">process_item</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(self, item, spider)</span>:</span>
        sonUrls = item[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'sonUrls'</span>]

        <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 文件名为子链接url中间部分，并将 / 替换为 _，保存为 .txt格式</span>
        filename = sonUrls[<span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">7</span>:-<span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">6</span>].replace(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'/'</span>,<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'_'</span>)
        filename += <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">".txt"</span>

        fp = open(item[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'subFilename'</span>]+<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'/'</span>+filename, <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'w'</span>)
        fp.write(item[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'content'</span>])
        fp.close()

        <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">return</span> item
</code></pre><h4 id="blogTitle109" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 1.25em; orphans: 3; widows: 3; break-after: avoid; margin-top: 1.275em; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;">settings.py</h4><pre style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 16px; white-space: pre-wrap; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); overflow-wrap: normal; margin-top: 0px; margin-bottom: 1.275em; padding-top: 0.85em; padding-bottom: 0.85em; background-color: rgb(253, 246, 227); letter-spacing: 0.2px;"><code class="lang-python" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;">BOT_NAME = <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'Sina'</span>

SPIDER_MODULES = [<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'Sina.spiders'</span>]
NEWSPIDER_MODULE = <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'Sina.spiders'</span>

ITEM_PIPELINES = {
    <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'Sina.pipelines.SinaPipeline'</span>: <span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">300</span>,
}

LOG_LEVEL = <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'DEBUG'</span>
</code></pre><h4 id="blogTitle110" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 1.25em; orphans: 3; widows: 3; break-after: avoid; margin-top: 1.275em; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;">在项目根目录下新建main.py文件,用于调试</h4><pre style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 16px; white-space: pre-wrap; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); overflow-wrap: normal; margin-top: 0px; margin-bottom: 1.275em; padding-top: 0.85em; padding-bottom: 0.85em; background-color: rgb(253, 246, 227); letter-spacing: 0.2px;"><code class="lang-python" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">from</span> scrapy <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">import</span> cmdline
cmdline.execute(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'scrapy crawl sina'</span>.split())
</code></pre><h4 id="blogTitle111" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 1.25em; orphans: 3; widows: 3; break-after: avoid; margin-top: 1.275em; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;">执行程序</h4><pre style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 16px; white-space: pre-wrap; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); overflow-wrap: normal; margin-top: 0px; margin-bottom: 1.275em; padding-top: 0.85em; padding-bottom: 0.85em; background-color: rgb(253, 246, 227); letter-spacing: 0.2px;"><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;">py2 main.py</code></pre></div><div><h3 style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; break-after: avoid; margin-bottom: 0.85em; margin-top: 0px !important;">（案例四）图片下载器爬虫</h3><h4 id="blogTitle112" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 1.25em; orphans: 3; widows: 3; break-after: avoid; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px; margin-top: 0px !important;">items.py</h4><pre style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 16px; white-space: pre-wrap; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); overflow-wrap: normal; margin-top: 0px; margin-bottom: 1.275em; padding-top: 0.85em; padding-bottom: 0.85em; background-color: rgb(253, 246, 227); letter-spacing: 0.2px;"><code class="lang-python" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;"><span class="hljs-class" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">class</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(181, 137, 0);">CoserItem</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(scrapy.Item)</span>:</span>
    url = scrapy.Field()
    name = scrapy.Field()
    info = scrapy.Field()
    image_urls = scrapy.Field()
    images = scrapy.Field()
</code></pre><h4 style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 1.5em; orphans: 3; widows: 3; break-after: avoid; margin-top: 1.275em; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;" id="blogTitle113">spiders/coser.py</h4><pre style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 16px; white-space: pre-wrap; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); overflow-wrap: normal; margin-top: 0px; margin-bottom: 1.275em; padding-top: 0.85em; padding-bottom: 0.85em; background-color: rgb(253, 246, 227); letter-spacing: 0.2px;"><code class="lang-python" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;"><span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># -*- coding: utf-8 -*-</span>
<span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">from</span> scrapy.selector <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">import</span> Selector
<span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">import</span> scrapy
<span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">from</span> scrapy.contrib.loader <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">import</span> ItemLoader
<span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">from</span> Cosplay.items <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">import</span> CoserItem


<span class="hljs-class" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">class</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(181, 137, 0);">CoserSpider</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(scrapy.Spider)</span>:</span>
    name = <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"coser"</span>
    allowed_domains = [<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"bcy.net"</span>]
    start_urls = (
        <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'http://bcy.net/cn125101'</span>,
        <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'http://bcy.net/cn126487'</span>,
        <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'http://bcy.net/cn126173'</span>
    )

    <span class="hljs-function" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(66, 113, 174);"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">def</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">parse</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(self, response)</span>:</span>
        sel = Selector(response)

        <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">for</span> link <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">in</span> sel.xpath(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"//ul[@class='js-articles l-works']/li[@class='l-work--big']/article[@class='work work--second-created']/h2[@class='work__title']/a/@href"</span>).extract():
            link = <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'http://bcy.net%s'</span> % link
            request = scrapy.Request(link, callback=self.parse_item)
            <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">yield</span> request

    <span class="hljs-function" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(66, 113, 174);"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">def</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">parse_item</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(self, response)</span>:</span>
        l = ItemLoader(item=CoserItem(), response=response)
        l.add_xpath(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'name'</span>, <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"//h1[@class='js-post-title']/text()"</span>)
        l.add_xpath(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'info'</span>, <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"//div[@class='post__info']/div[@class='post__type post__info-group']/span/text()"</span>)
        urls = l.get_xpath(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'//img[@class="detail_std detail_clickable"]/@src'</span>)
        urls = [url.replace(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'/w650'</span>, <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">''</span>) <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">for</span> url <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">in</span> urls]
        l.add_value(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'image_urls'</span>, urls)
        l.add_value(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'url'</span>, response.url)

        <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">return</span> l.load_item()
</code></pre><h4 id="blogTitle114" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 1.25em; orphans: 3; widows: 3; break-after: avoid; margin-top: 1.275em; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;">pipelines.py</h4><pre style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 16px; white-space: pre-wrap; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); overflow-wrap: normal; margin-top: 0px; margin-bottom: 1.275em; padding-top: 0.85em; padding-bottom: 0.85em; background-color: rgb(253, 246, 227); letter-spacing: 0.2px;"><code class="lang-python" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">import</span> requests
<span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">from</span> Cosplay <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">import</span> settings
<span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">import</span> os


<span class="hljs-class" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">class</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(181, 137, 0);">ImageDownloadPipeline</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(object)</span>:</span>
    <span class="hljs-function" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(66, 113, 174);"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">def</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">process_item</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(self, item, spider)</span>:</span>
        <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">if</span> <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'image_urls'</span> <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">in</span> item:
            images = []
            dir_path = <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'%s/%s'</span> % (settings.IMAGES_STORE, spider.name)

            <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">if</span> <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">not</span> os.path.exists(dir_path):
                os.makedirs(dir_path)
            <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">for</span> image_url <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">in</span> item[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'image_urls'</span>]:
                us = image_url.split(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'/'</span>)[<span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">3</span>:]
                image_file_name = <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'_'</span>.join(us)
                file_path = <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'%s/%s'</span> % (dir_path, image_file_name)
                images.append(file_path)
                <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">if</span> os.path.exists(file_path):
                    <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">continue</span>

                <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">with</span> open(file_path, <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'wb'</span>) <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">as</span> handle:
                    response = requests.get(image_url, stream=<span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">True</span>)
                    <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">for</span> block <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">in</span> response.iter_content(<span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">1024</span>):
                        <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">if</span> <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">not</span> block:
                            <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">break</span>

                        handle.write(block)

            item[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'images'</span>] = images
        <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">return</span> item
</code></pre><h4 id="blogTitle115" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 1.25em; orphans: 3; widows: 3; break-after: avoid; margin-top: 1.275em; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;">settings.py</h4><pre style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 16px; white-space: pre-wrap; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); overflow-wrap: normal; margin-top: 0px; margin-bottom: 1.275em; padding-top: 0.85em; padding-bottom: 0.85em; background-color: rgb(253, 246, 227); letter-spacing: 0.2px;"><code class="lang-python" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;">
ITEM_PIPELINES = {<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'Cosplay.pipelines.ImageDownloadPipeline'</span>: <span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">1</span>}

IMAGES_STORE = <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'../Images'</span>

DOWNLOAD_DELAY = <span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">0.25</span>    <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 250 ms of delay</span>
</code></pre><h4 id="blogTitle116" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 1.25em; orphans: 3; widows: 3; break-after: avoid; margin-top: 1.275em; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;">在项目根目录下新建main.py文件,用于调试</h4><pre style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 16px; white-space: pre-wrap; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); overflow-wrap: normal; margin-top: 0px; margin-bottom: 1.275em; padding-top: 0.85em; padding-bottom: 0.85em; background-color: rgb(253, 246, 227); letter-spacing: 0.2px;"><code class="lang-python" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">from</span> scrapy <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">import</span> cmdline
cmdline.execute(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'scrapy crawl coser'</span>.split())
</code></pre><h4 id="blogTitle117" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 1.25em; orphans: 3; widows: 3; break-after: avoid; margin-top: 1.275em; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;">执行程序</h4><pre style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 16px; white-space: pre-wrap; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); overflow-wrap: normal; margin-top: 0px; margin-bottom: 1.275em; padding-top: 0.85em; padding-bottom: 0.85em; background-color: rgb(253, 246, 227); letter-spacing: 0.2px;"><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;">py2 main.py</code></pre></div><div><h3 style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; margin-right: 0px; margin-bottom: 0.85em; margin-left: 0px; break-after: avoid; border-color: inherit; margin-top: 0px !important;" id="blogTitle118">（案例五）用Pymongo保存数据</h3><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;">爬取豆瓣电影top250<a href="movie.douban.com/top250" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; text-decoration-line: none; font-size: inherit; background: 0px 0px;">movie.douban.com/top250</a>的电影数据，并保存在MongoDB中。</p><h4 id="blogTitle119" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 1.25em; orphans: 3; widows: 3; break-after: avoid; margin-top: 1.275em; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;">items.py</h4><pre style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 16px; white-space: pre-wrap; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); overflow-wrap: normal; margin-top: 0px; margin-bottom: 1.275em; padding-top: 0.85em; padding-bottom: 0.85em; background-color: rgb(253, 246, 227); letter-spacing: 0.2px;"><code class="lang-python" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;"><span class="hljs-class" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">class</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(181, 137, 0);">DoubanspiderItem</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(scrapy.Item)</span>:</span>
    <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 电影标题</span>
    title = scrapy.Field()
    <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 电影评分</span>
    score = scrapy.Field()
    <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 电影信息</span>
    content = scrapy.Field()
    <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 简介</span>
    info = scrapy.Field()
</code></pre><h4 id="blogTitle120" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 1.25em; orphans: 3; widows: 3; break-after: avoid; margin-top: 1.275em; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;">spiders/douban.py</h4><pre style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 16px; white-space: pre-wrap; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); overflow-wrap: normal; margin-top: 0px; margin-bottom: 1.275em; padding-top: 0.85em; padding-bottom: 0.85em; background-color: rgb(253, 246, 227); letter-spacing: 0.2px;"><code class="lang-python" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">import</span> scrapy
<span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">from</span> doubanSpider.items <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">import</span> DoubanspiderItem


<span class="hljs-class" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">class</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(181, 137, 0);">DoubanSpider</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(scrapy.Spider)</span>:</span>
    name = <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"douban"</span>
    allowed_domains = [<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"movie.douban.com"</span>]
    start = <span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">0</span>
    url = <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'https://movie.douban.com/top250?start='</span>
    end = <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'&amp;filter='</span>
    start_urls = [url + str(start) + end]

    <span class="hljs-function" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(66, 113, 174);"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">def</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">parse</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(self, response)</span>:</span>

        item = DoubanspiderItem()

        movies = response.xpath(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"//div[@class=\'info\']"</span>)

        <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">for</span> each <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">in</span> movies:
            title = each.xpath(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'div[@class="hd"]/a/span[@class="title"]/text()'</span>).extract()
            content = each.xpath(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'div[@class="bd"]/p/text()'</span>).extract()
            score = each.xpath(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'div[@class="bd"]/div[@class="star"]/span[@class="rating_num"]/text()'</span>).extract()
            info = each.xpath(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'div[@class="bd"]/p[@class="quote"]/span/text()'</span>).extract()

            item[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'title'</span>] = title[<span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">0</span>]
            <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 以;作为分隔，将content列表里所有元素合并成一个新的字符串</span>
            item[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'content'</span>] = <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">';'</span>.join(content)
            item[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'score'</span>] = score[<span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">0</span>]
            item[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'info'</span>] = info[<span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">0</span>]
            <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 提交item</span>

            <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">yield</span> item

        <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">if</span> self.start &lt;= <span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">225</span>:
            self.start += <span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">25</span>
            <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">yield</span> scrapy.Request(self.url + str(self.start) + self.end, callback=self.parse)
</code></pre><h4 id="blogTitle121" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 1.25em; orphans: 3; widows: 3; break-after: avoid; margin-top: 1.275em; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;">pipelines.py</h4><pre style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 16px; white-space: pre-wrap; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); overflow-wrap: normal; margin-top: 0px; margin-bottom: 1.275em; padding-top: 0.85em; padding-bottom: 0.85em; background-color: rgb(253, 246, 227); letter-spacing: 0.2px;"><code class="lang-python" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;">
<span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">from</span> scrapy.conf <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">import</span> settings
<span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">import</span> pymongo

<span class="hljs-class" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">class</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(181, 137, 0);">DoubanspiderPipeline</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(object)</span>:</span>
    <span class="hljs-function" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(66, 113, 174);"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">def</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">__init__</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(self)</span>:</span>
        <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 获取setting主机名、端口号和数据库名</span>
        host = settings[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'MONGODB_HOST'</span>]
        port = settings[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'MONGODB_PORT'</span>]
        dbname = settings[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'MONGODB_DBNAME'</span>]

        <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># pymongo.MongoClient(host, port) 创建MongoDB链接</span>
        client = pymongo.MongoClient(host=host,port=port)

        <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 指向指定的数据库</span>
        mdb = client[dbname]
        <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 获取数据库里存放数据的表名</span>
        self.post = mdb[settings[<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'MONGODB_DOCNAME'</span>]]


    <span class="hljs-function" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(66, 113, 174);"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">def</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">process_item</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(self, item, spider)</span>:</span>
        data = dict(item)
        <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 向指定的表里添加数据</span>
        self.post.insert(data)
        <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">return</span> item
</code></pre><h4 id="blogTitle122" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 1.25em; orphans: 3; widows: 3; break-after: avoid; margin-top: 1.275em; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;">settings.py</h4><pre style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 16px; white-space: pre-wrap; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); overflow-wrap: normal; margin-top: 0px; margin-bottom: 1.275em; padding-top: 0.85em; padding-bottom: 0.85em; background-color: rgb(253, 246, 227); letter-spacing: 0.2px;"><code class="lang-python" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;">BOT_NAME = <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'doubanSpider'</span>

SPIDER_MODULES = [<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'doubanSpider.spiders'</span>]
NEWSPIDER_MODULE = <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'doubanSpider.spiders'</span>

ITEM_PIPELINES = {
        <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'doubanSpider.pipelines.DoubanspiderPipeline'</span> : <span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">300</span>
        }

<span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># Crawl responsibly by identifying yourself (and your website) on the user-agent</span>
USER_AGENT = <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/48.0.2564.116 Safari/537.36'</span>

<span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># MONGODB 主机环回地址127.0.0.1</span>
MONGODB_HOST = <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'127.0.0.1'</span>
<span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 端口号，默认是27017</span>
MONGODB_PORT = <span class="hljs-number" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">27017</span>
<span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 设置数据库名称</span>
MONGODB_DBNAME = <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'DouBan'</span>
<span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 存放本次数据的表名称</span>
MONGODB_DOCNAME = <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'DouBanMovies'</span>
</code></pre><h4 id="blogTitle123" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 1.25em; orphans: 3; widows: 3; break-after: avoid; margin-top: 1.275em; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;">运行</h4><pre style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 16px; white-space: pre-wrap; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); overflow-wrap: normal; margin-top: 0px; margin-bottom: 1.275em; padding-top: 0.85em; padding-bottom: 0.85em; background-color: rgb(253, 246, 227); letter-spacing: 0.2px;"><code class="lang-sh" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;">启动MongoDB数据库需要两个命令：

mongod：是mongoDB数据库进程本身
mongo：是命令行shell客户端


sudo mongod <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 首先启动数据库服务，再执行Scrapy</span>
sudo mongo <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 启动数据库shell</span>

在mongo shell下使用命令:

<span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 查看当前数据库</span>
&gt; db

<span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 列出所有的数据库</span>
&gt; show dbs

<span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 连接DouBan数据库</span>
&gt; use DouBan

<span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 列出所有表</span>
&gt; show collections

<span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 查看表里的数据</span>
&gt; db.DouBanMoives.find()</code></pre></div><h3 id="blogTitle124">(案例六)三种scrapy模拟登陆策略</h3><div><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 1.5em; orphans: 3; widows: 3; break-after: avoid; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px; margin-top: 0px !important;">注意：模拟登陆时，必须保证settings.py里的&nbsp;<code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">COOKIES_ENABLED</code>(Cookies中间件) 处于开启状态</p><blockquote style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; break-inside: avoid; margin: 0px 0px 0.85em; padding: 0px 15px; color: rgb(133, 133, 133); border-color: inherit; font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;"><code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);">COOKIES_ENABLED = True</code>&nbsp;或&nbsp;<code style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); padding: 0.2em; margin: 0px; background: rgb(253, 246, 227);"># COOKIES_ENABLED = False</code></p></blockquote><h4 id="blogTitle125" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 1.25em; orphans: 3; widows: 3; break-after: avoid; margin-top: 1.275em; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;">策略一：直接POST数据（比如需要登陆的账户信息)</h4><blockquote style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; break-inside: avoid; margin: 0px 0px 0.85em; padding: 0px 15px; color: rgb(133, 133, 133); border-color: inherit; font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">只要是需要提供post数据的，就可以用这种方法。下面示例里post的数据是账户密码：</p></blockquote><pre style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 16px; white-space: pre-wrap; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); overflow-wrap: normal; margin-top: 0px; margin-bottom: 1.275em; padding-top: 0.85em; padding-bottom: 0.85em; background-color: rgb(253, 246, 227); letter-spacing: 0.2px;"><code class="lang-python" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;"><span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># -*- coding: utf-8 -*-</span>
<span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">import</span> scrapy


<span class="hljs-class" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">class</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(181, 137, 0);">Renren1Spider</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(scrapy.Spider)</span>:</span>
    name = <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"renren1"</span>
    allowed_domains = [<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"renren.com"</span>]

    <span class="hljs-function" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(66, 113, 174);"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">def</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">start_requests</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(self)</span>:</span>
        url = <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'http://www.renren.com/PLogin.do'</span>
        <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># FormRequest 是Scrapy发送POST请求的方法</span>
        <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">yield</span> scrapy.FormRequest(
                url = url,
                formdata = {<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"email"</span> : <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"mr_mao_hacker@163.com"</span>, <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"password"</span> : <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"axxxxxxxe"</span>},
                callback = self.parse_page)

    <span class="hljs-function" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(66, 113, 174);"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">def</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">parse_page</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(self, response)</span>:</span>
        <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">with</span> open(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"mao2.html"</span>, <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"w"</span>) <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">as</span> filename:
            filename.write(response.body)
</code></pre><h4 id="blogTitle126" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 1.25em; orphans: 3; widows: 3; break-after: avoid; margin-top: 1.275em; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;">策略二：标准的模拟登陆步骤</h4><blockquote style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; break-inside: avoid; margin: 0px 0px 0.85em; padding: 0px 15px; color: rgb(133, 133, 133); border-color: inherit; font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">正统模拟登录方法：</p><ol style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; margin: 0px 0px 0.85em; padding: 0px 0px 0px 2em;"><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">首先发送登录页面的get请求，获取到页面里的登录必须的参数（比如说zhihu登陆界面的 _xsrf）</p></li><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">然后和账户密码一起post到服务器，登录成功</p></li></ol></blockquote><pre style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 16px; white-space: pre-wrap; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); overflow-wrap: normal; margin-top: 0px; margin-bottom: 1.275em; padding-top: 0.85em; padding-bottom: 0.85em; background-color: rgb(253, 246, 227); letter-spacing: 0.2px;"><code class="lang-python" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;"><span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># -*- coding: utf-8 -*-</span>
<span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">import</span> scrapy



<span class="hljs-class" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">class</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(181, 137, 0);">Renren2Spider</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(scrapy.Spider)</span>:</span>
    name = <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"renren2"</span>
    allowed_domains = [<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"renren.com"</span>]
    start_urls = (
        <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"http://www.renren.com/PLogin.do"</span>,
    )

    <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 处理start_urls里的登录url的响应内容，提取登陆需要的参数（如果需要的话)</span>
    <span class="hljs-function" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(66, 113, 174);"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">def</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">parse</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(self, response)</span>:</span>
        <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 提取登陆需要的参数</span>
        <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);">#_xsrf = response.xpath("//_xsrf").extract()[0]</span>

        <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 发送请求参数，并调用指定回调函数处理</span>
        <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">yield</span> scrapy.FormRequest.from_response(
                response,
                formdata = {<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"email"</span> : <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"mr_mao_hacker@163.com"</span>, <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"password"</span> : <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"axxxxxxxe"</span>},<span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);">#, "_xsrf" = _xsrf},</span>
                callback = self.parse_page
            )

    <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 获取登录成功状态，访问需要登录后才能访问的页面</span>
    <span class="hljs-function" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(66, 113, 174);"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">def</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">parse_page</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(self, response)</span>:</span>
        url = <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"http://www.renren.com/422167102/profile"</span>
        <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">yield</span> scrapy.Request(url, callback = self.parse_newpage)

    <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 处理响应内容</span>
    <span class="hljs-function" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(66, 113, 174);"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">def</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">parse_newpage</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(self, response)</span>:</span>
        <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">with</span> open(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"xiao.html"</span>, <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"w"</span>) <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">as</span> filename:
            filename.write(response.body)
</code></pre><h4 id="blogTitle127" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 1.25em; orphans: 3; widows: 3; break-after: avoid; margin-top: 1.275em; margin-bottom: 0.85em; color: rgb(112, 66, 20); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;">策略三：直接使用保存登陆状态的Cookie模拟登陆</h4><blockquote style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: 16px; break-inside: avoid; margin: 0px 0px 0.85em; padding: 0px 15px; color: rgb(133, 133, 133); border-color: inherit; font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; letter-spacing: 0.2px;"><p style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;">如果实在没办法了，可以用这种方法模拟登录，虽然麻烦一点，但是成功率100%</p></blockquote><pre style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 16px; white-space: pre-wrap; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); color: rgb(101, 123, 131); overflow-wrap: normal; margin-top: 0px; margin-bottom: 1.275em; padding-top: 0.85em; padding-bottom: 0.85em; background-color: rgb(253, 246, 227); letter-spacing: 0.2px;"><code class="lang-python" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; border: none rgb(248, 223, 156); padding: 0px; margin: 0px; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; display: inline; max-width: initial; overflow: initial; line-height: inherit; white-space: pre;"><span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># -*- coding: utf-8 -*-</span>
<span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">import</span> scrapy

<span class="hljs-class" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit;"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">class</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(181, 137, 0);">RenrenSpider</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(scrapy.Spider)</span>:</span>
    name = <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"renren"</span>
    allowed_domains = [<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"renren.com"</span>]
    start_urls = (
        <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'http://www.renren.com/111111'</span>,
        <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'http://www.renren.com/222222'</span>,
        <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">'http://www.renren.com/333333'</span>,
    )

    cookies = {
    <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"anonymid"</span> : <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"ixrna3fysufnwv"</span>,
    <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"_r01_"</span> : <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"1"</span>,
    <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"ap"</span> : <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"327550029"</span>,
    <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"JSESSIONID"</span> : <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"abciwg61A_RvtaRS3GjOv"</span>,
    <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"depovince"</span> : <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"GW"</span>,
    <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"springskin"</span> : <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"set"</span>,
    <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"jebe_key"</span> : <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"f6fb270b-d06d-42e6-8b53-e67c3156aa7e%7Cc13c37f53bca9e1e7132d4b58ce00fa3%7C1484060607478%7C1%7C1486198628950"</span>,
    <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"t"</span> : <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"691808127750a83d33704a565d8340ae9"</span>,
    <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"societyguester"</span> : <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"691808127750a83d33704a565d8340ae9"</span>,
    <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"id"</span> : <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"327550029"</span>,
    <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"xnsid"</span> : <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"f42b25cf"</span>,
    <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"loginfrom"</span> : <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"syshome"</span>
    }

    <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 可以重写Spider类的start_requests方法，附带Cookie值，发送POST请求</span>
    <span class="hljs-function" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(66, 113, 174);"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">def</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">start_requests</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(self)</span>:</span>
        <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">for</span> url <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">in</span> self.start_urls:
            <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">yield</span> scrapy.FormRequest(url, cookies = self.cookies, callback = self.parse_page)

    <span class="hljs-comment" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(147, 161, 161);"># 处理响应内容</span>
    <span class="hljs-function" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(66, 113, 174);"><span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">def</span> <span class="hljs-title" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(38, 139, 210);">parse_page</span><span class="hljs-params" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(245, 135, 31);">(self, response)</span>:</span>
        <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">print</span> <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"==========="</span> + response.url
        <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">with</span> open(<span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"deng.html"</span>, <span class="hljs-string" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(42, 161, 152);">"w"</span>) <span class="hljs-keyword" style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; font-size: inherit; color: rgb(133, 153, 0);">as</span> filename:
            filename.write(response.body)</code></pre></div><div><br></div><h2>scrapy-redis 分布式组件</h2><h3>源码分析：Connection</h3><h3>源码分析：Dupefilter</h3><h3>源码分析：Picklecompat</h3><h3>源码分析：Pipelines</h3><h3>源码分析：Queue</h3><h3>源码分析：Schedular</h3><h3>源码分析：Spider</h3><h2>scrapy-redis 实战</h2><h3>有缘网分布式爬虫</h3><h3>新浪网分布式咨询爬虫</h3><h3>IT 桔子分布式爬虫</h3><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div>
</article>
{% endblock point1 %}
