{% extends 'c-word.html' %}

{% block title %} Web - JS | ES | obj | builtin | xxx {% endblock title %}

{% block point1 %}
<div class="tm-main uk-width-medium-3-4" contenteditable="true">
<article class="uk-article">
    <div id="maincontent">
      <div><h3 id="blogTitle0" style="font-family: &quot;Proxima Nova&quot;, &quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC Regular&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, å¾®è½¯é›…é»‘, Arial, sans-serif;"><span style="font-weight: 700; background-color: yellow;">计算机 | 全栈 | 前端 | JS | ES | Obj | Built-in | Reflect</span></h3></div><div><h1 style="font-family: &quot;Proxima Nova&quot;, &quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC Regular&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, å¾®è½¯é›…é»‘, Arial, sans-serif;"><span style="font-weight: 700;">reflect</span></h1><div><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;"><code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">Reflect</code>对象与<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">Proxy</code>对象一样，也是 ES6 为了操作对象而提供的新 API。<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">Reflect</code>对象的设计目的有这样几个。</p><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">（1） 将<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">Object</code>对象的一些明显属于语言内部的方法（比如<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">Object.defineProperty</code>），放到<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">Reflect</code>对象上。现阶段，某些方法同时在<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">Object</code>和<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">Reflect</code>对象上部署，未来的新方法将只部署在<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">Reflect</code>对象上。也就是说，从<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">Reflect</code>对象上可以拿到语言内部的方法。</p><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">（2） 修改某些<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">Object</code>方法的返回结果，让其变得更合理。比如，<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">Object.defineProperty(obj, name, desc)</code>在无法定义属性时，会抛出一个错误，而<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">Reflect.defineProperty(obj, name, desc)</code>则会返回<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">false</code>。</p><pre class=" language-javascript" style="font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; font-size: 14.336px; color: rgb(255, 255, 255); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; padding-right: 1em; padding-left: 0.7rem; margin: 0.5em auto; border-radius: 5px; background-color: rgb(17, 17, 17); line-height: 1.2;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;"><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);">// 老写法
</span><span class="token keyword" style="color: rgb(102, 217, 239);">try</span> <span class="token punctuation" style="color: rgb(248, 248, 242);">{</span>
  Object<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">defineProperty<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span>target<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> property<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> attributes<span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
 <span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // success
</span><span class="token punctuation" style="color: rgb(248, 248, 242);">}</span> <span class="token keyword" style="color: rgb(102, 217, 239);">catch</span> <span class="token punctuation" style="color: rgb(248, 248, 242);">(</span><span class="token class-name">e</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span> <span class="token punctuation" style="color: rgb(248, 248, 242);">{</span>
 <span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // failure
</span><span class="token punctuation" style="color: rgb(248, 248, 242);">}</span>
<span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);">
// 新写法
</span><span class="token keyword" style="color: rgb(102, 217, 239);">if</span> <span class="token punctuation" style="color: rgb(248, 248, 242);">(</span>Reflect<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">defineProperty<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span>target<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> property<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> attributes<span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span> <span class="token punctuation" style="color: rgb(248, 248, 242);">{</span>
 <span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // success
</span><span class="token punctuation" style="color: rgb(248, 248, 242);">}</span> <span class="token keyword" style="color: rgb(102, 217, 239);">else</span> <span class="token punctuation" style="color: rgb(248, 248, 242);">{</span>
 <span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // failure
</span><span class="token punctuation" style="color: rgb(248, 248, 242);">}</span>
</code></pre><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">（3） 让<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">Object</code>操作都变成函数行为。某些<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">Object</code>操作是命令式，比如<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">name in obj</code>和<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">delete obj[name]</code>，而<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">Reflect.has(obj, name)</code>和<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">Reflect.deleteProperty(obj, name)</code>让它们变成了函数行为。</p><pre class=" language-javascript" style="font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; font-size: 14.336px; color: rgb(255, 255, 255); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; padding-right: 1em; padding-left: 0.7rem; margin: 0.5em auto; border-radius: 5px; background-color: rgb(17, 17, 17); line-height: 1.2;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;"><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);">// 老写法
</span><span class="token string">'assign'</span> <span class="token keyword" style="color: rgb(102, 217, 239);">in</span> Object<span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // true
</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);">
// 新写法
</span>Reflect<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">has<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span>Object<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> <span class="token string">'assign'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // true
</span></code></pre><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">（4）<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">Reflect</code>对象的方法与<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">Proxy</code>对象的方法一一对应，只要是<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">Proxy</code>对象的方法，就能在<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">Reflect</code>对象上找到对应的方法。这就让<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">Proxy</code>对象可以方便地调用对应的<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">Reflect</code>方法，完成默认行为，作为修改行为的基础。也就是说，不管<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">Proxy</code>怎么修改默认行为，你总可以在<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">Reflect</code>上获取默认行为。</p><pre class=" language-javascript" style="font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; font-size: 14.336px; color: rgb(255, 255, 255); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; padding-right: 1em; padding-left: 0.7rem; margin: 0.5em auto; border-radius: 5px; background-color: rgb(17, 17, 17); line-height: 1.2;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;"><span class="token function">Proxy<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span>target<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> <span class="token punctuation" style="color: rgb(248, 248, 242);">{</span>
  <span class="token keyword" style="color: rgb(102, 217, 239);">set</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span> <span class="token keyword" style="color: rgb(102, 217, 239);">function</span><span class="token punctuation" style="color: rgb(248, 248, 242);">(</span>target<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> name<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> value<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> receiver<span class="token punctuation" style="color: rgb(248, 248, 242);">)</span> <span class="token punctuation" style="color: rgb(248, 248, 242);">{</span>
    <span class="token keyword" style="color: rgb(102, 217, 239);">var</span> success <span class="token operator" style="color: rgb(249, 38, 114);">=</span> Reflect<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token keyword" style="color: rgb(102, 217, 239);">set</span><span class="token punctuation" style="color: rgb(248, 248, 242);">(</span>target<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span>name<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> value<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> receiver<span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
    <span class="token keyword" style="color: rgb(102, 217, 239);">if</span> <span class="token punctuation" style="color: rgb(248, 248, 242);">(</span>success<span class="token punctuation" style="color: rgb(248, 248, 242);">)</span> <span class="token punctuation" style="color: rgb(248, 248, 242);">{</span>
      <span class="token function">log<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span><span class="token string">'property '</span> <span class="token operator" style="color: rgb(249, 38, 114);">+</span> name <span class="token operator" style="color: rgb(249, 38, 114);">+</span> <span class="token string">' on '</span> <span class="token operator" style="color: rgb(249, 38, 114);">+</span> target <span class="token operator" style="color: rgb(249, 38, 114);">+</span> <span class="token string">' set to '</span> <span class="token operator" style="color: rgb(249, 38, 114);">+</span> value<span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
    <span class="token punctuation" style="color: rgb(248, 248, 242);">}</span>
    <span class="token keyword" style="color: rgb(102, 217, 239);">return</span> success<span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
  <span class="token punctuation" style="color: rgb(248, 248, 242);">}</span>
<span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
</code></pre><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">上面代码中，<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">Proxy</code>方法拦截<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">target</code>对象的属性赋值行为。它采用<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">Reflect.set</code>方法将值赋值给对象的属性，确保完成原有的行为，然后再部署额外的功能。</p><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">下面是另一个例子。</p><pre class=" language-javascript" style="font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; font-size: 14.336px; color: rgb(255, 255, 255); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; padding-right: 1em; padding-left: 0.7rem; margin: 0.5em auto; border-radius: 5px; background-color: rgb(17, 17, 17); line-height: 1.2;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;"><span class="token keyword" style="color: rgb(102, 217, 239);">var</span> loggedObj <span class="token operator" style="color: rgb(249, 38, 114);">=</span> <span class="token keyword" style="color: rgb(102, 217, 239);">new</span> <span class="token class-name">Proxy</span><span class="token punctuation" style="color: rgb(248, 248, 242);">(</span>obj<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> <span class="token punctuation" style="color: rgb(248, 248, 242);">{</span>
  <span class="token keyword" style="color: rgb(102, 217, 239);">get</span><span class="token punctuation" style="color: rgb(248, 248, 242);">(</span>target<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> name<span class="token punctuation" style="color: rgb(248, 248, 242);">)</span> <span class="token punctuation" style="color: rgb(248, 248, 242);">{</span>
    console<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">log<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span><span class="token string">'get'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> target<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> name<span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
    <span class="token keyword" style="color: rgb(102, 217, 239);">return</span> Reflect<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token keyword" style="color: rgb(102, 217, 239);">get</span><span class="token punctuation" style="color: rgb(248, 248, 242);">(</span>target<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> name<span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
  <span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token punctuation" style="color: rgb(248, 248, 242);">,</span>
  <span class="token function">deleteProperty<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span>target<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> name<span class="token punctuation" style="color: rgb(248, 248, 242);">)</span> <span class="token punctuation" style="color: rgb(248, 248, 242);">{</span>
    console<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">log<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span><span class="token string">'delete'</span> <span class="token operator" style="color: rgb(249, 38, 114);">+</span> name<span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
    <span class="token keyword" style="color: rgb(102, 217, 239);">return</span> Reflect<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">deleteProperty<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span>target<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> name<span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
  <span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token punctuation" style="color: rgb(248, 248, 242);">,</span>
  <span class="token function">has<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span>target<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> name<span class="token punctuation" style="color: rgb(248, 248, 242);">)</span> <span class="token punctuation" style="color: rgb(248, 248, 242);">{</span>
    console<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">log<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span><span class="token string">'has'</span> <span class="token operator" style="color: rgb(249, 38, 114);">+</span> name<span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
    <span class="token keyword" style="color: rgb(102, 217, 239);">return</span> Reflect<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">has<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span>target<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> name<span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
  <span class="token punctuation" style="color: rgb(248, 248, 242);">}</span>
<span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
</code></pre><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">上面代码中，每一个<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">Proxy</code>对象的拦截操作（<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">get</code>、<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">delete</code>、<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">has</code>），内部都调用对应的<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">Reflect</code>方法，保证原生行为能够正常执行。添加的工作，就是将每一个操作输出一行日志。</p><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">有了<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">Reflect</code>对象以后，很多操作会更易读。</p><pre class=" language-javascript" style="font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; font-size: 14.336px; color: rgb(255, 255, 255); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; padding-right: 1em; padding-left: 0.7rem; margin: 0.5em auto; border-radius: 5px; background-color: rgb(17, 17, 17); line-height: 1.2;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;"><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);">// 老写法
</span>Function<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span>prototype<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span>apply<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">call<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span>Math<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span>floor<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> undefined<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> <span class="token punctuation" style="color: rgb(248, 248, 242);">[</span><span class="token number" style="color: rgb(174, 129, 255);">1.75</span><span class="token punctuation" style="color: rgb(248, 248, 242);">]</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // 1
</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);">
// 新写法
</span>Reflect<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">apply<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span>Math<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span>floor<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> undefined<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> <span class="token punctuation" style="color: rgb(248, 248, 242);">[</span><span class="token number" style="color: rgb(174, 129, 255);">1.75</span><span class="token punctuation" style="color: rgb(248, 248, 242);">]</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // 1</span></code></pre></div><div><span style="font-weight: 700;"><br></span></div><h1 style="font-family: &quot;Proxima Nova&quot;, &quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC Regular&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, å¾®è½¯é›…é»‘, Arial, sans-serif;"><span style="font-weight: 700;">Reflect 对象</span></h1><div style="font-family: &quot;Proxima Nova&quot;, &quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC Regular&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, å¾®è½¯é›…é»‘, Arial, sans-serif;"><p style="margin-bottom: 24px; padding: 0px; border: 0px;"><span style="border-style: initial; border-color: initial; border-image: initial;">Reflect</span>&nbsp;是一个内置的对象，它提供可拦截 JavaScript 操作的方法。方法与<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Proxy/handler" style="margin: 0px; padding: 0px; border: 0px;">代理处理程序</a>的方法相同。Reflect 不是一个函数对象，因此它是不可构造的。</p><h2 style="margin-top: 0px; margin-bottom: 12px; font-family: &quot;Proxima Nova&quot;, &quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC Regular&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, å¾®è½¯é›…é»‘, Arial, sans-serif; line-height: 1; word-wrap: break-word; padding: 0px; border: 0px;"><span style="font-weight: 700;">描述</span></h2><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;">与大多数全局对象不同，Reflect 没有构造函数。您不能将其与一个&nbsp;<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/new" style="margin: 0px; padding: 0px; border: 0px;">new 运算符</a>&nbsp;一起使用，或者将 Reflect 对象作为一个函数来调用。<code style="margin: 0px; padding: 0px 2px; border: 0px; background-color: rgba(220, 220, 220, 0.5); border-radius: 2px; font-family: consolas, &quot;Liberation Mono&quot;, courier, monospace; word-wrap: break-word; color: rgb(51, 51, 51); font-size: medium; white-space: normal;">Reflect</code><span style="color: rgb(51, 51, 51); font-family: &quot;Open Sans&quot;, arial, x-locale-body, sans-serif; font-size: medium; background-color: rgb(255, 255, 255);">的所有属性和方法都是静态的（就像</span><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Math" title="Math&nbsp;是一个内置对象， 它具有数学常数和函数的属性和方法。不是一个函数对象。" style="color: rgb(63, 135, 166); margin: 0px; padding: 0px; border: 0px; font-family: &quot;Open Sans&quot;, arial, x-locale-body, sans-serif; font-size: medium; background-color: rgb(255, 255, 255);"><code style="font-style: inherit; margin: 0px; padding: 0px 2px; border: 0px; font-weight: inherit; background-color: rgba(220, 220, 220, 0.5); border-radius: 2px; font-family: consolas, &quot;Liberation Mono&quot;, courier, monospace; word-wrap: break-word;">Math</code></a><span style="color: rgb(51, 51, 51); font-family: &quot;Open Sans&quot;, arial, x-locale-body, sans-serif; font-size: medium; background-color: rgb(255, 255, 255);">对象）。</span></p><h2 style="margin-top: 0px; margin-bottom: 12px; font-family: &quot;Proxima Nova&quot;, &quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC Regular&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, å¾®è½¯é›…é»‘, Arial, sans-serif; line-height: 1; word-wrap: break-word; padding: 0px; border: 0px;"><span style="font-weight: 700;">静态方法</span></h2><p style="margin-top: 0px; margin-bottom: 24px; padding: 0px; border: 0px;">Reflect 对象提供以下静态函数，它们具有与<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Proxy/handler" style="margin: 0px; padding: 0px; border: 0px;">代理处理程序方法</a>相同的名称。这些方法中的一些与&nbsp;<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object" title="Object 构造函数创建一个对象包装器。" style="margin: 0px; padding: 0px; border: 0px;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">Object</span></font></a>&nbsp;上的对应方法相同。</p><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;"><code style="font-size: 0.7rem; font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">Reflect</code>对象一共有 13 个静态方法。</p><ul style="list-style-type: none; padding-top: 0.5rem; padding-bottom: 0.5rem; color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;"><li style="text-indent: -5px; font-size: 0.8rem;">Reflect.apply(target, thisArg, args)</li><li style="text-indent: -5px; font-size: 0.8rem;">Reflect.construct(target, args)</li><li style="text-indent: -5px; font-size: 0.8rem;">Reflect.get(target, name, receiver)</li><li style="text-indent: -5px; font-size: 0.8rem;">Reflect.set(target, name, value, receiver)</li><li style="text-indent: -5px; font-size: 0.8rem;">Reflect.defineProperty(target, name, desc)</li><li style="text-indent: -5px; font-size: 0.8rem;">Reflect.deleteProperty(target, name)</li><li style="text-indent: -5px; font-size: 0.8rem;">Reflect.has(target, name)</li><li style="text-indent: -5px; font-size: 0.8rem;">Reflect.ownKeys(target)</li><li style="text-indent: -5px; font-size: 0.8rem;">Reflect.isExtensible(target)</li><li style="text-indent: -5px; font-size: 0.8rem;">Reflect.preventExtensions(target)</li><li style="text-indent: -5px; font-size: 0.8rem;">Reflect.getOwnPropertyDescriptor(target, name)</li><li style="text-indent: -5px; font-size: 0.8rem;">Reflect.getPrototypeOf(target)</li><li style="text-indent: -5px; font-size: 0.8rem;">Reflect.setPrototypeOf(target, prototype)</li></ul><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">上面这些方法的作用，大部分与<code style="font-size: 0.7rem; font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">Object</code>对象的同名方法的作用都是相同的，而且它与<code style="font-size: 0.7rem; font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">Proxy</code>对象的方法是一一对应的。下面是对它们的解释。</p><dl style="margin-top: 0px; margin-bottom: 20px; padding: 0px; border: 0px;"><dt style="cursor: pointer; margin: 0px; padding: 0px; border: 0px;"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Reflect/apply" title="静态方法&nbsp;Reflect.apply() 通过指定的参数列表发起对目标(target)函数的调用。" style="margin: 0px; padding: 0px; border: 0px;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">Reflect.apply()</span></font></a></dt><dd style="margin-top: 0px; margin-right: 0px; margin-bottom: 24px; padding: 0px 0px 0px 20px; border: 0px;">对一个函数进行调用操作，同时可以传入一个数组作为调用参数。和&nbsp;<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Function/apply" title="apply() 方法在指定&nbsp;this&nbsp;值和参数（参数以数组或类数组对象的形式存在）的情况下调用某个函数。" style="margin: 0px; padding: 0px; border: 0px;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">Function.prototype.apply()</span></font></a>&nbsp;功能类似。</dd><dt style="cursor: pointer; margin: 0px; padding: 0px; border: 0px;"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Reflect/construct" title="Reflect.construct() 方法的行为有点像&nbsp;new 操作符 构造函数&nbsp;， 相当于运行&nbsp;new target(...args)." style="margin: 0px; padding: 0px; border: 0px;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">Reflect.construct()</span></font></a></dt><dd style="margin-top: 0px; margin-right: 0px; margin-bottom: 24px; padding: 0px 0px 0px 20px; border: 0px;">对构造函数进行&nbsp;<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/new" style="margin: 0px; padding: 0px; border: 0px;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">new</span></font>&nbsp;</a>操作，相当于执行&nbsp;<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">new target(...args)。</span></font></dd><dt style="cursor: pointer; margin: 0px; padding: 0px; border: 0px;"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Reflect/defineProperty" title="静态方法 Reflect.defineProperty() 有很像 Object.defineProperty() 方法，但返回的是&nbsp;Boolean 值。" style="margin: 0px; padding: 0px; border: 0px;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">Reflect.defineProperty()</span></font></a></dt><dd style="margin-top: 0px; margin-right: 0px; margin-bottom: 24px; padding: 0px 0px 0px 20px; border: 0px;">和&nbsp;<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty" title="Object.defineProperty() 方法会直接在一个对象上定义一个新属性，或者修改一个对象的现有属性， 并返回这个对象。" style="margin: 0px; padding: 0px; border: 0px;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">Object.defineProperty()</span></font></a>&nbsp;类似。</dd><dt style="cursor: pointer; margin: 0px; padding: 0px; border: 0px;"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Reflect/deleteProperty" title="静态方法&nbsp;Reflect.deleteProperty() 允许用于删除属性。它很像 delete operator ，但它是一个函数。" style="margin: 0px; padding: 0px; border: 0px;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">Reflect.deleteProperty()</span></font></a></dt><dd style="margin-top: 0px; margin-right: 0px; margin-bottom: 24px; padding: 0px 0px 0px 20px; border: 0px;">删除对象的某个属性，相当于执行&nbsp;<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/delete" style="margin: 0px; padding: 0px; border: 0px;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">delete</span></font>&nbsp;</a><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">target[name]。</span></font></dd><dt style="cursor: pointer; margin: 0px; padding: 0px; border: 0px;"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Reflect/enumerate" title="The static Reflect.enumerate() method used to return an iterator with the enumerable own and inherited properties of the target object, but has been removed in ECMAScript 2016 and is deprecated in browsers." style="margin: 0px; padding: 0px; border: 0px;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">Reflect.enumerate()</span></font></a></dt><dd style="margin-top: 0px; margin-right: 0px; margin-bottom: 24px; padding: 0px 0px 0px 20px; border: 0px;">该方法会返回一个包含有目标对象身上所有可枚举的自身字符串属性以及继承字符串属性的迭代器，<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/for...in" style="margin: 0px; padding: 0px; border: 0px;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">for...in</span></font></a>&nbsp;操作遍历到的正是这些属性。</dd><dt style="cursor: pointer; margin: 0px; padding: 0px; border: 0px;"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Reflect/get" title="Reflect.get()&nbsp;方法的工作方式，就像从&nbsp;object (target[propertyKey]) 中获取属性，但它是作为一个函数执行的。" style="margin: 0px; padding: 0px; border: 0px;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">Reflect.get()</span></font></a></dt><dd style="margin-top: 0px; margin-right: 0px; margin-bottom: 24px; padding: 0px 0px 0px 20px; border: 0px;">获取对象身上某个属性的值，类似于&nbsp;<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">target[name]。</span></font></dd><dt style="cursor: pointer; margin: 0px; padding: 0px; border: 0px;"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Reflect/getOwnPropertyDescriptor" title="静态方法&nbsp;Reflect.getOwnPropertyDescriptor() 与 Object.getOwnPropertyDescriptor() 方法相似。如果在对象中存在，则返回给定的属性的属性描述符。否则返回 undefined。" style="margin: 0px; padding: 0px; border: 0px;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">Reflect.getOwnPropertyDescriptor()</span></font></a></dt><dd style="margin-top: 0px; margin-right: 0px; margin-bottom: 24px; padding: 0px 0px 0px 20px; border: 0px;">类似于&nbsp;<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertyDescriptor" title="Object.getOwnPropertyDescriptor() 返回指定对象上一个自有属性对应的属性描述符。（自有属性指的是直接赋予该对象的属性，不需要从原型链上进行查找的属性）" style="margin: 0px; padding: 0px; border: 0px;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">Object.getOwnPropertyDescriptor()</span></font></a>。</dd><dt style="cursor: pointer; margin: 0px; padding: 0px; border: 0px;"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Reflect/getPrototypeOf" title="静态方法&nbsp;Reflect.getPrototypeOf() 与 Object.getPrototypeOf() 方法是一样的。都是返回指定对象的原型（即，内部的&nbsp;[[Prototype]] 属性的值）。" style="margin: 0px; padding: 0px; border: 0px;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">Reflect.getPrototypeOf()</span></font></a></dt><dd style="margin-top: 0px; margin-right: 0px; margin-bottom: 24px; padding: 0px 0px 0px 20px; border: 0px;">类似于&nbsp;<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/getPrototypeOf" title="Object.getPrototypeOf() 方法返回指定对象的原型（即, 内部[[Prototype]]属性的值）。" style="margin: 0px; padding: 0px; border: 0px;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">Object.getPrototypeOf()</span></font></a>。</dd><dt style="cursor: pointer; margin: 0px; padding: 0px; border: 0px;"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Reflect/has" title="静态方法&nbsp;Reflect.has() 作用与&nbsp;in 操作符&nbsp;相同。" style="margin: 0px; padding: 0px; border: 0px;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">Reflect.has()</span></font></a></dt><dd style="margin-top: 0px; margin-right: 0px; margin-bottom: 24px; padding: 0px 0px 0px 20px; border: 0px;">判断一个对象是否存在某个属性，和&nbsp;<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/in" style="margin: 0px; padding: 0px; border: 0px;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">in</span></font>&nbsp;运算符</a>&nbsp;的功能完全相同。</dd><dt style="cursor: pointer; margin: 0px; padding: 0px; border: 0px;"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Reflect/isExtensible" title="静态方法&nbsp;Reflect.isExtensible() 决定一个对象是否可扩展 （即是否能够添加新的属性）。与它 Object.isExtensible() 方法相似，但有一些不同，详情可见 differences。" style="margin: 0px; padding: 0px; border: 0px;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">Reflect.isExtensible()</span></font></a></dt><dd style="margin-top: 0px; margin-right: 0px; margin-bottom: 24px; padding: 0px 0px 0px 20px; border: 0px;">类似于&nbsp;<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/isExtensible" title="Object.isExtensible() 方法判断一个对象是否是可扩展的（是否可以在它上面添加新的属性）。" style="margin: 0px; padding: 0px; border: 0px;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">Object.isExtensible()</span></font></a>.</dd><dt style="cursor: pointer; margin: 0px; padding: 0px; border: 0px;"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Reflect/ownKeys" title="静态方法&nbsp;Reflect.ownKeys() 返回一个由目标对象自身的属性键组成的数组。" style="margin: 0px; padding: 0px; border: 0px;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">Reflect.ownKeys()</span></font></a></dt><dd style="margin-top: 0px; margin-right: 0px; margin-bottom: 24px; padding: 0px 0px 0px 20px; border: 0px;">返回一个包含所有自身属性（不包含继承属性）的数组。</dd><dt style="cursor: pointer; margin: 0px; padding: 0px; border: 0px;"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Reflect/preventExtensions" title="静态方法 Reflect.preventExtensions() 方法阻止新属性添加到对象 例如：防止将来对对象的扩展被添加到对象中)。该方法与&nbsp;Object.preventExtensions()相似，但有一些不同点。详情可见 differences。" style="margin: 0px; padding: 0px; border: 0px;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">Reflect.preventExtensions()</span></font></a></dt><dd style="margin-top: 0px; margin-right: 0px; margin-bottom: 24px; padding: 0px 0px 0px 20px; border: 0px;">类似于&nbsp;<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/preventExtensions" title="Object.preventExtensions() 方法让一个对象变的不可扩展，也就是永远不能再添加新的属性。" style="margin: 0px; padding: 0px; border: 0px;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">Object.preventExtensions()</span></font></a>。</dd><dt style="cursor: pointer; margin: 0px; padding: 0px; border: 0px;"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Reflect/set" title="静态方法&nbsp;Reflect.set() 工作方式就像在一个对象上设置一个属性。" style="margin: 0px; padding: 0px; border: 0px;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">Reflect.set()</span></font></a></dt><dd style="margin-top: 0px; margin-right: 0px; margin-bottom: 24px; padding: 0px 0px 0px 20px; border: 0px;">设置对象身上某个属性的值，类似于&nbsp;<font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">target[name] = val。</span></font></dd><dt style="cursor: pointer; margin: 0px; padding: 0px; border: 0px;"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Reflect/setPrototypeOf" title="静态方法 Reflect.setPrototypeOf() 与 Object.setPrototypeOf() 方法是一致的。它将指定对象的原型 （即，内部的[[Prototype]]&nbsp;属性）设置为另一个对象或为&nbsp;null。" style="margin: 0px; padding: 0px; border: 0px;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">Reflect.setPrototypeOf()</span></font></a></dt><dd style="margin-top: 0px; margin-right: 0px; margin-bottom: 24px; padding: 0px 0px 0px 20px; border: 0px;">类似于&nbsp;<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/setPrototypeOf" title="如果对象的[[Prototype]]被修改成不可扩展(通过&nbsp;Object.isExtensible()查看)，就会抛出&nbsp;TypeError异常。如果prototype参数不是一个对象或者null(例如，数字，字符串，boolean，或者&nbsp;undefined)，则什么都不做。否则，该方法将obj的[[Prototype]]修改为新的值。" style="margin: 0px; padding: 0px; border: 0px;"><font face="consolas, Liberation Mono, courier, monospace"><span style="border-style: initial; border-color: initial; font-weight: inherit; font-style: inherit;">Object.setPrototypeOf()</span></font></a>。</dd></dl></div></div><div><h3 id="Reflect-gettarget-name-receiver" class="Reflect-gettarget-name-receiver" style="margin-top: 50px; margin-bottom: 0px; padding-top: 20px; padding-bottom: 0px; border-top: 1px dotted rgb(119, 119, 119); color: rgb(51, 51, 51); font-family: Verdana, Arial;">Reflect.get(target, name, receiver)</h3><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;"><code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">Reflect.get</code>方法查找并返回<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">target</code>对象的<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">name</code>属性，如果没有该属性，则返回<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">undefined</code>。</p><pre class=" language-javascript" style="font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; font-size: 14.336px; color: rgb(255, 255, 255); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; padding-right: 1em; padding-left: 0.7rem; margin: 0.5em auto; border-radius: 5px; background-color: rgb(17, 17, 17); line-height: 1.2;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;"><span class="token keyword" style="color: rgb(102, 217, 239);">var</span> myObject <span class="token operator" style="color: rgb(249, 38, 114);">=</span> <span class="token punctuation" style="color: rgb(248, 248, 242);">{</span>
  foo<span class="token punctuation" style="color: rgb(248, 248, 242);">:</span> <span class="token number" style="color: rgb(174, 129, 255);">1</span><span class="token punctuation" style="color: rgb(248, 248, 242);">,</span>
  bar<span class="token punctuation" style="color: rgb(248, 248, 242);">:</span> <span class="token number" style="color: rgb(174, 129, 255);">2</span><span class="token punctuation" style="color: rgb(248, 248, 242);">,</span>
  <span class="token keyword" style="color: rgb(102, 217, 239);">get</span> <span class="token function">baz<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span> <span class="token punctuation" style="color: rgb(248, 248, 242);">{</span>
    <span class="token keyword" style="color: rgb(102, 217, 239);">return</span> <span class="token keyword" style="color: rgb(102, 217, 239);">this</span><span class="token punctuation" style="color: rgb(248, 248, 242);">.</span>foo <span class="token operator" style="color: rgb(249, 38, 114);">+</span> <span class="token keyword" style="color: rgb(102, 217, 239);">this</span><span class="token punctuation" style="color: rgb(248, 248, 242);">.</span>bar<span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
  <span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token punctuation" style="color: rgb(248, 248, 242);">,</span>
<span class="token punctuation" style="color: rgb(248, 248, 242);">}</span>

Reflect<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token keyword" style="color: rgb(102, 217, 239);">get</span><span class="token punctuation" style="color: rgb(248, 248, 242);">(</span>myObject<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> <span class="token string">'foo'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // 1
</span>Reflect<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token keyword" style="color: rgb(102, 217, 239);">get</span><span class="token punctuation" style="color: rgb(248, 248, 242);">(</span>myObject<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> <span class="token string">'bar'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // 2
</span>Reflect<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token keyword" style="color: rgb(102, 217, 239);">get</span><span class="token punctuation" style="color: rgb(248, 248, 242);">(</span>myObject<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> <span class="token string">'baz'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // 3
</span></code></pre><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">如果<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">name</code>属性部署了读取函数（getter），则读取函数的<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">this</code>绑定<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">receiver</code>。</p><pre class=" language-javascript" style="font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; font-size: 14.336px; color: rgb(255, 255, 255); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; padding-right: 1em; padding-left: 0.7rem; margin: 0.5em auto; border-radius: 5px; background-color: rgb(17, 17, 17); line-height: 1.2;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;"><span class="token keyword" style="color: rgb(102, 217, 239);">var</span> myObject <span class="token operator" style="color: rgb(249, 38, 114);">=</span> <span class="token punctuation" style="color: rgb(248, 248, 242);">{</span>
  foo<span class="token punctuation" style="color: rgb(248, 248, 242);">:</span> <span class="token number" style="color: rgb(174, 129, 255);">1</span><span class="token punctuation" style="color: rgb(248, 248, 242);">,</span>
  bar<span class="token punctuation" style="color: rgb(248, 248, 242);">:</span> <span class="token number" style="color: rgb(174, 129, 255);">2</span><span class="token punctuation" style="color: rgb(248, 248, 242);">,</span>
  <span class="token keyword" style="color: rgb(102, 217, 239);">get</span> <span class="token function">baz<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span> <span class="token punctuation" style="color: rgb(248, 248, 242);">{</span>
    <span class="token keyword" style="color: rgb(102, 217, 239);">return</span> <span class="token keyword" style="color: rgb(102, 217, 239);">this</span><span class="token punctuation" style="color: rgb(248, 248, 242);">.</span>foo <span class="token operator" style="color: rgb(249, 38, 114);">+</span> <span class="token keyword" style="color: rgb(102, 217, 239);">this</span><span class="token punctuation" style="color: rgb(248, 248, 242);">.</span>bar<span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
  <span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token punctuation" style="color: rgb(248, 248, 242);">,</span>
<span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>

<span class="token keyword" style="color: rgb(102, 217, 239);">var</span> myReceiverObject <span class="token operator" style="color: rgb(249, 38, 114);">=</span> <span class="token punctuation" style="color: rgb(248, 248, 242);">{</span>
  foo<span class="token punctuation" style="color: rgb(248, 248, 242);">:</span> <span class="token number" style="color: rgb(174, 129, 255);">4</span><span class="token punctuation" style="color: rgb(248, 248, 242);">,</span>
  bar<span class="token punctuation" style="color: rgb(248, 248, 242);">:</span> <span class="token number" style="color: rgb(174, 129, 255);">4</span><span class="token punctuation" style="color: rgb(248, 248, 242);">,</span>
<span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>

Reflect<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token keyword" style="color: rgb(102, 217, 239);">get</span><span class="token punctuation" style="color: rgb(248, 248, 242);">(</span>myObject<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> <span class="token string">'baz'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> myReceiverObject<span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // 8
</span></code></pre><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">如果第一个参数不是对象，<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">Reflect.get</code>方法会报错。</p><pre class=" language-javascript" style="font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; font-size: 14.336px; color: rgb(255, 255, 255); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; padding-right: 1em; padding-left: 0.7rem; margin: 0.5em auto; border-radius: 5px; background-color: rgb(17, 17, 17); line-height: 1.2;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;">Reflect<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token keyword" style="color: rgb(102, 217, 239);">get</span><span class="token punctuation" style="color: rgb(248, 248, 242);">(</span><span class="token number" style="color: rgb(174, 129, 255);">1</span><span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> <span class="token string">'foo'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // 报错
</span>Reflect<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token keyword" style="color: rgb(102, 217, 239);">get</span><span class="token punctuation" style="color: rgb(248, 248, 242);">(</span><span class="token boolean" style="color: rgb(174, 129, 255);">false</span><span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> <span class="token string">'foo'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // 报错
</span></code></pre><h3 id="Reflect-settarget-name-value-receiver" class="Reflect-settarget-name-value-receiver" style="margin-top: 50px; margin-bottom: 0px; padding-top: 20px; padding-bottom: 0px; border-top: 1px dotted rgb(119, 119, 119); color: rgb(51, 51, 51); font-family: Verdana, Arial;">Reflect.set(target, name, value, receiver)</h3><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;"><code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">Reflect.set</code>方法设置<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">target</code>对象的<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">name</code>属性等于<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">value</code>。</p><pre class=" language-javascript" style="font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; font-size: 14.336px; color: rgb(255, 255, 255); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; padding-right: 1em; padding-left: 0.7rem; margin: 0.5em auto; border-radius: 5px; background-color: rgb(17, 17, 17); line-height: 1.2;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;"><span class="token keyword" style="color: rgb(102, 217, 239);">var</span> myObject <span class="token operator" style="color: rgb(249, 38, 114);">=</span> <span class="token punctuation" style="color: rgb(248, 248, 242);">{</span>
  foo<span class="token punctuation" style="color: rgb(248, 248, 242);">:</span> <span class="token number" style="color: rgb(174, 129, 255);">1</span><span class="token punctuation" style="color: rgb(248, 248, 242);">,</span>
  <span class="token keyword" style="color: rgb(102, 217, 239);">set</span> <span class="token function">bar<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span>value<span class="token punctuation" style="color: rgb(248, 248, 242);">)</span> <span class="token punctuation" style="color: rgb(248, 248, 242);">{</span>
    <span class="token keyword" style="color: rgb(102, 217, 239);">return</span> <span class="token keyword" style="color: rgb(102, 217, 239);">this</span><span class="token punctuation" style="color: rgb(248, 248, 242);">.</span>foo <span class="token operator" style="color: rgb(249, 38, 114);">=</span> value<span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
  <span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token punctuation" style="color: rgb(248, 248, 242);">,</span>
<span class="token punctuation" style="color: rgb(248, 248, 242);">}</span>

myObject<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span>foo<span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // 1
</span>
Reflect<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token keyword" style="color: rgb(102, 217, 239);">set</span><span class="token punctuation" style="color: rgb(248, 248, 242);">(</span>myObject<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> <span class="token string">'foo'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> <span class="token number" style="color: rgb(174, 129, 255);">2</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
myObject<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span>foo<span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // 2
</span>
Reflect<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token keyword" style="color: rgb(102, 217, 239);">set</span><span class="token punctuation" style="color: rgb(248, 248, 242);">(</span>myObject<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> <span class="token string">'bar'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> <span class="token number" style="color: rgb(174, 129, 255);">3</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span>
myObject<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span>foo<span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // 3
</span></code></pre><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">如果<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">name</code>属性设置了赋值函数，则赋值函数的<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">this</code>绑定<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">receiver</code>。</p><pre class=" language-javascript" style="font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; font-size: 14.336px; color: rgb(255, 255, 255); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; padding-right: 1em; padding-left: 0.7rem; margin: 0.5em auto; border-radius: 5px; background-color: rgb(17, 17, 17); line-height: 1.2;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;"><span class="token keyword" style="color: rgb(102, 217, 239);">var</span> myObject <span class="token operator" style="color: rgb(249, 38, 114);">=</span> <span class="token punctuation" style="color: rgb(248, 248, 242);">{</span>
  foo<span class="token punctuation" style="color: rgb(248, 248, 242);">:</span> <span class="token number" style="color: rgb(174, 129, 255);">4</span><span class="token punctuation" style="color: rgb(248, 248, 242);">,</span>
  <span class="token keyword" style="color: rgb(102, 217, 239);">set</span> <span class="token function">bar<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span>value<span class="token punctuation" style="color: rgb(248, 248, 242);">)</span> <span class="token punctuation" style="color: rgb(248, 248, 242);">{</span>
    <span class="token keyword" style="color: rgb(102, 217, 239);">return</span> <span class="token keyword" style="color: rgb(102, 217, 239);">this</span><span class="token punctuation" style="color: rgb(248, 248, 242);">.</span>foo <span class="token operator" style="color: rgb(249, 38, 114);">=</span> value<span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
  <span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token punctuation" style="color: rgb(248, 248, 242);">,</span>
<span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>

<span class="token keyword" style="color: rgb(102, 217, 239);">var</span> myReceiverObject <span class="token operator" style="color: rgb(249, 38, 114);">=</span> <span class="token punctuation" style="color: rgb(248, 248, 242);">{</span>
  foo<span class="token punctuation" style="color: rgb(248, 248, 242);">:</span> <span class="token number" style="color: rgb(174, 129, 255);">0</span><span class="token punctuation" style="color: rgb(248, 248, 242);">,</span>
<span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>

Reflect<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token keyword" style="color: rgb(102, 217, 239);">set</span><span class="token punctuation" style="color: rgb(248, 248, 242);">(</span>myObject<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> <span class="token string">'bar'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> <span class="token number" style="color: rgb(174, 129, 255);">1</span><span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> myReceiverObject<span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
myObject<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span>foo<span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // 4
</span>myReceiverObject<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span>foo<span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // 1
</span></code></pre><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">注意，如果 Proxy 对象和 Reflect 对象联合使用，前者拦截赋值操作，后者完成赋值的默认行为，而且传入了<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">receiver</code>，那么<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">Reflect.set</code>会触发<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">Proxy.defineProperty</code>拦截。</p><pre class=" language-javascript" style="font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; font-size: 14.336px; color: rgb(255, 255, 255); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; padding-right: 1em; padding-left: 0.7rem; margin: 0.5em auto; border-radius: 5px; background-color: rgb(17, 17, 17); line-height: 1.2;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;"><span class="token keyword" style="color: rgb(102, 217, 239);">let</span> p <span class="token operator" style="color: rgb(249, 38, 114);">=</span> <span class="token punctuation" style="color: rgb(248, 248, 242);">{</span>
  a<span class="token punctuation" style="color: rgb(248, 248, 242);">:</span> <span class="token string">'a'</span>
<span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>

<span class="token keyword" style="color: rgb(102, 217, 239);">let</span> handler <span class="token operator" style="color: rgb(249, 38, 114);">=</span> <span class="token punctuation" style="color: rgb(248, 248, 242);">{</span>
  <span class="token keyword" style="color: rgb(102, 217, 239);">set</span><span class="token punctuation" style="color: rgb(248, 248, 242);">(</span>target<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> key<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> value<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> receiver<span class="token punctuation" style="color: rgb(248, 248, 242);">)</span> <span class="token punctuation" style="color: rgb(248, 248, 242);">{</span>
    console<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">log<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span><span class="token string">'set'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
    Reflect<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token keyword" style="color: rgb(102, 217, 239);">set</span><span class="token punctuation" style="color: rgb(248, 248, 242);">(</span>target<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> key<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> value<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> receiver<span class="token punctuation" style="color: rgb(248, 248, 242);">)</span>
  <span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token punctuation" style="color: rgb(248, 248, 242);">,</span>
  <span class="token function">defineProperty<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span>target<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> key<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> attribute<span class="token punctuation" style="color: rgb(248, 248, 242);">)</span> <span class="token punctuation" style="color: rgb(248, 248, 242);">{</span>
    console<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">log<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span><span class="token string">'defineProperty'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
    Reflect<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">defineProperty<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span>target<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> key<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> attribute<span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
  <span class="token punctuation" style="color: rgb(248, 248, 242);">}</span>
<span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>

<span class="token keyword" style="color: rgb(102, 217, 239);">let</span> obj <span class="token operator" style="color: rgb(249, 38, 114);">=</span> <span class="token keyword" style="color: rgb(102, 217, 239);">new</span> <span class="token class-name">Proxy</span><span class="token punctuation" style="color: rgb(248, 248, 242);">(</span>p<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> handler<span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
obj<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span>a <span class="token operator" style="color: rgb(249, 38, 114);">=</span> <span class="token string">'A'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);">
// set
</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);">// defineProperty
</span></code></pre><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">上面代码中，<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">Proxy.set</code>拦截里面使用了<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">Reflect.set</code>，而且传入了<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">receiver</code>，导致触发<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">Proxy.defineProperty</code>拦截。这是因为<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">Proxy.set</code>的<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">receiver</code>参数总是指向当前的 Proxy 实例（即上例的<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">obj</code>），而<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">Reflect.set</code>一旦传入<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">receiver</code>，就会将属性赋值到<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">receiver</code>上面（即<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">obj</code>），导致触发<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">defineProperty</code>拦截。如果<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">Reflect.set</code>没有传入<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">receiver</code>，那么就不会触发<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">defineProperty</code>拦截。</p><pre class=" language-javascript" style="font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; font-size: 14.336px; color: rgb(255, 255, 255); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; padding-right: 1em; padding-left: 0.7rem; margin: 0.5em auto; border-radius: 5px; background-color: rgb(17, 17, 17); line-height: 1.2;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;"><span class="token keyword" style="color: rgb(102, 217, 239);">let</span> p <span class="token operator" style="color: rgb(249, 38, 114);">=</span> <span class="token punctuation" style="color: rgb(248, 248, 242);">{</span>
  a<span class="token punctuation" style="color: rgb(248, 248, 242);">:</span> <span class="token string">'a'</span>
<span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>

<span class="token keyword" style="color: rgb(102, 217, 239);">let</span> handler <span class="token operator" style="color: rgb(249, 38, 114);">=</span> <span class="token punctuation" style="color: rgb(248, 248, 242);">{</span>
  <span class="token keyword" style="color: rgb(102, 217, 239);">set</span><span class="token punctuation" style="color: rgb(248, 248, 242);">(</span>target<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> key<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> value<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> receiver<span class="token punctuation" style="color: rgb(248, 248, 242);">)</span> <span class="token punctuation" style="color: rgb(248, 248, 242);">{</span>
    console<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">log<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span><span class="token string">'set'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
    Reflect<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token keyword" style="color: rgb(102, 217, 239);">set</span><span class="token punctuation" style="color: rgb(248, 248, 242);">(</span>target<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> key<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> value<span class="token punctuation" style="color: rgb(248, 248, 242);">)</span>
  <span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token punctuation" style="color: rgb(248, 248, 242);">,</span>
  <span class="token function">defineProperty<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span>target<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> key<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> attribute<span class="token punctuation" style="color: rgb(248, 248, 242);">)</span> <span class="token punctuation" style="color: rgb(248, 248, 242);">{</span>
    console<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">log<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span><span class="token string">'defineProperty'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
    Reflect<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">defineProperty<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span>target<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> key<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> attribute<span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
  <span class="token punctuation" style="color: rgb(248, 248, 242);">}</span>
<span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>

<span class="token keyword" style="color: rgb(102, 217, 239);">let</span> obj <span class="token operator" style="color: rgb(249, 38, 114);">=</span> <span class="token keyword" style="color: rgb(102, 217, 239);">new</span> <span class="token class-name">Proxy</span><span class="token punctuation" style="color: rgb(248, 248, 242);">(</span>p<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> handler<span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
obj<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span>a <span class="token operator" style="color: rgb(249, 38, 114);">=</span> <span class="token string">'A'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);">
// set
</span></code></pre><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">如果第一个参数不是对象，<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">Reflect.set</code>会报错。</p><pre class=" language-javascript" style="font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; font-size: 14.336px; color: rgb(255, 255, 255); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; padding-right: 1em; padding-left: 0.7rem; margin: 0.5em auto; border-radius: 5px; background-color: rgb(17, 17, 17); line-height: 1.2;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;">Reflect<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token keyword" style="color: rgb(102, 217, 239);">set</span><span class="token punctuation" style="color: rgb(248, 248, 242);">(</span><span class="token number" style="color: rgb(174, 129, 255);">1</span><span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> <span class="token string">'foo'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> <span class="token punctuation" style="color: rgb(248, 248, 242);">{</span><span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // 报错
</span>Reflect<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token keyword" style="color: rgb(102, 217, 239);">set</span><span class="token punctuation" style="color: rgb(248, 248, 242);">(</span><span class="token boolean" style="color: rgb(174, 129, 255);">false</span><span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> <span class="token string">'foo'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> <span class="token punctuation" style="color: rgb(248, 248, 242);">{</span><span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // 报错
</span></code></pre><h3 id="Reflect-hasobj-name" class="Reflect-hasobj-name" style="margin-top: 50px; margin-bottom: 0px; padding-top: 20px; padding-bottom: 0px; border-top: 1px dotted rgb(119, 119, 119); color: rgb(51, 51, 51); font-family: Verdana, Arial;">Reflect.has(obj, name)</h3><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;"><code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">Reflect.has</code>方法对应<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">name in obj</code>里面的<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">in</code>运算符。</p><pre class=" language-javascript" style="font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; font-size: 14.336px; color: rgb(255, 255, 255); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; padding-right: 1em; padding-left: 0.7rem; margin: 0.5em auto; border-radius: 5px; background-color: rgb(17, 17, 17); line-height: 1.2;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;"><span class="token keyword" style="color: rgb(102, 217, 239);">var</span> myObject <span class="token operator" style="color: rgb(249, 38, 114);">=</span> <span class="token punctuation" style="color: rgb(248, 248, 242);">{</span>
  foo<span class="token punctuation" style="color: rgb(248, 248, 242);">:</span> <span class="token number" style="color: rgb(174, 129, 255);">1</span><span class="token punctuation" style="color: rgb(248, 248, 242);">,</span>
<span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
<span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);">
// 旧写法
</span><span class="token string">'foo'</span> <span class="token keyword" style="color: rgb(102, 217, 239);">in</span> myObject<span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // true
</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);">
// 新写法
</span>Reflect<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">has<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span>myObject<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> <span class="token string">'foo'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // true
</span></code></pre><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">如果第一个参数不是对象，<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">Reflect.has</code>和<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">in</code>运算符都会报错。</p><h3 id="Reflect-deletePropertyobj-name" class="Reflect-deletePropertyobj-name" style="margin-top: 50px; margin-bottom: 0px; padding-top: 20px; padding-bottom: 0px; border-top: 1px dotted rgb(119, 119, 119); color: rgb(51, 51, 51); font-family: Verdana, Arial;">Reflect.deleteProperty(obj, name)</h3><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;"><code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">Reflect.deleteProperty</code>方法等同于<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">delete obj[name]</code>，用于删除对象的属性。</p><pre class=" language-javascript" style="font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; font-size: 14.336px; color: rgb(255, 255, 255); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; padding-right: 1em; padding-left: 0.7rem; margin: 0.5em auto; border-radius: 5px; background-color: rgb(17, 17, 17); line-height: 1.2;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;">const myObj <span class="token operator" style="color: rgb(249, 38, 114);">=</span> <span class="token punctuation" style="color: rgb(248, 248, 242);">{</span> foo<span class="token punctuation" style="color: rgb(248, 248, 242);">:</span> <span class="token string">'bar'</span> <span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
<span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);">
// 旧写法
</span>delete myObj<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span>foo<span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
<span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);">
// 新写法
</span>Reflect<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">deleteProperty<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span>myObj<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> <span class="token string">'foo'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
</code></pre><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">该方法返回一个布尔值。如果删除成功，或者被删除的属性不存在，返回<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">true</code>；删除失败，被删除的属性依然存在，返回<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">false</code>。</p><h3 id="Reflect-constructtarget-args" class="Reflect-constructtarget-args" style="margin-top: 50px; margin-bottom: 0px; padding-top: 20px; padding-bottom: 0px; border-top: 1px dotted rgb(119, 119, 119); color: rgb(51, 51, 51); font-family: Verdana, Arial;">Reflect.construct(target, args)</h3><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;"><code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">Reflect.construct</code>方法等同于<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">new target(...args)</code>，这提供了一种不使用<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">new</code>，来调用构造函数的方法。</p><pre class=" language-javascript" style="font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; font-size: 14.336px; color: rgb(255, 255, 255); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; padding-right: 1em; padding-left: 0.7rem; margin: 0.5em auto; border-radius: 5px; background-color: rgb(17, 17, 17); line-height: 1.2;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;"><span class="token keyword" style="color: rgb(102, 217, 239);">function</span> <span class="token function">Greeting<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span>name<span class="token punctuation" style="color: rgb(248, 248, 242);">)</span> <span class="token punctuation" style="color: rgb(248, 248, 242);">{</span>
  <span class="token keyword" style="color: rgb(102, 217, 239);">this</span><span class="token punctuation" style="color: rgb(248, 248, 242);">.</span>name <span class="token operator" style="color: rgb(249, 38, 114);">=</span> name<span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
<span class="token punctuation" style="color: rgb(248, 248, 242);">}</span>
<span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);">
// new 的写法
</span>const instance <span class="token operator" style="color: rgb(249, 38, 114);">=</span> <span class="token keyword" style="color: rgb(102, 217, 239);">new</span> <span class="token class-name">Greeting</span><span class="token punctuation" style="color: rgb(248, 248, 242);">(</span><span class="token string">'张三'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
<span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);">
// Reflect.construct 的写法
</span>const instance <span class="token operator" style="color: rgb(249, 38, 114);">=</span> Reflect<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">construct<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span>Greeting<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> <span class="token punctuation" style="color: rgb(248, 248, 242);">[</span><span class="token string">'张三'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">]</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
</code></pre><h3 id="Reflect-getPrototypeOfobj" class="Reflect-getPrototypeOfobj" style="margin-top: 50px; margin-bottom: 0px; padding-top: 20px; padding-bottom: 0px; border-top: 1px dotted rgb(119, 119, 119); color: rgb(51, 51, 51); font-family: Verdana, Arial;">Reflect.getPrototypeOf(obj)</h3><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;"><code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">Reflect.getPrototypeOf</code>方法用于读取对象的<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">__proto__</code>属性，对应<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">Object.getPrototypeOf(obj)</code>。</p><pre class=" language-javascript" style="font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; font-size: 14.336px; color: rgb(255, 255, 255); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; padding-right: 1em; padding-left: 0.7rem; margin: 0.5em auto; border-radius: 5px; background-color: rgb(17, 17, 17); line-height: 1.2;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;">const myObj <span class="token operator" style="color: rgb(249, 38, 114);">=</span> <span class="token keyword" style="color: rgb(102, 217, 239);">new</span> <span class="token class-name">FancyThing</span><span class="token punctuation" style="color: rgb(248, 248, 242);">(</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
<span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);">
// 旧写法
</span>Object<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">getPrototypeOf<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span>myObj<span class="token punctuation" style="color: rgb(248, 248, 242);">)</span> <span class="token operator" style="color: rgb(249, 38, 114);">===</span> FancyThing<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span>prototype<span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
<span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);">
// 新写法
</span>Reflect<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">getPrototypeOf<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span>myObj<span class="token punctuation" style="color: rgb(248, 248, 242);">)</span> <span class="token operator" style="color: rgb(249, 38, 114);">===</span> FancyThing<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span>prototype<span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
</code></pre><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;"><code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">Reflect.getPrototypeOf</code>和<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">Object.getPrototypeOf</code>的一个区别是，如果参数不是对象，<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">Object.getPrototypeOf</code>会将这个参数转为对象，然后再运行，而<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">Reflect.getPrototypeOf</code>会报错。</p><pre class=" language-javascript" style="font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; font-size: 14.336px; color: rgb(255, 255, 255); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; padding-right: 1em; padding-left: 0.7rem; margin: 0.5em auto; border-radius: 5px; background-color: rgb(17, 17, 17); line-height: 1.2;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;">Object<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">getPrototypeOf<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span><span class="token number" style="color: rgb(174, 129, 255);">1</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // Number {[[PrimitiveValue]]: 0}
</span>Reflect<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">getPrototypeOf<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span><span class="token number" style="color: rgb(174, 129, 255);">1</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // 报错
</span></code></pre><h3 id="Reflect-setPrototypeOfobj-newProto" class="Reflect-setPrototypeOfobj-newProto" style="margin-top: 50px; margin-bottom: 0px; padding-top: 20px; padding-bottom: 0px; border-top: 1px dotted rgb(119, 119, 119); color: rgb(51, 51, 51); font-family: Verdana, Arial;">Reflect.setPrototypeOf(obj, newProto)</h3><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;"><code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">Reflect.setPrototypeOf</code>方法用于设置对象的<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">__proto__</code>属性，返回第一个参数对象，对应<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">Object.setPrototypeOf(obj, newProto)</code>。</p><pre class=" language-javascript" style="font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; font-size: 14.336px; color: rgb(255, 255, 255); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; padding-right: 1em; padding-left: 0.7rem; margin: 0.5em auto; border-radius: 5px; background-color: rgb(17, 17, 17); line-height: 1.2;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;">const myObj <span class="token operator" style="color: rgb(249, 38, 114);">=</span> <span class="token keyword" style="color: rgb(102, 217, 239);">new</span> <span class="token class-name">FancyThing</span><span class="token punctuation" style="color: rgb(248, 248, 242);">(</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
<span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);">
// 旧写法
</span>Object<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">setPrototypeOf<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span>myObj<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> OtherThing<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span>prototype<span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
<span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);">
// 新写法
</span>Reflect<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">setPrototypeOf<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span>myObj<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> OtherThing<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span>prototype<span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
</code></pre><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">如果第一个参数不是对象，<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">Object.setPrototypeOf</code>会返回第一个参数本身，而<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">Reflect.setPrototypeOf</code>会报错。</p><pre class=" language-javascript" style="font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; font-size: 14.336px; color: rgb(255, 255, 255); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; padding-right: 1em; padding-left: 0.7rem; margin: 0.5em auto; border-radius: 5px; background-color: rgb(17, 17, 17); line-height: 1.2;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;">Object<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">setPrototypeOf<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span><span class="token number" style="color: rgb(174, 129, 255);">1</span><span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> <span class="token punctuation" style="color: rgb(248, 248, 242);">{</span><span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);">
// 1
</span>
Reflect<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">setPrototypeOf<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span><span class="token number" style="color: rgb(174, 129, 255);">1</span><span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> <span class="token punctuation" style="color: rgb(248, 248, 242);">{</span><span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);">
// TypeError: Reflect.setPrototypeOf called on non-object
</span></code></pre><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">如果第一个参数是<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">undefined</code>或<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">null</code>，<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">Object.setPrototypeOf</code>和<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">Reflect.setPrototypeOf</code>都会报错。</p><pre class=" language-javascript" style="font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; font-size: 14.336px; color: rgb(255, 255, 255); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; padding-right: 1em; padding-left: 0.7rem; margin: 0.5em auto; border-radius: 5px; background-color: rgb(17, 17, 17); line-height: 1.2;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;">Object<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">setPrototypeOf<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span><span class="token keyword" style="color: rgb(102, 217, 239);">null</span><span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> <span class="token punctuation" style="color: rgb(248, 248, 242);">{</span><span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);">
// TypeError: Object.setPrototypeOf called on null or undefined
</span>
Reflect<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">setPrototypeOf<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span><span class="token keyword" style="color: rgb(102, 217, 239);">null</span><span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> <span class="token punctuation" style="color: rgb(248, 248, 242);">{</span><span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);">
// TypeError: Reflect.setPrototypeOf called on non-object
</span></code></pre><h3 id="Reflect-applyfunc-thisArg-args" class="Reflect-applyfunc-thisArg-args" style="margin-top: 50px; margin-bottom: 0px; padding-top: 20px; padding-bottom: 0px; border-top: 1px dotted rgb(119, 119, 119); color: rgb(51, 51, 51); font-family: Verdana, Arial;">Reflect.apply(func, thisArg, args)</h3><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;"><code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">Reflect.apply</code>方法等同于<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">Function.prototype.apply.call(func, thisArg, args)</code>，用于绑定<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">this</code>对象后执行给定函数。</p><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">一般来说，如果要绑定一个函数的<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">this</code>对象，可以这样写<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">fn.apply(obj, args)</code>，但是如果函数定义了自己的<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">apply</code>方法，就只能写成<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">Function.prototype.apply.call(fn, obj, args)</code>，采用<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">Reflect</code>对象可以简化这种操作。</p><pre class=" language-javascript" style="font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; font-size: 14.336px; color: rgb(255, 255, 255); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; padding-right: 1em; padding-left: 0.7rem; margin: 0.5em auto; border-radius: 5px; background-color: rgb(17, 17, 17); line-height: 1.2;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;">const ages <span class="token operator" style="color: rgb(249, 38, 114);">=</span> <span class="token punctuation" style="color: rgb(248, 248, 242);">[</span><span class="token number" style="color: rgb(174, 129, 255);">11</span><span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> <span class="token number" style="color: rgb(174, 129, 255);">33</span><span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> <span class="token number" style="color: rgb(174, 129, 255);">12</span><span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> <span class="token number" style="color: rgb(174, 129, 255);">54</span><span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> <span class="token number" style="color: rgb(174, 129, 255);">18</span><span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> <span class="token number" style="color: rgb(174, 129, 255);">96</span><span class="token punctuation" style="color: rgb(248, 248, 242);">]</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
<span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);">
// 旧写法
</span>const youngest <span class="token operator" style="color: rgb(249, 38, 114);">=</span> Math<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span>min<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">apply<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span>Math<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> ages<span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
const oldest <span class="token operator" style="color: rgb(249, 38, 114);">=</span> Math<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span>max<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">apply<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span>Math<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> ages<span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
const type <span class="token operator" style="color: rgb(249, 38, 114);">=</span> Object<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span>prototype<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span>toString<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">call<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span>youngest<span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
<span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);">
// 新写法
</span>const youngest <span class="token operator" style="color: rgb(249, 38, 114);">=</span> Reflect<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">apply<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span>Math<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span>min<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> Math<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> ages<span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
const oldest <span class="token operator" style="color: rgb(249, 38, 114);">=</span> Reflect<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">apply<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span>Math<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span>max<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> Math<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> ages<span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
const type <span class="token operator" style="color: rgb(249, 38, 114);">=</span> Reflect<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">apply<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span>Object<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span>prototype<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span>toString<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> youngest<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> <span class="token punctuation" style="color: rgb(248, 248, 242);">[</span><span class="token punctuation" style="color: rgb(248, 248, 242);">]</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
</code></pre><h3 id="Reflect-definePropertytarget-propertyKey-attributes" class="Reflect-definePropertytarget-propertyKey-attributes" style="margin-top: 50px; margin-bottom: 0px; padding-top: 20px; padding-bottom: 0px; border-top: 1px dotted rgb(119, 119, 119); color: rgb(51, 51, 51); font-family: Verdana, Arial;">Reflect.defineProperty(target, propertyKey, attributes)</h3><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;"><code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">Reflect.defineProperty</code>方法基本等同于<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">Object.defineProperty</code>，用来为对象定义属性。未来，后者会被逐渐废除，请从现在开始就使用<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">Reflect.defineProperty</code>代替它。</p><pre class=" language-javascript" style="font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; font-size: 14.336px; color: rgb(255, 255, 255); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; padding-right: 1em; padding-left: 0.7rem; margin: 0.5em auto; border-radius: 5px; background-color: rgb(17, 17, 17); line-height: 1.2;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;"><span class="token keyword" style="color: rgb(102, 217, 239);">function</span> <span class="token function">MyDate<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span> <span class="token punctuation" style="color: rgb(248, 248, 242);">{</span>
  <span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);">/*…*/</span>
<span class="token punctuation" style="color: rgb(248, 248, 242);">}</span>
<span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);">
// 旧写法
</span>Object<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">defineProperty<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span>MyDate<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> <span class="token string">'now'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> <span class="token punctuation" style="color: rgb(248, 248, 242);">{</span>
  value<span class="token punctuation" style="color: rgb(248, 248, 242);">:</span> <span class="token punctuation" style="color: rgb(248, 248, 242);">(</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span> <span class="token operator" style="color: rgb(249, 38, 114);">=</span><span class="token operator" style="color: rgb(249, 38, 114);">&gt;</span> Date<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">now<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span>
<span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
<span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);">
// 新写法
</span>Reflect<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">defineProperty<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span>MyDate<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> <span class="token string">'now'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> <span class="token punctuation" style="color: rgb(248, 248, 242);">{</span>
  value<span class="token punctuation" style="color: rgb(248, 248, 242);">:</span> <span class="token punctuation" style="color: rgb(248, 248, 242);">(</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span> <span class="token operator" style="color: rgb(249, 38, 114);">=</span><span class="token operator" style="color: rgb(249, 38, 114);">&gt;</span> Date<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">now<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span>
<span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
</code></pre><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">如果<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">Reflect.defineProperty</code>的第一个参数不是对象，就会抛出错误，比如<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">Reflect.defineProperty(1, 'foo')</code>。</p><h3 id="Reflect-getOwnPropertyDescriptortarget-propertyKey" class="Reflect-getOwnPropertyDescriptortarget-propertyKey" style="margin-top: 50px; margin-bottom: 0px; padding-top: 20px; padding-bottom: 0px; border-top: 1px dotted rgb(119, 119, 119); color: rgb(51, 51, 51); font-family: Verdana, Arial;">Reflect.getOwnPropertyDescriptor(target, propertyKey)</h3><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;"><code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">Reflect.getOwnPropertyDescriptor</code>基本等同于<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">Object.getOwnPropertyDescriptor</code>，用于得到指定属性的描述对象，将来会替代掉后者。</p><pre class=" language-javascript" style="font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; font-size: 14.336px; color: rgb(255, 255, 255); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; padding-right: 1em; padding-left: 0.7rem; margin: 0.5em auto; border-radius: 5px; background-color: rgb(17, 17, 17); line-height: 1.2;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;"><span class="token keyword" style="color: rgb(102, 217, 239);">var</span> myObject <span class="token operator" style="color: rgb(249, 38, 114);">=</span> <span class="token punctuation" style="color: rgb(248, 248, 242);">{</span><span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
Object<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">defineProperty<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span>myObject<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> <span class="token string">'hidden'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> <span class="token punctuation" style="color: rgb(248, 248, 242);">{</span>
  value<span class="token punctuation" style="color: rgb(248, 248, 242);">:</span> <span class="token boolean" style="color: rgb(174, 129, 255);">true</span><span class="token punctuation" style="color: rgb(248, 248, 242);">,</span>
  enumerable<span class="token punctuation" style="color: rgb(248, 248, 242);">:</span> <span class="token boolean" style="color: rgb(174, 129, 255);">false</span><span class="token punctuation" style="color: rgb(248, 248, 242);">,</span>
<span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
<span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);">
// 旧写法
</span><span class="token keyword" style="color: rgb(102, 217, 239);">var</span> theDescriptor <span class="token operator" style="color: rgb(249, 38, 114);">=</span> Object<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">getOwnPropertyDescriptor<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span>myObject<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> <span class="token string">'hidden'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
<span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);">
// 新写法
</span><span class="token keyword" style="color: rgb(102, 217, 239);">var</span> theDescriptor <span class="token operator" style="color: rgb(249, 38, 114);">=</span> Reflect<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">getOwnPropertyDescriptor<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span>myObject<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> <span class="token string">'hidden'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
</code></pre><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;"><code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">Reflect.getOwnPropertyDescriptor</code>和<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">Object.getOwnPropertyDescriptor</code>的一个区别是，如果第一个参数不是对象，<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">Object.getOwnPropertyDescriptor(1, 'foo')</code>不报错，返回<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">undefined</code>，而<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">Reflect.getOwnPropertyDescriptor(1, 'foo')</code>会抛出错误，表示参数非法。</p><h3 id="Reflect-isExtensible-target" class="Reflect-isExtensible-target" style="margin-top: 50px; margin-bottom: 0px; padding-top: 20px; padding-bottom: 0px; border-top: 1px dotted rgb(119, 119, 119); color: rgb(51, 51, 51); font-family: Verdana, Arial;">Reflect.isExtensible (target)</h3><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;"><code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">Reflect.isExtensible</code>方法对应<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">Object.isExtensible</code>，返回一个布尔值，表示当前对象是否可扩展。</p><pre class=" language-javascript" style="font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; font-size: 14.336px; color: rgb(255, 255, 255); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; padding-right: 1em; padding-left: 0.7rem; margin: 0.5em auto; border-radius: 5px; background-color: rgb(17, 17, 17); line-height: 1.2;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;">const myObject <span class="token operator" style="color: rgb(249, 38, 114);">=</span> <span class="token punctuation" style="color: rgb(248, 248, 242);">{</span><span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
<span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);">
// 旧写法
</span>Object<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">isExtensible<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span>myObject<span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // true
</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);">
// 新写法
</span>Reflect<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">isExtensible<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span>myObject<span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // true
</span></code></pre><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">如果参数不是对象，<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">Object.isExtensible</code>会返回<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">false</code>，因为非对象本来就是不可扩展的，而<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">Reflect.isExtensible</code>会报错。</p><pre class=" language-javascript" style="font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; font-size: 14.336px; color: rgb(255, 255, 255); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; padding-right: 1em; padding-left: 0.7rem; margin: 0.5em auto; border-radius: 5px; background-color: rgb(17, 17, 17); line-height: 1.2;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;">Object<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">isExtensible<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span><span class="token number" style="color: rgb(174, 129, 255);">1</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // false
</span>Reflect<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">isExtensible<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span><span class="token number" style="color: rgb(174, 129, 255);">1</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // 报错
</span></code></pre><h3 id="Reflect-preventExtensionstarget" class="Reflect-preventExtensionstarget" style="margin-top: 50px; margin-bottom: 0px; padding-top: 20px; padding-bottom: 0px; border-top: 1px dotted rgb(119, 119, 119); color: rgb(51, 51, 51); font-family: Verdana, Arial;">Reflect.preventExtensions(target)</h3><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;"><code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">Reflect.preventExtensions</code>对应<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">Object.preventExtensions</code>方法，用于让一个对象变为不可扩展。它返回一个布尔值，表示是否操作成功。</p><pre class=" language-javascript" style="font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; font-size: 14.336px; color: rgb(255, 255, 255); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; padding-right: 1em; padding-left: 0.7rem; margin: 0.5em auto; border-radius: 5px; background-color: rgb(17, 17, 17); line-height: 1.2;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;"><span class="token keyword" style="color: rgb(102, 217, 239);">var</span> myObject <span class="token operator" style="color: rgb(249, 38, 114);">=</span> <span class="token punctuation" style="color: rgb(248, 248, 242);">{</span><span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
<span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);">
// 旧写法
</span>Object<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">preventExtensions<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span>myObject<span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // Object {}
</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);">
// 新写法
</span>Reflect<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">preventExtensions<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span>myObject<span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // true
</span></code></pre><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">如果参数不是对象，<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">Object.preventExtensions</code>在 ES5 环境报错，在 ES6 环境返回传入的参数，而<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">Reflect.preventExtensions</code>会报错。</p><pre class=" language-javascript" style="font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; font-size: 14.336px; color: rgb(255, 255, 255); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; padding-right: 1em; padding-left: 0.7rem; margin: 0.5em auto; border-radius: 5px; background-color: rgb(17, 17, 17); line-height: 1.2;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;"><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);">// ES5 环境
</span>Object<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">preventExtensions<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span><span class="token number" style="color: rgb(174, 129, 255);">1</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // 报错
</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);">
// ES6 环境
</span>Object<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">preventExtensions<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span><span class="token number" style="color: rgb(174, 129, 255);">1</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // 1
</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);">
// 新写法
</span>Reflect<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">preventExtensions<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span><span class="token number" style="color: rgb(174, 129, 255);">1</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);"> // 报错
</span></code></pre><h3 id="Reflect-ownKeys-target" class="Reflect-ownKeys-target" style="margin-top: 50px; margin-bottom: 0px; padding-top: 20px; padding-bottom: 0px; border-top: 1px dotted rgb(119, 119, 119); color: rgb(51, 51, 51); font-family: Verdana, Arial;">Reflect.ownKeys (target)</h3><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;"><code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">Reflect.ownKeys</code>方法用于返回对象的所有属性，基本等同于<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">Object.getOwnPropertyNames</code>与<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">Object.getOwnPropertySymbols</code>之和。</p><pre class=" language-javascript" style="font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; font-size: 14.336px; color: rgb(255, 255, 255); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; padding-right: 1em; padding-left: 0.7rem; margin: 0.5em auto; border-radius: 5px; background-color: rgb(17, 17, 17); line-height: 1.2;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;"><span class="token keyword" style="color: rgb(102, 217, 239);">var</span> myObject <span class="token operator" style="color: rgb(249, 38, 114);">=</span> <span class="token punctuation" style="color: rgb(248, 248, 242);">{</span>
  foo<span class="token punctuation" style="color: rgb(248, 248, 242);">:</span> <span class="token number" style="color: rgb(174, 129, 255);">1</span><span class="token punctuation" style="color: rgb(248, 248, 242);">,</span>
  bar<span class="token punctuation" style="color: rgb(248, 248, 242);">:</span> <span class="token number" style="color: rgb(174, 129, 255);">2</span><span class="token punctuation" style="color: rgb(248, 248, 242);">,</span>
  <span class="token punctuation" style="color: rgb(248, 248, 242);">[</span>Symbol<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token keyword" style="color: rgb(102, 217, 239);">for</span><span class="token punctuation" style="color: rgb(248, 248, 242);">(</span><span class="token string">'baz'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token punctuation" style="color: rgb(248, 248, 242);">]</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span> <span class="token number" style="color: rgb(174, 129, 255);">3</span><span class="token punctuation" style="color: rgb(248, 248, 242);">,</span>
  <span class="token punctuation" style="color: rgb(248, 248, 242);">[</span>Symbol<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token keyword" style="color: rgb(102, 217, 239);">for</span><span class="token punctuation" style="color: rgb(248, 248, 242);">(</span><span class="token string">'bing'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token punctuation" style="color: rgb(248, 248, 242);">]</span><span class="token punctuation" style="color: rgb(248, 248, 242);">:</span> <span class="token number" style="color: rgb(174, 129, 255);">4</span><span class="token punctuation" style="color: rgb(248, 248, 242);">,</span>
<span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
<span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);">
// 旧写法
</span>Object<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">getOwnPropertyNames<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span>myObject<span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);">
// ['foo', 'bar']
</span>
Object<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">getOwnPropertySymbols<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span>myObject<span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);">
//[Symbol(baz), Symbol(bing)]
</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);">
// 新写法
</span>Reflect<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">ownKeys<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span>myObject<span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);">
// ['foo', 'bar', Symbol(baz), Symbol(bing)]</span></code></pre></div><div><br></div><div><h2 id="实例：使用-Proxy-实现观察者模式" class="实例：使用-Proxy-实现观察者模式" style="margin-top: 50px; margin-bottom: 0px; padding-top: 20px; padding-bottom: 0px; border-top: 2px solid rgb(102, 102, 102); counter-increment: section 1;"><b>实例：使用 Proxy 实现观察者模式</b></h2><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">观察者模式（Observer mode）指的是函数自动观察数据对象，一旦对象有变化，函数就会自动执行。</p><pre class=" language-javascript" style="font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; font-size: 14.336px; color: rgb(255, 255, 255); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; padding-right: 1em; padding-left: 0.7rem; margin: 0.5em auto; border-radius: 5px; background-color: rgb(17, 17, 17); line-height: 1.2;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;">const person <span class="token operator" style="color: rgb(249, 38, 114);">=</span> <span class="token function">observable<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span><span class="token punctuation" style="color: rgb(248, 248, 242);">{</span>
  name<span class="token punctuation" style="color: rgb(248, 248, 242);">:</span> <span class="token string">'张三'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">,</span>
  age<span class="token punctuation" style="color: rgb(248, 248, 242);">:</span> <span class="token number" style="color: rgb(174, 129, 255);">20</span>
<span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>

<span class="token keyword" style="color: rgb(102, 217, 239);">function</span> <span class="token function">print<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span> <span class="token punctuation" style="color: rgb(248, 248, 242);">{</span>
  console<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">log<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span>`$<span class="token punctuation" style="color: rgb(248, 248, 242);">{</span>person<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span>name<span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> $<span class="token punctuation" style="color: rgb(248, 248, 242);">{</span>person<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span>age<span class="token punctuation" style="color: rgb(248, 248, 242);">}</span>`<span class="token punctuation" style="color: rgb(248, 248, 242);">)</span>
<span class="token punctuation" style="color: rgb(248, 248, 242);">}</span>

<span class="token function">observe<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span>print<span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
person<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span>name <span class="token operator" style="color: rgb(249, 38, 114);">=</span> <span class="token string">'李四'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);">
// 输出
</span><span class="token comment" spellcheck="true" style="color: rgb(117, 113, 94);">// 李四, 20
</span></code></pre><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">上面代码中，数据对象<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">person</code>是观察目标，函数<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">print</code>是观察者。一旦数据对象发生变化，<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">print</code>就会自动执行。</p><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">下面，使用 Proxy 写一个观察者模式的最简单实现，即实现<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">observable</code>和<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">observe</code>这两个函数。思路是<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">observable</code>函数返回一个原始对象的 Proxy 代理，拦截赋值操作，触发充当观察者的各个函数。</p><pre class=" language-javascript" style="font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace; font-size: 14.336px; color: rgb(255, 255, 255); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-break: normal; hyphens: none; padding-right: 1em; padding-left: 0.7rem; margin: 0.5em auto; border-radius: 5px; background-color: rgb(17, 17, 17); line-height: 1.2;"><code class=" language-javascript" style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(166, 226, 46); text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; direction: ltr; word-spacing: normal; word-break: normal; tab-size: 4; hyphens: none; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border-radius: 2px;">const queuedObservers <span class="token operator" style="color: rgb(249, 38, 114);">=</span> <span class="token keyword" style="color: rgb(102, 217, 239);">new</span> <span class="token class-name">Set</span><span class="token punctuation" style="color: rgb(248, 248, 242);">(</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>

const observe <span class="token operator" style="color: rgb(249, 38, 114);">=</span> fn <span class="token operator" style="color: rgb(249, 38, 114);">=</span><span class="token operator" style="color: rgb(249, 38, 114);">&gt;</span> queuedObservers<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">add<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span>fn<span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
const observable <span class="token operator" style="color: rgb(249, 38, 114);">=</span> obj <span class="token operator" style="color: rgb(249, 38, 114);">=</span><span class="token operator" style="color: rgb(249, 38, 114);">&gt;</span> <span class="token keyword" style="color: rgb(102, 217, 239);">new</span> <span class="token class-name">Proxy</span><span class="token punctuation" style="color: rgb(248, 248, 242);">(</span>obj<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> <span class="token punctuation" style="color: rgb(248, 248, 242);">{</span><span class="token keyword" style="color: rgb(102, 217, 239);">set</span><span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>

<span class="token keyword" style="color: rgb(102, 217, 239);">function</span> <span class="token keyword" style="color: rgb(102, 217, 239);">set</span><span class="token punctuation" style="color: rgb(248, 248, 242);">(</span>target<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> key<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> value<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> receiver<span class="token punctuation" style="color: rgb(248, 248, 242);">)</span> <span class="token punctuation" style="color: rgb(248, 248, 242);">{</span>
  const result <span class="token operator" style="color: rgb(249, 38, 114);">=</span> Reflect<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token keyword" style="color: rgb(102, 217, 239);">set</span><span class="token punctuation" style="color: rgb(248, 248, 242);">(</span>target<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> key<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> value<span class="token punctuation" style="color: rgb(248, 248, 242);">,</span> receiver<span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
  queuedObservers<span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token function">forEach<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span>observer <span class="token operator" style="color: rgb(249, 38, 114);">=</span><span class="token operator" style="color: rgb(249, 38, 114);">&gt;</span> <span class="token function">observer<span class="token punctuation" style="color: rgb(248, 248, 242);">(</span></span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
  <span class="token keyword" style="color: rgb(102, 217, 239);">return</span> result<span class="token punctuation" style="color: rgb(248, 248, 242);">;</span>
<span class="token punctuation" style="color: rgb(248, 248, 242);">}</span>
</code></pre><p style="color: rgb(51, 51, 51); font-family: Verdana, Arial; font-size: 14.336px;">上面代码中，先定义了一个<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">Set</code>集合，所有观察者函数都放进这个集合。然后，<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">observable</code>函数返回原始对象的代理，拦截赋值操作。拦截函数<code style="font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; font-size: 0.7rem; color: rgb(199, 37, 78); background: rgb(249, 242, 244); border-radius: 2px; padding-left: 3px; padding-right: 3px;">set</code>之中，会自动执行所有观察者。</p></div><div><br></div><div><br></div><div><br></div>
    </div>      
  </article>
</div>
{% endblock %}