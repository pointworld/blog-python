{% extends 'c-word.html' %}

{% block title %}web - JS | lib{% endblock %}

{% block meta %}{% endblock %}


{% block point1 %}
<div class="tm-main uk-width-medium-3-4" contenteditable="true">
<article class="uk-article">
<div id="maincontent">
<div><h3 id="blogTitle0"><span style="font-weight: 700; background-color: yellow;">计算机 | 全栈 | 前端 | JS | Lib</span></h3></div><div><span style="font-weight: 700; background-color: yellow;"><br></span></div><h1 id="blogTitle1"><b>框架和面向对象</b></h1><div><div>我们这么简单的理解框架：</div><div><ul><li>函数：工具<br></li><li>对象：一个工具包<br></li><li>框架：多个工具包<br></li></ul></div><div style="font-weight: bold;"><div><font color="#ff0000" style="background-color: yellow;">框架其实就是封装所有和我们开发有关的各种工具，加快我们快速开发，让我们不用过多考虑浏览器的兼容性等问题。</font></div><div><br></div></div></div><div><b><br></b></div><h1 id="blogTitle2"><b>框架概述</b></h1><h2 id="blogTitle3"><b>什么是框架</b></h2><div><div style="font-weight: bold;">工具 -- 函数</div><div style="font-weight: bold;">工具包 -- 对象</div><div style="font-weight: bold;">框架 -- 多个对象</div><div style="font-weight: bold;"><br></div><div><div>你在网上看到的别人写好的东西，你可以拿过来直接使用的都是框架</div></div></div><h2 style="font-weight: bold;" id="blogTitle4">流行的框架</h2><div><div>通用框架：jquery &nbsp;bootstrap &nbsp;zepto</div><div>UI框架：jquery UI ，ext，bootstrap中的UI组件</div><div>MVC：angularJS， React</div></div><div><br></div><h2 id="blogTitle5"><b>框架的好处</b></h2><div><b>兼容浏览器</b></div><div><b><br></b></div><div><b><br></b></div><h2 id="blogTitle6"><b>为什么学习框架</b></h2><div><div style="font-weight: bold;">工作以后你可能从事的三种工作：</div><div><ul><li>开发页面的功能：html css js<br></li><li>维护公司已有的框架<br></li><li>编写新框架<br></li></ul></div><h2 style="font-weight: bold;" id="blogTitle7">封装框架注意事项</h2></div><div><div style="font-weight: bold;">框架雏形</div><div style="font-weight: bold;">链式访问</div><div style="font-weight: bold;">命名空间</div><div style="font-weight: bold;">模块化</div><div style="font-weight: bold;">可扩展-- 插件 组件</div><div style="font-weight: bold;">用户体验：你好我好他也好</div><div><b>代码质量—高手</b><br></div></div><div><div><ul><li>变量命名<br></li><li>内存<br></li><li>性能<br></li><li>安全<br></li><li>其他<br></li><li>绿色，健康，环保，无污染，可持续，你好，我好，他也好。。<b>。</b><br></li></ul></div><h2 id="blogTitle8"><b>框架封装--完美法则</b></h2></div><div style="font-weight: bold;"><div>命名规范完美法则</div><div>代码基础完美法则</div><div>浏览器兼容完美法则</div><div>内存完美法则</div><div>性能完美法则 -- 代码性能 （html css js &nbsp;优化工具 解压缩工具 下学期 完整的软件开发生命周期） 框架性能&nbsp;</div><div>安全完美法则 -- 加密，encode，解密，MD5，密钥对，token ES3</div><div><br></div></div><div><h3 id="blogTitle9"><b>命名规范</b></h3></div><div><div style="font-weight: bold;">变量属性篇（函数方法看做一种特殊的属性）</div><div style="font-weight: bold;">变量命名规范，通俗易懂</div><div style="font-weight: bold;">变量统一定义</div><div style="font-weight: bold;"><br></div><div><b>为什么需要命名规范</b><br></div></div><div>为什么需要这样强制定义变量前缀？正式因为 javascript 是弱语言造成的。在定义大量变量的时候，我们需要很明确的知道当前变量是什么属性，如果只通过普通单词，是很难区分的<br></div><div style="font-weight: bold;"><br></div><div><b>命名规范优化1</b><br></div><div><pre style="margin-top: 6.72pt; margin-bottom: 0pt; margin-left: 0in; direction: ltr; unicode-bidi: embed; word-break: normal;">S(string)：表示字符串。例如：sName，sHtml；<br>n(number)：表示数字。例如：nPage，nTotal；<br>b(bool)：表示逻辑。例如：bChecked，bHasLogin；<br>a(array)：表示数组。例如：aList，aGroup；<br>r(reg)：表示正则表达式。例如：rDomain，rEmail；<br>f(function)：表示函数。例如：fGetHtml，fInit；<br>o：表示以上未涉及到的其他对象，例如：oButton，oDate；<br>g(global)：表示全局变量，例如：gUserName，gLoginTime；&nbsp;</pre></div><div style="font-weight: bold;"><br></div><div><b>命名规范优化2</b><br></div><div><pre>$：表示Jquery对象。例如：$Content，$Module；
   一种比较广泛的Jquery对象变量命名规范。<br>j：表示Jquery对象。例如：jContent， jModule；
   另一种Jquery对象变量命名方式。<br>fn：表示函数。例如：fnGetName，fnSetAge；
   和上面函数的前缀略有不同，改用fn来代替，个人认为fn能够更好的区分普通变量和函数变量。<br>Id ,var domID =getElementByid(‘id’)&nbsp; <br>dom：表示Dom对象，例如：domForm，domInput；
  项目中很多地方会用到原生的Dom方法及属性，可以根据团队需要适当修改。&nbsp;</pre>





</div><div><b>命名规范优化3<br></b></div><div><pre style="margin-top: 7.68pt; margin-bottom: 0pt; margin-left: 0in; direction: ltr; unicode-bidi: embed; word-break: normal;">1：作用域不大临时变量可以简写，比如：str，num，bol，obj，fun，arr。<br>2：循环变量可以简写，比如：i，j，k等。<br>3：某些作为不允许修改值的变量认为是常量，全部字母都大写。例如：COPYRIGHT，PI。常量可以存在于函数中，也可以存在于全局。&nbsp;</pre></div><div><b><br></b></div><h3 id="blogTitle10"><b>代码基础完美法则</b></h3><div><div style="font-weight: bold;">Null undefined 为空预防</div><div><div style="font-weight: bold;">正负数零预防</div><div><b>&nbsp; &nbsp; </b>函数只接受整数，而输入的是负数，你写的代码要能预测到用户可能的恶意输入，而不会导致系统功能被破坏</div></div><div style="font-weight: bold;"><div>数据类型错误预防</div><div>字符篇—空白，前缀，后缀，大小写问题</div></div><div style="font-weight: bold;"><br></div></div><h3 id="blogTitle11"><b>浏览器兼容完美法则</b></h3><div><div style="font-weight: bold;">编写原理 - 浏览器兼容无非就是判断：</div><div>是否支持某个对象</div><div>某个对象是否支持某个属性（方法是属性的一种）</div><div style="font-weight: bold;"><br></div></div><div><b>写法规范—配合 return</b><br></div><div><b><br></b></div><div><br></div><div><b><br></b></div><div><h3 style="font-weight: bold;" id="blogTitle12">内存完美法则</h3><h3 style="font-weight: bold;" id="blogTitle13">性能完美法则 &nbsp;</h3><h3 style="font-weight: bold;" id="blogTitle14">安全完美法则&nbsp;</h3></div><div><b><br></b></div><div><b><br></b></div><div><b><br></b></div><div><b><br></b></div><div><b><br></b></div><div><b><br></b></div><div style="font-weight: bold;"><br></div><h1 id="blogTitle15"><b>事件框架</b></h1><div><h2 style="margin-top: 25px;" id="blogTitle16"><span style="font-weight: 700;">页面解析机制</span></h2><div><div><ul><li><span style="font-weight: 700;">浏览器首先从上而下将html文档读取编译成dom树</span><br></li><li><span style="font-weight: 700;">然后给元素绑定事件</span></li></ul></div><div><span style="font-weight: 700;">备注：如果是动态添加的元素，是无法绑定事件的。</span></div></div><h2 id="blogTitle17"><span style="font-weight: 700;">jQuery 事件进阶</span></h2><div style="font-weight: bold;"><div>Live - 淘汰</div><div>Bind - 绑定已经加载好的控件</div><div>One - 只执行一次</div><div>On - 绑定动态添加的和绑定已经加载好的</div><div><br></div><div><pre style="background-color: rgb(39, 40, 34); font-size: 12pt; font-family: &quot;Source Code Pro&quot;; color: rgb(248, 248, 242);">&lt;<span style="color: rgb(187, 22, 75); font-weight: bold;">div</span>&gt;<br>    &lt;<span style="color: rgb(187, 22, 75); font-weight: bold;">button </span><span style="color: rgb(166, 226, 46);">id=</span><span style="color: rgb(230, 219, 116); font-weight: bold;">"btn1"</span>&gt;<span style="font-weight: bold; font-family: SimSun;">添加新的</span><span style="font-weight: bold;">p</span><span style="font-weight: bold; font-family: SimSun;">元素</span>&lt;/<span style="color: rgb(187, 22, 75); font-weight: bold;">button</span>&gt;<br>    &lt;<span style="color: rgb(187, 22, 75); font-weight: bold;">button </span><span style="color: rgb(166, 226, 46);">id=</span><span style="color: rgb(230, 219, 116); font-weight: bold;">"btn2"</span>&gt;<span style="font-weight: bold; font-family: SimSun;">添加新的</span><span style="font-weight: bold;">H3</span><span style="font-weight: bold; font-family: SimSun;">元素</span>&lt;/<span style="color: rgb(187, 22, 75); font-weight: bold;">button</span>&gt;<br><br>    &lt;<span style="color: rgb(187, 22, 75); font-weight: bold;">p</span>&gt;<span style="font-weight: bold; font-family: SimSun;">第一个</span><span style="font-weight: bold;">p</span><span style="font-weight: bold; font-family: SimSun;">元素</span>&lt;/<span style="color: rgb(187, 22, 75); font-weight: bold;">p</span>&gt;<br>    &lt;<span style="color: rgb(187, 22, 75); font-weight: bold;">p</span>&gt;<span style="font-weight: bold; font-family: SimSun;">第二个</span><span style="font-weight: bold;">p</span><span style="font-weight: bold; font-family: SimSun;">元素</span>&lt;/<span style="color: rgb(187, 22, 75); font-weight: bold;">p</span>&gt;<br><br>    &lt;<span style="color: rgb(187, 22, 75); font-weight: bold;">h3</span>&gt;<span style="font-weight: bold; font-family: SimSun;">第一个</span><span style="font-weight: bold;">h3</span><span style="font-weight: bold; font-family: SimSun;">元素</span>&lt;/<span style="color: rgb(187, 22, 75); font-weight: bold;">h3</span>&gt;<br>    &lt;<span style="color: rgb(187, 22, 75); font-weight: bold;">h3</span>&gt;<span style="font-weight: bold; font-family: SimSun;">第二个</span><span style="font-weight: bold;">h3</span><span style="font-weight: bold; font-family: SimSun;">元素</span>&lt;/<span style="color: rgb(187, 22, 75); font-weight: bold;">h3</span>&gt;<br>&lt;/<span style="color: rgb(187, 22, 75); font-weight: bold;">div</span>&gt;</pre></div></div><div style="font-weight: bold;"><br></div><div><span style="font-weight: 700;">Live bind 区别</span><br></div><div><div>live方法其实是bind方法的变种，其基本功能就同bind方法的功能是一样的，都是为一个元素绑定某个事件，但是bind方法只能给当前存在的元素绑定事件，对于事后采用JS等方式新生成的元素无效，而live方法则正好弥补了bind方法的这个缺陷，它可以对后生成的元素也可以绑定相应的事件。</div></div></div><div><br></div><div><br></div><div><b>click 和 bind</b></div><div><pre style="background-color:#272822;color:#f8f8f2;font-family:'Source Code Pro';font-size:12.0pt;">&lt;<span style="color:#bb164b;font-weight:bold;">script</span>&gt;<br>    <span style="color:#a6e22e;">$</span>(<span style="color:#e6db74;">"#btn1"</span>).click(<span style="color:#f92672;">function </span>() {<br>        <span style="color:#a6e22e;">$</span>(<span style="color:#e6db74;">"div"</span>).append(<span style="color:#e6db74;">"&lt;p&gt;</span><span style="color:#e6db74;font-family:'SimSun';">这是一个新的</span><span style="color:#e6db74;">p</span><span style="color:#e6db74;font-family:'SimSun';">元素</span><span style="color:#e6db74;">&lt;/p&gt;"</span>)<span style="color:#5c7ab8;">;<br></span><span style="color:#5c7ab8;">    </span>})<span style="color:#5c7ab8;">;<br></span><span style="color:#5c7ab8;">    </span><span style="color:#a6e22e;">$</span>(<span style="color:#e6db74;">"#btn2"</span>).click(<span style="color:#f92672;">function </span>() {<br>        <span style="color:#a6e22e;">$</span>(<span style="color:#e6db74;">"div"</span>).append(<span style="color:#e6db74;">"&lt;h3&gt;</span><span style="color:#e6db74;font-family:'SimSun';">这是一个新的</span><span style="color:#e6db74;">h3</span><span style="color:#e6db74;font-family:'SimSun';">元素</span><span style="color:#e6db74;">&lt;/h3&gt;"</span>)<span style="color:#5c7ab8;">;<br></span><span style="color:#5c7ab8;">    </span>})<span style="color:#5c7ab8;">;<br></span><span style="color:#5c7ab8;"><br></span><span style="color:#5c7ab8;">    </span><span style="color:#0b8b15;">//</span><span style="color:#0b8b15;font-family:'SimSun';">给多个元素绑定事件<br></span><span style="color:#0b8b15;font-family:'SimSun';">    </span><span style="color:#0b8b15;">//</span><span style="color:#0b8b15;font-family:'SimSun';">但是新增的元素不行<br></span><span style="color:#0b8b15;font-family:'SimSun';">  </span><span style="color:#a6e22e;">$</span>(<span style="color:#e6db74;">"</span><span style="color:#f92672;">div p</span><span style="color:#e6db74;">"</span>).each(<span style="color:#f92672;">function </span>() {<br>        <span style="color:#a6e22e;">$</span>(<span style="color:#f92672;">this</span>).click(<span style="color:#f92672;">function </span>() {<br>            <span style="color:#a6e22e;">$</span>(<span style="color:#f92672;">this</span>).css(<span style="color:#e6db74;">'color'</span><span style="color:#5c7ab8;">, </span><span style="color:#e6db74;">'green'</span>)<br>        })<br>    })<br><br>    <span style="color:#0b8b15;">//</span><span style="color:#0b8b15;font-family:'SimSun';">我们可以使用</span><span style="color:#0b8b15;">bind</span><span style="color:#0b8b15;font-family:'SimSun';">来达到同样的目的<br></span><span style="color:#0b8b15;font-family:'SimSun';">    </span><span style="color:#0b8b15;">//</span><span style="color:#0b8b15;font-family:'SimSun';">新的元素也不行<br></span><span style="color:#0b8b15;font-family:'SimSun';">  </span><span style="color:#a6e22e;">$</span>(<span style="color:#e6db74;">"</span><span style="color:#f92672;">div h3</span><span style="color:#e6db74;">"</span>).bind(<span style="color:#e6db74;">"click"</span><span style="color:#5c7ab8;">, </span><span style="color:#f92672;">function </span>() {<br>        <span style="color:#a6e22e;">$</span>(<span style="color:#f92672;">this</span>).css(<span style="color:#e6db74;">'color'</span><span style="color:#5c7ab8;">, </span><span style="color:#e6db74;">'green'</span>)<br>    })<br><br>    <span style="color:#0b8b15;">//</span><span style="color:#0b8b15;font-family:'SimSun';">还可以绑定多个<br></span><span style="color:#0b8b15;font-family:'SimSun';">  </span><span style="color:#a6e22e;">$</span>(<span style="color:#e6db74;">"</span><span style="color:#f92672;">div h3</span><span style="color:#e6db74;">"</span>).bind(<span style="color:#e6db74;">"click"</span><span style="color:#5c7ab8;">, </span><span style="color:#f92672;">function </span>() {<br>        <span style="color:#a6e22e;">$</span>(<span style="color:#f92672;">this</span>).css(<span style="color:#e6db74;">'background'</span><span style="color:#5c7ab8;">, </span><span style="color:#e6db74;">'yellow'</span>)<br>    })<br>&lt;/<span style="color:#bb164b;font-weight:bold;">script</span>&gt;<br></pre></div><div><b>one</b></div><div><pre style="background-color:#272822;color:#f8f8f2;font-family:'Source Code Pro';font-size:12.8pt;">&lt;<span style="color:#bb164b;font-weight:bold;">a</span>&gt;<span style="font-weight:bold;font-family:'SimSun';">测试</span>&lt;/<span style="color:#bb164b;font-weight:bold;">a</span>&gt;<br><br>&lt;<span style="color:#bb164b;font-weight:bold;">script</span>&gt;<br>    <span style="color:#0b8b15;">// </span><span style="color:#0b8b15;font-family:'SimSun';">只执行一次<br></span><span style="color:#0b8b15;font-family:'SimSun';">    </span><span style="color:#a6e22e;">$</span>(<span style="color:#e6db74;">'a'</span>).one(<span style="color:#e6db74;">'click'</span><span style="color:#5c7ab8;">,</span><span style="color:#f92672;">function</span>(){<br>        <span style="color:#a6e22e;">alert</span>(<span style="color:#e6db74;">'a'</span>)<span style="color:#5c7ab8;">;<br></span><span style="color:#5c7ab8;">    </span>})<br>&lt;/<span style="color:#bb164b;font-weight:bold;">script</span>&gt;<br></pre></div><div><b>on</b></div><div><pre style="background-color:#272822;color:#f8f8f2;font-family:'Source Code Pro';font-size:11.3pt;">&lt;<span style="color:#bb164b;font-weight:bold;">script</span>&gt;<br>    <span style="color:#a6e22e;">$</span>(<span style="color:#e6db74;">"#btn1"</span>).click(<span style="color:#f92672;">function </span>() {<br>        <span style="color:#a6e22e;">$</span>(<span style="color:#e6db74;">"div"</span>).append(<span style="color:#e6db74;">"&lt;p&gt;</span><span style="color:#e6db74;font-family:'SimSun';">这是一个新的</span><span style="color:#e6db74;">p</span><span style="color:#e6db74;font-family:'SimSun';">元素</span><span style="color:#e6db74;">&lt;/p&gt;"</span>)<span style="color:#5c7ab8;">;<br></span><span style="color:#5c7ab8;">    </span>})<span style="color:#5c7ab8;">;<br></span><span style="color:#5c7ab8;">    </span><span style="color:#a6e22e;">$</span>(<span style="color:#e6db74;">"#btn2"</span>).click(<span style="color:#f92672;">function </span>() {<br>        <span style="color:#a6e22e;">$</span>(<span style="color:#e6db74;">"div"</span>).append(<span style="color:#e6db74;">"&lt;h3&gt;</span><span style="color:#e6db74;font-family:'SimSun';">这是一个新的</span><span style="color:#e6db74;">h3</span><span style="color:#e6db74;font-family:'SimSun';">元素</span><span style="color:#e6db74;">&lt;/h3&gt;"</span>)<span style="color:#5c7ab8;">;<br></span><span style="color:#5c7ab8;">    </span>})<span style="color:#5c7ab8;">;</span><br><br>    <span style="color:#0b8b15;">//on </span><span style="color:#0b8b15;font-family:'SimSun';">方式绑定<br></span><span style="color:#0b8b15;font-family:'SimSun';">    </span><span style="color:#0b8b15;">//</span><span style="color:#0b8b15;font-family:'SimSun';">但是新添加的也不行<br></span><span style="color:#0b8b15;font-family:'SimSun';">    </span><span style="color:#a6e22e;">$</span>(<span style="color:#e6db74;">"</span><span style="color:#f92672;">div h3</span><span style="color:#e6db74;">"</span>).on(<span style="color:#e6db74;">"click"</span><span style="color:#5c7ab8;">, </span><span style="color:#f92672;">function </span>() {<br>        <span style="color:#a6e22e;">$</span>(<span style="color:#f92672;">this</span>).css(<span style="color:#e6db74;">'color'</span><span style="color:#5c7ab8;">, </span><span style="color:#e6db74;">'green'</span>)<br>    })<br>    <span style="color:#0b8b15;">//</span><span style="color:#0b8b15;font-family:'SimSun';">还可以绑定多个<br></span><span style="color:#0b8b15;font-family:'SimSun';">    </span><span style="color:#a6e22e;">$</span>(<span style="color:#e6db74;">"</span><span style="color:#f92672;">div h3</span><span style="color:#e6db74;">"</span>).on(<span style="color:#e6db74;">"click"</span><span style="color:#5c7ab8;">, </span><span style="color:#f92672;">function </span>() {<br>        <span style="color:#a6e22e;">$</span>(<span style="color:#f92672;">this</span>).css(<span style="color:#e6db74;">'background'</span><span style="color:#5c7ab8;">, </span><span style="color:#e6db74;">'yellow'</span>)<br>    })<br><br>    <span style="color:#0b8b15;">//    </span><span style="color:#0b8b15;font-family:'SimSun';">给新增的元素绑定事件<br></span><span style="color:#0b8b15;font-family:'SimSun';">    </span><span style="color:#0b8b15;">//    </span><span style="color:#0b8b15;font-family:'SimSun';">实现方式：冒泡<br></span><span style="color:#0b8b15;font-family:'SimSun';">    </span><span style="color:#0b8b15;">//    </span><span style="color:#0b8b15;font-family:'SimSun';">下面进入我们的主题</span><span style="color:#0b8b15;"> --</span><span style="color:#0b8b15;font-family:'SimSun';">事件流<br></span><span style="color:#0b8b15;font-family:'SimSun';">    </span><span style="color:#0b8b15;">//    </span><span style="color:#0b8b15;font-family:'SimSun';">首先看一个例子<br></span><span style="color:#0b8b15;font-family:'SimSun';">    </span><span style="color:#a6e22e;">$</span>(<span style="color:#e6db74;">"div"</span>).on(<span style="color:#e6db74;">"click"</span><span style="color:#5c7ab8;">, </span><span style="color:#e6db74;">'h3'</span><span style="color:#5c7ab8;">, </span><span style="color:#f92672;">function </span>() {<br>        <span style="color:#a6e22e;">$</span>(<span style="color:#f92672;">this</span>).css(<span style="color:#e6db74;">'color'</span><span style="color:#5c7ab8;">, </span><span style="color:#e6db74;">'green'</span>)<br>    })<br>    <span style="color:#a6e22e;">$</span>(<span style="color:#e6db74;">"div"</span>).on(<span style="color:#e6db74;">"click"</span><span style="color:#5c7ab8;">, </span><span style="color:#e6db74;">'h3'</span><span style="color:#5c7ab8;">, </span><span style="color:#f92672;">function </span>() {<br>        <span style="color:#a6e22e;">$</span>(<span style="color:#f92672;">this</span>).css(<span style="color:#e6db74;">'background'</span><span style="color:#5c7ab8;">, </span><span style="color:#e6db74;">'yellow'</span>)<br>    })<br>&lt;/<span style="color:#bb164b;font-weight:bold;">script</span>&gt;<br></pre></div><div><b>delegate</b></div><div><pre style="background-color:#272822;color:#f8f8f2;font-family:'Source Code Pro';font-size:12.8pt;">&lt;<span style="color:#bb164b;font-weight:bold;">script</span>&gt;<br>    <span style="color:#a6e22e;">$</span>(<span style="color:#e6db74;">"#btn1"</span>).click(<span style="color:#f92672;">function </span>() {<br>        <span style="color:#a6e22e;">$</span>(<span style="color:#e6db74;">"div"</span>).append(<span style="color:#e6db74;">"&lt;p&gt;</span><span style="color:#e6db74;font-family:'SimSun';">这是一个新的</span><span style="color:#e6db74;">p</span><span style="color:#e6db74;font-family:'SimSun';">元素</span><span style="color:#e6db74;">&lt;/p&gt;"</span>)<span style="color:#5c7ab8;">;<br></span><span style="color:#5c7ab8;">    </span>})<span style="color:#5c7ab8;">;<br></span><span style="color:#5c7ab8;">    </span><span style="color:#a6e22e;">$</span>(<span style="color:#e6db74;">"#btn2"</span>).click(<span style="color:#f92672;">function </span>() {<br>        <span style="color:#a6e22e;">$</span>(<span style="color:#e6db74;">"div"</span>).append(<span style="color:#e6db74;">"&lt;h3&gt;</span><span style="color:#e6db74;font-family:'SimSun';">这是一个新的</span><span style="color:#e6db74;">h3</span><span style="color:#e6db74;font-family:'SimSun';">元素</span><span style="color:#e6db74;">&lt;/h3&gt;"</span>)<span style="color:#5c7ab8;">;<br></span><span style="color:#5c7ab8;">    </span>})<span style="color:#5c7ab8;">;<br></span><span style="color:#5c7ab8;"><br></span><span style="color:#5c7ab8;">    </span><span style="color:#0b8b15;">//on </span><span style="color:#0b8b15;font-family:'SimSun';">方式绑定<br></span><span style="color:#0b8b15;font-family:'SimSun';">    </span><span style="color:#0b8b15;">//</span><span style="color:#0b8b15;font-family:'SimSun';">但是新添加的也不行<br></span><span style="color:#0b8b15;font-family:'SimSun';">    </span><span style="color:#a6e22e;">$</span>(<span style="color:#e6db74;">"</span><span style="color:#f92672;">div h3</span><span style="color:#e6db74;">"</span>).on(<span style="color:#e6db74;">"click"</span><span style="color:#5c7ab8;">, </span><span style="color:#f92672;">function </span>() {<br>        <span style="color:#a6e22e;">$</span>(<span style="color:#f92672;">this</span>).css(<span style="color:#e6db74;">'color'</span><span style="color:#5c7ab8;">, </span><span style="color:#e6db74;">'green'</span>)<br>    })<br>    <span style="color:#0b8b15;">//</span><span style="color:#0b8b15;font-family:'SimSun';">还可以绑定多个<br></span><span style="color:#0b8b15;font-family:'SimSun';">    </span><span style="color:#a6e22e;">$</span>(<span style="color:#e6db74;">"</span><span style="color:#f92672;">div h3</span><span style="color:#e6db74;">"</span>).on(<span style="color:#e6db74;">"click"</span><span style="color:#5c7ab8;">, </span><span style="color:#f92672;">function </span>() {<br>        <span style="color:#a6e22e;">$</span>(<span style="color:#f92672;">this</span>).css(<span style="color:#e6db74;">'background'</span><span style="color:#5c7ab8;">, </span><span style="color:#e6db74;">'yellow'</span>)<br>    })<br><br>    <span style="color:#0b8b15;">//    </span><span style="color:#0b8b15;font-family:'SimSun';">给新增的元素绑定事件<br></span><span style="color:#0b8b15;font-family:'SimSun';">    </span><span style="color:#0b8b15;">//    </span><span style="color:#0b8b15;font-family:'SimSun';">实现方式<br></span><span style="color:#0b8b15;font-family:'SimSun';">    </span><span style="color:#0b8b15;">//    </span><span style="color:#0b8b15;font-family:'SimSun';">这个就是冒泡  下面进入我们的主题</span><span style="color:#0b8b15;"> --</span><span style="color:#0b8b15;font-family:'SimSun';">事件流<br></span><span style="color:#0b8b15;font-family:'SimSun';">    </span><span style="color:#0b8b15;">//    </span><span style="color:#0b8b15;font-family:'SimSun';">首先看一个例子<br></span><span style="color:#0b8b15;font-family:'SimSun';">    </span><span style="color:#a6e22e;">$</span>(<span style="color:#e6db74;">"div"</span>).delegate(<span style="color:#e6db74;">'h3'</span><span style="color:#5c7ab8;">, </span><span style="color:#e6db74;">"click"</span><span style="color:#5c7ab8;">, </span><span style="color:#f92672;">function </span>() {<br>        <span style="color:#a6e22e;">$</span>(<span style="color:#f92672;">this</span>).css(<span style="color:#e6db74;">'color'</span><span style="color:#5c7ab8;">, </span><span style="color:#e6db74;">'green'</span>)<br>    })<br>    <span style="color:#a6e22e;">$</span>(<span style="color:#e6db74;">"div"</span>).delegate(<span style="color:#e6db74;">'h3'</span><span style="color:#5c7ab8;">, </span><span style="color:#e6db74;">"click"</span><span style="color:#5c7ab8;">, </span><span style="color:#f92672;">function </span>() {<br>        <span style="color:#a6e22e;">$</span>(<span style="color:#f92672;">this</span>).css(<span style="color:#e6db74;">'background'</span><span style="color:#5c7ab8;">, </span><span style="color:#e6db74;">'yellow'</span>)<br>    })<br>&lt;/<span style="color:#bb164b;font-weight:bold;">script</span>&gt;</pre></div><div><br></div><h2 id="blogTitle18"><b>事件的发展历程</b></h2><div>通过事件的发展历程理解解耦和<b><br></b></div><div><b><br></b></div><div><div><b>直接在html的属性中写JS代码&nbsp;</b></div><div><div>&lt;div onclick="alert(4);"&gt;Div1 Element&lt;/div&gt;</div><div>特点: 静态和动态放在一起,耦合度强</div><div>缺点:不利于分工,耦合度高.</div><div><br></div><div>大概这是上世纪90年代的写法，那时候直接把js代码写在网页中很普遍，也许那时候的js并不太重要，只是用来做做验证或一些花哨的效果而已。</div><div style="font-weight: bold;"><br></div></div><div><b>定义一个函数，赋值给html元素的onXXX属性</b></div><div><div>&lt;script type="text/javascript"&gt;&nbsp;</div><div>&nbsp; &nbsp; function clk(){}&nbsp;</div><div>&lt;/script&gt;&nbsp;</div><div><br></div><div>&lt;div onclick="clk()"&gt;Div2 Element&lt;/div&gt;&nbsp;</div><div><br></div><div>先定义函数clk，然后赋值给onclick属性，这种方式也应该属于上世纪90年代的流行写法。</div><div>比第一种方式好的是它把业务逻辑代码都封装在一个函数里了，使HTML代码与JS代码稍微有点儿分离，不至于第一种那么紧密耦合。</div><div style="font-weight: bold;"><br></div></div><div><b><br></b></div><div><b>第三种添加事件方式，使用element.onXXX方式</b></div><div><pre style="background-color:#272822;color:#f8f8f2;font-family:'Source Code Pro';font-size:11.3pt;">&lt;<span style="color:#bb164b;font-weight:bold;">div </span><span style="color:#a6e22e;">id=</span><span style="color:#e6db74;font-weight:bold;">'div'</span>&gt;&lt;/<span style="color:#bb164b;font-weight:bold;">div</span>&gt;<br>&lt;<span style="color:#bb164b;font-weight:bold;">button </span><span style="color:#a6e22e;">id=</span><span style="color:#e6db74;font-weight:bold;">'btn'</span>&gt;<span style="font-weight:bold;font-family:'SimSun';">使用传统方式</span>&lt;/<span style="color:#bb164b;font-weight:bold;">button</span>&gt;<br><br>&lt;<span style="color:#bb164b;font-weight:bold;">script</span>&gt;<br>    <span style="color:#f92672;">var </span><span style="font-style:italic;">div </span><span style="color:#f92672;">= </span>document.<span style="color:#a6e22e;">getElementById</span>(<span style="color:#e6db74;">'div'</span>)<br>    <span style="color:#f92672;">var </span><span style="font-style:italic;">btn </span><span style="color:#f92672;">= </span>document.<span style="color:#a6e22e;">getElementById</span>(<span style="color:#e6db74;">'btn'</span>)<br>    <span style="font-style:italic;">btn</span>.<span style="color:#a6e22e;">onclick </span><span style="color:#f92672;">= function </span>() {<br>        <span style="font-style:italic;">div</span>.style.background <span style="color:#f92672;">= </span><span style="color:#e6db74;">'red'<br></span><span style="color:#e6db74;">    </span>}<br>&lt;/<span style="color:#bb164b;font-weight:bold;">script</span>&gt;</pre></div><div><br></div><div>这种方式也比较早期，但好处是可以将JS与HTML完全分离，但前提是需要给HTML元素提供一个额外的id属性(或其它能获取该元素对象的方式)。<b>&nbsp;<br></b></div><div><b><br></b></div><div><b>第四种添加事件方式，使用addEventListener或IE专有的attachEvent</b></div></div><div><div>这是目前推荐的方式，较前两种方式功能更为强大，可以为元素添加多个句柄(或称响应函数)，支持事件冒泡或捕获</div><div style="font-weight: bold;"><br></div></div><div><b><br></b></div><h2 id="blogTitle19"><b>事件的发展机制</b></h2><div><div style="font-weight: bold;">因为整个软件开发开发很多来源于建筑学,生活场景.</div><div>比如建筑学:盖楼新思维:模块化改造.</div><div>打仗通过后勤,军队,军师等不同团队.</div><div>操作系统1万多人开发,如何能够有条不紊的进行—分离降低团队之间的互相影响性</div><div style="font-weight: bold;"><br></div></div><div><b>分而治之<br></b></div><div><div>这个道理我们学习只是点出来,真正领悟需要你在工作中随着角色的转变逐步过渡.</div><div><br></div><div>当你工作几年之后担任架构师,项目经理,之后技术总监,CEO就会慢慢体会分离思想.</div><div>架构师：系统的分离</div><div>项目经理：任务，团队的分离</div><div>技术总监：项目，市场，技术</div><div>CEO:财务部，技术部，市场部，战略</div><div style="font-weight: bold;"><br></div></div><h2 id="blogTitle20"><b>DOM0 DOM2概述</b></h2><div><div style="font-weight: bold;">我们将早起的事件写法称之为：DOM0时代。</div><div style="font-weight: bold;">分离的事件写法称之为：DOM2时代。</div><div style="font-weight: bold;"><br></div><h3 style="font-weight: bold;" id="blogTitle21"><b>DOM0</b></h3><div><div>//传统方式实现</div><div>btn.onclick = function() {</div><div><span class="Apple-tab-span" style="white-space:pre"> </span>p.innerHTML = '点击按钮触发第一个事件&lt;br/&gt;';</div><div>}</div><div style="font-weight: bold;"><br></div></div><h3 style="font-weight: bold;" id="blogTitle22"><b>DOM2</b></h3><div><div>//事件流方式:&nbsp;</div><div>//false 表示使用冒泡方式</div><div>btn.addEventListener('click',function() {&nbsp;</div><div><span class="Apple-tab-span" style="white-space:pre">    </span> &nbsp;p.innerHTML += '点击按钮触发第一个事件&lt;br/&gt;';</div><div><span class="Apple-tab-span" style="white-space:pre">  </span></div><div>},false);</div></div><div><b><br></b></div><div style="font-weight: bold;">DOM2 事件流（捕获和冒泡）<br></div><div style="font-weight: bold;"><br></div><div style="font-weight: bold;">事件冒泡定义<br></div><div><div>官方定义:事件按照从最特定的事件目标到最不特定的事件目标(document对象或者body)的顺序触发。</div><div>IE只支持冒泡事件</div></div><div><br></div><div><b>冒泡机制演示</b></div><div><pre style="background-color:#272822;color:#f8f8f2;font-family:'Source Code Pro';font-size:12.0pt;"><span style="color:#75715e;">&lt;!--HTML</span><span style="color:#75715e;font-family:'SimSun';">运行后点击红色区域</span><span style="color:#75715e;">,</span><span style="color:#75715e;font-family:'SimSun';">这是最里层的</span><span style="color:#75715e;">DIV,</span><span style="color:#75715e;font-family:'SimSun';">根据上面说明</span><span style="color:#75715e;">,</span><span style="color:#75715e;font-family:'SimSun';">无论是</span><span style="color:#75715e;">DOM</span><span style="color:#75715e;font-family:'SimSun';">标准还是</span><span style="color:#75715e;">IE,<br></span><span style="color:#75715e;font-family:'SimSun';">直接写在</span><span style="color:#75715e;">html</span><span style="color:#75715e;font-family:'SimSun';">里的监听处理函数是事件冒泡传递时调用的</span><span style="color:#75715e;">,</span><span style="color:#75715e;font-family:'SimSun';">由最里层一直往上传递</span><span style="color:#75715e;">,</span><span style="color:#75715e;font-family:'SimSun';">所以会<br></span><span style="color:#75715e;font-family:'SimSun';">先后出现<br></span><span style="color:#75715e;">--&gt;<br></span>&lt;<span style="color:#bb164b;font-weight:bold;">body </span><span style="color:#a6e22e;">onclick=</span><span style="color:#e6db74;font-weight:bold;">"</span><span style="color:#a6e22e;">alert</span>(<span style="color:#e6db74;">'current is body'</span>)<span style="color:#5c7ab8;">;</span><span style="color:#e6db74;font-weight:bold;">"</span>&gt;<br>&lt;<span style="color:#bb164b;font-weight:bold;">div </span><span style="color:#a6e22e;">id=</span><span style="color:#e6db74;font-weight:bold;">"div0" </span><span style="color:#a6e22e;">onclick=</span><span style="color:#e6db74;font-weight:bold;">"</span><span style="color:#a6e22e;">alert</span>(<span style="color:#e6db74;">'</span><span style="color:#e6db74;font-family:'SimSun';">你好</span><span style="color:#e6db74;"> '</span><span style="color:#f92672;">+this</span>.id<span style="color:#f92672;">+</span><span style="color:#e6db74;">'</span><span style="color:#e6db74;font-family:'SimSun';">黄色</span><span style="color:#e6db74;">'</span>)<span style="color:#e6db74;font-weight:bold;">"</span>&gt;<br>    &lt;<span style="color:#bb164b;font-weight:bold;">div </span><span style="color:#a6e22e;">id=</span><span style="color:#e6db74;font-weight:bold;">"div1" </span><span style="color:#a6e22e;">onclick=</span><span style="color:#e6db74;font-weight:bold;">"</span><span style="color:#a6e22e;">alert</span>(<span style="color:#e6db74;">'</span><span style="color:#e6db74;font-family:'SimSun';">你好</span><span style="color:#e6db74;"> '</span><span style="color:#f92672;">+this</span>.id<span style="color:#f92672;">+</span><span style="color:#e6db74;">'</span><span style="color:#e6db74;font-family:'SimSun';">蓝色</span><span style="color:#e6db74;">'</span>)<span style="color:#e6db74;font-weight:bold;">"</span>&gt;<br>        &lt;<span style="color:#bb164b;font-weight:bold;">div </span><span style="color:#a6e22e;">id=</span><span style="color:#e6db74;font-weight:bold;">"div2" </span><span style="color:#a6e22e;">onclick=</span><span style="color:#e6db74;font-weight:bold;">"</span><span style="color:#a6e22e;">alert</span>(<span style="color:#e6db74;">'</span><span style="color:#e6db74;font-family:'SimSun';">你好</span><span style="color:#e6db74;"> '</span><span style="color:#f92672;">+this</span>.id<span style="color:#f92672;">+</span><span style="color:#e6db74;">'</span><span style="color:#e6db74;font-family:'SimSun';">绿色</span><span style="color:#e6db74;">'</span>)<span style="color:#e6db74;font-weight:bold;">"</span>&gt;<br>            &lt;<span style="color:#bb164b;font-weight:bold;">div </span><span style="color:#a6e22e;">id=</span><span style="color:#e6db74;font-weight:bold;">"div3" </span><span style="color:#a6e22e;">onclick=</span><span style="color:#e6db74;font-weight:bold;">"</span><span style="color:#a6e22e;">alert</span>(<span style="color:#e6db74;">'</span><span style="color:#e6db74;font-family:'SimSun';">你好</span><span style="color:#e6db74;">'</span><span style="color:#f92672;">+this</span>.id<span style="color:#f92672;">+</span><span style="color:#e6db74;">'</span><span style="color:#e6db74;font-family:'SimSun';">红色</span><span style="color:#e6db74;">'</span>)<span style="color:#e6db74;font-weight:bold;">"</span>&gt;<br>            &lt;/<span style="color:#bb164b;font-weight:bold;">div</span>&gt;<br>        &lt;/<span style="color:#bb164b;font-weight:bold;">div</span>&gt;<br>    &lt;/<span style="color:#bb164b;font-weight:bold;">div</span>&gt;<br>&lt;/<span style="color:#bb164b;font-weight:bold;">div</span>&gt;<br>&lt;/<span style="color:#bb164b;font-weight:bold;">body</span>&gt;</pre></div><div><br></div><div><b>基于冒泡引出捕获</b><br></div></div><div><div>捕获:三个字 -- 倒过来</div><div style="font-weight: bold;"><br></div></div><div style="font-weight: bold;">捕获机制演示</div><div style="font-weight: bold;"><pre style="background-color:#272822;color:#f8f8f2;font-family:'Source Code Pro';font-size:10.5pt;"><span style="color:#75715e;">&lt;!--</span><span style="color:#75715e;font-family:'SimSun';">点击事件捕获，就是当你点击一个按钮，程序会从最外层开始遍历，直到找到你点击的元素</span><span style="color:#75715e;">--&gt;<br></span><span style="color:#75715e;">&lt;!-- </span><span style="color:#75715e;font-family:'SimSun';">这里，当你点击事件冒泡按钮后，先从最上面开始，也就是</span><span style="color:#75715e;">body</span><span style="color:#75715e;font-family:'SimSun';">开始<br></span><span style="color:#75715e;font-family:'SimSun';">    然后找到</span><span style="color:#75715e;">body</span><span style="color:#75715e;font-family:'SimSun';">的儿子，</span><span style="color:#75715e;">div<br></span><span style="color:#75715e;">       </span><span style="color:#75715e;font-family:'SimSun';">然后再找到</span><span style="color:#75715e;">div</span><span style="color:#75715e;font-family:'SimSun';">的儿子，</span><span style="color:#75715e;">button </span><span style="color:#75715e;font-family:'SimSun';">捕获<br></span><span style="color:#75715e;font-family:'SimSun';">    捕获完后开始冒泡<br></span><span style="color:#75715e;font-family:'SimSun';">    </span><span style="color:#75715e;">--&gt;<br></span>&lt;<span style="color:#bb164b;font-weight:bold;">div</span>&gt;<br>    &lt;<span style="color:#bb164b;font-weight:bold;">button </span><span style="color:#a6e22e;">type=</span><span style="color:#e6db74;font-weight:bold;">"button" </span><span style="color:#a6e22e;">id=</span><span style="color:#e6db74;font-weight:bold;">"buhuo"</span>&gt;<span style="font-weight:bold;font-family:'SimSun';">事件捕获</span>&lt;/<span style="color:#bb164b;font-weight:bold;">button</span>&gt;<br>    &lt;<span style="color:#bb164b;font-weight:bold;">button </span><span style="color:#a6e22e;">id=</span><span style="color:#e6db74;font-weight:bold;">"paopao"</span>&gt;<span style="font-weight:bold;font-family:'SimSun';">事件冒泡</span>&lt;/<span style="color:#bb164b;font-weight:bold;">button</span>&gt;<br>&lt;/<span style="color:#bb164b;font-weight:bold;">div</span>&gt;<br><br>&lt;<span style="color:#bb164b;font-weight:bold;">script </span><span style="color:#a6e22e;">type=</span><span style="color:#e6db74;font-weight:bold;">"text/javascript"</span>&gt;<br>    <span style="color:#a6e22e;">$</span>(<span style="color:#f92672;">function </span>() {<br>        <span style="color:#a6e22e;">$</span>(<span style="color:#e6db74;">'#paopao'</span>).click(<span style="color:#f92672;">function </span>() {<br>            <span style="color:#a6e22e;">alert</span>(<span style="color:#e6db74;">'hello'</span>)<span style="color:#5c7ab8;">;<br></span><span style="color:#5c7ab8;">        </span>})<span style="color:#5c7ab8;">;<br></span><span style="color:#5c7ab8;">        </span><span style="color:#a6e22e;">$</span>(<span style="color:#e6db74;">'body'</span>).click(<span style="color:#f92672;">function </span>() {<br>            <span style="color:#a6e22e;">alert</span>(<span style="color:#e6db74;">'body'</span>)<span style="color:#5c7ab8;">;<br></span><span style="color:#5c7ab8;">        </span>})<span style="color:#5c7ab8;">;<br></span><span style="color:#5c7ab8;">    </span>})<span style="color:#5c7ab8;">;<br></span>&lt;/<span style="color:#bb164b;font-weight:bold;">script</span>&gt;</pre></div><div style="font-weight: bold;"><br></div><div><b>事件流</b><br></div><div><div>事件流综合了两种方式:先捕获后冒泡..</div><div><br></div><div>W3C模型是将两者进行中和，在W3C模型中，任何事件发生时，先从顶层开始进行事件捕获，直到事件触发到达了事件源元素。然后，再从事件源往上进行事件冒泡，直到到达document。</div><div style="font-weight: bold;"><br></div></div><div><b>Dom2级事件处理程序<br></b></div><div><div>addEventListener-观察者模式-工厂模式：</div><div>Dom2级事件处理程序添加事件方法</div><div>参数：</div><div>事件名称（无‘on’）【必须】, &nbsp;</div><div>事件回调函数【必须】，&nbsp;</div><div>是否在捕获阶段执行{默认：false}）</div><div>调用：btn.addEventListener('click', Fn, false);</div><div style="font-weight: bold;"><br></div></div><div><b>DOM0、2同时存在，执行顺序<br></b></div><div><div>DOM0优先执行</div><div><pre style="background-color:#272822;color:#f8f8f2;font-family:'Source Code Pro';font-size:10.5pt;">&lt;<span style="color:#bb164b;font-weight:bold;">button</span>&gt;<span style="font-weight:bold;font-family:'SimSun';">按钮</span>&lt;/<span style="color:#bb164b;font-weight:bold;">button</span>&gt;<br>&lt;<span style="color:#bb164b;font-weight:bold;">button</span>&gt;<span style="font-weight:bold;font-family:'SimSun';">第二个按钮</span>&lt;/<span style="color:#bb164b;font-weight:bold;">button</span>&gt;<br>&lt;<span style="color:#bb164b;font-weight:bold;">p</span>&gt;&lt;/<span style="color:#bb164b;font-weight:bold;">p</span>&gt;<br><br>&lt;<span style="color:#bb164b;font-weight:bold;">script </span><span style="color:#a6e22e;">type=</span><span style="color:#e6db74;font-weight:bold;">"text/javascript"</span>&gt;<br>    <span style="color:#f92672;">var </span><span style="font-style:italic;">btn </span><span style="color:#f92672;">= </span>document.<span style="color:#a6e22e;">getElementsByTagName</span>(<span style="color:#e6db74;">'button'</span>)[<span style="color:#ae81ff;">0</span>]<span style="color:#5c7ab8;">;<br></span><span style="color:#5c7ab8;">    </span><span style="color:#f92672;">var </span><span style="font-style:italic;">btn1 </span><span style="color:#f92672;">= </span>document.<span style="color:#a6e22e;">getElementsByTagName</span>(<span style="color:#e6db74;">'button'</span>)[<span style="color:#ae81ff;">1</span>]<span style="color:#5c7ab8;">;<br></span><span style="color:#5c7ab8;">    </span><span style="color:#f92672;">var </span><span style="font-style:italic;">p </span><span style="color:#f92672;">= </span>document.<span style="color:#a6e22e;">getElementsByTagName</span>(<span style="color:#e6db74;">'p'</span>)[<span style="color:#ae81ff;">0</span>]<span style="color:#5c7ab8;">;<br></span><span style="color:#5c7ab8;"><br></span><span style="color:#5c7ab8;">    </span><span style="color:#0b8b15;">//</span><span style="color:#0b8b15;font-family:'SimSun';">传统方式实现<br></span><span style="color:#0b8b15;font-family:'SimSun';">    </span><span style="font-style:italic;">btn</span>.<span style="color:#a6e22e;">onclick </span><span style="color:#f92672;">= function </span>() {<br>        <span style="font-style:italic;">p</span>.innerHTML <span style="color:#f92672;">= </span><span style="color:#e6db74;">'</span><span style="color:#e6db74;font-family:'SimSun';">传统方式实现</span><span style="color:#e6db74;">&lt;br/&gt;'</span><span style="color:#5c7ab8;">;<br></span><span style="color:#5c7ab8;">    </span>}<br>    <span style="color:#0b8b15;">//false </span><span style="color:#0b8b15;font-family:'SimSun';">表示使用冒泡方式<br></span><span style="color:#0b8b15;font-family:'SimSun';">    </span><span style="font-style:italic;">btn</span>.<span style="color:#a6e22e;">addEventListener</span>(<span style="color:#e6db74;">'click'</span><span style="color:#5c7ab8;">, </span><span style="color:#f92672;">function </span>() {<br>        <span style="font-style:italic;">p</span>.innerHTML <span style="color:#f92672;">+= </span><span style="color:#e6db74;">'</span><span style="color:#e6db74;font-family:'SimSun';">冒泡方式实现</span><span style="color:#e6db74;">&lt;br/&gt;'</span><span style="color:#5c7ab8;">;<br></span><span style="color:#5c7ab8;"><br></span><span style="color:#5c7ab8;">    </span>}<span style="color:#5c7ab8;">, </span><span style="color:#f92672;">false</span>)<span style="color:#5c7ab8;">;<br></span><span style="color:#5c7ab8;"><br></span><span style="color:#5c7ab8;"><br></span><span style="color:#5c7ab8;">    </span><span style="color:#0b8b15;">//btn.addEventListener('click', function(){<br></span><span style="color:#0b8b15;">    // p.innerHTML += '</span><span style="color:#0b8b15;font-family:'SimSun';">点击按钮触发第一个事件</span><span style="color:#0b8b15;">&lt;br/&gt;';<br></span><span style="color:#0b8b15;">    //}, false);<br></span><span style="color:#0b8b15;">    //btn.addEventListener('click', function(){<br></span><span style="color:#0b8b15;">    // p.innerHTML += '</span><span style="color:#0b8b15;font-family:'SimSun';">点击按钮触发第二个事件</span><span style="color:#0b8b15;">&lt;br/&gt;';<br></span><span style="color:#0b8b15;">    //}, false);<br></span><span style="color:#0b8b15;">    //btn.addEventListener('click', function(){<br></span><span style="color:#0b8b15;">    // p.innerHTML += '</span><span style="color:#0b8b15;font-family:'SimSun';">点击按钮触发第三个事件</span><span style="color:#0b8b15;">&lt;br/&gt;';<br></span><span style="color:#0b8b15;">    //}, true);<br></span><span style="color:#0b8b15;">    //<br></span><span style="color:#0b8b15;">    //function addClickEvent1(){<br></span><span style="color:#0b8b15;">    // p.innerHTML += '</span><span style="color:#0b8b15;font-family:'SimSun';">点击第二个按钮触发第一个事件</span><span style="color:#0b8b15;">&lt;br/&gt;';<br></span><span style="color:#0b8b15;">    //}<br></span><span style="color:#0b8b15;">    //function addClickEvent2(){<br></span><span style="color:#0b8b15;">    // p.innerHTML += '</span><span style="color:#0b8b15;font-family:'SimSun';">点击第二个按钮触发第二个事件</span><span style="color:#0b8b15;">&lt;br/&gt;';<br></span><span style="color:#0b8b15;">    //}<br></span><span style="color:#0b8b15;">    //btn1.addEventListener('click', addClickEvent1, false);<br></span><span style="color:#0b8b15;">    //btn1.addEventListener('click', addClickEvent1, false);<br></span><span style="color:#0b8b15;">    //btn1.addEventListener('click', addClickEvent2, false);<br></span><span style="color:#0b8b15;">    //btn1.removeEventListener('click', addClickEvent2, false);<br></span>&lt;/<span style="color:#bb164b;font-weight:bold;">script</span>&gt;</pre></div><div style="font-weight: bold;"><br></div></div><div><b>DOM0 2绑定事件比较和优点</b><br></div><div><div>DOM0绑定事件会自动覆盖前面的绑定,一个元素只能绑定一个事件</div><div>DOM2 优点1 可以一个元素绑定多个事件</div><div>DOM2 优点2 可以解除绑定<br></div><div>DOM2 优点3 事件委托&nbsp;</div></div><div><pre style="background-color:#272822;color:#f8f8f2;font-family:'Source Code Pro';font-size:12.0pt;">&lt;<span style="color:#bb164b;font-weight:bold;">button </span><span style="color:#a6e22e;">id=</span><span style="color:#e6db74;font-weight:bold;">'btn2'</span>&gt;<span style="font-weight:bold;font-family:'SimSun';">传统方式</span>&lt;/<span style="color:#bb164b;font-weight:bold;">button</span>&gt;<br>&lt;<span style="color:#bb164b;font-weight:bold;">button </span><span style="color:#a6e22e;">id=</span><span style="color:#e6db74;font-weight:bold;">'btn'</span>&gt;<span style="font-weight:bold;font-family:'SimSun';">事件流方式</span>&lt;/<span style="color:#bb164b;font-weight:bold;">button</span>&gt;<br>&lt;<span style="color:#bb164b;font-weight:bold;">div </span><span style="color:#a6e22e;">id=</span><span style="color:#e6db74;font-weight:bold;">'div'</span>&gt;&lt;/<span style="color:#bb164b;font-weight:bold;">div</span>&gt;<br><br>&lt;<span style="color:#bb164b;font-weight:bold;">script</span>&gt;<br>    <span style="color:#f92672;">var </span><span style="font-style:italic;">div </span><span style="color:#f92672;">= </span>document.<span style="color:#a6e22e;">getElementById</span>(<span style="color:#e6db74;">'div'</span>)<span style="color:#5c7ab8;">;<br></span><span style="color:#5c7ab8;">    </span><span style="color:#0b8b15;">//</span><span style="color:#0b8b15;font-family:'SimSun';">传统方式<br></span><span style="color:#0b8b15;font-family:'SimSun';">    </span><span style="color:#f92672;">var </span><span style="font-style:italic;">btn2 </span><span style="color:#f92672;">= </span>document.<span style="color:#a6e22e;">getElementById</span>(<span style="color:#e6db74;">'btn2'</span>)<span style="color:#5c7ab8;">;<br></span><span style="color:#5c7ab8;">    </span><span style="color:#0b8b15;">//</span><span style="color:#0b8b15;font-family:'SimSun';">新的方式<br></span><span style="color:#0b8b15;font-family:'SimSun';">    </span><span style="color:#f92672;">var </span><span style="font-style:italic;">btn </span><span style="color:#f92672;">= </span>document.<span style="color:#a6e22e;">getElementById</span>(<span style="color:#e6db74;">'btn'</span>)<span style="color:#5c7ab8;">;<br></span><span style="color:#5c7ab8;"><br></span><span style="color:#5c7ab8;">    </span><span style="font-style:italic;">btn2</span>.<span style="color:#a6e22e;">onclick </span><span style="color:#f92672;">= function </span>() {<br>        <span style="font-style:italic;">div</span>.innerHTML <span style="color:#f92672;">+= </span><span style="color:#e6db74;">'</span><span style="color:#e6db74;font-family:'SimSun';">传统方式</span><span style="color:#e6db74;">1'</span><span style="color:#5c7ab8;">;<br></span><span style="color:#5c7ab8;">    </span>}<br>    <span style="color:#0b8b15;">//</span><span style="color:#0b8b15;font-family:'SimSun';">只能覆盖，以最后定义的为准<br></span><span style="color:#0b8b15;font-family:'SimSun';">    </span><span style="font-style:italic;">btn2</span>.<span style="color:#a6e22e;">onclick </span><span style="color:#f92672;">= function </span>() {<br>        <span style="font-style:italic;">div</span>.innerHTML <span style="color:#f92672;">+= </span><span style="color:#e6db74;">'</span><span style="color:#e6db74;font-family:'SimSun';">传统方式</span><span style="color:#e6db74;">2'</span><span style="color:#5c7ab8;">;<br></span><span style="color:#5c7ab8;">    </span>}<br>    <br>    <span style="color:#0b8b15;">//</span><span style="color:#0b8b15;font-family:'SimSun';">标准体系</span><span style="color:#0b8b15;"> - </span><span style="color:#0b8b15;font-family:'SimSun';">优点：可以绑定多个方法<br></span><span style="color:#0b8b15;font-family:'SimSun';">    </span><span style="font-style:italic;">btn</span>.<span style="color:#a6e22e;">addEventListener</span>(<span style="color:#e6db74;">'click'</span><span style="color:#5c7ab8;">, </span><span style="color:#a6e22e;">fn1</span><span style="color:#5c7ab8;">, </span><span style="color:#f92672;">false</span>)<span style="color:#5c7ab8;">;<br></span><span style="color:#5c7ab8;">    </span><span style="font-style:italic;">btn</span>.<span style="color:#a6e22e;">addEventListener</span>(<span style="color:#e6db74;">'click'</span><span style="color:#5c7ab8;">, </span><span style="color:#a6e22e;">fn2</span><span style="color:#5c7ab8;">, </span><span style="color:#f92672;">false</span>)<span style="color:#5c7ab8;">;<br></span><span style="color:#5c7ab8;">    </span><span style="font-style:italic;">btn</span>.<span style="color:#a6e22e;">addEventListener</span>(<span style="color:#e6db74;">'click'</span><span style="color:#5c7ab8;">, </span><span style="color:#a6e22e;">fn3</span><span style="color:#5c7ab8;">, </span><span style="color:#f92672;">false</span>)<span style="color:#5c7ab8;">;<br></span><span style="color:#5c7ab8;">    </span><span style="color:#f92672;">var </span><span style="font-style:italic;">shanghai </span><span style="color:#f92672;">= </span><span style="color:#ae81ff;">1000</span><span style="color:#5c7ab8;">;<br></span><span style="color:#5c7ab8;">    </span><span style="color:#f92672;">function </span><span style="color:#a6e22e;">fn1</span>() {<br>        <span style="font-style:italic;">div</span>.innerHTML <span style="color:#f92672;">+= </span><span style="color:#e6db74;">'</span><span style="color:#e6db74;font-family:'SimSun';">当前元素</span><span style="color:#e6db74;">:1'</span><span style="color:#5c7ab8;">;<br></span><span style="color:#5c7ab8;">        </span><span style="font-style:italic;">shanghai </span><span style="color:#f92672;">+= </span><span style="color:#ae81ff;">1000</span><span style="color:#5c7ab8;">;<br></span><span style="color:#5c7ab8;">    </span>}<br>    <span style="color:#f92672;">function </span><span style="color:#a6e22e;">fn2</span>() {<br>        <span style="font-style:italic;">div</span>.innerHTML <span style="color:#f92672;">+= </span><span style="color:#e6db74;">'</span><span style="color:#e6db74;font-family:'SimSun';">当前元素</span><span style="color:#e6db74;">:2'</span><span style="color:#5c7ab8;">;<br></span><span style="color:#5c7ab8;">        </span><span style="font-style:italic;">shanghai </span><span style="color:#f92672;">+= </span><span style="color:#ae81ff;">2000</span><span style="color:#5c7ab8;">;<br></span><span style="color:#5c7ab8;">    </span>}<br>    <span style="color:#f92672;">function </span><span style="color:#a6e22e;">fn3</span>() {<br>        <span style="font-style:italic;">div</span>.innerHTML <span style="color:#f92672;">+= </span><span style="color:#e6db74;">'</span><span style="color:#e6db74;font-family:'SimSun';">当前元素</span><span style="color:#e6db74;">:3'</span><span style="color:#5c7ab8;">;<br></span><span style="color:#5c7ab8;">        </span><span style="font-style:italic;">shanghai </span><span style="color:#f92672;">+= </span><span style="color:#ae81ff;">2000</span><span style="color:#5c7ab8;">;<br></span><span style="color:#5c7ab8;">    </span>}<br>    <br>    <span style="color:#0b8b15;">//    </span><span style="color:#0b8b15;font-family:'SimSun';">解除绑定<br></span><span style="color:#0b8b15;font-family:'SimSun';">    </span><span style="font-style:italic;">btn</span>.<span style="color:#a6e22e;">removeEventListener</span>(<span style="color:#e6db74;">'click'</span><span style="color:#5c7ab8;">, </span><span style="color:#a6e22e;">fn3</span><span style="color:#5c7ab8;">, </span><span style="color:#f92672;">false</span>)<span style="color:#5c7ab8;">;<br></span><span style="color:#5c7ab8;">    </span><span style="font-style:italic;">btn</span>.<span style="color:#a6e22e;">removeEventListener</span>(<span style="color:#e6db74;">'click'</span><span style="color:#5c7ab8;">, </span><span style="color:#a6e22e;">fn2</span><span style="color:#5c7ab8;">, </span><span style="color:#f92672;">false</span>)<br>    <span style="font-style:italic;">btn</span>.<span style="color:#a6e22e;">addEventListener</span>(<span style="color:#e6db74;">'click'</span><span style="color:#5c7ab8;">, </span><span style="color:#a6e22e;">fn2</span><span style="color:#5c7ab8;">, </span><span style="color:#f92672;">false</span>)<br>&lt;/<span style="color:#bb164b;font-weight:bold;">script</span>&gt;</pre></div><div><div style="font-weight: bold;"><br></div></div><div style="font-weight: bold;"><br></div><div><b>标准组织移除事件</b><br></div><div><div>removeEventListener：</div><div>dom2级移除事件处理程序方法，参数以及调用方式同addEventListener。</div><div>btn.removeEventListener('click', Fn, false);</div><div>注意：匿名函数不能移除</div><div><pre style="background-color:#272822;color:#f8f8f2;font-family:'Source Code Pro';font-size:12.0pt;">&lt;<span style="color:#bb164b;font-weight:bold;">button </span><span style="color:#a6e22e;">id=</span><span style="color:#e6db74;font-weight:bold;">"btn"</span>&gt;<span style="font-weight:bold;font-family:'SimSun';">按钮</span>&lt;/<span style="color:#bb164b;font-weight:bold;">button</span>&gt;<br>&lt;<span style="color:#bb164b;font-weight:bold;">p</span>&gt;&lt;/<span style="color:#bb164b;font-weight:bold;">p</span>&gt;<br><br>&lt;<span style="color:#bb164b;font-weight:bold;">script </span><span style="color:#a6e22e;">type=</span><span style="color:#e6db74;font-weight:bold;">"text/javascript"</span>&gt;<br>    <span style="color:#f92672;">function </span><span style="color:#a6e22e;">on</span>(<span style="color:#fd971f;font-style:italic;">id</span><span style="color:#5c7ab8;">, </span><span style="color:#fd971f;font-style:italic;">type</span><span style="color:#5c7ab8;">, </span><span style="color:#fd971f;font-style:italic;">fn</span>) {<br>        <span style="color:#f92672;">var </span>dom <span style="color:#f92672;">= </span>document.<span style="color:#a6e22e;">getElementById</span>(<span style="color:#fd971f;font-style:italic;">id</span>)<span style="color:#5c7ab8;">;<br></span><span style="color:#5c7ab8;">        </span><span style="color:#0b8b15;">//</span><span style="color:#0b8b15;font-family:'SimSun';">如果支持<br></span><span style="color:#0b8b15;font-family:'SimSun';">        </span><span style="color:#0b8b15;">//W3C</span><span style="color:#0b8b15;font-family:'SimSun';">版本</span><span style="color:#0b8b15;"> --</span><span style="color:#0b8b15;font-family:'SimSun';">火狐 谷歌 等大多数浏览器<br></span><span style="color:#0b8b15;font-family:'SimSun';">        </span><span style="color:#0b8b15;">//</span><span style="color:#0b8b15;font-family:'SimSun';">如果你想检测对象是否支持某个属性，方法，可以通过这种方式<br></span><span style="color:#0b8b15;font-family:'SimSun';">        </span><span style="color:#f92672;">if </span>(dom.<span style="color:#a6e22e;">addEventListener</span>) {<br>            dom.<span style="color:#a6e22e;">addEventListener</span>(<span style="color:#fd971f;font-style:italic;">type</span><span style="color:#5c7ab8;">, </span><span style="color:#fd971f;font-style:italic;">fn</span><span style="color:#5c7ab8;">, </span><span style="color:#f92672;">false</span>)<span style="color:#5c7ab8;">;<br></span><span style="color:#5c7ab8;">        </span>} <span style="color:#f92672;">else if </span>(dom.<span style="color:#a6e22e;">attachEvent</span>) {<br>            <span style="color:#0b8b15;">//</span><span style="color:#0b8b15;font-family:'SimSun';">如果支持</span><span style="color:#0b8b15;"> --IE<br></span><span style="color:#0b8b15;">            </span>dom.<span style="color:#a6e22e;">attachEvent</span>(<span style="color:#e6db74;">'on' </span><span style="color:#f92672;">+ </span><span style="color:#fd971f;font-style:italic;">type</span><span style="color:#5c7ab8;">, </span><span style="color:#fd971f;font-style:italic;">fn</span>)<span style="color:#5c7ab8;">;<br></span><span style="color:#5c7ab8;">        </span>}<br>    }<br><br>    <span style="color:#f92672;">function </span><span style="color:#a6e22e;">un</span>(<span style="color:#fd971f;font-style:italic;">id</span><span style="color:#5c7ab8;">, </span><span style="color:#fd971f;font-style:italic;">type</span><span style="color:#5c7ab8;">, </span><span style="color:#fd971f;font-style:italic;">fn</span>) {<br>        <span style="color:#f92672;">var </span>dom <span style="color:#f92672;">= </span>document.<span style="color:#a6e22e;">getElementById</span>(<span style="color:#fd971f;font-style:italic;">id</span>)<span style="color:#5c7ab8;">;<br></span><span style="color:#5c7ab8;">        </span><span style="color:#f92672;">if </span>(dom.<span style="color:#a6e22e;">removeEventListener</span>) {<br>            dom.<span style="color:#a6e22e;">removeEventListener</span>(<span style="color:#fd971f;font-style:italic;">type</span><span style="color:#5c7ab8;">, </span><span style="color:#fd971f;font-style:italic;">fn</span>)<span style="color:#5c7ab8;">;<br></span><span style="color:#5c7ab8;">        </span>} <span style="color:#f92672;">else if </span>(dom.<span style="color:#a6e22e;">detachEvent</span>) {<br>            dom.<span style="color:#a6e22e;">detachEvent</span>(<span style="color:#e6db74;">'on' </span><span style="color:#f92672;">+ </span><span style="color:#fd971f;font-style:italic;">type</span><span style="color:#5c7ab8;">, </span><span style="color:#fd971f;font-style:italic;">fn</span>)<span style="color:#5c7ab8;">;<br></span><span style="color:#5c7ab8;">        </span>}<br>    }<br><br>    <span style="color:#0b8b15;">//</span><span style="color:#0b8b15;font-family:'SimSun';">测试<br></span><span style="color:#0b8b15;font-family:'SimSun';">    </span><span style="color:#a6e22e;">on</span>(<span style="color:#e6db74;">'btn'</span><span style="color:#5c7ab8;">, </span><span style="color:#e6db74;">'click'</span><span style="color:#5c7ab8;">, </span><span style="color:#f92672;">function </span>() {<br>        document.<span style="color:#a6e22e;">getElementsByTagName</span>(<span style="color:#e6db74;">'p'</span>)[<span style="color:#ae81ff;">0</span>].innerHTML <span style="color:#f92672;">= </span><span style="color:#e6db74;">'</span><span style="color:#e6db74;font-family:'SimSun';">成功绑定了事件</span><span style="color:#e6db74;">'<br></span><span style="color:#e6db74;">    </span>})<span style="color:#5c7ab8;">;<br></span>&lt;/<span style="color:#bb164b;font-weight:bold;">script</span>&gt;</pre></div><div><br></div><div style="font-weight: bold;"><br></div></div><div><b>什么是事件委托</b></div><div><div><pre style="background-color:#272822;color:#f8f8f2;font-family:'Source Code Pro';font-size:10.5pt;"><br><span style="color:#0b8b15;">//    </span><span style="color:#0b8b15;font-family:'SimSun';">委托就是本来自己的事情委托给别人<br></span><span style="color:#0b8b15;">//    </span><span style="color:#0b8b15;font-family:'SimSun';">公司有很多人，为什么设置前台，就是大家可以专心工作，所有人员访问都先经过前台，前台代理你来处理各种事情<br></span><span style="color:#0b8b15;font-family:'SimSun';"><br></span><span style="color:#0b8b15;">//    </span><span style="color:#0b8b15;font-family:'SimSun';">在事件中，如果我们需要针对很多元素执行相同的事件，则可以在其父元素上添加事件，通过捕获和冒泡寻找到子元素<br></span><span style="color:#0b8b15;">//    </span><span style="color:#0b8b15;font-family:'SimSun';">这样我们就不用针对每个元素进行事件绑定了，这就是捕获冒泡的好处和核心用法</span></pre></div><div><b><br></b></div><div><b>事件委托使用方法</b><br></div></div><div><div>利用冒泡的原理，把事件加到父级上，触发执行效果。</div><div>在事件体内获取您需要的目标元素</div><div style="font-weight: bold;"><br></div></div><div style="font-weight: bold;">事件委托优点</div><div><div>提高性能,减少内存占用</div><div>在父元素上绑定事件处理子元素事件逻辑，避免事件回调程序的多次绑定</div><div style="font-weight: bold;"><br></div></div><div><div>动态添加的元素默认是无法触发事件的</div><div>事件委托不仅可以实现现有元素功能，还能对未来元素进行处理</div><div style="font-weight: bold;"><br></div></div><div><b>适合采用事件委托技术的事件</b><br></div><div><div>click,mousedown,mouseup,keydown,keyup和keypress</div><div><br></div><div>虽然mouseover和mouseout事件也冒 泡，但要适当处理它们并不容易，而且经常需要计算元素的位置（因为当鼠标从一个元素移到其他子节点时，或者当鼠标移出该元素时，都会触发mouseout 事件）。</div><div style="font-weight: bold;"><br></div></div><div style="font-weight: bold;"><br></div><h2 id="blogTitle23"><b>事件进化论</b></h2><h2 id="blogTitle24"><b>事件发展趋势 -&nbsp;</b><b>代码的分离</b></h2><div><pre style="background-color:#272822;color:#f8f8f2;font-family:'Source Code Pro';font-size:12.0pt;"><span style="color:#75715e;">&lt;!-- </span><span style="color:#75715e;font-family:'SimSun';">事件的发展趋势 ： 解耦合 代码分离<br></span><span style="color:#75715e;font-family:'SimSun';">目的：团队化作战 降低不同能力之间的合作的彼此依赖 </span><span style="color:#75715e;">--&gt;<br></span><span style="color:#75715e;"><br></span><span style="color:#75715e;">&lt;!--//80</span><span style="color:#75715e;font-family:'SimSun';">年代之前</span><span style="color:#75715e;">--&gt;<br></span>&lt;<span style="color:#bb164b;font-weight:bold;">button </span><span style="color:#a6e22e;">onclick=</span><span style="color:#e6db74;font-weight:bold;">"</span><span style="color:#a6e22e;">alert</span>(<span style="color:#e6db74;">'nihao'</span>)<span style="color:#e6db74;font-weight:bold;">"</span>&gt;<span style="font-weight:bold;font-family:'SimSun';">你好</span>&lt;/<span style="color:#bb164b;font-weight:bold;">button</span>&gt;<br><br><span style="color:#75715e;">&lt;!--90</span><span style="color:#75715e;font-family:'SimSun';">年代分离</span><span style="color:#75715e;">--&gt;<br></span>&lt;<span style="color:#bb164b;font-weight:bold;">button </span><span style="color:#a6e22e;">onclick=</span><span style="color:#e6db74;font-weight:bold;">'</span><span style="color:#a6e22e;">testfn</span>()<span style="color:#e6db74;font-weight:bold;">'</span>&gt;<span style="font-weight:bold;font-family:'SimSun';">你好</span>&lt;/<span style="color:#bb164b;font-weight:bold;">button</span>&gt;<br><br><span style="color:#75715e;">&lt;!--2002</span><span style="color:#75715e;font-family:'SimSun';">年</span><span style="color:#75715e;">--&gt;<br></span>&lt;<span style="color:#bb164b;font-weight:bold;">button </span><span style="color:#a6e22e;">id=</span><span style="color:#e6db74;font-weight:bold;">'btn'</span>&gt;&lt;/<span style="color:#bb164b;font-weight:bold;">button</span>&gt;<br><br>&lt;<span style="color:#bb164b;font-weight:bold;">script</span>&gt;<br>    <span style="color:#f92672;">var </span><span style="font-style:italic;">btn </span><span style="color:#f92672;">= </span>document.<span style="color:#a6e22e;">getElementById</span>(<span style="color:#e6db74;">'btn'</span>)<br>    <span style="font-style:italic;">btn</span>.<span style="color:#a6e22e;">onclick </span><span style="color:#f92672;">= function </span>() {<br>        <span style="color:#a6e22e;">alert</span>(<span style="color:#e6db74;">'nihao;'</span>)<br>    }<br><br>    <span style="color:#f92672;">function </span><span style="color:#a6e22e;">testfn</span>() {<br>        <span style="color:#a6e22e;">alert</span>(<span style="color:#e6db74;">'nihao;'</span>)<br>    }<br>&lt;/<span style="color:#bb164b;font-weight:bold;">script</span>&gt;</pre></div><div><b><br></b></div><div><h3 style="font-weight: bold;" id="blogTitle25">HTML的分离</h3><div style="font-weight: bold;">通过css分离结构和样式</div><div style="font-weight: bold;">JS代码和html分离</div><h3 style="font-weight: bold;" id="blogTitle26">分离的好处</h3><div style="font-weight: bold;"><div><ul><li><b><div style="display: inline !important;"><div style="display: inline !important;">分工合作</div></div></b><br></li><li><b><div style="display: inline !important;"><div style="display: inline !important;">易于维护</div></div></b><br></li></ul></div></div><h3 style="font-weight: bold;" id="blogTitle27">整个世界都是走向分离的世界</h3><div><div style="font-weight: bold;">职业的分离：</div><div>职业的精细化，专业越来越多，技术越来越多，每个人不需要通晓全部，只需要精通一个专业就可以了。</div><div style="font-weight: bold;">制造业分离：</div><div>先分离成一个小小的零件，然后组装。</div><div style="font-weight: bold;">项目的分离：</div><div>开发一个网站需要设计师，制作师，前端开发，后台开发，</div><div>数据库，项目管理，架构师，需求分析师，测试工程师等等不同的角色组成一个团队一起。</div></div><div style="font-weight: bold;"><br></div><h2 id="blogTitle28"><b>事件框架封装 对象版本</b></h2><div style="font-weight: bold;"><br></div><div style="font-weight: bold;"><br></div><div style="font-weight: bold;"><br></div><div style="font-weight: bold;"><br></div></div><div><b><br></b></div><h1 id="blogTitle29"><b>选择框架</b></h1><div><b><br></b></div><h1 id="blogTitle30"><b>CSS 框架</b></h1><div><b><br></b></div><h1 id="blogTitle31"><b>属性框架</b></h1><div><b><br></b></div><h1 id="blogTitle32"><b>内容框架</b></h1><div><b><br></b></div><h1 id="blogTitle33"><b>缓存框架</b></h1><div><ol class="toggle-container" aria-expanded="true" style="margin-top: 15px; margin-bottom: 0px; padding: 0px; list-style-type: none; border: 0px;"><h1 id="blogTitle34" style="margin-top: 25px; margin-bottom: 24px; padding: 0px; border: 0px;"><span style="font-weight: 700;">JS 第三方库（框架）</span><br></h1><div><h2 id="blogTitle35"><span style="font-weight: 700;">underscore</span></h2><div><div><div>前面我们已经讲过了，JavaScript是函数式编程语言，支持高阶函数和闭包。函数式编程非常强大，可以写出非常简洁的代码。例如Array的map()和filter()方法：</div><pre>'use strict';<br>var a1 = [1, 4, 9, 16];<br>var a2 = a1.map(Math.sqrt); // [1, 2, 3, 4]<br>var a3 = a2.filter((x) =&gt; { return x % 2 === 0; }); // [2, 4]</pre><div>现在问题来了，Array有map()和filter()方法，可是Object没有这些方法。此外，低版本的浏览器例如IE6～8也没有这些方法，怎么办？</div><div><br></div><div>方法一，自己把这些方法添加到Array.prototype中，然后给Object.prototype也加上mapObject()等类似的方法。</div><div><br></div><div>方法二，直接找一个成熟可靠的第三方开源库，使用统一的函数来实现map()、filter()这些操作。</div><div><br></div><div>我们采用方法二，选择的第三方库就是underscore。</div><div><br></div><div>正如jQuery统一了不同浏览器之间的DOM操作的差异，让我们可以简单地对DOM进行操作，underscore则提供了一套完善的函数式编程的接口，让我们更方便地在JavaScript中实现函数式编程。</div><div><br></div><div>jQuery在加载时，会把自身绑定到唯一的全局变量$上，underscore与其类似，会把自身绑定到唯一的全局变量_上，这也是为啥它的名字叫underscore的原因。</div><div><br></div><div>用underscore实现map()操作如下：</div><pre>'use strict';<br>_.map([1, 2, 3], (x) =&gt; x * x); // [1, 4, 9]</pre><div>咋一看比直接用Array.map()要麻烦一点，可是underscore的map()还可以作用于Object：</div><pre>'use strict';<br>_.map({ a: 1, b: 2, c: 3 }, (v, k) =&gt; k + '=' + v); // ['a=1', 'b=2', 'c=3']</pre><div>后面我们会详细介绍underscore提供了一系列函数式接口。</div></div><div><br></div><div><h4><span style="font-weight: 700;">Collections</span></h4><div>underscore为集合类对象提供了一致的接口。集合类是指Array和Object，暂不支持Map和Set。</div><h5><span style="font-weight: 700;">map/filter</span></h5><div><br></div><div>和Array的map()与filter()类似，但是underscore的map()和filter()可以作用于Object。当作用于Object时，传入的函数为function (value, key)，第一个参数接收value，第二个参数接收key：</div><div><br></div><pre>'use strict';<br>var obj = {<br>&nbsp; &nbsp; name: 'bob',<br>&nbsp; &nbsp; school: 'No.1 middle school',<br>&nbsp; &nbsp; address: 'xueyuan road'<br>};<br>var upper = _.map(obj, function (value, key) {<br>&nbsp; &nbsp; return ???;<br>});<br>alert(JSON.stringify(upper));</pre><div>&nbsp;Run</div><div>你也许会想，为啥对Object作map()操作的返回结果是Array？应该是Object才合理啊！把_.map换成_.mapObject再试试。</div><h5><span style="font-weight: 700;">every / some</span></h5><div>当集合的所有元素都满足条件时，_.every()函数返回true，当集合的至少一个元素满足条件时，_.some()函数返回true：</div><pre>'use strict';<br>// 所有元素都大于0？<br>_.every([1, 4, 7, -3, -9], (x) =&gt; x &gt; 0); // false<br>// 至少一个元素大于0？<br>_.some([1, 4, 7, -3, -9], (x) =&gt; x &gt; 0); // true</pre><div>当集合是Object时，我们可以同时获得value和key：</div><div><br></div><pre>'use strict';<br>var obj = {<br>&nbsp; &nbsp; name: 'bob',<br>&nbsp; &nbsp; school: 'No.1 middle school',<br>&nbsp; &nbsp; address: 'xueyuan road'<br>};<br>// 判断key和value是否全部是小写：<br>var r1 = _.every(obj, function (value, key) {<br>&nbsp; &nbsp; return ???;<br>});<br>var r2 = _.some(obj, function (value, key) {<br>&nbsp; &nbsp; return ???;<br>});<br>alert('every key-value are lowercase: ' + r1 + '\nsome key-value are lowercase: ' + r2);</pre><div>&nbsp;Run</div><h5><span style="font-weight: 700;">max / min</span></h5><div>这两个函数直接返回集合中最大和最小的数：</div><pre>'use strict';<br>var arr = [3, 5, 7, 9];<br>_.max(arr); // 9<br>_.min(arr); // 3<br>// 空集合会返回-Infinity和Infinity，所以要先判断集合不为空：<br>_.max([])<br>-Infinity<br>_.min([])<br>Infinity</pre><div>注意，如果集合是Object，max()和min()只作用于value，忽略掉key：</div><div><br></div><pre>'use strict';<br>_.max({ a: 1, b: 2, c: 3 }); // 3</pre><h5><span style="font-weight: 700;">groupBy</span></h5><div>groupBy()把集合的元素按照key归类，key由传入的函数返回：</div><div><br></div><pre>'use strict';<br>var scores = [20, 81, 75, 40, 91, 59, 77, 66, 72, 88, 99];<br>var groups = _.groupBy(scores, function (x) {<br>&nbsp; &nbsp; if (x &lt; 60) {<br>&nbsp; &nbsp; &nbsp; &nbsp; return 'C';<br>&nbsp; &nbsp; } else if (x &lt; 80) {<br>&nbsp; &nbsp; &nbsp; &nbsp; return 'B';<br>&nbsp; &nbsp; } else {<br>&nbsp; &nbsp; &nbsp; &nbsp; return 'A';<br>&nbsp; &nbsp; }<br>});<br>// 结果:<br>// {<br>// &nbsp; A: [81, 91, 88, 99],<br>// &nbsp; B: [75, 77, 66, 72],<br>// &nbsp; C: [20, 40, 59]<br>// }</pre><div>可见groupBy()用来分组是非常方便的。</div><div><br></div><h5><span style="font-weight: 700;">shuffle / sample</span></h5><div>shuffle()用洗牌算法随机打乱一个集合：</div><div><br></div><pre>'use strict';<br>// 注意每次结果都不一样：<br>_.shuffle([1, 2, 3, 4, 5, 6]); // [3, 5, 4, 6, 2, 1]<br>sample()则是随机选择一个或多个元素：<br>'use strict';<br>// 注意每次结果都不一样：<br>// 随机选1个：<br>_.sample([1, 2, 3, 4, 5, 6]); // 2<br>// 随机选3个：<br>_.sample([1, 2, 3, 4, 5, 6], 3); // [6, 1, 4]</pre><div>更多完整的函数请参考underscore的文档：http://underscorejs.org/#collections</div></div><div><br></div><div><h4><span style="font-weight: 700;">Arrays</span></h4><p>underscore为Array提供了许多工具类方法，可以更方便快捷地操作Array。</p><h5><span style="font-weight: 700;">first / last</span></h5><div><br></div><div>顾名思义，这两个函数分别取第一个和最后一个元素：</div><div><br></div><pre>'use strict';<br>var arr = [2, 4, 6, 8];<br>_.first(arr); // 2<br>_.last(arr); // 8<br>flatten</pre><div><br></div><div>flatten()接收一个Array，无论这个Array里面嵌套了多少个Array，flatten()最后都把它们变成一个一维数组：</div><div><br></div><pre>'use strict';<br>_.flatten([1, [2], [3, [[4], [5]]]]); // [1, 2, 3, 4, 5]</pre><h5><span style="font-weight: 700;">zip / unzip</span></h5><div>zip()把两个或多个数组的所有元素按索引对齐，然后按索引合并成新数组。例如，你有一个Array保存了名字，另一个Array保存了分数，现在，要把名字和分数给对上，用zip()轻松实现：</div><div><br></div><pre>'use strict';<br>var names = ['Adam', 'Lisa', 'Bart'];<br>var scores = [85, 92, 59];<br>_.zip(names, scores);<br>// [['Adam', 85], ['Lisa', 92], ['Bart', 59]]</pre><div>unzip()则是反过来：</div><div><br></div><pre>'use strict';<br>var namesAndScores = [['Adam', 85], ['Lisa', 92], ['Bart', 59]];<br>_.unzip(namesAndScores);<br>// [['Adam', 'Lisa', 'Bart'], [85, 92, 59]]</pre><h5><span style="font-weight: 700;">object</span></h5><div><br></div><div>有时候你会想，与其用zip()，为啥不把名字和分数直接对应成Object呢？别急，object()函数就是干这个的：</div><div><br></div><pre>'use strict';<br>var names = ['Adam', 'Lisa', 'Bart'];<br>var scores = [85, 92, 59];<br>_.object(names, scores);<br>// {Adam: 85, Lisa: 92, Bart: 59}</pre><div>注意_.object()是一个函数，不是JavaScript的Object对象。</div><h5><span style="font-weight: 700;">range</span></h5><div><br></div><div>range()让你快速生成一个序列，不再需要用for循环实现了：</div><div><br></div><pre>'use strict';<br>// 从0开始小于10:<br>_.range(10); // [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]<br>// 从1开始小于11：<br>_.range(1, 11); // [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]<br>// 从0开始小于30，步长5:<br>_.range(0, 30, 5); // [0, 5, 10, 15, 20, 25]<br>// 从0开始大于-10，步长-1:<br>_.range(0, -10, -1); // [0, -1, -2, -3, -4, -5, -6, -7, -8, -9]</pre><div>更多完整的函数请参考underscore的文档：http://underscorejs.org/#arrays</div></div><div><h5><span style="font-weight: 700;">Functions</span></h5><div>因为underscore本来就是为了充分发挥JavaScript的函数式编程特性，所以也提供了大量JavaScript本身没有的高阶函数。</div><div><br></div><div>bind</div><div><br></div><div>bind()有什么用？我们先看一个常见的错误用法：</div><div><br></div><div>'use strict';</div><div><br></div><div>console.log('Hello, world!');</div><div>// 输出'Hello, world!'</div><div><br></div><div>var log = console.log;</div><div>log('Hello, world!');</div><div>// Uncaught TypeError: Illegal invocation</div><div>如果你想用log()取代console.log()，按照上面的做法是不行的，因为直接调用log()传入的this指针是undefined，必须这么用：</div><div><br></div><div>'use strict';</div><div><br></div><div>var log = console.log;</div><div>// 调用call并传入console对象作为this:</div><div>log.call(console, 'Hello, world!')</div><div>// 输出Hello, world!</div><div>这样搞多麻烦！还不如直接用console.log()。但是，bind()可以帮我们把console对象直接绑定在log()的this指针上，以后调用log()就可以直接正常调用了：</div><div><br></div><div>'use strict';</div><div><br></div><div>var log = _.bind(console.log, console);</div><div>log('Hello, world!');</div><div>// 输出Hello, world!</div><div>partial</div><div><br></div><div>partial()就是为一个函数创建偏函数。偏函数是什么东东？看例子：</div><div><br></div><div>假设我们要计算xy，这时只需要调用Math.pow(x, y)就可以了。</div><div><br></div><div>假设我们经常计算2y，每次都写Math.pow(2, y)就比较麻烦，如果创建一个新的函数能直接这样写pow2N(y)就好了，这个新函数pow2N(y)就是根据Math.pow(x, y)创建出来的偏函数，它固定住了原函数的第一个参数（始终为2）：</div><div><br></div><div>'use strict';</div><div><br></div><div>var pow2N = _.partial(Math.pow, 2);</div><div>pow2N(3); // 8</div><div>pow2N(5); // 32</div><div>pow2N(10); // 1024</div><div>如果我们不想固定第一个参数，想固定第二个参数怎么办？比如，希望创建一个偏函数cube(x)，计算x3，可以用_作占位符，固定住第二个参数：</div><div><br></div><div>'use strict';</div><div><br></div><div>var cube = _.partial(Math.pow, _, 3);</div><div>cube(3); // 27</div><div>cube(5); // 125</div><div>cube(10); // 1000</div><div>可见，创建偏函数的目的是将原函数的某些参数固定住，可以降低新函数调用的难度。</div><div><br></div><div>memoize</div><div><br></div><div>如果一个函数调用开销很大，我们就可能希望能把结果缓存下来，以便后续调用时直接获得结果。举个例子，计算阶乘就比较耗时：</div><div><br></div><div>'use strict';</div><div><br></div><div>function factorial(n) {</div><div>&nbsp; &nbsp; console.log('start calculate ' + n + '!...');</div><div>&nbsp; &nbsp; var s = 1, i = n;</div><div>&nbsp; &nbsp; while (i &gt; 1) {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; s = s * i;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; i --;</div><div>&nbsp; &nbsp; }</div><div>&nbsp; &nbsp; console.log(n + '! = ' + s);</div><div>&nbsp; &nbsp; return s;</div><div>}</div><div><br></div><div>factorial(10); // 3628800</div><div>// 注意控制台输出:</div><div>// start calculate 10!...</div><div>// 10! = 3628800</div><div>用memoize()就可以自动缓存函数计算的结果：</div><div><br></div><div>'use strict';</div><div><br></div><div>var factorial = _.memoize(function(n) {</div><div>&nbsp; &nbsp; console.log('start calculate ' + n + '!...');</div><div>&nbsp; &nbsp; var s = 1, i = n;</div><div>&nbsp; &nbsp; while (i &gt; 1) {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; s = s * i;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; i --;</div><div>&nbsp; &nbsp; }</div><div>&nbsp; &nbsp; console.log(n + '! = ' + s);</div><div>&nbsp; &nbsp; return s;</div><div>});</div><div><br></div><div>// 第一次调用:</div><div>factorial(10); // 3628800</div><div>// 注意控制台输出:</div><div>// start calculate 10!...</div><div>// 10! = 3628800</div><div><br></div><div>// 第二次调用:</div><div>factorial(10); // 3628800</div><div>// 控制台没有输出</div><div>对于相同的调用，比如连续两次调用factorial(10)，第二次调用并没有计算，而是直接返回上次计算后缓存的结果。不过，当你计算factorial(9)的时候，仍然会重新计算。</div><div><br></div><div>可以对factorial()进行改进，让其递归调用：</div><div><br></div><div>'use strict';</div><div><br></div><div>var factorial = _.memoize(function(n) {</div><div>&nbsp; &nbsp; console.log('start calculate ' + n + '!...');</div><div>&nbsp; &nbsp; if (n &lt; 2) {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; return 1;</div><div>&nbsp; &nbsp; }</div><div>&nbsp; &nbsp; return n * factorial(n - 1);</div><div>});</div><div><br></div><div>factorial(10); // 3628800</div><div>// 输出结果说明factorial(1)~factorial(10)都已经缓存了:</div><div>// start calculate 10!...</div><div>// start calculate 9!...</div><div>// start calculate 8!...</div><div>// start calculate 7!...</div><div>// start calculate 6!...</div><div>// start calculate 5!...</div><div>// start calculate 4!...</div><div>// start calculate 3!...</div><div>// start calculate 2!...</div><div>// start calculate 1!...</div><div><br></div><div>factorial(9); // 362880</div><div>// console无输出</div><div>once</div><div><br></div><div>顾名思义，once()保证某个函数执行且仅执行一次。如果你有一个方法叫register()，用户在页面上点两个按钮的任何一个都可以执行的话，就可以用once()保证函数仅调用一次，无论用户点击多少次：</div><div><br></div><div>'use strict';</div><div><br></div><div>var register = _.once(function () {</div><div>&nbsp; &nbsp; alert('Register ok!');</div><div>});</div><div><br></div><div>// 测试效果:</div><div>register();</div><div>register();</div><div>register();</div><div>&nbsp;Run</div><div>delay</div><div><br></div><div>delay()可以让一个函数延迟执行，效果和setTimeout()是一样的，但是代码明显简单了：</div><div><br></div><div>'use strict';</div><div><br></div><div>// 2秒后调用alert():</div><div>_.delay(alert, 2000);</div><div>如果要延迟调用的函数有参数，把参数也传进去：</div><div><br></div><div>'use strict';</div><div><br></div><div>var log = _.bind(console.log, console);</div><div>_.delay(log, 2000, 'Hello,', 'world!');</div><div>// 2秒后打印'Hello, world!':</div><div>更多完整的函数请参考underscore的文档：http://underscorejs.org/#functions</div></div><div><h4><span style="font-weight: 700;"><br></span></h4><h4><span style="font-weight: 700;">Objects</span></h4><div>和Array类似，underscore也提供了大量针对Object的函数。</div><div><br></div><div>keys / allKeys</div><div><br></div><div>keys()可以非常方便地返回一个object自身所有的key，但不包含从原型链继承下来的：</div><div><br></div><div>'use strict';</div><div><br></div><div>function Student(name, age) {</div><div>&nbsp; &nbsp; this.name = name;</div><div>&nbsp; &nbsp; this.age = age;</div><div>}</div><div><br></div><div>var xiaoming = new Student('小明', 20);</div><div>_.keys(xiaoming); // ['name', 'age']</div><div>allKeys()除了object自身的key，还包含从原型链继承下来的：</div><div><br></div><div>'use strict';</div><div><br></div><div>function Student(name, age) {</div><div>&nbsp; &nbsp; this.name = name;</div><div>&nbsp; &nbsp; this.age = age;</div><div>}</div><div>Student.prototype.school = 'No.1 Middle School';</div><div>var xiaoming = new Student('小明', 20);</div><div>_.allKeys(xiaoming); // ['name', 'age', 'school']</div><div>values</div><div><br></div><div>和keys()类似，values()返回object自身但不包含原型链继承的所有值：</div><div><br></div><div>'use strict';</div><div><br></div><div>var obj = {</div><div>&nbsp; &nbsp; name: '小明',</div><div>&nbsp; &nbsp; age: 20</div><div>};</div><div><br></div><div>_.values(obj); // ['小明', 20]</div><div>注意，没有allValues()，原因我也不知道。</div><div><br></div><div>mapObject</div><div><br></div><div>mapObject()就是针对object的map版本：</div><div><br></div><div>'use strict';</div><div><br></div><div>var obj = { a: 1, b: 2, c: 3 };</div><div>// 注意传入的函数签名，value在前，key在后:</div><div>_.mapObject(obj, (v, k) =&gt; 100 + v); // { a: 101, b: 102, c: 103 }</div><div>invert</div><div><br></div><div>invert()把object的每个key-value来个交换，key变成value，value变成key：</div><div><br></div><div>'use strict';</div><div><br></div><div>var obj = {</div><div>&nbsp; &nbsp; Adam: 90,</div><div>&nbsp; &nbsp; Lisa: 85,</div><div>&nbsp; &nbsp; Bart: 59</div><div>};</div><div>_.invert(obj); // { '59': 'Bart', '85': 'Lisa', '90': 'Adam' }</div><div>extend / extendOwn</div><div><br></div><div>extend()把多个object的key-value合并到第一个object并返回：</div><div><br></div><div>'use strict';</div><div><br></div><div>var a = {name: 'Bob', age: 20};</div><div>_.extend(a, {age: 15}, {age: 88, city: 'Beijing'}); // {name: 'Bob', age: 88, city: 'Beijing'}</div><div>// 变量a的内容也改变了：</div><div>a; // {name: 'Bob', age: 88, city: 'Beijing'}</div><div>注意：如果有相同的key，后面的object的value将覆盖前面的object的value。</div><div><br></div><div>extendOwn()和extend()类似，但获取属性时忽略从原型链继承下来的属性。</div><div><br></div><div>clone</div><div><br></div><div>如果我们要复制一个object对象，就可以用clone()方法，它会把原有对象的所有属性都复制到新的对象中：</div><div><br></div><div>'use strict';</div><div>var source = {</div><div>&nbsp; &nbsp; name: '小明',</div><div>&nbsp; &nbsp; age: 20,</div><div>&nbsp; &nbsp; skills: ['JavaScript', 'CSS', 'HTML']</div><div>};</div><div><br></div><div>var copied = _.clone(source);</div><div><br></div><div>alert(JSON.stringify(copied, null, ' &nbsp;'));</div><div>&nbsp;Run</div><div>注意，clone()是“浅复制”。所谓“浅复制”就是说，两个对象相同的key所引用的value其实是同一对象：</div><div><br></div><div>source.skills === copied.skills; // true</div><div>也就是说，修改source.skills会影响copied.skills。</div><div><br></div><div>isEqual</div><div><br></div><div>isEqual()对两个object进行深度比较，如果内容完全相同，则返回true：</div><div><br></div><div>'use strict';</div><div><br></div><div>var o1 = { name: 'Bob', skills: { Java: 90, JavaScript: 99 }};</div><div>var o2 = { name: 'Bob', skills: { JavaScript: 99, Java: 90 }};</div><div><br></div><div>o1 === o2; // false</div><div>_.isEqual(o1, o2); // true</div><div>isEqual()其实对Array也可以比较：</div><div><br></div><div>'use strict';</div><div><br></div><div>var o1 = ['Bob', { skills: ['Java', 'JavaScript'] }];</div><div>var o2 = ['Bob', { skills: ['Java', 'JavaScript'] }];</div><div><br></div><div>o1 === o2; // false</div><div>_.isEqual(o1, o2); // true</div><div>更多完整的函数请参考underscore的文档：http://underscorejs.org/#objects</div></div><div><h4><span style="font-weight: 700;">Chaining</span></h4><div>还记得jQuery支持链式调用吗？</div><div><br></div><div>$('a').attr('target', '_blank')</div><div>&nbsp; &nbsp; &nbsp; .append(' &lt;i class="uk-icon-external-link"&gt;&lt;/i&gt;')</div><div>&nbsp; &nbsp; &nbsp; .click(function () {});</div><div>如果我们有一组操作，用underscore提供的函数，写出来像这样：</div><div><br></div><div>_.filter(_.map([1, 4, 9, 16, 25], Math.sqrt), x =&gt; x % 2 === 1);</div><div>// [1, 3, 5]</div><div>能不能写成链式调用？</div><div><br></div><div>能！</div><div><br></div><div>underscore提供了把对象包装成能进行链式调用的方法，就是chain()函数：</div><div><br></div><div>_.chain([1, 4, 9, 16, 25])</div><div>&nbsp;.map(Math.sqrt)</div><div>&nbsp;.filter(x =&gt; x % 2 === 1)</div><div>&nbsp;.value();</div><div>// [1, 3, 5]</div><div>因为每一步返回的都是包装对象，所以最后一步的结果需要调用value()获得最终结果。</div><div><br></div><div>小结</div><div><br></div><div>通过学习underscore，是不是对JavaScript的函数式编程又有了进一步的认识？</div></div></div><h2 id="blogTitle36"><span style="font-weight: 700;">jQuery</span></h2><div><h5><br></h5></div></div></ol></div>
</div>
</article>
  </div>
{% endblock %}    