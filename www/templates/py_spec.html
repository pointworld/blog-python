{% extends 'c-word.html' %}

{% block title %} language reference - Python {% endblock title %}

{% block point1 %}
<article contenteditable="true">
    <p><span style="background-color: yellow;"><b>Category:&nbsp; language reference - Python</b></span></p>
    <h1 id="blogTitle0">Python 语言参考</h1><h2 id="blogTitle1">概述</h2><div><span style="text-align: justify;">描述了 Python 语言的具体语法和语义。</span><br></div><div><h3 id="blogTitle2">实现</h3><div>Alternate Implementations</div><div><p style="hyphens: auto; line-height: 22.4px;">虽然官方 Python 实现差不多得到最广泛的欢迎，但也有一些其他实现对特定领域的用户来说更具吸引力。</p><p style="hyphens: auto; line-height: 22.4px;">知名的实现包括:</p><dl class="docutils" style="margin-bottom: 15px;"><dt>CPython</dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;">这是最早出现并持续维护的 Python 实现，以 C 语言编写。新的语言特性通常在此率先添加。</dd><dt>Jython</dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;">以 Java 语言编写的 Python 实现。此实现可以作为 Java 应用的一个脚本语言，或者可以用来创建需要 Java 类库支持的应用。想了解更多信息可访问&nbsp;<a class="reference external" href="http://www.jython.org/">Jython 网站</a>。</dd><dt>Python for .NET</dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;">此实现实际上使用了 CPython 实现，但是属于 .NET 托管应用并且可以引入 .NET 类库。它的创造者是 Brian Lloyd。想了解详情可访问&nbsp;<a class="reference external" href="https://pythonnet.github.io/">Python for .NET 主页</a>。</dd><dt>IronPython</dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;">另一个 .NET 的 Python 实现，与 Python.NET 不同点在于它是生成 IL 的完全 Python 实现，并且将 Python 代码直接编译为 .NET 程序集。它的创造者就是当初创造 Jython 的 Jim Hugunin。想了解详情可访问&nbsp;<a class="reference external" href="http://ironpython.net/">IronPython 网站</a>。</dd><dt>PyPy</dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;">完全使用 Python 语言编写的 Python 实现。它支持多个其他实现所没有的高级特性，例如非栈式支持和 JIT 编译器等。此项目的目标之一是通过允许方便地修改解释器 (因为它是用 Python 编写的)，鼓励该对语言本身进行试验。想了解详情可访问&nbsp;<a class="reference external" href="http://pypy.org/">PyPy 项目主页</a>。</dd></dl><p style="hyphens: auto; line-height: 22.4px;">以上这些实现都可能在某些方面与此参考文档手册的描述有所差异，或是引入了超出标准 Python 文档范围的特定信息。请参考它们各自的专门文档，以确定你正在使用的这个实现有哪些你需要了解的东西。</p></div><h3 id="blogTitle3">标注</h3><div>Notation</div><div><p id="index-0" style="hyphens: auto; line-height: 22.4px;">句法和词法解析的描述采用经过改进的 BNF 语法标注。这包含以下定义样式:</p><pre style="padding: 5px; overflow-y: hidden; background-color: rgb(238, 255, 204); font-size: 15.44px; font-family: monospace, sans-serif; line-height: 18.528px; color: rgb(51, 51, 51); border: 1px solid rgb(170, 204, 153);"><strong id="grammar-token-name">name     </strong> ::=  <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/introduction.html#grammar-token-lc-letter" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">lc_letter</span></code></a> (<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/introduction.html#grammar-token-lc-letter" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">lc_letter</span></code></a> | "_")*
<strong id="grammar-token-lc-letter">lc_letter</strong> ::=  "a"..."z"</pre><p style="hyphens: auto; line-height: 22.4px;">第一行表示&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">name</span><span style="padding: 0px 1px; border-radius: 3px;">&nbsp;是一个&nbsp;</span><span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">lc_letter</span><span style="padding: 0px 1px; border-radius: 3px;">&nbsp;之后跟零个或多个&nbsp;</span><span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">lc_letter</span><span style="padding: 0px 1px; border-radius: 3px;">&nbsp;和下划线。而一个&nbsp;</span><span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">lc_letter</span><span style="padding: 0px 1px; border-radius: 3px;">&nbsp;则是任意单个&nbsp;</span><span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">'a'</span><span style="padding: 0px 1px; border-radius: 3px;">&nbsp;至&nbsp;</span><span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">'z'</span><span style="padding: 0px 1px; border-radius: 3px;">&nbsp;字符。(实际上在本文档中始终采用此规则来定义词法和语法规则的名称。)</span></p><p style="hyphens: auto; line-height: 22.4px;">每条规则的开头是一个名称 (即该规则所定义的名称) 加上&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">::=</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">。竖线 (</span><span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">|</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">) 被用来分隔可选项；它是此标注中最灵活的操作符。星号 (</span><span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">*</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">) 表示前一项的零次或多次重复；类似地，加号 (</span><span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">+</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">) 表示一次或多次重复，而由方括号括起的内容 (</span><span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">[</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">&nbsp;</span><span class="pre" style="hyphens: none;">]</span>) 表示出现零次或一次 (或者说，这部分内容是可选的)。<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">*</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">&nbsp;</span>和&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">+</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">&nbsp;</span>操作符的绑定是最紧密的；圆括号用于分组。固定字符串包含在引号内。空格的作用仅限于分隔形符。每条规则通常为一行；有许多个可选项的规则可能会以竖线为界分为多行。</p><p id="index-1" style="hyphens: auto; line-height: 22.4px;">在词法定义中 (如上述示例)，还额外使用了两个约定: 由三个点号分隔的两个本义字符表示在指定 (开) 区间范围内的任意单个 ASCII 字符。由尖括号 (<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">&lt;...&gt;</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">) 括起来的内容是对于所定义符号的非正式描述；即可以在必要时用来说明 ‘控制字符’ 的意图。</span></p><p style="hyphens: auto; line-height: 22.4px;">虽然所用的标注方式几乎相同，但是词法定义和句法定义是存在很大区别的: 词法定义作用于输入源中单独的字符，而句法定义则作用于由词法分析所生成的 token 流。</p></div></div><h2 id="blogTitle4">词法分析</h2><div><p id="index-0" style="hyphens: auto; line-height: 22.4px;">Lexical analysis</p><p id="index-0" style="hyphens: auto; line-height: 22.4px;">Python 程序由一个&nbsp;<i>解析器</i>&nbsp;读取。输入到解析器的是一个由&nbsp;<i>词法分析器&nbsp;</i>所生成的&nbsp;<i>tokens&nbsp;</i>流，本章将描述词法分析器是如何将一个文件拆分为一个个 token 的。</p><p style="hyphens: auto; line-height: 22.4px;">Python 会将读取的程序文本转为 Unicode 码点；源文件的文本编码可由编码声明指定，默认为 UTF-8，详情见&nbsp;<span class="target" id="index-37" style=""></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-3120" style="">PEP 3120</a>。如果源文件无法被解码，将会引发&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#SyntaxError" title="SyntaxError" style=""><span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">SyntaxError</span></a>。</p></div><h3 id="blogTitle5">行结构</h3><p>Line structure</p><p>一个 Python 程序可被划分为若干&nbsp;<i>逻辑行</i>。</p><h4 id="blogTitle6">逻辑行</h4><p>Logical lines</p><p>逻辑行的结束是以 NEWLINE 形符表示的。语句不能跨越逻辑行的边界，除非其语法允许包含 NEWLINE (例如复合语句可由多行子语句组成)。一个逻辑行可由一个或多个 <i>物理行 </i>按照明确或隐含的 <i>行拼接 </i>规则构成。<br></p><h4 id="blogTitle7">物理行</h4><p>Physical lines</p><p>物理行是以一个行终止序列结束的字符序列。在源文件和字符串中，可以使用任何标准平台上的行终止序列 - Unix 所用的 ASCII 字符 LF (换行), Windows 所用的 ASCII 字符序列 CR LF (回车加换行), 或者旧 Macintosh 所用的 ASCII 字符 CR (回车)。所有这些形式均可使用，无论具体平台。输入的结束也会被作为最后一个物理行的隐含终止标志。</p><p>当嵌入 Python 时，源码字符串传入 Python API 应使用标准 C 的传统换行符 (即 \n，表示 ASCII 字符 LF 作为行终止标志)。</p><h4 id="blogTitle8">注释</h4><div>一条注释以不包含在字符串内的井号 (#) 开头，并在物理行的末尾结束。一条注释标志着逻辑行的结束，除非存在隐含的行拼接规则。注释在语法分析中会被忽略；它们不属于形符。<br></div><h4 id="blogTitle9">编码声明</h4><div><p id="index-5" style="hyphens: auto; line-height: 22.4px;">如果一条注释位于 Python 脚本的第一或第二行，并且匹配正则表达式&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">coding[=:]\s*([-\w.]+)</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">，这条注释会被作为编码声明来处理；上述表达式的第一组指定了源码文件的编码。编码声明必须独占一行。如果它是在第二行，则第一行也必须是注释。推荐的编码声明形式如下</span></p><div class="highlight-python3 notranslate" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255); position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># -*- coding: &lt;encoding-name&gt; -*-</span></pre></div></div><p style="hyphens: auto; line-height: 22.4px;">这也是 GNU Emacs 认可的形式，以及</p><div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight" style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># vim:fileencoding=&lt;encoding-name&gt;</span></pre></div></div><p style="hyphens: auto; line-height: 22.4px;">这是 Bram Moolenaar 的 VIM 认可的形式。</p><p style="hyphens: auto; line-height: 22.4px;">如果没有编码声明，则默认编码为 UTF-8。此外，如果文件的首字节为 UTF-8 字节顺序标志 (<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">b'\xef\xbb\xbf'</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">)，文件编码也声明为 UTF-8 (这是 Microsoft 的</span>&nbsp;notepad&nbsp;等软件支持的形式)。</p><p style="hyphens: auto; line-height: 22.4px;">编码声明指定的编码名称必须是 Python 所认可的编码。所有词法分析将使用此编码，包括语义字符串、注释和标识符。</p></div><h4 id="blogTitle10">显式的行拼接</h4><div><div class="section" id="explicit-line-joining"><p id="index-6" style="hyphens: auto; line-height: 22.4px;">两个或更多个物理行可使用反斜杠字符 (<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">\</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">) </span>拼接为一个逻辑行，规则如下: 当一个物理行以一个不在字符串或注释内的反斜杠结尾时，它将与下一行拼接构成一个单独的逻辑行，反斜框及其后的换行符会被删除。例如:</p><div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">if</span> <span class="mi" style="color: rgb(32, 128, 80);">1900</span> <span class="o" style="color: rgb(102, 102, 102);">&lt;</span> <span class="n">year</span> <span class="o" style="color: rgb(102, 102, 102);">&lt;</span> <span class="mi" style="color: rgb(32, 128, 80);">2100</span> <span class="ow" style="color: rgb(0, 112, 32); font-weight: bold;">and</span> <span class="mi" style="color: rgb(32, 128, 80);">1</span> <span class="o" style="color: rgb(102, 102, 102);">&lt;=</span> <span class="n">month</span> <span class="o" style="color: rgb(102, 102, 102);">&lt;=</span> <span class="mi" style="color: rgb(32, 128, 80);">12</span> \
   <span class="ow" style="color: rgb(0, 112, 32); font-weight: bold;">and</span> <span class="mi" style="color: rgb(32, 128, 80);">1</span> <span class="o" style="color: rgb(102, 102, 102);">&lt;=</span> <span class="n">day</span> <span class="o" style="color: rgb(102, 102, 102);">&lt;=</span> <span class="mi" style="color: rgb(32, 128, 80);">31</span> <span class="ow" style="color: rgb(0, 112, 32); font-weight: bold;">and</span> <span class="mi" style="color: rgb(32, 128, 80);">0</span> <span class="o" style="color: rgb(102, 102, 102);">&lt;=</span> <span class="n">hour</span> <span class="o" style="color: rgb(102, 102, 102);">&lt;</span> <span class="mi" style="color: rgb(32, 128, 80);">24</span> \
   <span class="ow" style="color: rgb(0, 112, 32); font-weight: bold;">and</span> <span class="mi" style="color: rgb(32, 128, 80);">0</span> <span class="o" style="color: rgb(102, 102, 102);">&lt;=</span> <span class="n">minute</span> <span class="o" style="color: rgb(102, 102, 102);">&lt;</span> <span class="mi" style="color: rgb(32, 128, 80);">60</span> <span class="ow" style="color: rgb(0, 112, 32); font-weight: bold;">and</span> <span class="mi" style="color: rgb(32, 128, 80);">0</span> <span class="o" style="color: rgb(102, 102, 102);">&lt;=</span> <span class="n">second</span> <span class="o" style="color: rgb(102, 102, 102);">&lt;</span> <span class="mi" style="color: rgb(32, 128, 80);">60</span><span class="p">:</span>   <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># Looks like a valid date</span>
        <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">return</span> <span class="mi" style="color: rgb(32, 128, 80);">1</span>
</pre></div></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">以反斜杠结束的行不能带有注释。反斜杠不能用来拼接注释。反斜杠不能用来拼接形符，字符串除外 (即除字符串以外的形符不能用反斜杠分隔到两个物理行)。不允许有原文字符串以外的反斜杠存在于物理行的其他位置。</p></div><div class="section" id="implicit-line-joining"><span id="implicit-joining" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"></span></div></div><h4 id="blogTitle11">隐式的行拼接</h4><div><p style="hyphens: auto; line-height: 22.4px;">圆括号、方括号或花括号以内的表达式允许分成多个物理行，无需使用反斜杠。例如:</p><div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight" style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="n">month_names</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="p">[</span><span class="s1" style="color: rgb(64, 112, 160);">'Januari'</span><span class="p">,</span> <span class="s1" style="color: rgb(64, 112, 160);">'Februari'</span><span class="p">,</span> <span class="s1" style="color: rgb(64, 112, 160);">'Maart'</span><span class="p">,</span>      <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># These are the</span>
               <span class="s1" style="color: rgb(64, 112, 160);">'April'</span><span class="p">,</span>   <span class="s1" style="color: rgb(64, 112, 160);">'Mei'</span><span class="p">,</span>      <span class="s1" style="color: rgb(64, 112, 160);">'Juni'</span><span class="p">,</span>       <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># Dutch names</span>
               <span class="s1" style="color: rgb(64, 112, 160);">'Juli'</span><span class="p">,</span>    <span class="s1" style="color: rgb(64, 112, 160);">'Augustus'</span><span class="p">,</span> <span class="s1" style="color: rgb(64, 112, 160);">'September'</span><span class="p">,</span>  <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># for the months</span>
               <span class="s1" style="color: rgb(64, 112, 160);">'Oktober'</span><span class="p">,</span> <span class="s1" style="color: rgb(64, 112, 160);">'November'</span><span class="p">,</span> <span class="s1" style="color: rgb(64, 112, 160);">'December'</span><span class="p">]</span>   <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># of the year</span></pre></div></div><p style="hyphens: auto; line-height: 22.4px;">隐式的行拼接可以带有注释。后续行的缩进不影响程序结构。后续行也允许为空白行。隐式拼接的行之间不会有 NEWLINE 形符。隐式拼接的行也可以出现于三引号字符串中 (见下)；此情况下这些行不允许带有注释。</p></div><h4 id="blogTitle12">空白行</h4><div>一个只包含空格符，制表符，进纸符或者注释的逻辑行会被忽略 (即不生成 NEWLINE 形符)。在交互模式输入语句时，对空白行的处理可能会因读取-求值-打印循环的具体实现方式而存在差异。在标准交互模式解释器中，一个完全空白的逻辑行 (即连空格或注释都没有) 将会结束一条多行复合语句。<br></div><h4 id="blogTitle13">缩进</h4><div><p id="index-8" style="hyphens: auto; line-height: 22.4px;">一个逻辑行开头处的空白 (空格符和制表符) 被用来计算该行的缩进等级，以决定语句段落的组织结构。</p><p style="hyphens: auto; line-height: 22.4px;">制表符会被 (从左至右) 替换为一至八个空格，这样缩进的空格总数为八的倍数 (这是为了与 Unix 所用的规则一致)。首个非空白字符之前的空格总数将确定该行的缩进层次。一个缩进不可使用反斜杠进行多行拼接；首个反斜杠之前的空格将确定缩进层次。</p><p style="hyphens: auto; line-height: 22.4px;">在一个源文件中如果混合使用制表符和空格符缩进，并使得确定缩进层次需要依赖于制表符对应的空格数量设置，则被视为不合规则；此情况将会引发&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#TabError" title="TabError" style=""><span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">TabError</span></a>。</p><p style="hyphens: auto; line-height: 22.4px;"><b>跨平台兼容性注释</b>:&nbsp;由于非 UNIX 平台上文本编辑器本身的特性，在一个源文件中混合使用制表符和空格符是不明智的。另外也要注意不同平台还可能会显式地限制最大缩进层级。</p><p style="hyphens: auto; line-height: 22.4px;">行首有时可能会有一个进纸符；它在上述缩进层级计算中会被忽略。处于行首空格内其他位置的进纸符的效果未定义 (例如它可能导致空格计数重置为零)。</p><p id="index-9" style="hyphens: auto; line-height: 22.4px;">多个连续行各自的缩进层级将会被放入一个堆栈用来生成 INDENT 和 DEDENT 形符，具体说明如下。</p><p style="hyphens: auto; line-height: 22.4px;">在读取文件的第一行之前，先向堆栈推入一个零值；它将不再被弹出。被推入栈的层级数值从底至顶持续增加。每个逻辑行开头的行缩进层级将与栈顶行比较。如果相同，则不做处理。如果新行层级较高，则会被推入栈顶，并生成一个 INDENT 形符。如果新行层级较低，则&nbsp;<i>应当</i>&nbsp;是栈中的层级数值之一；栈中高于该层级的所有数值都将被弹出，每弹出一级数值生成一个 DEDENT 形符。在文件末尾，栈中剩余的每个大于零的数值生成一个 DEDENT 形符。</p><p style="hyphens: auto; line-height: 22.4px;">这是一个正确 (但令人迷惑) 的Python 代码缩进示例:</p><div class="highlight-python3 notranslate" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255); position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">def</span> <span class="nf" style="color: rgb(6, 40, 126);">perm</span><span class="p">(</span><span class="n">l</span><span class="p">):</span>
        <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># Compute the list of all permutations of l</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">if</span> <span class="nb" style="color: rgb(0, 112, 32);">len</span><span class="p">(</span><span class="n">l</span><span class="p">)</span> <span class="o" style="color: rgb(102, 102, 102);">&lt;=</span> <span class="mi" style="color: rgb(32, 128, 80);">1</span><span class="p">:</span>
                  <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">return</span> <span class="p">[</span><span class="n">l</span><span class="p">]</span>
    <span class="n">r</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="p">[]</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">for</span> <span class="n">i</span> <span class="ow" style="color: rgb(0, 112, 32); font-weight: bold;">in</span> <span class="nb" style="color: rgb(0, 112, 32);">range</span><span class="p">(</span><span class="nb" style="color: rgb(0, 112, 32);">len</span><span class="p">(</span><span class="n">l</span><span class="p">)):</span>
             <span class="n">s</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">l</span><span class="p">[:</span><span class="n">i</span><span class="p">]</span> <span class="o" style="color: rgb(102, 102, 102);">+</span> <span class="n">l</span><span class="p">[</span><span class="n">i</span><span class="o" style="color: rgb(102, 102, 102);">+</span><span class="mi" style="color: rgb(32, 128, 80);">1</span><span class="p">:]</span>
             <span class="n">p</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">perm</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
             <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">for</span> <span class="n">x</span> <span class="ow" style="color: rgb(0, 112, 32); font-weight: bold;">in</span> <span class="n">p</span><span class="p">:</span>
              <span class="n">r</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">append</span><span class="p">(</span><span class="n">l</span><span class="p">[</span><span class="n">i</span><span class="p">:</span><span class="n">i</span><span class="o" style="color: rgb(102, 102, 102);">+</span><span class="mi" style="color: rgb(32, 128, 80);">1</span><span class="p">]</span> <span class="o" style="color: rgb(102, 102, 102);">+</span> <span class="n">x</span><span class="p">)</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">return</span> <span class="n">r</span></pre></div></div><p style="hyphens: auto; line-height: 22.4px;">以下示例显示了各种缩进错误:</p><div class="highlight-python3 notranslate" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255); position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">def</span> <span class="nf" style="color: rgb(6, 40, 126);">perm</span><span class="p">(</span><span class="n">l</span><span class="p">):</span>                       <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># error: first line indented</span>
<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">for</span> <span class="n">i</span> <span class="ow" style="color: rgb(0, 112, 32); font-weight: bold;">in</span> <span class="nb" style="color: rgb(0, 112, 32);">range</span><span class="p">(</span><span class="nb" style="color: rgb(0, 112, 32);">len</span><span class="p">(</span><span class="n">l</span><span class="p">)):</span>             <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># error: not indented</span>
    <span class="n">s</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">l</span><span class="p">[:</span><span class="n">i</span><span class="p">]</span> <span class="o" style="color: rgb(102, 102, 102);">+</span> <span class="n">l</span><span class="p">[</span><span class="n">i</span><span class="o" style="color: rgb(102, 102, 102);">+</span><span class="mi" style="color: rgb(32, 128, 80);">1</span><span class="p">:]</span>
        <span class="n">p</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">perm</span><span class="p">(</span><span class="n">l</span><span class="p">[:</span><span class="n">i</span><span class="p">]</span> <span class="o" style="color: rgb(102, 102, 102);">+</span> <span class="n">l</span><span class="p">[</span><span class="n">i</span><span class="o" style="color: rgb(102, 102, 102);">+</span><span class="mi" style="color: rgb(32, 128, 80);">1</span><span class="p">:])</span>   <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># error: unexpected indent</span>
        <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">for</span> <span class="n">x</span> <span class="ow" style="color: rgb(0, 112, 32); font-weight: bold;">in</span> <span class="n">p</span><span class="p">:</span>
                <span class="n">r</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">append</span><span class="p">(</span><span class="n">l</span><span class="p">[</span><span class="n">i</span><span class="p">:</span><span class="n">i</span><span class="o" style="color: rgb(102, 102, 102);">+</span><span class="mi" style="color: rgb(32, 128, 80);">1</span><span class="p">]</span> <span class="o" style="color: rgb(102, 102, 102);">+</span> <span class="n">x</span><span class="p">)</span>
            <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">return</span> <span class="n">r</span>                <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># error: inconsistent dedent</span></pre></div></div><p style="hyphens: auto; line-height: 22.4px;">(实际上，前三个错误会被解析器发现；只有最后一个错误是由词法分析器发现的 —&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">return</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">&nbsp;</span><span class="pre" style="hyphens: none;">r</span>&nbsp;的缩进无法匹配弹出栈的缩进层级。)</p></div><h4 id="blogTitle14">token 之间的空白</h4><div>除非是在逻辑行的开头或字符串内，空格符、制表符和进纸符等空白符都同样可以用来分隔形符。如果两个形符彼此相连会被解析为一个不同的形符，则需要使用空白来分隔 (例如 ab 是一个形符，而 a b 是两个形符)。<br></div><h3 id="blogTitle15">其他 tokens</h3><div>除了 NEWLINE, INDENT 和 DEDENT，还存在以下类别的形符: <i>标识符, 关键字, 字面值, 运算符</i> 以及 <i>分隔符</i>。 空白字符 (之前讨论过的行终止符除外) 不属于形符，而是用来分隔形符。如果存在二义性，将从左至右读取尽可能长的合法字符串组成一个形符。<br></div><h3 id="blogTitle16">标识符和关键字</h3><div><p id="index-10" style="hyphens: auto; line-height: 22.4px;">标识符 (或者叫做&nbsp;<i>名称</i>) 由以下词法定义进行描述。</p><p style="hyphens: auto; line-height: 22.4px;">Python 中的标识符语法是基于 Unicode 标准附件 UAX-31，并加入了下文所定义的细化与修改；更多细节还可参见&nbsp;<span class="target" id="index-38"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-3131" style="">PEP 3131</a>&nbsp;。</p><p style="hyphens: auto; line-height: 22.4px;">在 ASCII 范围内 (U+0001..U+007F)，可用于标识符的字符与 Python 2.x 一致: 大写和小写字母&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">A</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">&nbsp;</span>至&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">Z</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">，下划线</span>&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">_</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">&nbsp;</span>以及数字&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">0</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">&nbsp;</span>至&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">9</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">，但不可以数字打头。</span></p><p style="hyphens: auto; line-height: 22.4px;">Python 3.0 引入了 ASCII 范围以外的额外字符 (见&nbsp;<span class="target" id="index-39"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-3131" style="">PEP 3131</a>)。这些字符的分类使用包含于&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/unicodedata.html#module-unicodedata" title="unicodedata: Access the Unicode Database." style=""><span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">unicodedata</span></a>&nbsp;模块中的 Unicode 字符数据库版本。</p><p style="hyphens: auto; line-height: 22.4px;">标识符的长度没有限制。对大小写敏感。</p><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><strong id="grammar-token-identifier">identifier  </strong> ::=  <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-xid-start" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">xid_start</span></code></a> <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-xid-continue" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">xid_continue</span></code></a>*
<strong id="grammar-token-id-start">id_start    </strong> ::=  &lt;all characters in general categories Lu, Ll, Lt, Lm, Lo, Nl, the underscore, and characters with the Other_ID_Start property&gt;
<strong id="grammar-token-id-continue">id_continue </strong> ::=  &lt;all characters in <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-id-start" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">id_start</span></code></a>, plus characters in the categories Mn, Mc, Nd, Pc and others with the Other_ID_Continue property&gt;
<strong id="grammar-token-xid-start">xid_start   </strong> ::=  &lt;all characters in <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-id-start" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">id_start</span></code></a> whose NFKC normalization is in "id_start xid_continue*"&gt;
<strong id="grammar-token-xid-continue">xid_continue</strong> ::=  &lt;all characters in <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-id-continue" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">id_continue</span></code></a> whose NFKC normalization is in "id_continue*"&gt;</pre><p style="hyphens: auto; line-height: 22.4px;">上文所用 Unicode 类别码的含义:</p><ul class="simple" style=""><li style="hyphens: auto; line-height: 20.8px;">Lu&nbsp;- 大写字母</li><li style="hyphens: auto; line-height: 20.8px;">Ll&nbsp;- 小写字母</li><li style="hyphens: auto; line-height: 20.8px;">Lt&nbsp;- 词首大写字母</li><li style="hyphens: auto; line-height: 20.8px;">Lm&nbsp;- 修饰字母</li><li style="hyphens: auto; line-height: 20.8px;">Lo&nbsp;- 其他字母</li><li style="hyphens: auto; line-height: 20.8px;">Nl&nbsp;- 字母数字</li><li style="hyphens: auto; line-height: 20.8px;">Mn&nbsp;- 非空白标识</li><li style="hyphens: auto; line-height: 20.8px;">Mc&nbsp;- 含空白标识</li><li style="hyphens: auto; line-height: 20.8px;">Nd&nbsp;- 十进制数字</li><li style="hyphens: auto; line-height: 20.8px;">Pc&nbsp;- 连接标点</li><li style="hyphens: auto; line-height: 20.8px;">Other_ID_Start&nbsp;- 由&nbsp;<a class="reference external" href="http://www.unicode.org/Public/11.0.0/ucd/PropList.txt" style="">PropList.txt</a>&nbsp;定义的显式字符列表，用来支持向后兼容</li><li style="hyphens: auto; line-height: 20.8px;">Other_ID_Continue&nbsp;- 同上</li></ul><p style="hyphens: auto; line-height: 22.4px;">所有标识符在解析时会被转换为规范形式 NFKC；标识符的比较都是基于 NFKC。</p><p style="hyphens: auto; line-height: 22.4px;">Unicode 4.1 中的所有可用标识符字符列表参见以下非规范 HTML 文件链接&nbsp;<a class="reference external" href="https://www.dcl.hpi.uni-potsdam.de/home/loewis/table-3131.html" style="">https://www.dcl.hpi.uni-potsdam.de/home/loewis/table-3131.html</a></p></div><h4 id="blogTitle17">关键字<br></h4><div><p id="index-13" style="hyphens: auto; line-height: 22.4px;">以下标识符被作为语言的保留字或称&nbsp;<i>关键字</i>，不可被用作普通标识符。关键字的拼写必须与这里列出的完全一致。</p><div class="highlight-text notranslate" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;">False      await      else       import     pass
None       break      except     in         raise
True       class      finally    is         return
and        continue   for        lambda     try
as         def        from       nonlocal   while
assert     del        global     not        with
async      elif       if         or         yield</pre></div></div></div><h4 id="blogTitle18">保留的标识符类</h4><div><p style="hyphens: auto; line-height: 22.4px;">某些标识符类 (除了关键字) 具有特殊的含义。这些标识符类的命名模式是以下划线字符打头和结尾:</p><dl class="docutils" style="margin-bottom: 15px;"><dt style=""><span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">_*</span></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p class="first" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;">不会被&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">from</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">&nbsp;</span><span class="pre" style="hyphens: none;">module</span>&nbsp;<span class="pre" style="hyphens: none;">import</span>&nbsp;<span class="pre" style="hyphens: none;">*</span>&nbsp;导入。特殊标识符&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">_</span><span style="padding: 0px 1px; border-radius: 3px;">&nbsp;在交互式解释器中被用来存放最近一次求值结果；它保存在&nbsp;</span><a class="reference internal" href="https://docs.python.org/zh-cn/3/library/builtins.html#module-builtins" title="builtins: The module that provides the built-in namespace." style="padding: 0px 1px; border-radius: 3px;"><span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">builtins</span></a><span style="padding: 0px 1px; border-radius: 3px;">&nbsp;模块中。当不处于交互模式时，</span><span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">_</span><span style="padding: 0px 1px; border-radius: 3px;">无特殊含义也没有预定义。参见&nbsp;</span><a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/simple_stmts.html#import" style="padding: 0px 1px; border-radius: 3px;">The import statement</a><span style="padding: 0px 1px; border-radius: 3px;">。</span></p><div class="last admonition note" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(238, 238, 238); margin-top: 10px; margin-bottom: 10px; padding: 7px; border: 1px solid rgb(204, 204, 204); border-radius: 3px;"><p class="first admonition-title" style="margin: 0px 10px 5px 0px; font-weight: bold; display: inline; hyphens: auto; line-height: 22.4px;">注解</p>&nbsp;<p class="last" style="margin-top: 0px; hyphens: auto; line-height: 22.4px; margin-bottom: 5px; display: inline;"><code class="docutils literal notranslate" style="background: rgb(214, 214, 214); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">_</span></code>&nbsp;作为名称常用于连接国际化文本；请参看&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/gettext.html#module-gettext" title="gettext: Multilingual internationalization services." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background: rgb(214, 214, 214); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">gettext</span></code></a>&nbsp;模块文档了解有关此约定的详情。</p></div></dd><dt style=""><span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">__*__</span></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;">系统定义的名称。这些名称由解释器及其实现 (包括标准库) 所定义。现有系统定义名称相关讨论参见&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#specialnames" style="">特殊方法名称</a>&nbsp;等章节。未来的 Python 版本中还将定义更多此类名称。任何&nbsp;不遵循文档指定方式使用&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">__*__</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">&nbsp;</span>名称的行为都可能导致无警告的出错。</dd><dt style=""><span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">__*</span></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;">类的私有名称。这种名称在类定义中使用时，会以一种混合形式重写以避免在基类及派生类的 “私有” 属性之间出现名称冲突。参见&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#atom-identifiers" style="">Identifiers (Names)</a>。</dd></dl></div><h3 id="blogTitle19">字面值</h3><p>字面值用于表示一些内置类型的常量。</p><h4 id="blogTitle20">字符串和字节串字面值</h4><div><p style="hyphens: auto; line-height: 22.4px;">字符串字面值由以下词法定义进行描述:</p><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><strong id="grammar-token-stringliteral">stringliteral  </strong> ::=  [<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-stringprefix" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">stringprefix</span></code></a>](<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-shortstring" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">shortstring</span></code></a> | <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-longstring" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">longstring</span></code></a>)
<strong id="grammar-token-stringprefix">stringprefix   </strong> ::=  "r" | "u" | "R" | "U" | "f" | "F"
                     | "fr" | "Fr" | "fR" | "FR" | "rf" | "rF" | "Rf" | "RF"
<strong id="grammar-token-shortstring">shortstring    </strong> ::=  "'" <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-shortstringitem" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">shortstringitem</span></code></a>* "'" | '"' <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-shortstringitem" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">shortstringitem</span></code></a>* '"'
<strong id="grammar-token-longstring">longstring     </strong> ::=  "'''" <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-longstringitem" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">longstringitem</span></code></a>* "'''" | '"""' <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-longstringitem" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">longstringitem</span></code></a>* '"""'
<strong id="grammar-token-shortstringitem">shortstringitem</strong> ::=  <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-shortstringchar" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">shortstringchar</span></code></a> | <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-stringescapeseq" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">stringescapeseq</span></code></a>
<strong id="grammar-token-longstringitem">longstringitem </strong> ::=  <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-longstringchar" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">longstringchar</span></code></a> | <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-stringescapeseq" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">stringescapeseq</span></code></a>
<strong id="grammar-token-shortstringchar">shortstringchar</strong> ::=  &lt;any source character except "\" or newline or the quote&gt;
<strong id="grammar-token-longstringchar">longstringchar </strong> ::=  &lt;any source character except "\"&gt;
<strong id="grammar-token-stringescapeseq">stringescapeseq</strong> ::=  "\" &lt;any source character&gt;
</pre><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><strong id="grammar-token-bytesliteral">bytesliteral  </strong> ::=  <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-bytesprefix" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">bytesprefix</span></code></a>(<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-shortbytes" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">shortbytes</span></code></a> | <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-longbytes" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">longbytes</span></code></a>)
<strong id="grammar-token-bytesprefix">bytesprefix   </strong> ::=  "b" | "B" | "br" | "Br" | "bR" | "BR" | "rb" | "rB" | "Rb" | "RB"
<strong id="grammar-token-shortbytes">shortbytes    </strong> ::=  "'" <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-shortbytesitem" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">shortbytesitem</span></code></a>* "'" | '"' <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-shortbytesitem" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">shortbytesitem</span></code></a>* '"'
<strong id="grammar-token-longbytes">longbytes     </strong> ::=  "'''" <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-longbytesitem" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">longbytesitem</span></code></a>* "'''" | '"""' <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-longbytesitem" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">longbytesitem</span></code></a>* '"""'
<strong id="grammar-token-shortbytesitem">shortbytesitem</strong> ::=  <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-shortbyteschar" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">shortbyteschar</span></code></a> | <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-bytesescapeseq" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">bytesescapeseq</span></code></a>
<strong id="grammar-token-longbytesitem">longbytesitem </strong> ::=  <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-longbyteschar" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">longbyteschar</span></code></a> | <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-bytesescapeseq" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">bytesescapeseq</span></code></a>
<strong id="grammar-token-shortbyteschar">shortbyteschar</strong> ::=  &lt;any ASCII character except "\" or newline or the quote&gt;
<strong id="grammar-token-longbyteschar">longbyteschar </strong> ::=  &lt;any ASCII character except "\"&gt;
<strong id="grammar-token-bytesescapeseq">bytesescapeseq</strong> ::=  "\" &lt;any ASCII character&gt;</pre><p style="hyphens: auto; line-height: 22.4px;">这些条目中未提及的一个语法限制是&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-stringprefix" style=""><span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">stringprefix</span></a>&nbsp;或&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-bytesprefix" style=""><span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">bytesprefix</span></a>&nbsp;与字面值的剩余部分之间不允许有空白。源字符集是由编码声明定义的；如果源文件中没有编码声明则默认为 UTF-8；参见&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#encodings" style="">编码声明</a>。</p><p id="index-17" style="hyphens: auto; line-height: 22.4px;">自然语言描述: 两种字面值都可以用成对单引号 (<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">'</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">) 或双引号 (</span><span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">"</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">) 来标示首尾。它们也可以用成对的连续三个单引号或双引号来标示首尾 (这通常被称为</span><i>&nbsp;三引号字符串</i>)。反斜杠 (<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">\</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">) 字符被用来对特殊含义的字符进行转义，例如换行，反斜杠本身或是引号等字符。</span></p><p id="index-18" style="hyphens: auto; line-height: 22.4px;">字节串字面值总是带有前缀&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">'b'</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">&nbsp;</span>或&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">'B'</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">；它们生成</span>&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/stdtypes.html#bytes" title="bytes" style=""><span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">bytes</span></a>&nbsp;类型而非&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/stdtypes.html#str" title="str" style=""><span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">str</span></a>&nbsp;类型的实例。它们只能包含 ASCII 字符；字节对应数值在128及以上必须以转义形式来表示。</p><p id="index-19" style="hyphens: auto; line-height: 22.4px;">字符串和字节串字面值都可以带有前缀&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">'r'</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">&nbsp;</span>或&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">'R'</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">；这种字符串被称为</span>&nbsp;<i>原始字符串，</i>其中的反斜杠会被当作其本身的字面字符来处理。因此在原始字符串字面值中，<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">'\U'</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">和</span>&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">'\u'</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">&nbsp;</span>转义形式不会被特殊对待。由于 Python 2.x 的原始统一码字面值的特性与 Python 3.x 不一致，<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">'ur'</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">&nbsp;</span>语法已不再被支持。</p><div class="versionadded" style=""><p style="hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="">3.3 新版功能:&nbsp;</span>新加入了表示原始字节串的&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">'rb'</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">&nbsp;</span>前缀，与&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">'br'</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">&nbsp;</span>的意义相同。</p></div><div class="versionadded" style=""><p style="hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="">3.3 新版功能:&nbsp;</span>对旧式统一码字面值 (<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">u'value'</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">) 的支持被重新引入以简化 Python 2.x 和 3.x 代码库的同步维护。详情见</span>&nbsp;<span class="target" id="index-40"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0414" style="">PEP 414</a>。</p></div><p id="index-21" style="hyphens: auto; line-height: 22.4px;">包含&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">'f'</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">&nbsp;</span>或&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">'F'</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">&nbsp;</span>前缀的字符串字面值称为&nbsp;格式化字符串字面值；参见&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#f-strings" style="">格式化字符串字面值</a>。<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">'f'</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">&nbsp;</span>可与&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">'r'</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">&nbsp;</span>连用，但不能与&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">'b'</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">&nbsp;</span>或&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">'u'</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">&nbsp;</span>连用，因此存在原始格式化字符串，但不存在格式化字节串字面值。</p><p style="hyphens: auto; line-height: 22.4px;">在三引号字面值中，允许存在未经转义的换行和引号 (并原样保留)，除非是未经转义的连续三引号，这标示着字面值的结束。 (“引号” 是用来标示字面值的字符，即&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">'</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">&nbsp;</span>或&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">"</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">。)</span></p><p id="index-22" style="hyphens: auto; line-height: 22.4px;">除非带有&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">'r'</span><span style="padding: 0px 1px; border-radius: 3px;">&nbsp;或&nbsp;</span><span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">'R'</span><span style="padding: 0px 1px; border-radius: 3px;">&nbsp;</span><span style="padding: 0px 1px; border-radius: 3px;">前缀，字符串和字节串字面值中的转义序列会基于类似标准 C 中的转义规则来解读。可用的转义序列如下:</span></p><table border="1" class="docutils" style="border-width: 1px; border-right-style: solid; border-left-style: solid; border-color: rgb(221, 221, 221); border-image: initial; min-width: 20%; border-radius: 3px; margin-top: 10px; margin-bottom: 10px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><colgroup><col width="30%"><col width="58%"><col width="12%"></colgroup><thead valign="bottom"><tr class="row-odd"><th class="head" style="padding: 0.3em 0.5em; background-color: rgb(238, 238, 238); border-radius: 3px; border-top: 1px solid rgb(221, 221, 221) !important; border-right: 1px solid rgb(221, 221, 221) !important; border-left: 1px solid rgb(221, 221, 221) !important; border-bottom-color: rgb(221, 221, 221) !important; border-image: initial !important;">转义序列</th><th class="head" style="padding: 0.3em 0.5em; background-color: rgb(238, 238, 238); border-radius: 3px; border-top: 1px solid rgb(221, 221, 221) !important; border-right: 1px solid rgb(221, 221, 221) !important; border-left: 1px solid rgb(221, 221, 221) !important; border-bottom-color: rgb(221, 221, 221) !important; border-image: initial !important;">意义</th><th class="head" style="padding: 0.3em 0.5em; background-color: rgb(238, 238, 238); border-radius: 3px; border-top: 1px solid rgb(221, 221, 221) !important; border-right: 1px solid rgb(221, 221, 221) !important; border-left: 1px solid rgb(221, 221, 221) !important; border-bottom-color: rgb(221, 221, 221) !important; border-image: initial !important;">注释</th></tr></thead><tbody valign="top"><tr class="row-even"><td style="padding: 0.3em 0.5em; border-radius: 3px; background-color: white; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;"><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">\newline</span></code></td><td style="padding: 0.3em 0.5em; border-radius: 3px; background-color: white; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">反斜杠加换行全被忽略</td><td style="padding: 0.3em 0.5em; border-radius: 3px; background-color: white; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">&nbsp;</td></tr><tr class="row-odd"><td style="padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;"><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">\\</span></code></td><td style="padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">反斜杠 (<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">\</span></code>)</td><td style="padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">&nbsp;</td></tr><tr class="row-even"><td style="padding: 0.3em 0.5em; border-radius: 3px; background-color: white; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;"><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">\'</span></code></td><td style="padding: 0.3em 0.5em; border-radius: 3px; background-color: white; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">单引号 (<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">'</span></code>)</td><td style="padding: 0.3em 0.5em; border-radius: 3px; background-color: white; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">&nbsp;</td></tr><tr class="row-odd"><td style="padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;"><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">\"</span></code></td><td style="padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">双引号 (<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">"</span></code>)</td><td style="padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">&nbsp;</td></tr><tr class="row-even"><td style="padding: 0.3em 0.5em; border-radius: 3px; background-color: white; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;"><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">\a</span></code></td><td style="padding: 0.3em 0.5em; border-radius: 3px; background-color: white; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">ASCII 响铃 (BEL)</td><td style="padding: 0.3em 0.5em; border-radius: 3px; background-color: white; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">&nbsp;</td></tr><tr class="row-odd"><td style="padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;"><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">\b</span></code></td><td style="padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">ASCII 退格 (BS)</td><td style="padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">&nbsp;</td></tr><tr class="row-even"><td style="padding: 0.3em 0.5em; border-radius: 3px; background-color: white; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;"><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">\f</span></code></td><td style="padding: 0.3em 0.5em; border-radius: 3px; background-color: white; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">ASCII 进纸 (FF)</td><td style="padding: 0.3em 0.5em; border-radius: 3px; background-color: white; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">&nbsp;</td></tr><tr class="row-odd"><td style="padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;"><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">\n</span></code></td><td style="padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">ASCII 换行 (LF)</td><td style="padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">&nbsp;</td></tr><tr class="row-even"><td style="padding: 0.3em 0.5em; border-radius: 3px; background-color: white; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;"><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">\r</span></code></td><td style="padding: 0.3em 0.5em; border-radius: 3px; background-color: white; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">ASCII 回车 (CR)</td><td style="padding: 0.3em 0.5em; border-radius: 3px; background-color: white; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">&nbsp;</td></tr><tr class="row-odd"><td style="padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;"><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">\t</span></code></td><td style="padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">ASCII 水平制表 (TAB)</td><td style="padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">&nbsp;</td></tr><tr class="row-even"><td style="padding: 0.3em 0.5em; border-radius: 3px; background-color: white; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;"><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">\v</span></code></td><td style="padding: 0.3em 0.5em; border-radius: 3px; background-color: white; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">ASCII 垂直制表 (VT)</td><td style="padding: 0.3em 0.5em; border-radius: 3px; background-color: white; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">&nbsp;</td></tr><tr class="row-odd"><td style="padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;"><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">\ooo</span></code></td><td style="padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">八进制数&nbsp;<em>ooo</em>&nbsp;码位的字符</td><td style="padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">(1,3)</td></tr><tr class="row-even"><td style="padding: 0.3em 0.5em; border-radius: 3px; background-color: white; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;"><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">\xhh</span></code></td><td style="padding: 0.3em 0.5em; border-radius: 3px; background-color: white; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">十六进制数&nbsp;<em>hh</em>&nbsp;码位的字符</td><td style="padding: 0.3em 0.5em; border-radius: 3px; background-color: white; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">(2,3)</td></tr></tbody></table><p style="hyphens: auto; line-height: 22.4px;">仅在字符串字面值中可用的转义序列如下:</p><table border="1" class="docutils" style="border-width: 1px; border-right-style: solid; border-left-style: solid; border-color: rgb(221, 221, 221); border-image: initial; min-width: 20%; border-radius: 3px; margin-top: 10px; margin-bottom: 10px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><colgroup><col width="30%"><col width="58%"><col width="12%"></colgroup><thead valign="bottom"><tr class="row-odd"><th class="head" style="padding: 0.3em 0.5em; background-color: rgb(238, 238, 238); border-radius: 3px; border-top: 1px solid rgb(221, 221, 221) !important; border-right: 1px solid rgb(221, 221, 221) !important; border-left: 1px solid rgb(221, 221, 221) !important; border-bottom-color: rgb(221, 221, 221) !important; border-image: initial !important;">转义序列</th><th class="head" style="padding: 0.3em 0.5em; background-color: rgb(238, 238, 238); border-radius: 3px; border-top: 1px solid rgb(221, 221, 221) !important; border-right: 1px solid rgb(221, 221, 221) !important; border-left: 1px solid rgb(221, 221, 221) !important; border-bottom-color: rgb(221, 221, 221) !important; border-image: initial !important;">意义</th><th class="head" style="padding: 0.3em 0.5em; background-color: rgb(238, 238, 238); border-radius: 3px; border-top: 1px solid rgb(221, 221, 221) !important; border-right: 1px solid rgb(221, 221, 221) !important; border-left: 1px solid rgb(221, 221, 221) !important; border-bottom-color: rgb(221, 221, 221) !important; border-image: initial !important;">注释</th></tr></thead><tbody valign="top"><tr class="row-even"><td style="padding: 0.3em 0.5em; border-radius: 3px; background-color: white; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;"><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">\N{name}</span></code></td><td style="padding: 0.3em 0.5em; border-radius: 3px; background-color: white; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">Unicode 数据库中名称为&nbsp;<em>name</em>&nbsp;的字符</td><td style="padding: 0.3em 0.5em; border-radius: 3px; background-color: white; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">(4)</td></tr><tr class="row-odd"><td style="padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;"><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">\uxxxx</span></code></td><td style="padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">16位十六进制数&nbsp;<em>xxxx</em>&nbsp;码位的字符</td><td style="padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">(5)</td></tr><tr class="row-even"><td style="padding: 0.3em 0.5em; border-radius: 3px; background-color: white; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;"><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">\Uxxxxxxxx</span></code></td><td style="padding: 0.3em 0.5em; border-radius: 3px; background-color: white; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">32位16进制数&nbsp;<em>xxxxxxxx</em>&nbsp;码位的字符</td><td style="padding: 0.3em 0.5em; border-radius: 3px; background-color: white; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">(6)</td></tr></tbody></table><p style="hyphens: auto; line-height: 22.4px;">注释:</p><ol class="arabic" style="list-style-position: initial; list-style-image: initial;"><li style="hyphens: auto; text-align: justify; line-height: 20.8px;"><p class="first" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;">与标准 C 一致，接受最多三个八进制数码。</p></li><li style="hyphens: auto; text-align: justify; line-height: 20.8px;"><p class="first" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;">与标准 C 不同，要求必须为两个十六进制数码。</p></li><li style="hyphens: auto; text-align: justify; line-height: 20.8px;"><p class="first" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;">在字节串字面值中，十六进制数和八进制数转义码以相应数值代表每个字节。在字符串字面值中，这些转义码以相应数值代表每个 Unicode 字符。</p></li><li style="hyphens: auto; text-align: justify; line-height: 20.8px;"><div class="first versionchanged" style="margin-top: 0px !important;"><p style="hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="">在 3.3 版更改:&nbsp;</span>加入了对别名&nbsp;<a class="footnote-reference" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#id13" id="id10" style="">[1]</a>&nbsp;的支持。</p></div></li><li style="hyphens: auto; text-align: justify; line-height: 20.8px;"><p class="first" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;">要求必须为四个十六进制数码。</p></li><li style="hyphens: auto; text-align: justify; line-height: 20.8px;"><p class="first" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;">此方式可用来表示任意 Unicode 字符。要求必须为八个十六进制数码。</p></li></ol><p id="index-23" style="hyphens: auto; line-height: 22.4px;">与标准 C 不同，所有无法识别的转义序列将原样保留在字符串中，也就是说，反斜杠会在结果中保留。(这种方式在调试时很有用: 如果输错了一个转义序列，更容易在输出结果中识别错误。) 另外要注意的一个关键点是：专用于字符串字面值中的转义序列如果在字节串字面值中出现，会被归类为无法识别的转义序列。</p><blockquote style="hyphens: auto; text-align: justify; line-height: 20.8px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><div class="versionchanged"><p style="hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">在 3.6 版更改:&nbsp;</span>无法识别的转义序列会引发 DeprecationWarning。从未来某个 Python 版本开始将会引发 SyntaxError。</p></div></blockquote><p style="hyphens: auto; line-height: 22.4px;">即使在原始字面值中，引号也可以加上反斜杠转义符，但反斜杠会保留在输出结果中；例如&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">r"\""</span><span style="padding: 0px 1px; border-radius: 3px;">&nbsp;是一个有效的字符串字面值，包含两个字符: 一个反斜杠和一个双引号；而&nbsp;</span><span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">r"\"</span><span style="padding: 0px 1px; border-radius: 3px;">&nbsp;不是一个有效的字符串字面值 (即便是原始字符串也不能以奇数个反斜杠结束)。特别地，</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">一个原始字面值不能以单个反斜杠结束</span><span style="padding: 0px 1px; border-radius: 3px;">&nbsp;(因为此反斜杠会转义其后的引号字符)。还要注意一个反斜杠加一个换行在字面值中会被解释为两个字符，而&nbsp;</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;"><i>不是</i></span><span style="padding: 0px 1px; border-radius: 3px;">一个连续行。</span></p></div><h5 id="blogTitle21">字符串字面值拼接</h5><div><p style="hyphens: auto; line-height: 22.4px;">多个相邻的字符串或字节串字面值 (以空白符分隔)，所用的引号可以彼此不同，其含义等同于全部拼接为一体。因此，&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">"hello"</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">&nbsp;</span><span class="pre" style="hyphens: none;">'world'</span>&nbsp;等同于&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">"helloworld"</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">。此特性可以减少反斜杠的使用，以方便地将很长的字符串分成多个物理行，甚至每部分字符串还可分别加注释，例如:</span></p><div class="highlight-python3 notranslate" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255); position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="n">re</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">compile</span><span class="p">(</span><span class="s2" style="color: rgb(64, 112, 160);">"[A-Za-z_]"</span>       <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># letter or underscore</span>
           <span class="s2" style="color: rgb(64, 112, 160);">"[A-Za-z0-9_]*"</span>   <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># letter, digit or underscore</span>
          <span class="p">)</span></pre></div></div><p style="hyphens: auto; line-height: 22.4px;">注意此特性是在句法层面定义的，但是在编译时实现。在运行时拼接字符串表达式必须使用 ‘+’ 运算符。还要注意字面值拼接时每个部分可以使用不同的引号风格 (甚至混合使用原始字符串和三引号字符串)，格式化字符串字面值也可与普通字符串字面值拼接。</p></div><h5 id="blogTitle22">格式化字符串字面值</h5><div><div class="versionadded" style=""><p style="hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style=""><i>3.6 新版功能.</i></span></p></div><p style="hyphens: auto; line-height: 22.4px;"><i>格式化字符串字面值</i>&nbsp;或称&nbsp;<i>f-string</i>&nbsp;是带有&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">'f'</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">&nbsp;</span>或&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">'F'</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">&nbsp;</span>前缀的字符串字面值。这种字符串可包含替换字段，即以&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">{}</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">&nbsp;</span>标示的表达式。而其他字符串字面值总是一个常量，格式化字符串字面值实际上是会在运行时被求值的表达式。</p><p style="hyphens: auto; line-height: 22.4px;">转义序列会像在普通字符串字面值中一样被解码 (除非字面值还被标示为原始字符串)。解码之后，字符串内容所用的语法如下:</p><pre style="overflow-y: hidden; padding: 5px; line-height: 18.528px; border: 1px solid rgb(170, 204, 153); background-color: rgb(238, 255, 204); font-size: 15.44px; font-family: monospace, sans-serif; color: rgb(51, 51, 51);"><strong id="grammar-token-f-string">f_string         </strong> ::=  (<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-literal-char" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">literal_char</span></code></a> | " | " | <a class="reference internal" href="https://docs.python.org/zh-cn/3/library/string.html#grammar-token-replacement-field" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">replacement_field</span></code></a>)*
<strong id="grammar-token-replacement-field">replacement_field</strong> ::=  "{" <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-f-expression" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">f_expression</span></code></a> ["!" <a class="reference internal" href="https://docs.python.org/zh-cn/3/library/string.html#grammar-token-conversion" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">conversion</span></code></a>] [":" <a class="reference internal" href="https://docs.python.org/zh-cn/3/library/string.html#grammar-token-format-spec" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">format_spec</span></code></a>] "}"
<strong id="grammar-token-f-expression">f_expression     </strong> ::=  (<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#grammar-token-conditional-expression" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">conditional_expression</span></code></a> | "*" <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#grammar-token-or-expr" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">or_expr</span></code></a>)
                         ("," <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#grammar-token-conditional-expression" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">conditional_expression</span></code></a> | "," "*" <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#grammar-token-or-expr" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">or_expr</span></code></a>)* [","]
                       | <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#grammar-token-yield-expression" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">yield_expression</span></code></a>
<strong id="grammar-token-conversion">conversion       </strong> ::=  "s" | "r" | "a"
<strong id="grammar-token-format-spec">format_spec      </strong> ::=  (<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-literal-char" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">literal_char</span></code></a> | NULL | <a class="reference internal" href="https://docs.python.org/zh-cn/3/library/string.html#grammar-token-replacement-field" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">replacement_field</span></code></a>)*
<strong id="grammar-token-literal-char">literal_char     </strong> ::=  &lt;any code point except "{", "}" or NULL&gt;</pre><p style="hyphens: auto; line-height: 22.4px;">字符串在花括号以外的部分按其字面值处理，除了双重花括号&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">'&lt;/span&gt;&lt;span style="padding: 0px 1px; border-radius: 3px;"&gt;&amp;nbsp;或&amp;nbsp;&lt;/span&gt;&lt;span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;"&gt;'</span><span style="padding: 0px 1px; border-radius: 3px;">&nbsp;会被替换为相应的单个花括号。单个左花括号&nbsp;</span><span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">'{'</span><span style="padding: 0px 1px; border-radius: 3px;">&nbsp;标示一个替换字段，它以一个 Python 表达式打头，表达式之后可能有一个以叹号&nbsp;</span><span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">'!'</span><span style="padding: 0px 1px; border-radius: 3px;">&nbsp;标示的转换字段。之后还可能带有一个以冒号&nbsp;</span><span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">':'</span><span style="padding: 0px 1px; border-radius: 3px;">&nbsp;标示的格式说明符。替换字段以一个右花括号&nbsp;</span><span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">'}'</span><span style="padding: 0px 1px; border-radius: 3px;">&nbsp;作为结束。</span></p><p style="hyphens: auto; line-height: 22.4px;">格式化字符串字面值中的表达式会被当作正常的包含在圆括号中的 Python 表达式一样处理，但有少数例外。空表达式不被允许，<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#lambda" style=""><span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">lambda</span></a>&nbsp;表达式必须显式地加上圆括号。替换表达式可以包含换行 (例如在三引号字符串中)，但是不能包含注释。每个表达式会在格式化字符串字面值所包含的位置按照从左至右的顺序被求值。</p><p style="hyphens: auto; line-height: 22.4px;">如果指定了转换符，表达式的求值结果会先转换再格式化。转换符&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">'!s'</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">&nbsp;</span>即对结果调用&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/stdtypes.html#str" title="str" style=""><span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">str()</span></a>，<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">'!r'</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">&nbsp;</span>为调用&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#repr" title="repr" style=""><span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">repr()</span></a>，而&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">'!a'</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">&nbsp;</span>为调用&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#ascii" title="ascii" style=""><span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">ascii()</span></a>。</p><p style="hyphens: auto; line-height: 22.4px;">在此之后结果会使用&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#format" title="format" style=""><span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">format()</span></a>&nbsp;协议进行格式化。格式说明符会被传入表达式或转换结果的&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__format__" title="object.__format__" style=""><span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">__format__()</span></a>&nbsp;方法。如果省略格式说明符则会传入一个空字符串。然后格式化结果会包含在整个字符串最终的值当中。</p><p style="hyphens: auto; line-height: 22.4px;">顶层的格式说明符可以包含有嵌套的替换字段。这些嵌套字段也可以包含有自己的转换字段和&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/string.html#formatspec" style="">格式说明符</a>，但不可再包含更深层嵌套的替换字段。这里的&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/string.html#formatspec" style="">格式说明符微型语言</a>&nbsp;与字符串 .format() 方法所使用的相同。</p><p style="hyphens: auto; line-height: 22.4px;">格式化字符串字面值可以拼接，但是一个替换字段不能拆分到多个字面值。</p><p style="hyphens: auto; line-height: 22.4px;">一些格式化字符串字面值的示例:</p><div class="highlight-python3 notranslate" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255); position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><span class="copybutton" title="Hide the prompts and output" style="cursor: pointer; position: absolute; top: 0px; right: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</span><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">name</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="s2" style="color: rgb(64, 112, 160);">"Fred"</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">f</span><span class="s2" style="color: rgb(64, 112, 160);">"He said his name is </span><span class="si" style="color: rgb(112, 160, 208); font-style: italic;">{name!r}</span><span class="s2" style="color: rgb(64, 112, 160);">."</span>
<span class="go">"He said his name is 'Fred'."</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">f</span><span class="s2" style="color: rgb(64, 112, 160);">"He said his name is {repr(name)}."</span>  <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># repr() is equivalent to !r</span>
<span class="go">"He said his name is 'Fred'."</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">width</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="mi" style="color: rgb(32, 128, 80);">10</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">precision</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="mi" style="color: rgb(32, 128, 80);">4</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">value</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">decimal</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">Decimal</span><span class="p">(</span><span class="s2" style="color: rgb(64, 112, 160);">"12.34567"</span><span class="p">)</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">f</span><span class="s2" style="color: rgb(64, 112, 160);">"result: {value:</span><span class="si" style="color: rgb(112, 160, 208); font-style: italic;">{width}</span><span class="s2" style="color: rgb(64, 112, 160);">.</span><span class="si" style="color: rgb(112, 160, 208); font-style: italic;">{precision}</span><span class="s2" style="color: rgb(64, 112, 160);">}"</span>  <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># nested fields</span>
<span class="go">'result:      12.35'</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">today</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">datetime</span><span class="p">(</span><span class="n">year</span><span class="o" style="color: rgb(102, 102, 102);">=</span><span class="mi" style="color: rgb(32, 128, 80);">2017</span><span class="p">,</span> <span class="n">month</span><span class="o" style="color: rgb(102, 102, 102);">=</span><span class="mi" style="color: rgb(32, 128, 80);">1</span><span class="p">,</span> <span class="n">day</span><span class="o" style="color: rgb(102, 102, 102);">=</span><span class="mi" style="color: rgb(32, 128, 80);">27</span><span class="p">)</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">f</span><span class="s2" style="color: rgb(64, 112, 160);">"{today:%B </span><span class="si" style="color: rgb(112, 160, 208); font-style: italic;">%d</span><span class="s2" style="color: rgb(64, 112, 160);">, %Y}"</span>  <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># using date format specifier</span>
<span class="go">'January 27, 2017'</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">number</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="mi" style="color: rgb(32, 128, 80);">1024</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">f</span><span class="s2" style="color: rgb(64, 112, 160);">"</span><span class="si" style="color: rgb(112, 160, 208); font-style: italic;">{number:#0x}</span><span class="s2" style="color: rgb(64, 112, 160);">"</span>  <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># using integer format specifier</span>
<span class="go">'0x400'</span>
</pre></div></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">与正常字符串字面值采用相同语法导致的一个结果就是替换字段中的字符不能与外部的格式化字符串字面值所用的引号相冲突:</p><div class="highlight-python3 notranslate" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255); position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="n">f</span><span class="s2" style="color: rgb(64, 112, 160);">"abc </span><span class="si" style="color: rgb(112, 160, 208); font-style: italic;">{a["x"]}</span><span class="s2" style="color: rgb(64, 112, 160);"> def"</span>    <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># error: outer string literal ended prematurely</span>
<span class="n">f</span><span class="s2" style="color: rgb(64, 112, 160);">"abc </span><span class="si" style="color: rgb(112, 160, 208); font-style: italic;">{a['x']}</span><span class="s2" style="color: rgb(64, 112, 160);"> def"</span>    <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># workaround: use different quoting</span>
</pre></div></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">格式表达式中不允许有反斜杠，这会引发错误:</p><div class="highlight-python3 notranslate" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255); position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="n">f</span><span class="s2" style="color: rgb(64, 112, 160);">"newline: {ord('</span><span class="se" style="color: rgb(64, 112, 160); font-weight: bold;">\n</span><span class="s2" style="color: rgb(64, 112, 160);">')}"</span>  <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># raises SyntaxError</span>
</pre></div></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">想包含需要用反斜杠转义的值，可以创建一个临时变量。</p><div class="highlight-default notranslate" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">newline</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="nb" style="color: rgb(0, 112, 32);">ord</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'</span><span class="se" style="color: rgb(64, 112, 160); font-weight: bold;">\n</span><span class="s1" style="color: rgb(64, 112, 160);">'</span><span class="p">)</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">f</span><span class="s2" style="color: rgb(64, 112, 160);">"newline: </span><span class="si" style="color: rgb(112, 160, 208); font-style: italic;">{newline}</span><span class="s2" style="color: rgb(64, 112, 160);">"</span>
<span class="go">'newline: 10'</span>
</pre></div></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">格式化字符串字面值不可用作文档字符串，即便其中没有包含表达式。</p><div class="highlight-python3 notranslate" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255); position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><span class="copybutton" title="Hide the prompts and output" style="cursor: pointer; position: absolute; top: 0px; right: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</span><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">def</span> <span class="nf" style="color: rgb(6, 40, 126);">foo</span><span class="p">():</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">... </span>    <span class="n">f</span><span class="s2" style="color: rgb(64, 112, 160);">"Not a docstring"</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">...</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">foo</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="vm" style="color: rgb(187, 96, 213);">__doc__</span> <span class="ow" style="color: rgb(0, 112, 32); font-weight: bold;">is</span> <span class="kc" style="color: rgb(0, 112, 32); font-weight: bold;">None</span>
<span class="go">True</span>
</pre></div></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">另请参见&nbsp;<span class="target" id="index-41"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0498" style="color: rgb(99, 99, 187); text-decoration-line: none;"><strong>PEP 498</strong></a>&nbsp;了解加入格式化字符串字面值的提议，以及使用了相关的格式字符串机制的&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/stdtypes.html#str.format" title="str.format" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">str.format()</span></code></a>。</p></div><h4 id="blogTitle23">数字字面值<br></h4><div><div>数字字面值有三种类型: 整型数、浮点数和虚数。没有专门的复数字面值 (复数可由一个实数加一个虚数合成)。</div><div><br></div><div>注意数字字面值并不包含正负号；-1 这样的负数实际上是由单目运算符 ‘-‘ 和字面值 1 合成的。</div></div><h5 id="blogTitle24">整型数字面值</h5><div><p style="hyphens: auto; line-height: 22.4px;">整型数字面值由以下词法定义进行描述:</p><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><strong id="grammar-token-integer">integer     </strong> ::=  <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-decinteger" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">decinteger</span></code></a> | <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-bininteger" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">bininteger</span></code></a> | <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-octinteger" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">octinteger</span></code></a> | <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-hexinteger" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">hexinteger</span></code></a>
<strong id="grammar-token-decinteger">decinteger  </strong> ::=  <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-nonzerodigit" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">nonzerodigit</span></code></a> (["_"] <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-digit" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">digit</span></code></a>)* | "0"+ (["_"] "0")*
<strong id="grammar-token-bininteger">bininteger  </strong> ::=  "0" ("b" | "B") (["_"] <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-bindigit" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">bindigit</span></code></a>)+
<strong id="grammar-token-octinteger">octinteger  </strong> ::=  "0" ("o" | "O") (["_"] <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-octdigit" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">octdigit</span></code></a>)+
<strong id="grammar-token-hexinteger">hexinteger  </strong> ::=  "0" ("x" | "X") (["_"] <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-hexdigit" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">hexdigit</span></code></a>)+
<strong id="grammar-token-nonzerodigit">nonzerodigit</strong> ::=  "1"..."9"
<strong id="grammar-token-digit">digit       </strong> ::=  "0"..."9"
<strong id="grammar-token-bindigit">bindigit    </strong> ::=  "0" | "1"
<strong id="grammar-token-octdigit">octdigit    </strong> ::=  "0"..."7"
<strong id="grammar-token-hexdigit">hexdigit    </strong> ::=  <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-digit" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">digit</span></code></a> | "a"..."f" | "A"..."F"</pre><p style="hyphens: auto; line-height: 22.4px;">整型数字面值的长度没有限制，能一直大到占满可用内存。</p><p style="hyphens: auto; line-height: 22.4px;">在确定数字大小时字面值中的下划线会被忽略。它们可用来将数码分组以提高可读性。一个下划线可放在数码之间，也可放在基数说明符例如&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">0x</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">&nbsp;</span>之后。</p><p style="hyphens: auto; line-height: 22.4px;">注意非零的十进制数开头不允许有额外的零。这是为了避免与 Python 在版本 3.0 之前所使用的 C 风格八进制字面值相混淆。</p><p style="hyphens: auto; line-height: 22.4px;">一些整型数字面值的示例如下:</p><div class="highlight-python3 notranslate" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255); position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="mi" style="color: rgb(32, 128, 80);">7</span>     <span class="mi" style="color: rgb(32, 128, 80);">2147483647</span>                        <span class="mo" style="color: rgb(32, 128, 80);">0o177</span>    <span class="mb" style="color: rgb(32, 128, 80);">0b100110111</span>
<span class="mi" style="color: rgb(32, 128, 80);">3</span>     <span class="mi" style="color: rgb(32, 128, 80);">79228162514264337593543950336</span>     <span class="mo" style="color: rgb(32, 128, 80);">0o377</span>    <span class="mh" style="color: rgb(32, 128, 80);">0xdeadbeef</span>
      <span class="mi" style="color: rgb(32, 128, 80);">100</span><span class="n">_000_000_000</span>                   <span class="mi" style="color: rgb(32, 128, 80);">0</span><span class="n">b_1110_0101</span>
</pre></div></div><div class="versionchanged" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><p style="hyphens: auto; text-align: justify; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">在 3.6 版更改:&nbsp;</span>允许在字面值中使用下划线进行分组。</p></div></div><h5 id="blogTitle25">浮点数字面值</h5><div><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">浮点数字面值由以下词法定义进行描述:</p><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><strong id="grammar-token-floatnumber">floatnumber  </strong> ::=  <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-pointfloat" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">pointfloat</span></code></a> | <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-exponentfloat" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">exponentfloat</span></code></a>
<strong id="grammar-token-pointfloat">pointfloat   </strong> ::=  [<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-digitpart" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">digitpart</span></code></a>] <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-fraction" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">fraction</span></code></a> | <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-digitpart" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">digitpart</span></code></a> "."
<strong id="grammar-token-exponentfloat">exponentfloat</strong> ::=  (<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-digitpart" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">digitpart</span></code></a> | <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-pointfloat" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">pointfloat</span></code></a>) <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-exponent" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">exponent</span></code></a>
<strong id="grammar-token-digitpart">digitpart    </strong> ::=  <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-digit" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">digit</span></code></a> (["_"] <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-digit" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">digit</span></code></a>)*
<strong id="grammar-token-fraction">fraction     </strong> ::=  "." <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-digitpart" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">digitpart</span></code></a>
<strong id="grammar-token-exponent">exponent     </strong> ::=  ("e" | "E") ["+" | "-"] <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-digitpart" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">digitpart</span></code></a>
</pre><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">注意整型数部分和指数部分在解析时总是以 10 为基数。例如，<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">077e010</span></code>&nbsp;是合法的，且表示的数值与&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">77e10</span></code>&nbsp;相同。浮点数字面值允许的范围依赖于具体实现。对于整型数字面值，支持以下划线进行分组。</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">一些浮点数字面值的示例如下:</p><div class="highlight-python3 notranslate" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255); position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="mf" style="color: rgb(32, 128, 80);">3.14</span>    <span class="mf" style="color: rgb(32, 128, 80);">10.</span>    <span class="o" style="color: rgb(102, 102, 102);">.</span><span class="mi" style="color: rgb(32, 128, 80);">001</span>    <span class="mf" style="color: rgb(32, 128, 80);">1e100</span>    <span class="mf" style="color: rgb(32, 128, 80);">3.14e-10</span>    <span class="mf" style="color: rgb(32, 128, 80);">0e0</span>    <span class="mf" style="color: rgb(32, 128, 80);">3.14</span><span class="n">_15_93</span>
</pre></div></div><div class="versionchanged" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><p style="hyphens: auto; text-align: justify; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">在 3.6 版更改:&nbsp;</span>允许在字面值中使用下划线进行分组。</p></div></div><h5 id="blogTitle26">虚数字面值&nbsp;</h5><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">虚数字面值由以下词法定义进行描述:</p><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><strong id="grammar-token-imagnumber">imagnumber</strong> ::=  (<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-floatnumber" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">floatnumber</span></code></a> | <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-digitpart" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">digitpart</span></code></a>) ("j" | "J")
</pre><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">一个虚数字面值将生成一个实部为 0.0 的复数。复数是以一对浮点数来表示的，它们的取值范围相同。要创建一个实部不为零的复数，就加上一个浮点数，例如&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">(3+4j)</span></code>。一些虚数字面值的示例如下:</p><div class="highlight-python3 notranslate" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255); position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="mf" style="color: rgb(32, 128, 80);">3.14</span><span class="n">j</span>   <span class="mf" style="color: rgb(32, 128, 80);">10.</span><span class="n">j</span>    <span class="mi" style="color: rgb(32, 128, 80);">10</span><span class="n">j</span>     <span class="o" style="color: rgb(102, 102, 102);">.</span><span class="mi" style="color: rgb(32, 128, 80);">001</span><span class="n">j</span>   <span class="mf" style="color: rgb(32, 128, 80);">1e100j</span>   <span class="mf" style="color: rgb(32, 128, 80);">3.14e-10</span><span class="n">j</span>   <span class="mf" style="color: rgb(32, 128, 80);">3.14</span><span class="n">_15_93j</span></pre></div></div><p><br></p><h3 id="blogTitle27">运算符</h3><div><p id="index-30" style="hyphens: auto; line-height: 22.4px;">以下形符属于运算符:</p><div class="highlight-none notranslate" style=""><div class="highlight" style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;">+       -       *       **      /       //      %      @
&lt;&lt;      &gt;&gt;      &amp;       |       ^       ~
&lt;       &gt;       &lt;=      &gt;=      ==      !=</pre></div></div></div><h3 id="blogTitle28">&nbsp;分隔符</h3><div><p id="index-31" style="hyphens: auto; line-height: 22.4px;">以下形符在语法中归类为分隔符:</p><div class="highlight-none notranslate" style=""><div class="highlight" style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;">(       )       [       ]       {       }
,       :       .       ;       @       =       -&gt;
+=      -=      *=      /=      //=     %=      @=
&amp;=      |=      ^=      &gt;&gt;=     &lt;&lt;=     **=</pre></div></div><p style="hyphens: auto; line-height: 22.4px;">句点也可出现于浮点数和虚数字面值中。连续三个句点有表示一个省略符的特殊含义。以上列表的后半部分为增强赋值操作符，在词法中作为分隔符，但也起到运算作用。</p><p style="hyphens: auto; line-height: 22.4px;">以下可打印 ASCII 字符作为其他形符的组成部分时具有特殊含义，或是对词法分析器有重要意义:</p><div class="highlight-none notranslate" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;">'       "       #       \
</pre></div></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">以下可打印 ASCII 字符不在 Python 词法中使用。如果出现于字符串字面值和注释之外将无条件地引发错误:</p><div class="highlight-none notranslate" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;">$       ?       `</pre></div></div></div><h2 id="blogTitle29">数据模型</h2><p>Data model</p><h2 id="blogTitle60">Execution model</h2><div><p></p><h3 id="blogTitle61">Structure of a program</h3><p></p><p id="index-1" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">A Python program is constructed from code blocks. A&nbsp;<em class="dfn">block</em>&nbsp;is a piece of Python program text that is executed as a unit. The following are blocks: a module, a function body, and a class definition. Each command typed interactively is a block. A script file (a file given as standard input to the interpreter or specified as a command line argument to the interpreter) is a code block. A script command (a command specified on the interpreter command line with the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/using/cmdline.html#cmdoption-c" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-option docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">-c</span></code></a>&nbsp;option) is a code block. The string argument passed to the built-in functions&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#eval" title="eval" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">eval()</span></code></a>&nbsp;and&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#exec" title="exec" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">exec()</span></code></a>&nbsp;is a code block.</p><p id="index-2" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">A code block is executed in an&nbsp;<em class="dfn">execution frame</em>. A frame contains some administrative information (used for debugging) and determines where and how execution continues after the code block’s execution has completed.</p><h3 id="blogTitle62">Naming and binding</h3><h4 id="blogTitle63">Binding of names</h4><p id="index-4" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><em class="dfn">Names</em>&nbsp;refer to objects. Names are introduced by name binding operations.</p><p id="index-5" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">The following constructs bind names: formal parameters to functions,<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/simple_stmts.html#import" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">import</span></code></a>&nbsp;statements, class and function definitions (these bind the class or function name in the defining block), and targets that are identifiers if occurring in an assignment,&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/compound_stmts.html#for" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">for</span></code></a>&nbsp;loop header, or after&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/compound_stmts.html#as" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">as</span></code></a>&nbsp;in a&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/compound_stmts.html#with" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">with</span></code></a>&nbsp;statement or&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/compound_stmts.html#except" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">except</span></code></a>&nbsp;clause. The&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/simple_stmts.html#import" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">import</span></code></a>&nbsp;statement of the form&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">from</span>&nbsp;<span class="pre" style="hyphens: none;">...</span>&nbsp;<span class="pre" style="hyphens: none;">import</span>&nbsp;<span class="pre" style="hyphens: none;">*</span></code>binds all names defined in the imported module, except those beginning with an underscore. This form may only be used at the module level.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">A target occurring in a&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/simple_stmts.html#del" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">del</span></code></a>&nbsp;statement is also considered bound for this purpose (though the actual semantics are to unbind the name).</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">Each assignment or import statement occurs within a block defined by a class or function definition or at the module level (the top-level code block).</p><p id="index-6" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">If a name is bound in a block, it is a local variable of that block, unless declared as&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/simple_stmts.html#nonlocal" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">nonlocal</span></code></a>&nbsp;or&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/simple_stmts.html#global" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">global</span></code></a>. If a name is bound at the module level, it is a global variable. (The variables of the module code block are local and global.) If a variable is used in a code block but not defined there, it is a&nbsp;<em class="dfn">free variable</em>.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">Each occurrence of a name in the program text refers to the&nbsp;<em class="dfn">binding</em>&nbsp;of that name established by the following name resolution rules.</p><h4 id="blogTitle64">Resolution of names</h4><p id="index-7" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">A&nbsp;<em class="dfn">scope</em>&nbsp;defines the visibility of a name within a block. If a local variable is defined in a block, its scope includes that block. If the definition occurs in a function block, the scope extends to any blocks contained within the defining one, unless a contained block introduces a different binding for the name.</p><p id="index-8" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">When a name is used in a code block, it is resolved using the nearest enclosing scope. The set of all such scopes visible to a code block is called the block’s&nbsp;<em class="dfn">environment</em>.</p><p id="index-9" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">When a name is not found at all, a&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#NameError" title="NameError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">NameError</span></code></a>&nbsp;exception is raised. If the current scope is a function scope, and the name refers to a local variable that has not yet been bound to a value at the point where the name is used, an&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#UnboundLocalError" title="UnboundLocalError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">UnboundLocalError</span></code></a>&nbsp;exception is raised.&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#UnboundLocalError" title="UnboundLocalError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">UnboundLocalError</span></code></a>&nbsp;is a subclass of&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#NameError" title="NameError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">NameError</span></code></a>.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">If a name binding operation occurs anywhere within a code block, all uses of the name within the block are treated as references to the current block. This can lead to errors when a name is used within a block before it is bound. This rule is subtle. Python lacks declarations and allows name binding operations to occur anywhere within a code block. The local variables of a code block can be determined by scanning the entire text of the block for name binding operations.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">If the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/simple_stmts.html#global" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">global</span></code></a>&nbsp;statement occurs within a block, all uses of the name specified in the statement refer to the binding of that name in the top-level namespace. Names are resolved in the top-level namespace by searching the global namespace, i.e. the namespace of the module containing the code block, and the builtins namespace, the namespace of the module&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/builtins.html#module-builtins" title="builtins: The module that provides the built-in namespace." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">builtins</span></code></a>. The global namespace is searched first. If the name is not found there, the builtins namespace is searched. The&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/simple_stmts.html#global" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">global</span></code></a>&nbsp;statement must precede all uses of the name.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">The&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/simple_stmts.html#global" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">global</span></code></a>&nbsp;statement has the same scope as a name binding operation in the same block. If the nearest enclosing scope for a free variable contains a global statement, the free variable is treated as a global.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">The&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/simple_stmts.html#nonlocal" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">nonlocal</span></code></a>&nbsp;statement causes corresponding names to refer to previously bound variables in the nearest enclosing function scope.&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#SyntaxError" title="SyntaxError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">SyntaxError</span></code></a>&nbsp;is raised at compile time if the given name does not exist in any enclosing function scope.</p><p id="index-10" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">The namespace for a module is automatically created the first time a module is imported. The main module for a script is always called&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/__main__.html#module-__main__" title="__main__: The environment where the top-level script is run." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__main__</span></code></a>.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">Class definition blocks and arguments to&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#exec" title="exec" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">exec()</span></code></a>&nbsp;and&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#eval" title="eval" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">eval()</span></code></a>&nbsp;are special in the context of name resolution. A class definition is an executable statement that may use and define names. These references follow the normal rules for name resolution with an exception that unbound local variables are looked up in the global namespace. The namespace of the class definition becomes the attribute dictionary of the class. The scope of names defined in a class block is limited to the class block; it does not extend to the code blocks of methods – this includes comprehensions and generator expressions since they are implemented using a function scope. This means that the following will fail:</p><div class="highlight-python3 notranslate" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255); position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">class</span> <span class="nc" style="color: rgb(14, 132, 181); font-weight: bold;">A</span><span class="p">:</span>
    <span class="n">a</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="mi" style="color: rgb(32, 128, 80);">42</span>
    <span class="n">b</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="nb" style="color: rgb(0, 112, 32);">list</span><span class="p">(</span><span class="n">a</span> <span class="o" style="color: rgb(102, 102, 102);">+</span> <span class="n">i</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">for</span> <span class="n">i</span> <span class="ow" style="color: rgb(0, 112, 32); font-weight: bold;">in</span> <span class="nb" style="color: rgb(0, 112, 32);">range</span><span class="p">(</span><span class="mi" style="color: rgb(32, 128, 80);">10</span><span class="p">))</span></pre></div></div><h4 id="blogTitle65">Builtins and restricted execution</h4><div class="impl-detail compound" id="index-11" style="border-radius: 3px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><p style="hyphens: auto; text-align: justify; line-height: 22.4px; margin: 0px;"><strong>CPython implementation detail:</strong>&nbsp;Users should not touch&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__builtins__</span></code>; it is strictly an implementation detail. Users wanting to override values in the builtins namespace should&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/simple_stmts.html#import" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">import</span></code></a>&nbsp;the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/builtins.html#module-builtins" title="builtins: The module that provides the built-in namespace." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">builtins</span></code></a>&nbsp;module and modify its attributes appropriately.</p></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">The builtins namespace associated with the execution of a code block is actually found by looking up the name&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__builtins__</span></code>&nbsp;in its global namespace; this should be a dictionary or a module (in the latter case the module’s dictionary is used). By default, when in the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/__main__.html#module-__main__" title="__main__: The environment where the top-level script is run." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__main__</span></code></a>&nbsp;module,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__builtins__</span></code>&nbsp;is the built-in module&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/builtins.html#module-builtins" title="builtins: The module that provides the built-in namespace." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">builtins</span></code></a>; when in any other module,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__builtins__</span></code>&nbsp;is an alias for the dictionary of the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/builtins.html#module-builtins" title="builtins: The module that provides the built-in namespace." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">builtins</span></code></a>&nbsp;module itself.</p><h4 id="blogTitle66">Interaction with dynamic features</h4><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">Name resolution of free variables occurs at runtime, not at compile time. This means that the following code will print 42:</p><div class="highlight-python3 notranslate" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255); position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="n">i</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="mi" style="color: rgb(32, 128, 80);">10</span>
<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">def</span> <span class="nf" style="color: rgb(6, 40, 126);">f</span><span class="p">():</span>
    <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="n">i</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="mi" style="color: rgb(32, 128, 80);">42</span>
<span class="n">f</span><span class="p">()</span>
</pre></div></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">The&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#eval" title="eval" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">eval()</span></code></a>&nbsp;and&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#exec" title="exec" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">exec()</span></code></a>&nbsp;functions do not have access to the full environment for resolving names. Names may be resolved in the local and global namespaces of the caller. Free variables are not resolved in the nearest enclosing namespace, but in the global namespace.&nbsp;<a class="footnote-reference" href="https://docs.python.org/zh-cn/3/reference/executionmodel.html#id3" id="id1" style="color: rgb(99, 99, 187); text-decoration-line: none;">[1]</a>&nbsp;The&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#exec" title="exec" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">exec()</span></code></a>&nbsp;and<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#eval" title="eval" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">eval()</span></code></a>&nbsp;functions have optional arguments to override the global and local namespace. If only one namespace is specified, it is used for both.</p><h3 id="blogTitle67">异常</h3><p id="index-13" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">Exceptions are a means of breaking out of the normal flow of control of a code block in order to handle errors or other exceptional conditions. An exception is&nbsp;<em>raised</em>&nbsp;at the point where the error is detected; it may be&nbsp;<em>handled</em>&nbsp;by the surrounding code block or by any code block that directly or indirectly invoked the code block where the error occurred.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">The Python interpreter raises an exception when it detects a run-time error (such as division by zero). A Python program can also explicitly raise an exception with the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/simple_stmts.html#raise" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">raise</span></code></a>&nbsp;statement. Exception handlers are specified with the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/compound_stmts.html#try" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">try</span></code></a>&nbsp;…&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/compound_stmts.html#except" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">except</span></code></a>&nbsp;statement. The&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/compound_stmts.html#finally" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">finally</span></code></a>&nbsp;clause of such a statement can be used to specify cleanup code which does not handle the exception, but is executed whether an exception occurred or not in the preceding code.</p><p id="index-14" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">Python uses the “termination” model of error handling: an exception handler can find out what happened and continue execution at an outer level, but it cannot repair the cause of the error and retry the failing operation (except by re-entering the offending piece of code from the top).</p><p id="index-15" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">When an exception is not handled at all, the interpreter terminates execution of the program, or returns to its interactive main loop. In either case, it prints a stack backtrace, except when the exception is&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#SystemExit" title="SystemExit" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">SystemExit</span></code></a>.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">Exceptions are identified by class instances. The&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/compound_stmts.html#except" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">except</span></code></a>&nbsp;clause is selected depending on the class of the instance: it must reference the class of the instance or a base class thereof. The instance can be received by the handler and can carry additional information about the exceptional condition.</p><div class="admonition note" style="margin-top: 10px; margin-bottom: 10px; padding: 7px; background-color: rgb(238, 238, 238); border: 1px solid rgb(204, 204, 204); border-radius: 3px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px;"><p class="first admonition-title" style="margin: 0px 10px 5px 0px; font-weight: bold; display: inline; hyphens: auto; text-align: justify; line-height: 22.4px;">注解</p>&nbsp;<p class="last" style="hyphens: auto; text-align: justify; line-height: 22.4px; margin-bottom: 5px; display: inline;">Exception messages are not part of the Python API. Their contents may change from one version of Python to the next without warning and should not be relied on by code which will run under multiple versions of the interpreter.</p></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">See also the description of the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/compound_stmts.html#try" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">try</span></code></a>&nbsp;statement in section&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/compound_stmts.html#try" style="color: rgb(99, 99, 187); text-decoration-line: none;">The try statement</a>and&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/simple_stmts.html#raise" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">raise</span></code></a>&nbsp;statement in section&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/simple_stmts.html#raise" style="color: rgb(99, 99, 187); text-decoration-line: none;">The raise statement</a>.</p></div><h2 id="blogTitle68">The import system</h2><div><p></p><h3 id="blogTitle69">importlib</h3><h3 id="blogTitle70">包</h3><h3 id="blogTitle71">Searching</h3><h3 id="blogTitle72">Loading</h3><h3 id="blogTitle73">The Path Based Finder</h3><h3 id="blogTitle74">Replacing the standard import system</h3><h3 id="blogTitle75">Special considerations for __main__</h3><h3 id="blogTitle76">Open issues</h3><h3 id="blogTitle77">Reference</h3><br><p></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p></div><h2 id="blogTitle78">表达式</h2><div>Expressions</div><div><p></p><h3 id="blogTitle79">Arithmetic conversions</h3><h3 id="blogTitle80">Atoms</h3><h3 id="blogTitle81">Primaries</h3><h3 id="blogTitle82">Await expression</h3><h3 id="blogTitle83">The power operator</h3><h3 id="blogTitle84">Unary arithmetic and bitwise operations</h3><h3 id="blogTitle85">Binary arithmetic operations</h3><h3 id="blogTitle86">Shifting operations</h3><h3 id="blogTitle87">Binary bitwise operations</h3><h3 id="blogTitle88">Comparisons</h3><h3 id="blogTitle89">Boolean operations</h3><h3 id="blogTitle90">Conditional expressions</h3><h3 id="blogTitle91">Lambdas</h3><h3 id="blogTitle92">Expression lists</h3><h3 id="blogTitle93">&nbsp;Evaluation order</h3><h3 id="blogTitle94">Operator precedence&nbsp;</h3><br><p></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p></div><h2 id="blogTitle95">简单语句</h2><div>Simple statements</div><div><p></p><h3 id="blogTitle96">Expression statements</h3><h3 id="blogTitle97">Assignment statements</h3><h3 id="blogTitle98">the assert statements</h3><h3 id="blogTitle99">the pass statement</h3><h3 id="blogTitle100">del 语句</h3><h3 id="blogTitle101">The return statement</h3><h3 id="blogTitle102">The yield statement</h3><h3 id="blogTitle103">The raise statement</h3><h3 id="blogTitle104">The break statement</h3><h3 id="blogTitle105">The continue statement</h3><h3 id="blogTitle106">The import statement</h3><h3 id="blogTitle107">The global statement</h3><h3 id="blogTitle108">The nolocal statement</h3><br><p></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p></div><h2 id="blogTitle109">Compound statements</h2><div><h3 id="blogTitle110">The if statement</h3><h3 id="blogTitle111">The while statement</h3><h3 id="blogTitle112">The for statement</h3><h3 id="blogTitle113">The try statement</h3><h3 id="blogTitle114">The with statement</h3><h3 id="blogTitle115">Function statement</h3><h3 id="blogTitle116">Class definitions</h3><h3 id="blogTitle117">协程</h3><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p></div><h2 id="blogTitle118">Top-level components</h2><div><p></p><h3 id="blogTitle119">Complete Python programs</h3><h3 id="blogTitle120">File input</h3><h3 id="blogTitle121">Interactive input</h3><h3 id="blogTitle122">Expression input</h3><br><p></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p></div><h2 id="blogTitle123">完整的语法规范</h2><div>Full Grammar specification</div><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p>
</article>
{% endblock point1 %}
