{% extends 'c-word.html' %}

{% block title %} specification - Python {% endblock title %}

{% block point1 %}
<article contenteditable="true">
  <p><span style="background-color: yellow;"><b>Category: specification - Python</b></span></p>
  <h1 id="blogTitle0">Python Specification</h1><h2 id="blogTitle1">概述</h2><div><h3 id="blogTitle2">实现</h3><div>Alternate Implementations</div><div><p style="hyphens: auto; line-height: 22.4px;">虽然官方 Python 实现差不多得到最广泛的欢迎，但也有一些其他实现对特定领域的用户来说更具吸引力。</p><p style="hyphens: auto; line-height: 22.4px;">知名的实现包括:</p><dl class="docutils" style="margin-bottom: 15px;"><dt>CPython</dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;">这是最早出现并持续维护的 Python 实现，以 C 语言编写。新的语言特性通常在此率先添加。</dd><dt>Jython</dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;">以 Java 语言编写的 Python 实现。此实现可以作为 Java 应用的一个脚本语言，或者可以用来创建需要 Java 类库支持的应用。想了解更多信息可访问&nbsp;<a class="reference external" href="http://www.jython.org/">Jython 网站</a>。</dd><dt>Python for .NET</dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;">此实现实际上使用了 CPython 实现，但是属于 .NET 托管应用并且可以引入 .NET 类库。它的创造者是 Brian Lloyd。想了解详情可访问&nbsp;<a class="reference external" href="https://pythonnet.github.io/">Python for .NET 主页</a>。</dd><dt>IronPython</dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;">另一个 .NET 的 Python 实现，与 Python.NET 不同点在于它是生成 IL 的完全 Python 实现，并且将 Python 代码直接编译为 .NET 程序集。它的创造者就是当初创造 Jython 的 Jim Hugunin。想了解详情可访问&nbsp;<a class="reference external" href="http://ironpython.net/">IronPython 网站</a>。</dd><dt>PyPy</dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;">完全使用 Python 语言编写的 Python 实现。它支持多个其他实现所没有的高级特性，例如非栈式支持和 JIT 编译器等。此项目的目标之一是通过允许方便地修改解释器 (因为它是用 Python 编写的)，鼓励该对语言本身进行试验。想了解详情可访问&nbsp;<a class="reference external" href="http://pypy.org/">PyPy 项目主页</a>。</dd></dl><p style="hyphens: auto; line-height: 22.4px;">以上这些实现都可能在某些方面与此参考文档手册的描述有所差异，或是引入了超出标准 Python 文档范围的特定信息。请参考它们各自的专门文档，以确定你正在使用的这个实现有哪些你需要了解的东西。</p></div><h3 id="blogTitle3">标注</h3><div>Notation</div><div><p id="index-0" style="hyphens: auto; line-height: 22.4px;">句法和词法解析的描述采用经过改进的 BNF 语法标注。这包含以下定义样式:</p><pre style="padding: 5px; overflow-y: hidden; background-color: rgb(238, 255, 204); font-size: 15.44px; font-family: monospace, sans-serif; line-height: 18.528px; color: rgb(51, 51, 51); border: 1px solid rgb(170, 204, 153);"><strong id="grammar-token-name">name     </strong> ::=  <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/introduction.html#grammar-token-lc-letter" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">lc_letter</span></code></a> (<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/introduction.html#grammar-token-lc-letter" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">lc_letter</span></code></a> | "_")*
<strong id="grammar-token-lc-letter">lc_letter</strong> ::=  "a"..."z"</pre><p style="hyphens: auto; line-height: 22.4px;">第一行表示&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">name</span><span style="padding: 0px 1px; border-radius: 3px;">&nbsp;是一个&nbsp;</span><span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">lc_letter</span><span style="padding: 0px 1px; border-radius: 3px;">&nbsp;之后跟零个或多个&nbsp;</span><span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">lc_letter</span><span style="padding: 0px 1px; border-radius: 3px;">&nbsp;和下划线。而一个&nbsp;</span><span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">lc_letter</span><span style="padding: 0px 1px; border-radius: 3px;">&nbsp;则是任意单个&nbsp;</span><span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">'a'</span><span style="padding: 0px 1px; border-radius: 3px;">&nbsp;至&nbsp;</span><span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">'z'</span><span style="padding: 0px 1px; border-radius: 3px;">&nbsp;字符。(实际上在本文档中始终采用此规则来定义词法和语法规则的名称。)</span></p><p style="hyphens: auto; line-height: 22.4px;">每条规则的开头是一个名称 (即该规则所定义的名称) 加上&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">::=</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">。竖线 (</span><span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">|</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">) 被用来分隔可选项；它是此标注中最灵活的操作符。星号 (</span><span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">*</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">) 表示前一项的零次或多次重复；类似地，加号 (</span><span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">+</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">) 表示一次或多次重复，而由方括号括起的内容 (</span><span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">[</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">&nbsp;</span><span class="pre" style="hyphens: none;">]</span>) 表示出现零次或一次 (或者说，这部分内容是可选的)。<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">*</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">&nbsp;</span>和&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">+</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">&nbsp;</span>操作符的绑定是最紧密的；圆括号用于分组。固定字符串包含在引号内。空格的作用仅限于分隔形符。每条规则通常为一行；有许多个可选项的规则可能会以竖线为界分为多行。</p><p id="index-1" style="hyphens: auto; line-height: 22.4px;">在词法定义中 (如上述示例)，还额外使用了两个约定: 由三个点号分隔的两个本义字符表示在指定 (开) 区间范围内的任意单个 ASCII 字符。由尖括号 (<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">&lt;...&gt;</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">) 括起来的内容是对于所定义符号的非正式描述；即可以在必要时用来说明 ‘控制字符’ 的意图。</span></p><p style="hyphens: auto; line-height: 22.4px;">虽然所用的标注方式几乎相同，但是词法定义和句法定义是存在很大区别的: 词法定义作用于输入源中单独的字符，而句法定义则作用于由词法分析所生成的 token 流。</p></div></div><h2 id="blogTitle4">词法分析</h2><div><p id="index-0" style="hyphens: auto; line-height: 22.4px;">Lexical analysis</p><p id="index-0" style="hyphens: auto; line-height: 22.4px;">Python 程序由一个&nbsp;<i>解析器</i>&nbsp;读取。输入到解析器的是一个由&nbsp;<i>词法分析器&nbsp;</i>所生成的&nbsp;<i>tokens&nbsp;</i>流，本章将描述词法分析器是如何将一个文件拆分为一个个 token 的。</p><p style="hyphens: auto; line-height: 22.4px;">Python 会将读取的程序文本转为 Unicode 码点；源文件的文本编码可由编码声明指定，默认为 UTF-8，详情见&nbsp;<span class="target" id="index-37" style=""></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-3120" style="">PEP 3120</a>。如果源文件无法被解码，将会引发&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#SyntaxError" title="SyntaxError" style=""><span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">SyntaxError</span></a>。</p></div><h3 id="blogTitle5">行结构</h3><p>Line structure</p><p>一个 Python 程序可被划分为若干&nbsp;<i>逻辑行</i>。</p><h4 id="blogTitle6">逻辑行</h4><p>Logical lines</p><p>逻辑行的结束是以 NEWLINE 形符表示的。语句不能跨越逻辑行的边界，除非其语法允许包含 NEWLINE (例如复合语句可由多行子语句组成)。一个逻辑行可由一个或多个 <i>物理行 </i>按照明确或隐含的 <i>行拼接 </i>规则构成。<br></p><h4 id="blogTitle7">物理行</h4><p>Physical lines</p><p>物理行是以一个行终止序列结束的字符序列。在源文件和字符串中，可以使用任何标准平台上的行终止序列 - Unix 所用的 ASCII 字符 LF (换行), Windows 所用的 ASCII 字符序列 CR LF (回车加换行), 或者旧 Macintosh 所用的 ASCII 字符 CR (回车)。所有这些形式均可使用，无论具体平台。输入的结束也会被作为最后一个物理行的隐含终止标志。</p><p>当嵌入 Python 时，源码字符串传入 Python API 应使用标准 C 的传统换行符 (即 \n，表示 ASCII 字符 LF 作为行终止标志)。</p><h4 id="blogTitle8">注释</h4><div>一条注释以不包含在字符串内的井号 (#) 开头，并在物理行的末尾结束。一条注释标志着逻辑行的结束，除非存在隐含的行拼接规则。注释在语法分析中会被忽略；它们不属于形符。<br></div><h4 id="blogTitle9">编码声明</h4><div><p id="index-5" style="hyphens: auto; line-height: 22.4px;">如果一条注释位于 Python 脚本的第一或第二行，并且匹配正则表达式&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">coding[=:]\s*([-\w.]+)</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">，这条注释会被作为编码声明来处理；上述表达式的第一组指定了源码文件的编码。编码声明必须独占一行。如果它是在第二行，则第一行也必须是注释。推荐的编码声明形式如下</span></p><div class="highlight-python3 notranslate" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255); position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># -*- coding: &lt;encoding-name&gt; -*-</span></pre></div></div><p style="hyphens: auto; line-height: 22.4px;">这也是 GNU Emacs 认可的形式，以及</p><div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight" style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># vim:fileencoding=&lt;encoding-name&gt;</span></pre></div></div><p style="hyphens: auto; line-height: 22.4px;">这是 Bram Moolenaar 的 VIM 认可的形式。</p><p style="hyphens: auto; line-height: 22.4px;">如果没有编码声明，则默认编码为 UTF-8。此外，如果文件的首字节为 UTF-8 字节顺序标志 (<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">b'\xef\xbb\xbf'</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">)，文件编码也声明为 UTF-8 (这是 Microsoft 的</span>&nbsp;notepad&nbsp;等软件支持的形式)。</p><p style="hyphens: auto; line-height: 22.4px;">编码声明指定的编码名称必须是 Python 所认可的编码。所有词法分析将使用此编码，包括语义字符串、注释和标识符。</p></div><h4 id="blogTitle10">显式的行拼接</h4><div><div class="section" id="explicit-line-joining"><p id="index-6" style="hyphens: auto; line-height: 22.4px;">两个或更多个物理行可使用反斜杠字符 (<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">\</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">) </span>拼接为一个逻辑行，规则如下: 当一个物理行以一个不在字符串或注释内的反斜杠结尾时，它将与下一行拼接构成一个单独的逻辑行，反斜框及其后的换行符会被删除。例如:</p><div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">if</span> <span class="mi" style="color: rgb(32, 128, 80);">1900</span> <span class="o" style="color: rgb(102, 102, 102);">&lt;</span> <span class="n">year</span> <span class="o" style="color: rgb(102, 102, 102);">&lt;</span> <span class="mi" style="color: rgb(32, 128, 80);">2100</span> <span class="ow" style="color: rgb(0, 112, 32); font-weight: bold;">and</span> <span class="mi" style="color: rgb(32, 128, 80);">1</span> <span class="o" style="color: rgb(102, 102, 102);">&lt;=</span> <span class="n">month</span> <span class="o" style="color: rgb(102, 102, 102);">&lt;=</span> <span class="mi" style="color: rgb(32, 128, 80);">12</span> \
   <span class="ow" style="color: rgb(0, 112, 32); font-weight: bold;">and</span> <span class="mi" style="color: rgb(32, 128, 80);">1</span> <span class="o" style="color: rgb(102, 102, 102);">&lt;=</span> <span class="n">day</span> <span class="o" style="color: rgb(102, 102, 102);">&lt;=</span> <span class="mi" style="color: rgb(32, 128, 80);">31</span> <span class="ow" style="color: rgb(0, 112, 32); font-weight: bold;">and</span> <span class="mi" style="color: rgb(32, 128, 80);">0</span> <span class="o" style="color: rgb(102, 102, 102);">&lt;=</span> <span class="n">hour</span> <span class="o" style="color: rgb(102, 102, 102);">&lt;</span> <span class="mi" style="color: rgb(32, 128, 80);">24</span> \
   <span class="ow" style="color: rgb(0, 112, 32); font-weight: bold;">and</span> <span class="mi" style="color: rgb(32, 128, 80);">0</span> <span class="o" style="color: rgb(102, 102, 102);">&lt;=</span> <span class="n">minute</span> <span class="o" style="color: rgb(102, 102, 102);">&lt;</span> <span class="mi" style="color: rgb(32, 128, 80);">60</span> <span class="ow" style="color: rgb(0, 112, 32); font-weight: bold;">and</span> <span class="mi" style="color: rgb(32, 128, 80);">0</span> <span class="o" style="color: rgb(102, 102, 102);">&lt;=</span> <span class="n">second</span> <span class="o" style="color: rgb(102, 102, 102);">&lt;</span> <span class="mi" style="color: rgb(32, 128, 80);">60</span><span class="p">:</span>   <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># Looks like a valid date</span>
        <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">return</span> <span class="mi" style="color: rgb(32, 128, 80);">1</span>
</pre></div></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">以反斜杠结束的行不能带有注释。反斜杠不能用来拼接注释。反斜杠不能用来拼接形符，字符串除外 (即除字符串以外的形符不能用反斜杠分隔到两个物理行)。不允许有原文字符串以外的反斜杠存在于物理行的其他位置。</p></div><div class="section" id="implicit-line-joining"><span id="implicit-joining" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"></span></div></div><h4 id="blogTitle11">隐式的行拼接</h4><div><p style="hyphens: auto; line-height: 22.4px;">圆括号、方括号或花括号以内的表达式允许分成多个物理行，无需使用反斜杠。例如:</p><div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight" style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="n">month_names</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="p">[</span><span class="s1" style="color: rgb(64, 112, 160);">'Januari'</span><span class="p">,</span> <span class="s1" style="color: rgb(64, 112, 160);">'Februari'</span><span class="p">,</span> <span class="s1" style="color: rgb(64, 112, 160);">'Maart'</span><span class="p">,</span>      <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># These are the</span>
               <span class="s1" style="color: rgb(64, 112, 160);">'April'</span><span class="p">,</span>   <span class="s1" style="color: rgb(64, 112, 160);">'Mei'</span><span class="p">,</span>      <span class="s1" style="color: rgb(64, 112, 160);">'Juni'</span><span class="p">,</span>       <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># Dutch names</span>
               <span class="s1" style="color: rgb(64, 112, 160);">'Juli'</span><span class="p">,</span>    <span class="s1" style="color: rgb(64, 112, 160);">'Augustus'</span><span class="p">,</span> <span class="s1" style="color: rgb(64, 112, 160);">'September'</span><span class="p">,</span>  <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># for the months</span>
               <span class="s1" style="color: rgb(64, 112, 160);">'Oktober'</span><span class="p">,</span> <span class="s1" style="color: rgb(64, 112, 160);">'November'</span><span class="p">,</span> <span class="s1" style="color: rgb(64, 112, 160);">'December'</span><span class="p">]</span>   <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># of the year</span></pre></div></div><p style="hyphens: auto; line-height: 22.4px;">隐式的行拼接可以带有注释。后续行的缩进不影响程序结构。后续行也允许为空白行。隐式拼接的行之间不会有 NEWLINE 形符。隐式拼接的行也可以出现于三引号字符串中 (见下)；此情况下这些行不允许带有注释。</p></div><h4 id="blogTitle12">空白行</h4><div>一个只包含空格符，制表符，进纸符或者注释的逻辑行会被忽略 (即不生成 NEWLINE 形符)。在交互模式输入语句时，对空白行的处理可能会因读取-求值-打印循环的具体实现方式而存在差异。在标准交互模式解释器中，一个完全空白的逻辑行 (即连空格或注释都没有) 将会结束一条多行复合语句。<br></div><h4 id="blogTitle13">缩进</h4><div><p id="index-8" style="hyphens: auto; line-height: 22.4px;">一个逻辑行开头处的空白 (空格符和制表符) 被用来计算该行的缩进等级，以决定语句段落的组织结构。</p><p style="hyphens: auto; line-height: 22.4px;">制表符会被 (从左至右) 替换为一至八个空格，这样缩进的空格总数为八的倍数 (这是为了与 Unix 所用的规则一致)。首个非空白字符之前的空格总数将确定该行的缩进层次。一个缩进不可使用反斜杠进行多行拼接；首个反斜杠之前的空格将确定缩进层次。</p><p style="hyphens: auto; line-height: 22.4px;">在一个源文件中如果混合使用制表符和空格符缩进，并使得确定缩进层次需要依赖于制表符对应的空格数量设置，则被视为不合规则；此情况将会引发&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#TabError" title="TabError" style=""><span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">TabError</span></a>。</p><p style="hyphens: auto; line-height: 22.4px;"><b>跨平台兼容性注释</b>:&nbsp;由于非 UNIX 平台上文本编辑器本身的特性，在一个源文件中混合使用制表符和空格符是不明智的。另外也要注意不同平台还可能会显式地限制最大缩进层级。</p><p style="hyphens: auto; line-height: 22.4px;">行首有时可能会有一个进纸符；它在上述缩进层级计算中会被忽略。处于行首空格内其他位置的进纸符的效果未定义 (例如它可能导致空格计数重置为零)。</p><p id="index-9" style="hyphens: auto; line-height: 22.4px;">多个连续行各自的缩进层级将会被放入一个堆栈用来生成 INDENT 和 DEDENT 形符，具体说明如下。</p><p style="hyphens: auto; line-height: 22.4px;">在读取文件的第一行之前，先向堆栈推入一个零值；它将不再被弹出。被推入栈的层级数值从底至顶持续增加。每个逻辑行开头的行缩进层级将与栈顶行比较。如果相同，则不做处理。如果新行层级较高，则会被推入栈顶，并生成一个 INDENT 形符。如果新行层级较低，则&nbsp;<i>应当</i>&nbsp;是栈中的层级数值之一；栈中高于该层级的所有数值都将被弹出，每弹出一级数值生成一个 DEDENT 形符。在文件末尾，栈中剩余的每个大于零的数值生成一个 DEDENT 形符。</p><p style="hyphens: auto; line-height: 22.4px;">这是一个正确 (但令人迷惑) 的Python 代码缩进示例:</p><div class="highlight-python3 notranslate" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255); position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">def</span> <span class="nf" style="color: rgb(6, 40, 126);">perm</span><span class="p">(</span><span class="n">l</span><span class="p">):</span>
        <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># Compute the list of all permutations of l</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">if</span> <span class="nb" style="color: rgb(0, 112, 32);">len</span><span class="p">(</span><span class="n">l</span><span class="p">)</span> <span class="o" style="color: rgb(102, 102, 102);">&lt;=</span> <span class="mi" style="color: rgb(32, 128, 80);">1</span><span class="p">:</span>
                  <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">return</span> <span class="p">[</span><span class="n">l</span><span class="p">]</span>
    <span class="n">r</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="p">[]</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">for</span> <span class="n">i</span> <span class="ow" style="color: rgb(0, 112, 32); font-weight: bold;">in</span> <span class="nb" style="color: rgb(0, 112, 32);">range</span><span class="p">(</span><span class="nb" style="color: rgb(0, 112, 32);">len</span><span class="p">(</span><span class="n">l</span><span class="p">)):</span>
             <span class="n">s</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">l</span><span class="p">[:</span><span class="n">i</span><span class="p">]</span> <span class="o" style="color: rgb(102, 102, 102);">+</span> <span class="n">l</span><span class="p">[</span><span class="n">i</span><span class="o" style="color: rgb(102, 102, 102);">+</span><span class="mi" style="color: rgb(32, 128, 80);">1</span><span class="p">:]</span>
             <span class="n">p</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">perm</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
             <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">for</span> <span class="n">x</span> <span class="ow" style="color: rgb(0, 112, 32); font-weight: bold;">in</span> <span class="n">p</span><span class="p">:</span>
              <span class="n">r</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">append</span><span class="p">(</span><span class="n">l</span><span class="p">[</span><span class="n">i</span><span class="p">:</span><span class="n">i</span><span class="o" style="color: rgb(102, 102, 102);">+</span><span class="mi" style="color: rgb(32, 128, 80);">1</span><span class="p">]</span> <span class="o" style="color: rgb(102, 102, 102);">+</span> <span class="n">x</span><span class="p">)</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">return</span> <span class="n">r</span></pre></div></div><p style="hyphens: auto; line-height: 22.4px;">以下示例显示了各种缩进错误:</p><div class="highlight-python3 notranslate" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255); position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">def</span> <span class="nf" style="color: rgb(6, 40, 126);">perm</span><span class="p">(</span><span class="n">l</span><span class="p">):</span>                       <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># error: first line indented</span>
<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">for</span> <span class="n">i</span> <span class="ow" style="color: rgb(0, 112, 32); font-weight: bold;">in</span> <span class="nb" style="color: rgb(0, 112, 32);">range</span><span class="p">(</span><span class="nb" style="color: rgb(0, 112, 32);">len</span><span class="p">(</span><span class="n">l</span><span class="p">)):</span>             <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># error: not indented</span>
    <span class="n">s</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">l</span><span class="p">[:</span><span class="n">i</span><span class="p">]</span> <span class="o" style="color: rgb(102, 102, 102);">+</span> <span class="n">l</span><span class="p">[</span><span class="n">i</span><span class="o" style="color: rgb(102, 102, 102);">+</span><span class="mi" style="color: rgb(32, 128, 80);">1</span><span class="p">:]</span>
        <span class="n">p</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">perm</span><span class="p">(</span><span class="n">l</span><span class="p">[:</span><span class="n">i</span><span class="p">]</span> <span class="o" style="color: rgb(102, 102, 102);">+</span> <span class="n">l</span><span class="p">[</span><span class="n">i</span><span class="o" style="color: rgb(102, 102, 102);">+</span><span class="mi" style="color: rgb(32, 128, 80);">1</span><span class="p">:])</span>   <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># error: unexpected indent</span>
        <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">for</span> <span class="n">x</span> <span class="ow" style="color: rgb(0, 112, 32); font-weight: bold;">in</span> <span class="n">p</span><span class="p">:</span>
                <span class="n">r</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">append</span><span class="p">(</span><span class="n">l</span><span class="p">[</span><span class="n">i</span><span class="p">:</span><span class="n">i</span><span class="o" style="color: rgb(102, 102, 102);">+</span><span class="mi" style="color: rgb(32, 128, 80);">1</span><span class="p">]</span> <span class="o" style="color: rgb(102, 102, 102);">+</span> <span class="n">x</span><span class="p">)</span>
            <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">return</span> <span class="n">r</span>                <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># error: inconsistent dedent</span></pre></div></div><p style="hyphens: auto; line-height: 22.4px;">(实际上，前三个错误会被解析器发现；只有最后一个错误是由词法分析器发现的 —&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">return</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">&nbsp;</span><span class="pre" style="hyphens: none;">r</span>&nbsp;的缩进无法匹配弹出栈的缩进层级。)</p></div><h4 id="blogTitle14">token 之间的空白</h4><div>除非是在逻辑行的开头或字符串内，空格符、制表符和进纸符等空白符都同样可以用来分隔形符。如果两个形符彼此相连会被解析为一个不同的形符，则需要使用空白来分隔 (例如 ab 是一个形符，而 a b 是两个形符)。<br></div><h3 id="blogTitle15">其他 tokens</h3><div>除了 NEWLINE, INDENT 和 DEDENT，还存在以下类别的形符: <i>标识符, 关键字, 字面值, 运算符</i> 以及 <i>分隔符</i>。 空白字符 (之前讨论过的行终止符除外) 不属于形符，而是用来分隔形符。如果存在二义性，将从左至右读取尽可能长的合法字符串组成一个形符。<br></div><h3 id="blogTitle16">标识符和关键字</h3><div><p id="index-10" style="hyphens: auto; line-height: 22.4px;">标识符 (或者叫做&nbsp;<i>名称</i>) 由以下词法定义进行描述。</p><p style="hyphens: auto; line-height: 22.4px;">Python 中的标识符语法是基于 Unicode 标准附件 UAX-31，并加入了下文所定义的细化与修改；更多细节还可参见&nbsp;<span class="target" id="index-38"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-3131" style="">PEP 3131</a>&nbsp;。</p><p style="hyphens: auto; line-height: 22.4px;">在 ASCII 范围内 (U+0001..U+007F)，可用于标识符的字符与 Python 2.x 一致: 大写和小写字母&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">A</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">&nbsp;</span>至&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">Z</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">，下划线</span>&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">_</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">&nbsp;</span>以及数字&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">0</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">&nbsp;</span>至&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">9</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">，但不可以数字打头。</span></p><p style="hyphens: auto; line-height: 22.4px;">Python 3.0 引入了 ASCII 范围以外的额外字符 (见&nbsp;<span class="target" id="index-39"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-3131" style="">PEP 3131</a>)。这些字符的分类使用包含于&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/unicodedata.html#module-unicodedata" title="unicodedata: Access the Unicode Database." style=""><span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">unicodedata</span></a>&nbsp;模块中的 Unicode 字符数据库版本。</p><p style="hyphens: auto; line-height: 22.4px;">标识符的长度没有限制。对大小写敏感。</p><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><strong id="grammar-token-identifier">identifier  </strong> ::=  <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-xid-start" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">xid_start</span></code></a> <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-xid-continue" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">xid_continue</span></code></a>*
<strong id="grammar-token-id-start">id_start    </strong> ::=  &lt;all characters in general categories Lu, Ll, Lt, Lm, Lo, Nl, the underscore, and characters with the Other_ID_Start property&gt;
<strong id="grammar-token-id-continue">id_continue </strong> ::=  &lt;all characters in <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-id-start" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">id_start</span></code></a>, plus characters in the categories Mn, Mc, Nd, Pc and others with the Other_ID_Continue property&gt;
<strong id="grammar-token-xid-start">xid_start   </strong> ::=  &lt;all characters in <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-id-start" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">id_start</span></code></a> whose NFKC normalization is in "id_start xid_continue*"&gt;
<strong id="grammar-token-xid-continue">xid_continue</strong> ::=  &lt;all characters in <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-id-continue" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">id_continue</span></code></a> whose NFKC normalization is in "id_continue*"&gt;</pre><p style="hyphens: auto; line-height: 22.4px;">上文所用 Unicode 类别码的含义:</p><ul class="simple" style=""><li style="hyphens: auto; line-height: 20.8px;">Lu&nbsp;- 大写字母</li><li style="hyphens: auto; line-height: 20.8px;">Ll&nbsp;- 小写字母</li><li style="hyphens: auto; line-height: 20.8px;">Lt&nbsp;- 词首大写字母</li><li style="hyphens: auto; line-height: 20.8px;">Lm&nbsp;- 修饰字母</li><li style="hyphens: auto; line-height: 20.8px;">Lo&nbsp;- 其他字母</li><li style="hyphens: auto; line-height: 20.8px;">Nl&nbsp;- 字母数字</li><li style="hyphens: auto; line-height: 20.8px;">Mn&nbsp;- 非空白标识</li><li style="hyphens: auto; line-height: 20.8px;">Mc&nbsp;- 含空白标识</li><li style="hyphens: auto; line-height: 20.8px;">Nd&nbsp;- 十进制数字</li><li style="hyphens: auto; line-height: 20.8px;">Pc&nbsp;- 连接标点</li><li style="hyphens: auto; line-height: 20.8px;">Other_ID_Start&nbsp;- 由&nbsp;<a class="reference external" href="http://www.unicode.org/Public/11.0.0/ucd/PropList.txt" style="">PropList.txt</a>&nbsp;定义的显式字符列表，用来支持向后兼容</li><li style="hyphens: auto; line-height: 20.8px;">Other_ID_Continue&nbsp;- 同上</li></ul><p style="hyphens: auto; line-height: 22.4px;">所有标识符在解析时会被转换为规范形式 NFKC；标识符的比较都是基于 NFKC。</p><p style="hyphens: auto; line-height: 22.4px;">Unicode 4.1 中的所有可用标识符字符列表参见以下非规范 HTML 文件链接&nbsp;<a class="reference external" href="https://www.dcl.hpi.uni-potsdam.de/home/loewis/table-3131.html" style="">https://www.dcl.hpi.uni-potsdam.de/home/loewis/table-3131.html</a></p></div><h4 id="blogTitle17">关键字<br></h4><div><p id="index-13" style="hyphens: auto; line-height: 22.4px;">以下标识符被作为语言的保留字或称&nbsp;<i>关键字</i>，不可被用作普通标识符。关键字的拼写必须与这里列出的完全一致。</p><div class="highlight-text notranslate" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;">False      await      else       import     pass
None       break      except     in         raise
True       class      finally    is         return
and        continue   for        lambda     try
as         def        from       nonlocal   while
assert     del        global     not        with
async      elif       if         or         yield</pre></div></div></div><h4 id="blogTitle18">保留的标识符类</h4><div><p style="hyphens: auto; line-height: 22.4px;">某些标识符类 (除了关键字) 具有特殊的含义。这些标识符类的命名模式是以下划线字符打头和结尾:</p><dl class="docutils" style="margin-bottom: 15px;"><dt style=""><span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">_*</span></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p class="first" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;">不会被&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">from</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">&nbsp;</span><span class="pre" style="hyphens: none;">module</span>&nbsp;<span class="pre" style="hyphens: none;">import</span>&nbsp;<span class="pre" style="hyphens: none;">*</span>&nbsp;导入。特殊标识符&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">_</span><span style="padding: 0px 1px; border-radius: 3px;">&nbsp;在交互式解释器中被用来存放最近一次求值结果；它保存在&nbsp;</span><a class="reference internal" href="https://docs.python.org/zh-cn/3/library/builtins.html#module-builtins" title="builtins: The module that provides the built-in namespace." style="padding: 0px 1px; border-radius: 3px;"><span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">builtins</span></a><span style="padding: 0px 1px; border-radius: 3px;">&nbsp;模块中。当不处于交互模式时，</span><span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">_</span><span style="padding: 0px 1px; border-radius: 3px;">无特殊含义也没有预定义。参见&nbsp;</span><a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/simple_stmts.html#import" style="padding: 0px 1px; border-radius: 3px;">The import statement</a><span style="padding: 0px 1px; border-radius: 3px;">。</span></p><div class="last admonition note" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(238, 238, 238); margin-top: 10px; margin-bottom: 10px; padding: 7px; border: 1px solid rgb(204, 204, 204); border-radius: 3px;"><p class="first admonition-title" style="margin: 0px 10px 5px 0px; font-weight: bold; display: inline; hyphens: auto; line-height: 22.4px;">注解</p>&nbsp;<p class="last" style="margin-top: 0px; hyphens: auto; line-height: 22.4px; margin-bottom: 5px; display: inline;"><code class="docutils literal notranslate" style="background: rgb(214, 214, 214); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">_</span></code>&nbsp;作为名称常用于连接国际化文本；请参看&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/gettext.html#module-gettext" title="gettext: Multilingual internationalization services." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background: rgb(214, 214, 214); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">gettext</span></code></a>&nbsp;模块文档了解有关此约定的详情。</p></div></dd><dt style=""><span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">__*__</span></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;">系统定义的名称。这些名称由解释器及其实现 (包括标准库) 所定义。现有系统定义名称相关讨论参见&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#specialnames" style="">特殊方法名称</a>&nbsp;等章节。未来的 Python 版本中还将定义更多此类名称。任何&nbsp;不遵循文档指定方式使用&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">__*__</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">&nbsp;</span>名称的行为都可能导致无警告的出错。</dd><dt style=""><span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">__*</span></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;">类的私有名称。这种名称在类定义中使用时，会以一种混合形式重写以避免在基类及派生类的 “私有” 属性之间出现名称冲突。参见&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#atom-identifiers" style="">Identifiers (Names)</a>。</dd></dl></div><h3 id="blogTitle19">字面值</h3><p>字面值用于表示一些内置类型的常量。</p><h4 id="blogTitle20">字符串和字节串字面值</h4><div><p style="hyphens: auto; line-height: 22.4px;">字符串字面值由以下词法定义进行描述:</p><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><strong id="grammar-token-stringliteral">stringliteral  </strong> ::=  [<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-stringprefix" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">stringprefix</span></code></a>](<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-shortstring" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">shortstring</span></code></a> | <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-longstring" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">longstring</span></code></a>)
<strong id="grammar-token-stringprefix">stringprefix   </strong> ::=  "r" | "u" | "R" | "U" | "f" | "F"
                     | "fr" | "Fr" | "fR" | "FR" | "rf" | "rF" | "Rf" | "RF"
<strong id="grammar-token-shortstring">shortstring    </strong> ::=  "'" <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-shortstringitem" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">shortstringitem</span></code></a>* "'" | '"' <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-shortstringitem" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">shortstringitem</span></code></a>* '"'
<strong id="grammar-token-longstring">longstring     </strong> ::=  "'''" <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-longstringitem" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">longstringitem</span></code></a>* "'''" | '"""' <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-longstringitem" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">longstringitem</span></code></a>* '"""'
<strong id="grammar-token-shortstringitem">shortstringitem</strong> ::=  <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-shortstringchar" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">shortstringchar</span></code></a> | <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-stringescapeseq" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">stringescapeseq</span></code></a>
<strong id="grammar-token-longstringitem">longstringitem </strong> ::=  <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-longstringchar" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">longstringchar</span></code></a> | <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-stringescapeseq" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">stringescapeseq</span></code></a>
<strong id="grammar-token-shortstringchar">shortstringchar</strong> ::=  &lt;any source character except "\" or newline or the quote&gt;
<strong id="grammar-token-longstringchar">longstringchar </strong> ::=  &lt;any source character except "\"&gt;
<strong id="grammar-token-stringescapeseq">stringescapeseq</strong> ::=  "\" &lt;any source character&gt;
</pre><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><strong id="grammar-token-bytesliteral">bytesliteral  </strong> ::=  <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-bytesprefix" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">bytesprefix</span></code></a>(<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-shortbytes" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">shortbytes</span></code></a> | <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-longbytes" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">longbytes</span></code></a>)
<strong id="grammar-token-bytesprefix">bytesprefix   </strong> ::=  "b" | "B" | "br" | "Br" | "bR" | "BR" | "rb" | "rB" | "Rb" | "RB"
<strong id="grammar-token-shortbytes">shortbytes    </strong> ::=  "'" <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-shortbytesitem" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">shortbytesitem</span></code></a>* "'" | '"' <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-shortbytesitem" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">shortbytesitem</span></code></a>* '"'
<strong id="grammar-token-longbytes">longbytes     </strong> ::=  "'''" <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-longbytesitem" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">longbytesitem</span></code></a>* "'''" | '"""' <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-longbytesitem" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">longbytesitem</span></code></a>* '"""'
<strong id="grammar-token-shortbytesitem">shortbytesitem</strong> ::=  <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-shortbyteschar" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">shortbyteschar</span></code></a> | <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-bytesescapeseq" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">bytesescapeseq</span></code></a>
<strong id="grammar-token-longbytesitem">longbytesitem </strong> ::=  <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-longbyteschar" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">longbyteschar</span></code></a> | <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-bytesescapeseq" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">bytesescapeseq</span></code></a>
<strong id="grammar-token-shortbyteschar">shortbyteschar</strong> ::=  &lt;any ASCII character except "\" or newline or the quote&gt;
<strong id="grammar-token-longbyteschar">longbyteschar </strong> ::=  &lt;any ASCII character except "\"&gt;
<strong id="grammar-token-bytesescapeseq">bytesescapeseq</strong> ::=  "\" &lt;any ASCII character&gt;</pre><p style="hyphens: auto; line-height: 22.4px;">这些条目中未提及的一个语法限制是&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-stringprefix" style=""><span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">stringprefix</span></a>&nbsp;或&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-bytesprefix" style=""><span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">bytesprefix</span></a>&nbsp;与字面值的剩余部分之间不允许有空白。源字符集是由编码声明定义的；如果源文件中没有编码声明则默认为 UTF-8；参见&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#encodings" style="">编码声明</a>。</p><p id="index-17" style="hyphens: auto; line-height: 22.4px;">自然语言描述: 两种字面值都可以用成对单引号 (<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">'</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">) 或双引号 (</span><span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">"</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">) 来标示首尾。它们也可以用成对的连续三个单引号或双引号来标示首尾 (这通常被称为</span><i>&nbsp;三引号字符串</i>)。反斜杠 (<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">\</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">) 字符被用来对特殊含义的字符进行转义，例如换行，反斜杠本身或是引号等字符。</span></p><p id="index-18" style="hyphens: auto; line-height: 22.4px;">字节串字面值总是带有前缀&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">'b'</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">&nbsp;</span>或&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">'B'</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">；它们生成</span>&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/stdtypes.html#bytes" title="bytes" style=""><span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">bytes</span></a>&nbsp;类型而非&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/stdtypes.html#str" title="str" style=""><span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">str</span></a>&nbsp;类型的实例。它们只能包含 ASCII 字符；字节对应数值在128及以上必须以转义形式来表示。</p><p id="index-19" style="hyphens: auto; line-height: 22.4px;">字符串和字节串字面值都可以带有前缀&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">'r'</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">&nbsp;</span>或&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">'R'</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">；这种字符串被称为</span>&nbsp;<i>原始字符串，</i>其中的反斜杠会被当作其本身的字面字符来处理。因此在原始字符串字面值中，<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">'\U'</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">和</span>&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">'\u'</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">&nbsp;</span>转义形式不会被特殊对待。由于 Python 2.x 的原始统一码字面值的特性与 Python 3.x 不一致，<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">'ur'</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">&nbsp;</span>语法已不再被支持。</p><div class="versionadded" style=""><p style="hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="">3.3 新版功能:&nbsp;</span>新加入了表示原始字节串的&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">'rb'</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">&nbsp;</span>前缀，与&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">'br'</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">&nbsp;</span>的意义相同。</p></div><div class="versionadded" style=""><p style="hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="">3.3 新版功能:&nbsp;</span>对旧式统一码字面值 (<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">u'value'</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">) 的支持被重新引入以简化 Python 2.x 和 3.x 代码库的同步维护。详情见</span>&nbsp;<span class="target" id="index-40"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0414" style="">PEP 414</a>。</p></div><p id="index-21" style="hyphens: auto; line-height: 22.4px;">包含&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">'f'</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">&nbsp;</span>或&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">'F'</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">&nbsp;</span>前缀的字符串字面值称为&nbsp;格式化字符串字面值；参见&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#f-strings" style="">格式化字符串字面值</a>。<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">'f'</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">&nbsp;</span>可与&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">'r'</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">&nbsp;</span>连用，但不能与&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">'b'</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">&nbsp;</span>或&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">'u'</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">&nbsp;</span>连用，因此存在原始格式化字符串，但不存在格式化字节串字面值。</p><p style="hyphens: auto; line-height: 22.4px;">在三引号字面值中，允许存在未经转义的换行和引号 (并原样保留)，除非是未经转义的连续三引号，这标示着字面值的结束。 (“引号” 是用来标示字面值的字符，即&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">'</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">&nbsp;</span>或&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">"</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">。)</span></p><p id="index-22" style="hyphens: auto; line-height: 22.4px;">除非带有&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">'r'</span><span style="padding: 0px 1px; border-radius: 3px;">&nbsp;或&nbsp;</span><span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">'R'</span><span style="padding: 0px 1px; border-radius: 3px;">&nbsp;</span><span style="padding: 0px 1px; border-radius: 3px;">前缀，字符串和字节串字面值中的转义序列会基于类似标准 C 中的转义规则来解读。可用的转义序列如下:</span></p><table border="1" class="docutils" style="border-width: 1px; border-right-style: solid; border-left-style: solid; border-color: rgb(221, 221, 221); border-image: initial; min-width: 20%; border-radius: 3px; margin-top: 10px; margin-bottom: 10px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><colgroup><col width="30%"><col width="58%"><col width="12%"></colgroup><thead valign="bottom"><tr class="row-odd"><th class="head" style="padding: 0.3em 0.5em; background-color: rgb(238, 238, 238); border-radius: 3px; border-top: 1px solid rgb(221, 221, 221) !important; border-right: 1px solid rgb(221, 221, 221) !important; border-left: 1px solid rgb(221, 221, 221) !important; border-bottom-color: rgb(221, 221, 221) !important; border-image: initial !important;">转义序列</th><th class="head" style="padding: 0.3em 0.5em; background-color: rgb(238, 238, 238); border-radius: 3px; border-top: 1px solid rgb(221, 221, 221) !important; border-right: 1px solid rgb(221, 221, 221) !important; border-left: 1px solid rgb(221, 221, 221) !important; border-bottom-color: rgb(221, 221, 221) !important; border-image: initial !important;">意义</th><th class="head" style="padding: 0.3em 0.5em; background-color: rgb(238, 238, 238); border-radius: 3px; border-top: 1px solid rgb(221, 221, 221) !important; border-right: 1px solid rgb(221, 221, 221) !important; border-left: 1px solid rgb(221, 221, 221) !important; border-bottom-color: rgb(221, 221, 221) !important; border-image: initial !important;">注释</th></tr></thead><tbody valign="top"><tr class="row-even"><td style="padding: 0.3em 0.5em; border-radius: 3px; background-color: white; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;"><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">\newline</span></code></td><td style="padding: 0.3em 0.5em; border-radius: 3px; background-color: white; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">反斜杠加换行全被忽略</td><td style="padding: 0.3em 0.5em; border-radius: 3px; background-color: white; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">&nbsp;</td></tr><tr class="row-odd"><td style="padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;"><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">\\</span></code></td><td style="padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">反斜杠 (<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">\</span></code>)</td><td style="padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">&nbsp;</td></tr><tr class="row-even"><td style="padding: 0.3em 0.5em; border-radius: 3px; background-color: white; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;"><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">\'</span></code></td><td style="padding: 0.3em 0.5em; border-radius: 3px; background-color: white; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">单引号 (<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">'</span></code>)</td><td style="padding: 0.3em 0.5em; border-radius: 3px; background-color: white; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">&nbsp;</td></tr><tr class="row-odd"><td style="padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;"><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">\"</span></code></td><td style="padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">双引号 (<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">"</span></code>)</td><td style="padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">&nbsp;</td></tr><tr class="row-even"><td style="padding: 0.3em 0.5em; border-radius: 3px; background-color: white; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;"><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">\a</span></code></td><td style="padding: 0.3em 0.5em; border-radius: 3px; background-color: white; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">ASCII 响铃 (BEL)</td><td style="padding: 0.3em 0.5em; border-radius: 3px; background-color: white; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">&nbsp;</td></tr><tr class="row-odd"><td style="padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;"><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">\b</span></code></td><td style="padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">ASCII 退格 (BS)</td><td style="padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">&nbsp;</td></tr><tr class="row-even"><td style="padding: 0.3em 0.5em; border-radius: 3px; background-color: white; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;"><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">\f</span></code></td><td style="padding: 0.3em 0.5em; border-radius: 3px; background-color: white; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">ASCII 进纸 (FF)</td><td style="padding: 0.3em 0.5em; border-radius: 3px; background-color: white; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">&nbsp;</td></tr><tr class="row-odd"><td style="padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;"><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">\n</span></code></td><td style="padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">ASCII 换行 (LF)</td><td style="padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">&nbsp;</td></tr><tr class="row-even"><td style="padding: 0.3em 0.5em; border-radius: 3px; background-color: white; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;"><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">\r</span></code></td><td style="padding: 0.3em 0.5em; border-radius: 3px; background-color: white; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">ASCII 回车 (CR)</td><td style="padding: 0.3em 0.5em; border-radius: 3px; background-color: white; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">&nbsp;</td></tr><tr class="row-odd"><td style="padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;"><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">\t</span></code></td><td style="padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">ASCII 水平制表 (TAB)</td><td style="padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">&nbsp;</td></tr><tr class="row-even"><td style="padding: 0.3em 0.5em; border-radius: 3px; background-color: white; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;"><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">\v</span></code></td><td style="padding: 0.3em 0.5em; border-radius: 3px; background-color: white; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">ASCII 垂直制表 (VT)</td><td style="padding: 0.3em 0.5em; border-radius: 3px; background-color: white; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">&nbsp;</td></tr><tr class="row-odd"><td style="padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;"><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">\ooo</span></code></td><td style="padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">八进制数&nbsp;<em>ooo</em>&nbsp;码位的字符</td><td style="padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">(1,3)</td></tr><tr class="row-even"><td style="padding: 0.3em 0.5em; border-radius: 3px; background-color: white; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;"><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">\xhh</span></code></td><td style="padding: 0.3em 0.5em; border-radius: 3px; background-color: white; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">十六进制数&nbsp;<em>hh</em>&nbsp;码位的字符</td><td style="padding: 0.3em 0.5em; border-radius: 3px; background-color: white; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">(2,3)</td></tr></tbody></table><p style="hyphens: auto; line-height: 22.4px;">仅在字符串字面值中可用的转义序列如下:</p><table border="1" class="docutils" style="border-width: 1px; border-right-style: solid; border-left-style: solid; border-color: rgb(221, 221, 221); border-image: initial; min-width: 20%; border-radius: 3px; margin-top: 10px; margin-bottom: 10px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><colgroup><col width="30%"><col width="58%"><col width="12%"></colgroup><thead valign="bottom"><tr class="row-odd"><th class="head" style="padding: 0.3em 0.5em; background-color: rgb(238, 238, 238); border-radius: 3px; border-top: 1px solid rgb(221, 221, 221) !important; border-right: 1px solid rgb(221, 221, 221) !important; border-left: 1px solid rgb(221, 221, 221) !important; border-bottom-color: rgb(221, 221, 221) !important; border-image: initial !important;">转义序列</th><th class="head" style="padding: 0.3em 0.5em; background-color: rgb(238, 238, 238); border-radius: 3px; border-top: 1px solid rgb(221, 221, 221) !important; border-right: 1px solid rgb(221, 221, 221) !important; border-left: 1px solid rgb(221, 221, 221) !important; border-bottom-color: rgb(221, 221, 221) !important; border-image: initial !important;">意义</th><th class="head" style="padding: 0.3em 0.5em; background-color: rgb(238, 238, 238); border-radius: 3px; border-top: 1px solid rgb(221, 221, 221) !important; border-right: 1px solid rgb(221, 221, 221) !important; border-left: 1px solid rgb(221, 221, 221) !important; border-bottom-color: rgb(221, 221, 221) !important; border-image: initial !important;">注释</th></tr></thead><tbody valign="top"><tr class="row-even"><td style="padding: 0.3em 0.5em; border-radius: 3px; background-color: white; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;"><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">\N{name}</span></code></td><td style="padding: 0.3em 0.5em; border-radius: 3px; background-color: white; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">Unicode 数据库中名称为&nbsp;<em>name</em>&nbsp;的字符</td><td style="padding: 0.3em 0.5em; border-radius: 3px; background-color: white; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">(4)</td></tr><tr class="row-odd"><td style="padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;"><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">\uxxxx</span></code></td><td style="padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">16位十六进制数&nbsp;<em>xxxx</em>&nbsp;码位的字符</td><td style="padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">(5)</td></tr><tr class="row-even"><td style="padding: 0.3em 0.5em; border-radius: 3px; background-color: white; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;"><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">\Uxxxxxxxx</span></code></td><td style="padding: 0.3em 0.5em; border-radius: 3px; background-color: white; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">32位16进制数&nbsp;<em>xxxxxxxx</em>&nbsp;码位的字符</td><td style="padding: 0.3em 0.5em; border-radius: 3px; background-color: white; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">(6)</td></tr></tbody></table><p style="hyphens: auto; line-height: 22.4px;">注释:</p><ol class="arabic" style="list-style-position: initial; list-style-image: initial;"><li style="hyphens: auto; text-align: justify; line-height: 20.8px;"><p class="first" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;">与标准 C 一致，接受最多三个八进制数码。</p></li><li style="hyphens: auto; text-align: justify; line-height: 20.8px;"><p class="first" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;">与标准 C 不同，要求必须为两个十六进制数码。</p></li><li style="hyphens: auto; text-align: justify; line-height: 20.8px;"><p class="first" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;">在字节串字面值中，十六进制数和八进制数转义码以相应数值代表每个字节。在字符串字面值中，这些转义码以相应数值代表每个 Unicode 字符。</p></li><li style="hyphens: auto; text-align: justify; line-height: 20.8px;"><div class="first versionchanged" style="margin-top: 0px !important;"><p style="hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="">在 3.3 版更改:&nbsp;</span>加入了对别名&nbsp;<a class="footnote-reference" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#id13" id="id10" style="">[1]</a>&nbsp;的支持。</p></div></li><li style="hyphens: auto; text-align: justify; line-height: 20.8px;"><p class="first" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;">要求必须为四个十六进制数码。</p></li><li style="hyphens: auto; text-align: justify; line-height: 20.8px;"><p class="first" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;">此方式可用来表示任意 Unicode 字符。要求必须为八个十六进制数码。</p></li></ol><p id="index-23" style="hyphens: auto; line-height: 22.4px;">与标准 C 不同，所有无法识别的转义序列将原样保留在字符串中，也就是说，反斜杠会在结果中保留。(这种方式在调试时很有用: 如果输错了一个转义序列，更容易在输出结果中识别错误。) 另外要注意的一个关键点是：专用于字符串字面值中的转义序列如果在字节串字面值中出现，会被归类为无法识别的转义序列。</p><blockquote style="hyphens: auto; text-align: justify; line-height: 20.8px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><div class="versionchanged"><p style="hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">在 3.6 版更改:&nbsp;</span>无法识别的转义序列会引发 DeprecationWarning。从未来某个 Python 版本开始将会引发 SyntaxError。</p></div></blockquote><p style="hyphens: auto; line-height: 22.4px;">即使在原始字面值中，引号也可以加上反斜杠转义符，但反斜杠会保留在输出结果中；例如&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">r"\""</span><span style="padding: 0px 1px; border-radius: 3px;">&nbsp;是一个有效的字符串字面值，包含两个字符: 一个反斜杠和一个双引号；而&nbsp;</span><span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">r"\"</span><span style="padding: 0px 1px; border-radius: 3px;">&nbsp;不是一个有效的字符串字面值 (即便是原始字符串也不能以奇数个反斜杠结束)。特别地，</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">一个原始字面值不能以单个反斜杠结束</span><span style="padding: 0px 1px; border-radius: 3px;">&nbsp;(因为此反斜杠会转义其后的引号字符)。还要注意一个反斜杠加一个换行在字面值中会被解释为两个字符，而&nbsp;</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;"><i>不是</i></span><span style="padding: 0px 1px; border-radius: 3px;">一个连续行。</span></p></div><h5 id="blogTitle21">字符串字面值拼接</h5><div><p style="hyphens: auto; line-height: 22.4px;">多个相邻的字符串或字节串字面值 (以空白符分隔)，所用的引号可以彼此不同，其含义等同于全部拼接为一体。因此，&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">"hello"</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">&nbsp;</span><span class="pre" style="hyphens: none;">'world'</span>&nbsp;等同于&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">"helloworld"</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">。此特性可以减少反斜杠的使用，以方便地将很长的字符串分成多个物理行，甚至每部分字符串还可分别加注释，例如:</span></p><div class="highlight-python3 notranslate" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255); position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="n">re</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">compile</span><span class="p">(</span><span class="s2" style="color: rgb(64, 112, 160);">"[A-Za-z_]"</span>       <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># letter or underscore</span>
           <span class="s2" style="color: rgb(64, 112, 160);">"[A-Za-z0-9_]*"</span>   <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># letter, digit or underscore</span>
          <span class="p">)</span></pre></div></div><p style="hyphens: auto; line-height: 22.4px;">注意此特性是在句法层面定义的，但是在编译时实现。在运行时拼接字符串表达式必须使用 ‘+’ 运算符。还要注意字面值拼接时每个部分可以使用不同的引号风格 (甚至混合使用原始字符串和三引号字符串)，格式化字符串字面值也可与普通字符串字面值拼接。</p></div><h5 id="blogTitle22">格式化字符串字面值</h5><div><div class="versionadded" style=""><p style="hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style=""><i>3.6 新版功能.</i></span></p></div><p style="hyphens: auto; line-height: 22.4px;"><i>格式化字符串字面值</i>&nbsp;或称&nbsp;<i>f-string</i>&nbsp;是带有&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">'f'</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">&nbsp;</span>或&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">'F'</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">&nbsp;</span>前缀的字符串字面值。这种字符串可包含替换字段，即以&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">{}</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">&nbsp;</span>标示的表达式。而其他字符串字面值总是一个常量，格式化字符串字面值实际上是会在运行时被求值的表达式。</p><p style="hyphens: auto; line-height: 22.4px;">转义序列会像在普通字符串字面值中一样被解码 (除非字面值还被标示为原始字符串)。解码之后，字符串内容所用的语法如下:</p><pre style="overflow-y: hidden; padding: 5px; line-height: 18.528px; border: 1px solid rgb(170, 204, 153); background-color: rgb(238, 255, 204); font-size: 15.44px; font-family: monospace, sans-serif; color: rgb(51, 51, 51);"><strong id="grammar-token-f-string">f_string         </strong> ::=  (<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-literal-char" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">literal_char</span></code></a> | " | " | <a class="reference internal" href="https://docs.python.org/zh-cn/3/library/string.html#grammar-token-replacement-field" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">replacement_field</span></code></a>)*
<strong id="grammar-token-replacement-field">replacement_field</strong> ::=  "{" <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-f-expression" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">f_expression</span></code></a> ["!" <a class="reference internal" href="https://docs.python.org/zh-cn/3/library/string.html#grammar-token-conversion" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">conversion</span></code></a>] [":" <a class="reference internal" href="https://docs.python.org/zh-cn/3/library/string.html#grammar-token-format-spec" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">format_spec</span></code></a>] "}"
<strong id="grammar-token-f-expression">f_expression     </strong> ::=  (<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#grammar-token-conditional-expression" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">conditional_expression</span></code></a> | "*" <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#grammar-token-or-expr" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">or_expr</span></code></a>)
                         ("," <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#grammar-token-conditional-expression" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">conditional_expression</span></code></a> | "," "*" <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#grammar-token-or-expr" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">or_expr</span></code></a>)* [","]
                       | <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#grammar-token-yield-expression" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">yield_expression</span></code></a>
<strong id="grammar-token-conversion">conversion       </strong> ::=  "s" | "r" | "a"
<strong id="grammar-token-format-spec">format_spec      </strong> ::=  (<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-literal-char" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">literal_char</span></code></a> | NULL | <a class="reference internal" href="https://docs.python.org/zh-cn/3/library/string.html#grammar-token-replacement-field" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">replacement_field</span></code></a>)*
<strong id="grammar-token-literal-char">literal_char     </strong> ::=  &lt;any code point except "{", "}" or NULL&gt;</pre><p style="hyphens: auto; line-height: 22.4px;">字符串在花括号以外的部分按其字面值处理，除了双重花括号&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">'&lt;/span&gt;&lt;span style="padding: 0px 1px; border-radius: 3px;"&gt;&amp;nbsp;或&amp;nbsp;&lt;/span&gt;&lt;span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;"&gt;'</span><span style="padding: 0px 1px; border-radius: 3px;">&nbsp;会被替换为相应的单个花括号。单个左花括号&nbsp;</span><span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">'{'</span><span style="padding: 0px 1px; border-radius: 3px;">&nbsp;标示一个替换字段，它以一个 Python 表达式打头，表达式之后可能有一个以叹号&nbsp;</span><span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">'!'</span><span style="padding: 0px 1px; border-radius: 3px;">&nbsp;标示的转换字段。之后还可能带有一个以冒号&nbsp;</span><span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">':'</span><span style="padding: 0px 1px; border-radius: 3px;">&nbsp;标示的格式说明符。替换字段以一个右花括号&nbsp;</span><span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">'}'</span><span style="padding: 0px 1px; border-radius: 3px;">&nbsp;作为结束。</span></p><p style="hyphens: auto; line-height: 22.4px;">格式化字符串字面值中的表达式会被当作正常的包含在圆括号中的 Python 表达式一样处理，但有少数例外。空表达式不被允许，<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#lambda" style=""><span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">lambda</span></a>&nbsp;表达式必须显式地加上圆括号。替换表达式可以包含换行 (例如在三引号字符串中)，但是不能包含注释。每个表达式会在格式化字符串字面值所包含的位置按照从左至右的顺序被求值。</p><p style="hyphens: auto; line-height: 22.4px;">如果指定了转换符，表达式的求值结果会先转换再格式化。转换符&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">'!s'</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">&nbsp;</span>即对结果调用&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/stdtypes.html#str" title="str" style=""><span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">str()</span></a>，<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">'!r'</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">&nbsp;</span>为调用&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#repr" title="repr" style=""><span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">repr()</span></a>，而&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">'!a'</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">&nbsp;</span>为调用&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#ascii" title="ascii" style=""><span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">ascii()</span></a>。</p><p style="hyphens: auto; line-height: 22.4px;">在此之后结果会使用&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#format" title="format" style=""><span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">format()</span></a>&nbsp;协议进行格式化。格式说明符会被传入表达式或转换结果的&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__format__" title="object.__format__" style=""><span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">__format__()</span></a>&nbsp;方法。如果省略格式说明符则会传入一个空字符串。然后格式化结果会包含在整个字符串最终的值当中。</p><p style="hyphens: auto; line-height: 22.4px;">顶层的格式说明符可以包含有嵌套的替换字段。这些嵌套字段也可以包含有自己的转换字段和&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/string.html#formatspec" style="">格式说明符</a>，但不可再包含更深层嵌套的替换字段。这里的&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/string.html#formatspec" style="">格式说明符微型语言</a>&nbsp;与字符串 .format() 方法所使用的相同。</p><p style="hyphens: auto; line-height: 22.4px;">格式化字符串字面值可以拼接，但是一个替换字段不能拆分到多个字面值。</p><p style="hyphens: auto; line-height: 22.4px;">一些格式化字符串字面值的示例:</p><div class="highlight-python3 notranslate" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255); position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><span class="copybutton" title="Hide the prompts and output" style="cursor: pointer; position: absolute; top: 0px; right: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</span><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">name</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="s2" style="color: rgb(64, 112, 160);">"Fred"</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">f</span><span class="s2" style="color: rgb(64, 112, 160);">"He said his name is </span><span class="si" style="color: rgb(112, 160, 208); font-style: italic;">{name!r}</span><span class="s2" style="color: rgb(64, 112, 160);">."</span>
<span class="go">"He said his name is 'Fred'."</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">f</span><span class="s2" style="color: rgb(64, 112, 160);">"He said his name is {repr(name)}."</span>  <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># repr() is equivalent to !r</span>
<span class="go">"He said his name is 'Fred'."</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">width</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="mi" style="color: rgb(32, 128, 80);">10</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">precision</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="mi" style="color: rgb(32, 128, 80);">4</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">value</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">decimal</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">Decimal</span><span class="p">(</span><span class="s2" style="color: rgb(64, 112, 160);">"12.34567"</span><span class="p">)</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">f</span><span class="s2" style="color: rgb(64, 112, 160);">"result: {value:</span><span class="si" style="color: rgb(112, 160, 208); font-style: italic;">{width}</span><span class="s2" style="color: rgb(64, 112, 160);">.</span><span class="si" style="color: rgb(112, 160, 208); font-style: italic;">{precision}</span><span class="s2" style="color: rgb(64, 112, 160);">}"</span>  <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># nested fields</span>
<span class="go">'result:      12.35'</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">today</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">datetime</span><span class="p">(</span><span class="n">year</span><span class="o" style="color: rgb(102, 102, 102);">=</span><span class="mi" style="color: rgb(32, 128, 80);">2017</span><span class="p">,</span> <span class="n">month</span><span class="o" style="color: rgb(102, 102, 102);">=</span><span class="mi" style="color: rgb(32, 128, 80);">1</span><span class="p">,</span> <span class="n">day</span><span class="o" style="color: rgb(102, 102, 102);">=</span><span class="mi" style="color: rgb(32, 128, 80);">27</span><span class="p">)</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">f</span><span class="s2" style="color: rgb(64, 112, 160);">"{today:%B </span><span class="si" style="color: rgb(112, 160, 208); font-style: italic;">%d</span><span class="s2" style="color: rgb(64, 112, 160);">, %Y}"</span>  <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># using date format specifier</span>
<span class="go">'January 27, 2017'</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">number</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="mi" style="color: rgb(32, 128, 80);">1024</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">f</span><span class="s2" style="color: rgb(64, 112, 160);">"</span><span class="si" style="color: rgb(112, 160, 208); font-style: italic;">{number:#0x}</span><span class="s2" style="color: rgb(64, 112, 160);">"</span>  <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># using integer format specifier</span>
<span class="go">'0x400'</span>
</pre></div></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">与正常字符串字面值采用相同语法导致的一个结果就是替换字段中的字符不能与外部的格式化字符串字面值所用的引号相冲突:</p><div class="highlight-python3 notranslate" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255); position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="n">f</span><span class="s2" style="color: rgb(64, 112, 160);">"abc </span><span class="si" style="color: rgb(112, 160, 208); font-style: italic;">{a["x"]}</span><span class="s2" style="color: rgb(64, 112, 160);"> def"</span>    <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># error: outer string literal ended prematurely</span>
<span class="n">f</span><span class="s2" style="color: rgb(64, 112, 160);">"abc </span><span class="si" style="color: rgb(112, 160, 208); font-style: italic;">{a['x']}</span><span class="s2" style="color: rgb(64, 112, 160);"> def"</span>    <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># workaround: use different quoting</span>
</pre></div></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">格式表达式中不允许有反斜杠，这会引发错误:</p><div class="highlight-python3 notranslate" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255); position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="n">f</span><span class="s2" style="color: rgb(64, 112, 160);">"newline: {ord('</span><span class="se" style="color: rgb(64, 112, 160); font-weight: bold;">\n</span><span class="s2" style="color: rgb(64, 112, 160);">')}"</span>  <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># raises SyntaxError</span>
</pre></div></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">想包含需要用反斜杠转义的值，可以创建一个临时变量。</p><div class="highlight-default notranslate" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">newline</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="nb" style="color: rgb(0, 112, 32);">ord</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'</span><span class="se" style="color: rgb(64, 112, 160); font-weight: bold;">\n</span><span class="s1" style="color: rgb(64, 112, 160);">'</span><span class="p">)</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">f</span><span class="s2" style="color: rgb(64, 112, 160);">"newline: </span><span class="si" style="color: rgb(112, 160, 208); font-style: italic;">{newline}</span><span class="s2" style="color: rgb(64, 112, 160);">"</span>
<span class="go">'newline: 10'</span>
</pre></div></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">格式化字符串字面值不可用作文档字符串，即便其中没有包含表达式。</p><div class="highlight-python3 notranslate" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255); position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><span class="copybutton" title="Hide the prompts and output" style="cursor: pointer; position: absolute; top: 0px; right: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</span><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">def</span> <span class="nf" style="color: rgb(6, 40, 126);">foo</span><span class="p">():</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">... </span>    <span class="n">f</span><span class="s2" style="color: rgb(64, 112, 160);">"Not a docstring"</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">...</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">foo</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="vm" style="color: rgb(187, 96, 213);">__doc__</span> <span class="ow" style="color: rgb(0, 112, 32); font-weight: bold;">is</span> <span class="kc" style="color: rgb(0, 112, 32); font-weight: bold;">None</span>
<span class="go">True</span>
</pre></div></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">另请参见&nbsp;<span class="target" id="index-41"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0498" style="color: rgb(99, 99, 187); text-decoration-line: none;"><strong>PEP 498</strong></a>&nbsp;了解加入格式化字符串字面值的提议，以及使用了相关的格式字符串机制的&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/stdtypes.html#str.format" title="str.format" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">str.format()</span></code></a>。</p></div><h4 id="blogTitle23">数字字面值<br></h4><div><div>数字字面值有三种类型: 整型数、浮点数和虚数。没有专门的复数字面值 (复数可由一个实数加一个虚数合成)。</div><div><br></div><div>注意数字字面值并不包含正负号；-1 这样的负数实际上是由单目运算符 ‘-‘ 和字面值 1 合成的。</div></div><h5 id="blogTitle24">整型数字面值</h5><div><p style="hyphens: auto; line-height: 22.4px;">整型数字面值由以下词法定义进行描述:</p><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><strong id="grammar-token-integer">integer     </strong> ::=  <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-decinteger" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">decinteger</span></code></a> | <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-bininteger" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">bininteger</span></code></a> | <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-octinteger" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">octinteger</span></code></a> | <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-hexinteger" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">hexinteger</span></code></a>
<strong id="grammar-token-decinteger">decinteger  </strong> ::=  <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-nonzerodigit" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">nonzerodigit</span></code></a> (["_"] <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-digit" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">digit</span></code></a>)* | "0"+ (["_"] "0")*
<strong id="grammar-token-bininteger">bininteger  </strong> ::=  "0" ("b" | "B") (["_"] <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-bindigit" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">bindigit</span></code></a>)+
<strong id="grammar-token-octinteger">octinteger  </strong> ::=  "0" ("o" | "O") (["_"] <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-octdigit" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">octdigit</span></code></a>)+
<strong id="grammar-token-hexinteger">hexinteger  </strong> ::=  "0" ("x" | "X") (["_"] <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-hexdigit" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">hexdigit</span></code></a>)+
<strong id="grammar-token-nonzerodigit">nonzerodigit</strong> ::=  "1"..."9"
<strong id="grammar-token-digit">digit       </strong> ::=  "0"..."9"
<strong id="grammar-token-bindigit">bindigit    </strong> ::=  "0" | "1"
<strong id="grammar-token-octdigit">octdigit    </strong> ::=  "0"..."7"
<strong id="grammar-token-hexdigit">hexdigit    </strong> ::=  <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-digit" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">digit</span></code></a> | "a"..."f" | "A"..."F"</pre><p style="hyphens: auto; line-height: 22.4px;">整型数字面值的长度没有限制，能一直大到占满可用内存。</p><p style="hyphens: auto; line-height: 22.4px;">在确定数字大小时字面值中的下划线会被忽略。它们可用来将数码分组以提高可读性。一个下划线可放在数码之间，也可放在基数说明符例如&nbsp;<span class="pre" style="padding: 0px 1px; border-radius: 3px; hyphens: none;">0x</span><span style="padding-right: 1px; padding-left: 1px; border-radius: 3px;">&nbsp;</span>之后。</p><p style="hyphens: auto; line-height: 22.4px;">注意非零的十进制数开头不允许有额外的零。这是为了避免与 Python 在版本 3.0 之前所使用的 C 风格八进制字面值相混淆。</p><p style="hyphens: auto; line-height: 22.4px;">一些整型数字面值的示例如下:</p><div class="highlight-python3 notranslate" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255); position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="mi" style="color: rgb(32, 128, 80);">7</span>     <span class="mi" style="color: rgb(32, 128, 80);">2147483647</span>                        <span class="mo" style="color: rgb(32, 128, 80);">0o177</span>    <span class="mb" style="color: rgb(32, 128, 80);">0b100110111</span>
<span class="mi" style="color: rgb(32, 128, 80);">3</span>     <span class="mi" style="color: rgb(32, 128, 80);">79228162514264337593543950336</span>     <span class="mo" style="color: rgb(32, 128, 80);">0o377</span>    <span class="mh" style="color: rgb(32, 128, 80);">0xdeadbeef</span>
      <span class="mi" style="color: rgb(32, 128, 80);">100</span><span class="n">_000_000_000</span>                   <span class="mi" style="color: rgb(32, 128, 80);">0</span><span class="n">b_1110_0101</span>
</pre></div></div><div class="versionchanged" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><p style="hyphens: auto; text-align: justify; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">在 3.6 版更改:&nbsp;</span>允许在字面值中使用下划线进行分组。</p></div></div><h5 id="blogTitle25">浮点数字面值</h5><div><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">浮点数字面值由以下词法定义进行描述:</p><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><strong id="grammar-token-floatnumber">floatnumber  </strong> ::=  <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-pointfloat" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">pointfloat</span></code></a> | <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-exponentfloat" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">exponentfloat</span></code></a>
<strong id="grammar-token-pointfloat">pointfloat   </strong> ::=  [<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-digitpart" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">digitpart</span></code></a>] <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-fraction" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">fraction</span></code></a> | <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-digitpart" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">digitpart</span></code></a> "."
<strong id="grammar-token-exponentfloat">exponentfloat</strong> ::=  (<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-digitpart" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">digitpart</span></code></a> | <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-pointfloat" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">pointfloat</span></code></a>) <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-exponent" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">exponent</span></code></a>
<strong id="grammar-token-digitpart">digitpart    </strong> ::=  <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-digit" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">digit</span></code></a> (["_"] <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-digit" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">digit</span></code></a>)*
<strong id="grammar-token-fraction">fraction     </strong> ::=  "." <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-digitpart" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">digitpart</span></code></a>
<strong id="grammar-token-exponent">exponent     </strong> ::=  ("e" | "E") ["+" | "-"] <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-digitpart" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">digitpart</span></code></a>
</pre><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">注意整型数部分和指数部分在解析时总是以 10 为基数。例如，<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">077e010</span></code>&nbsp;是合法的，且表示的数值与&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">77e10</span></code>&nbsp;相同。浮点数字面值允许的范围依赖于具体实现。对于整型数字面值，支持以下划线进行分组。</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">一些浮点数字面值的示例如下:</p><div class="highlight-python3 notranslate" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255); position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="mf" style="color: rgb(32, 128, 80);">3.14</span>    <span class="mf" style="color: rgb(32, 128, 80);">10.</span>    <span class="o" style="color: rgb(102, 102, 102);">.</span><span class="mi" style="color: rgb(32, 128, 80);">001</span>    <span class="mf" style="color: rgb(32, 128, 80);">1e100</span>    <span class="mf" style="color: rgb(32, 128, 80);">3.14e-10</span>    <span class="mf" style="color: rgb(32, 128, 80);">0e0</span>    <span class="mf" style="color: rgb(32, 128, 80);">3.14</span><span class="n">_15_93</span>
</pre></div></div><div class="versionchanged" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><p style="hyphens: auto; text-align: justify; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">在 3.6 版更改:&nbsp;</span>允许在字面值中使用下划线进行分组。</p></div></div><h5 id="blogTitle26">虚数字面值&nbsp;</h5><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">虚数字面值由以下词法定义进行描述:</p><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><strong id="grammar-token-imagnumber">imagnumber</strong> ::=  (<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-floatnumber" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">floatnumber</span></code></a> | <a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#grammar-token-digitpart" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 14.8996px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">digitpart</span></code></a>) ("j" | "J")
</pre><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">一个虚数字面值将生成一个实部为 0.0 的复数。复数是以一对浮点数来表示的，它们的取值范围相同。要创建一个实部不为零的复数，就加上一个浮点数，例如&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">(3+4j)</span></code>。一些虚数字面值的示例如下:</p><div class="highlight-python3 notranslate" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255); position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="mf" style="color: rgb(32, 128, 80);">3.14</span><span class="n">j</span>   <span class="mf" style="color: rgb(32, 128, 80);">10.</span><span class="n">j</span>    <span class="mi" style="color: rgb(32, 128, 80);">10</span><span class="n">j</span>     <span class="o" style="color: rgb(102, 102, 102);">.</span><span class="mi" style="color: rgb(32, 128, 80);">001</span><span class="n">j</span>   <span class="mf" style="color: rgb(32, 128, 80);">1e100j</span>   <span class="mf" style="color: rgb(32, 128, 80);">3.14e-10</span><span class="n">j</span>   <span class="mf" style="color: rgb(32, 128, 80);">3.14</span><span class="n">_15_93j</span></pre></div></div><p><br></p><h3 id="blogTitle27">运算符</h3><div><p id="index-30" style="hyphens: auto; line-height: 22.4px;">以下形符属于运算符:</p><div class="highlight-none notranslate" style=""><div class="highlight" style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;">+       -       *       **      /       //      %      @
&lt;&lt;      &gt;&gt;      &amp;       |       ^       ~
&lt;       &gt;       &lt;=      &gt;=      ==      !=</pre></div></div></div><h3 id="blogTitle28">&nbsp;分隔符</h3><div><p id="index-31" style="hyphens: auto; line-height: 22.4px;">以下形符在语法中归类为分隔符:</p><div class="highlight-none notranslate" style=""><div class="highlight" style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;">(       )       [       ]       {       }
,       :       .       ;       @       =       -&gt;
+=      -=      *=      /=      //=     %=      @=
&amp;=      |=      ^=      &gt;&gt;=     &lt;&lt;=     **=</pre></div></div><p style="hyphens: auto; line-height: 22.4px;">句点也可出现于浮点数和虚数字面值中。连续三个句点有表示一个省略符的特殊含义。以上列表的后半部分为增强赋值操作符，在词法中作为分隔符，但也起到运算作用。</p><p style="hyphens: auto; line-height: 22.4px;">以下可打印 ASCII 字符作为其他形符的组成部分时具有特殊含义，或是对词法分析器有重要意义:</p><div class="highlight-none notranslate" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;">'       "       #       \
</pre></div></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">以下可打印 ASCII 字符不在 Python 词法中使用。如果出现于字符串字面值和注释之外将无条件地引发错误:</p><div class="highlight-none notranslate" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;">$       ?       `</pre></div></div></div><h2 id="blogTitle29">数据模型</h2><p>Data model</p><h3 id="blogTitle30">对象、值与类型<br></h3><div>Objects, values and types</div><p id="index-0" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><em class="dfn">对象</em>&nbsp;是 Python 中对数据的抽象。Python 程序中的所有数据都是由对象或对象间关系来表示的。(从某种意义上说，按照冯·诺依曼的 “存储程序计算机” 模型，代码本身也是由对象来表示的。)</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">每个对象都有各自的编号、类型和值。一个对象被创建后，它的&nbsp;<em>编号</em>&nbsp;就绝不会改变；你可以将其理解为该对象在内存中的地址。 ‘<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#is" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">is</span></code></a>’ 运算符可以比较两个对象的编号是否相同；<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#id" title="id" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">id()</span></code></a>&nbsp;函数能返回一个代表其编号的整型数。</p><div class="impl-detail compound" style="border-radius: 3px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><p style="hyphens: auto; text-align: justify; line-height: 22.4px; margin: 0px;"><strong>CPython implementation detail:</strong>&nbsp;在 CPython 中，<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">id(x)</span></code>&nbsp;就是存放&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">x</span></code>&nbsp;的内存的地址。</p></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">对象的类型决定该对象所支持的操作 (例如 “对象是否有长度属性？”) 并且定义了该类型的对象可能的取值。<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#type" title="type" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">type()</span></code></a>&nbsp;函数能返回一个对象的类型 (类型本身也是对象)。与编号一样，一个对象的&nbsp;<em class="dfn">类型</em>&nbsp;也是不可改变的。<a class="footnote-reference" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#id8" id="id1" style="color: rgb(99, 99, 187); text-decoration-line: none;">[1]</a></p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">有些对象的&nbsp;<em>值</em>&nbsp;可以改变。值可以改变的对象被称为&nbsp;<em>可变的</em>；值不可以改变的对象就被称为&nbsp;<em>不可变的</em>。(一个不可变容器对象如果包含对可变对象的引用，当后者的值改变时，前者的值也会改变；但是该容器仍属于不可变对象，因为它所包含的对象集是不会改变的。因此，不可变并不严格等同于值不能改变，实际含义要更微妙。) 一个对象的可变性是由其类型决定的；例如，数字、字符串和元组是不可变的，而字典和列表是可变的。</p><p id="index-2" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">对象绝不会被显式地销毁；然而，当无法访问时它们可能会被作为垃圾回收。允许具体的实现推迟垃圾回收或完全省略此机制 — 如何实现垃圾回收是实现的质量问题，只要可访问的对象不会被回收即可。</p><div class="impl-detail compound" style="border-radius: 3px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><p style="hyphens: auto; text-align: justify; line-height: 22.4px; margin: 0px;"><strong>CPython implementation detail:</strong>&nbsp;CPython 目前使用带有 (可选) 延迟检测循环链接垃圾的引用计数方案，会在对象不可访问时立即回收其中的大部分，但不保证回收包含循环引用的垃圾。请查看&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/gc.html#module-gc" title="gc: Interface to the cycle-detecting garbage collector." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">gc</span></code></a>&nbsp;模块的文档了解如何控制循环垃圾的收集相关信息。其他实现会有不同的行为方式，CPython 现有方式也可能改变。不要依赖不可访问对象的立即终结机制 (所以你应当总是显式地关闭文件)。</p></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">注意：使用实现的跟踪或调试功能可能令正常情况下会被回收的对象继续存活。还要注意通过 ‘<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/compound_stmts.html#try" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">try</span></code></a>…<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/compound_stmts.html#except" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">except</span></code></a>’ 语句捕捉异常也可能令对象保持存活。</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">有些对象包含对 “外部” 资源的引用，例如打开文件或窗口。当对象被作为垃圾回收时这些资源也应该会被释放，但由于垃圾回收并不确保发生，这些对象还提供了明确地释放外部资源的操作，通常为一个&nbsp;<code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">close()</span></code>&nbsp;方法。强烈推荐在程序中显式关闭此类对象。’<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/compound_stmts.html#try" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">try</span></code></a>…<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/compound_stmts.html#finally" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">finally</span></code></a>’ 语句和 ‘<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/compound_stmts.html#with" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">with</span></code></a>’ 语句提供了进行此种操作的更便捷方式。</p><p id="index-3" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">有些对象包含对其他对象的引用；它们被称为&nbsp;<em>容器</em>。容器的例子有元组、列表和字典等。这些引用是容器对象值的组成部分。在多数情况下，当谈论一个容器的值时，我们是指所包含对象的值而不是其编号；但是，当我们谈论一个容器的可变性时，则仅指其直接包含的对象的编号。因此，如果一个不可变容器 (例如元组) 包含对一个可变对象的引用，则当该可变对象被改变时容器的值也会改变。</p><p><span class="target" id="index-1" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"></span></p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">类型会影响对象行为的几乎所有方面。甚至对象编号的重要性也在某种程度上受到影响: 对于不可变类型，会得出新值的运算实际上会返回对相同类型和取值的任一现有对象的引用，而对于可变类型来说这是不允许的。例如在&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">a</span>&nbsp;<span class="pre" style="hyphens: none;">=</span>&nbsp;<span class="pre" style="hyphens: none;">1;</span>&nbsp;<span class="pre" style="hyphens: none;">b</span>&nbsp;<span class="pre" style="hyphens: none;">=</span>&nbsp;<span class="pre" style="hyphens: none;">1</span></code>&nbsp;之后，<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">a</span></code>&nbsp;和&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">b</span></code>可能会也可能不会指向同一个值为一的对象，这取决于具体实现，但是在&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">c</span>&nbsp;<span class="pre" style="hyphens: none;">=</span>&nbsp;<span class="pre" style="hyphens: none;">[];</span>&nbsp;<span class="pre" style="hyphens: none;">d</span><span class="pre" style="hyphens: none;">=</span>&nbsp;<span class="pre" style="hyphens: none;">[]</span></code>&nbsp;之后，<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">c</span></code>&nbsp;和&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">d</span></code>&nbsp;保证会指向两个不同、单独的新建空列表。(请注意&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">c</span>&nbsp;<span class="pre" style="hyphens: none;">=</span>&nbsp;<span class="pre" style="hyphens: none;">d</span>&nbsp;<span class="pre" style="hyphens: none;">=</span>&nbsp;<span class="pre" style="hyphens: none;">[]</span></code>则是将同一个对象赋值给&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">c</span></code>&nbsp;和&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">d</span></code>。)</p><h3 id="blogTitle31">标准类型层级结构</h3><p>The standard type hierarchy</p><p id="index-4" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">以下是 Python 内置类型的列表。扩展模块 (具体实现会以 C, Java 或其他语言编写) 可以定义更多的类型。未来版本的 Python 可能会加入更多的类型 (例如有理数、高效存储的整型数组等等)，不过新增类型往往都是通过标准库来提供的。</p><p id="index-5" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">以下部分类型的描述中包含有 ‘特殊属性列表’ 段落。这些属性提供对具体实现的访问而非通常使用。它们的定义在未来可能会改变。</p><dl class="docutils" style="margin-bottom: 15px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><dt>None</dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p class="first last" id="index-6" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;">此类型只有一种取值。是一个具有此值的单独对象。此对象通过内置名称&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code>访问。在许多情况下它被用来表示空值，例如未显式指明返回值的函数将返回 None。它的逻辑值为假。</p></dd><dt>NotImplemented</dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p class="first" id="index-7" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;">此类型只有一种取值。是一个具有此值的单独对象。此对象通过内置名称&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">NotImplemented</span></code>&nbsp;访问。数值方法和丰富比较方法如未实现指定运算符表示的运算则应返回此值。(解释器会根据指定运算符继续尝试反向运算或其他回退操作)。它的逻辑值为真。</p><p class="last" style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">详情参见&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/numbers.html#implementing-the-arithmetic-operations" style="color: rgb(99, 99, 187); text-decoration-line: none;">Implementing the arithmetic operations</a>。</p></dd><dt>Ellipsis</dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p class="first last" id="index-8" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;">此类型只有一种取值。是一个具有此值的单独对象。此对象通过字面值&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">...</span></code>&nbsp;或内置名称&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Ellipsis</span></code>&nbsp;访问。它的逻辑值为真。</p></dd><dt><a class="reference internal" href="https://docs.python.org/zh-cn/3/library/numbers.html#numbers.Number" title="numbers.Number" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">numbers.Number</span></code></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p class="first" id="index-9" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;">此类对象由数字字面值创建，并会被作为算术运算符和算术内置函数的返回结果。数字对象是不可变的；一旦创建其值就不再改变。Python 中的数字当然非常类似数学中的数字，但也受限于计算机中的数字表示方法。</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Python 区分整型数、浮点型数和复数:</p><dl class="last docutils" style="margin-bottom: 15px;"><dt><a class="reference internal" href="https://docs.python.org/zh-cn/3/library/numbers.html#numbers.Integral" title="numbers.Integral" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">numbers.Integral</span></code></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p class="first" id="index-10" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;">此类对象表示数学中整数集合的成员 (包括正数和负数)。</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">整型数可细分为两种类型:</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">整型 (<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#int" title="int" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">int</span></code></a>)</p><blockquote style="hyphens: auto; line-height: 20.8px;">此类对象表示任意大小的数字，仅受限于可用的内存 (包括虚拟内存)。在变换和掩码运算中会以二进制表示，负数会以 2 的补码表示，看起来像是符号位向左延伸补满空位。</blockquote><dl class="docutils" style="margin-bottom: 15px;"><dt>布尔型 (<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#bool" title="bool" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">bool</span></code></a>)</dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p class="first last" id="index-11" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;">此类对象表示逻辑值 False 和 True。代表&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">False</span></code>&nbsp;和&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">True</span></code>&nbsp;值的两个对象是唯二的布尔对象。布尔类型是整型的子类型，两个布尔值在各种场合的行为分别类似于数值 0 和 1，例外情况只有在转换为字符串时分别返回字符串&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">"False"</span></code>&nbsp;或&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">"True"</span></code>。</p></dd></dl><p class="last" id="index-12" style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">整型数表示规则的目的是在涉及负整型数的变换和掩码运算时提供最为合理的解释。</p></dd><dt><a class="reference internal" href="https://docs.python.org/zh-cn/3/library/numbers.html#numbers.Real" title="numbers.Real" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">numbers.Real</span></code></a>&nbsp;(<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#float" title="float" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">float</span></code></a>)</dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p class="first last" id="index-13" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;">此类对象表示机器级的双精度浮点数。其所接受的取值范围和溢出处理将受制于底层的机器架构 (以及 C 或 Java 实现)。Python 不支持单精度浮点数；支持后者通常的理由是节省处理器和内存消耗，但这会妨碍在 Python 中使用对象，因此没有理由包含两种浮点数而令该语言变得复杂。</p></dd><dt><a class="reference internal" href="https://docs.python.org/zh-cn/3/library/numbers.html#numbers.Complex" title="numbers.Complex" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">numbers.Complex</span></code></a>&nbsp;(<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#complex" title="complex" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">complex</span></code></a>)</dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p class="first last" id="index-14" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;">此类对象以一对机器级的双精度浮点数来表示复数值。有关浮点数的附带规则对其同样有效。一个复数值&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">z</span></code>&nbsp;的实部和虚部可通过只读属性&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">z.real</span></code>&nbsp;和&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">z.imag</span></code>&nbsp;来获取。</p></dd></dl></dd><dt>序列</dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p class="first" id="index-15" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;">此类对象表示以非负整数作为索引的有限有序集。内置函数&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#len" title="len" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">len()</span></code></a>&nbsp;可返回一个序列的条目数量。当一个序列的长度为&nbsp;<em>n</em>&nbsp;时，索引集包含数字 0, 1, …,&nbsp;<em>n</em>-1。序列&nbsp;<em>a</em>&nbsp;的条目&nbsp;<em>i</em>&nbsp;可通过&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">a[i]</span></code>&nbsp;选择。</p><p id="index-16" style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">序列还支持切片:&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">a[i:j]</span></code>&nbsp;选择索引号为&nbsp;<em>k</em>&nbsp;的所有条目，<em>i</em>&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">&lt;=</span></code>&nbsp;<em>k</em>&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">&lt;</span></code>&nbsp;<em>j</em>。当用作表达式时，序列的切片就是一个与序列类型相同的新序列。新序列的索引还是从 0 开始。</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">有些序列还支持带有第三个 “step” 形参的 “扩展切片”:&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">a[i:j:k]</span></code>&nbsp;选择&nbsp;<em>a</em>&nbsp;中索引号为&nbsp;<em>x</em>&nbsp;的所有条目，<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">x</span>&nbsp;<span class="pre" style="hyphens: none;">=</span>&nbsp;<span class="pre" style="hyphens: none;">i</span>&nbsp;<span class="pre" style="hyphens: none;">+</span>&nbsp;<span class="pre" style="hyphens: none;">n*k</span></code>,&nbsp;<em>n</em>&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">&gt;=</span></code>&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">0</span></code>&nbsp;且&nbsp;<em>i</em>&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">&lt;=</span></code>&nbsp;<em>x</em>&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">&lt;</span></code>&nbsp;<em>j</em>。</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">序列可根据其可变性来加以区分:</p><dl class="last docutils" style="margin-bottom: 15px;"><dt>不可变序列</dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p class="first" id="index-17" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;">不可变序列类型的对象一旦创建就不能再改变。(如果对象包含对其他对象的引用，其中的可变对象就是可以改变的；但是，一个不可变对象所直接引用的对象集是不能改变的。)</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">以下类型属于不可变对象:</p><dl class="last docutils" id="index-18" style="margin-bottom: 15px;"><dt>字符串</dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p class="first last" id="index-19" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;">字符串是由 Unicode 码位值组成的序列。范围在&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">U+0000</span>&nbsp;<span class="pre" style="hyphens: none;">-</span>&nbsp;<span class="pre" style="hyphens: none;">U+10FFFF</span></code>之内的所有码位值都可在字符串中使用。Python 没有&nbsp;<code class="xref c c-type docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">char</span></code>&nbsp;类型；而是将字符串中的每个码位表示为一个长度为&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">1</span></code>&nbsp;的字符串对象。内置函数&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#ord" title="ord" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">ord()</span></code></a>&nbsp;可将一个码位由字符串形式转换成一个范围在&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">0</span>&nbsp;<span class="pre" style="hyphens: none;">-</span>&nbsp;<span class="pre" style="hyphens: none;">10FFFF</span></code>&nbsp;之内的整型数；<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#chr" title="chr" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">chr()</span></code></a>&nbsp;可将一个范围在&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">0</span>&nbsp;<span class="pre" style="hyphens: none;">-</span>&nbsp;<span class="pre" style="hyphens: none;">10FFFF</span></code>&nbsp;之内的整型数转换为长度为&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">1</span></code>&nbsp;的对应字符串对象。<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/stdtypes.html#str.encode" title="str.encode" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">str.encode()</span></code></a>&nbsp;可以使用指定的文本编码将&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/stdtypes.html#str" title="str" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">str</span></code></a>&nbsp;转换为&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/stdtypes.html#bytes" title="bytes" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">bytes</span></code></a>，而&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/stdtypes.html#bytes.decode" title="bytes.decode" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">bytes.decode()</span></code></a>&nbsp;则可以实现反向的解码。</p></dd><dt>元组</dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p class="first last" id="index-20" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;">一个元组中的条目可以是任意 Python 对象。包含两个或以上条目的元组由逗号分隔的表达式构成。只有一个条目的元组 (‘单项元组’) 可通过在表达式后加一个逗号来构成 (一个表达式本身不能创建为元组，因为圆括号要用来设置表达式分组)。一个空元组可通过一对内容为空的圆括号创建。</p></dd><dt>字节串</dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p class="first last" id="index-21" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;">字节串对象是不可变的数组。其中每个条目都是一个 8 位字节，以取值范围 0 &lt;= x &lt; 256 的整型数表示。字节串字面值 (例如&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">b'abc'</span></code>) 和内置的&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/stdtypes.html#bytes" title="bytes" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">bytes()</span></code></a>&nbsp;构造器可被用来创建字节串对象。字节串对象还可以通过&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/stdtypes.html#bytes.decode" title="bytes.decode" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">decode()</span></code></a>&nbsp;方法解码为字符串。</p></dd></dl></dd><dt>可变序列</dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p class="first" id="index-22" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;">可变序列在被创建后仍可被改变。下标和切片标注可被用作赋值和&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/simple_stmts.html#del" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">del</span></code></a>&nbsp;(删除) 语句的目标。</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">目前有两种内生可变序列类型:</p><dl class="docutils" style="margin-bottom: 15px;"><dt>列表</dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p class="first last" id="index-23" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;">列表中的条目可以是任意 Python 对象。列表由用方括号括起并由逗号分隔的多个表达式构成。(注意创建长度为 0 或 1 的列表无需使用特殊规则。)</p></dd><dt>字节数组</dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p class="first last" id="index-24" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;">字节数组对象属于可变数组。可以通过内置的&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/stdtypes.html#bytearray" title="bytearray" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">bytearray()</span></code></a>&nbsp;构造器来创建。除了是可变的 (因而也是不可哈希的)，在其他方面字节数组提供的接口和功能都于不可变的&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/stdtypes.html#bytes" title="bytes" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">bytes</span></code></a>&nbsp;对象一致。</p></dd></dl><p class="last" id="index-25" style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">扩展模块&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/array.html#module-array" title="array: Space efficient arrays of uniformly typed numeric values." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">array</span></code></a>&nbsp;提供了一个额外的可变序列类型示例，<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/collections.html#module-collections" title="collections: Container datatypes" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">collections</span></code></a>&nbsp;模块也是如此。</p></dd></dl></dd><dt>集合类型</dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p class="first" id="index-26" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;">此类对象表示由不重复且不可变对象组成的无序且有限的集合。因此它们不能通过下标来索引。但是它们可被迭代，也可用内置函数&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#len" title="len" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">len()</span></code></a>&nbsp;返回集合中的条目数。集合常见的用处是快速成员检测，去除序列中的重复项，以及进行交、并、差和对称差等数学运算。</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">对于集合元素所采用的不可变规则与字典的键相同。注意数字类型遵循正常的数字比较规则: 如果两个数字相等 (例如&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">1</span></code>&nbsp;和&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">1.0</span></code>)，则同一集合中只能包含其中一个。</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">目前有两种内生集合类型:</p><dl class="last docutils" style="margin-bottom: 15px;"><dt>集合</dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p class="first last" id="index-27" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;">此类对象表示可变集合。它们可通过内置的&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/stdtypes.html#set" title="set" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">set()</span></code></a>&nbsp;构造器创建，并且创建之后可以通过方法进行修改，例如&nbsp;<code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">add()</span></code>。</p></dd><dt>冻结集合</dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p class="first last" id="index-28" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;">此类对象表示不可变集合。它们可通过内置的&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/stdtypes.html#frozenset" title="frozenset" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">frozenset()</span></code></a>&nbsp;构造器创建。由于 frozenset 对象不可变且&nbsp;<span class="xref std std-term">可哈希</span>，它可以被用作另一个集合的元素或是字典的键。</p></dd></dl></dd><dt>映射</dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p class="first" id="index-29" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;">此类对象表示由任意索引集合所索引的对象的集合。通过下标&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">a[k]</span></code>&nbsp;可在映射&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">a</span></code>中选择索引为&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">k</span></code>&nbsp;的条目；这可以在表达式中使用，也可作为赋值或&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/simple_stmts.html#del" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">del</span></code></a>&nbsp;语句的目标。内置函数&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#len" title="len" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">len()</span></code></a>&nbsp;可返回一个映射中的条目数。</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">目前只有一种内生映射类型:</p><dl class="last docutils" style="margin-bottom: 15px;"><dt>字典</dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p class="first" id="index-30" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;">此类对象表示由几乎任意值作为索引的有限个对象的集合。不可作为键的值类型只有包含列表或字典或其他可变类型，通过值而非对象编号进行比较的值，其原因在于高效的字典实现需要使用键的哈希值以保持一致性。用作键的数字类型遵循正常的数字比较规则: 如果两个数字相等 (例如&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">1</span></code>&nbsp;和&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">1.0</span></code>) 则它们均可来用来索引同一个字典条目。</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">字典是可变的；它们可通过&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">{...}</span></code>&nbsp;标注来创建 (参见&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#dict" style="color: rgb(99, 99, 187); text-decoration-line: none;">Dictionary displays</a>小节)。</p><p class="last" id="index-31" style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">扩展模块&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/dbm.html#module-dbm.ndbm" title="dbm.ndbm: The standard &quot;database&quot; interface, based on ndbm. (Unix)" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">dbm.ndbm</span></code></a>&nbsp;和&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/dbm.html#module-dbm.gnu" title="dbm.gnu: GNU's reinterpretation of dbm. (Unix)" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">dbm.gnu</span></code></a>&nbsp;提供了额外的映射类型示例，<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/collections.html#module-collections" title="collections: Container datatypes" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">collections</span></code></a>&nbsp;模块也是如此。</p></dd></dl></dd><dt>可调用类型</dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p class="first" id="index-32" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;">此类型可以被应用于函数调用操作 (参见&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#calls" style="color: rgb(99, 99, 187); text-decoration-line: none;">调用</a>&nbsp;小节):</p><dl class="last docutils" style="margin-bottom: 15px;"><dt>用户定义函数</dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p class="first" id="index-33" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;">用户定义函数对象可通过函数定义来创建 (参见&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/compound_stmts.html#function" style="color: rgb(99, 99, 187); text-decoration-line: none;">Function definitions</a>&nbsp;小节)。它被调用时应附带一个参数列表，其中包含的条目应与函数所定义的形参列表一致。</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">特殊属性:</p><table border="1" class="docutils" id="index-34" style="margin-bottom: 10px; border-width: 1px; border-right-style: solid; border-left-style: solid; border-color: rgb(221, 221, 221); border-image: initial; min-width: 20%; border-radius: 3px; margin-top: 10px;"><colgroup><col width="37%"><col width="46%"><col width="16%"></colgroup><thead valign="bottom"><tr class="row-odd"><th class="head" style="padding: 0.3em 0.5em; background-color: rgb(238, 238, 238); border-radius: 3px; border-top: 1px solid rgb(221, 221, 221) !important; border-right: 1px solid rgb(221, 221, 221) !important; border-left: 1px solid rgb(221, 221, 221) !important; border-bottom-color: rgb(221, 221, 221) !important; border-image: initial !important;">属性</th><th class="head" style="padding: 0.3em 0.5em; background-color: rgb(238, 238, 238); border-radius: 3px; border-top: 1px solid rgb(221, 221, 221) !important; border-right: 1px solid rgb(221, 221, 221) !important; border-left: 1px solid rgb(221, 221, 221) !important; border-bottom-color: rgb(221, 221, 221) !important; border-image: initial !important;">意义</th><th class="head" style="padding: 0.3em 0.5em; background-color: rgb(238, 238, 238); border-radius: 3px; border-top: 1px solid rgb(221, 221, 221) !important; border-right: 1px solid rgb(221, 221, 221) !important; border-left: 1px solid rgb(221, 221, 221) !important; border-bottom-color: rgb(221, 221, 221) !important; border-image: initial !important;">&nbsp;</th></tr></thead><tbody valign="top"><tr class="row-even"><td style="text-align: left; padding: 0.3em 0.5em; border-radius: 3px; background-color: white; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;"><code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__doc__</span></code></td><td style="text-align: left; padding: 0.3em 0.5em; border-radius: 3px; background-color: white; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">该函数的文档字符串，没有则为&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code>；不会被子类所继承</td><td style="text-align: left; padding: 0.3em 0.5em; border-radius: 3px; background-color: white; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">可写</td></tr><tr class="row-odd"><td style="text-align: left; padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;"><a class="reference internal" href="https://docs.python.org/zh-cn/3/library/stdtypes.html#definition.__name__" title="definition.__name__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__name__</span></code></a></td><td style="text-align: left; padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">该函数的名称</td><td style="text-align: left; padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">可写</td></tr><tr class="row-even"><td style="text-align: left; padding: 0.3em 0.5em; border-radius: 3px; background-color: white; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;"><a class="reference internal" href="https://docs.python.org/zh-cn/3/library/stdtypes.html#definition.__qualname__" title="definition.__qualname__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__qualname__</span></code></a></td><td style="text-align: left; padding: 0.3em 0.5em; border-radius: 3px; background-color: white; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;"><p class="first" style="margin-top: 0px !important; text-align: justify; hyphens: auto; line-height: 22.4px;">该函数的&nbsp;<span class="xref std std-term">限定名称</span></p><div class="last versionadded"><p style="margin-top: 0px; text-align: justify; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">3.3 新版功能.</span></p></div></td><td style="text-align: left; padding: 0.3em 0.5em; border-radius: 3px; background-color: white; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">可写</td></tr><tr class="row-odd"><td style="text-align: left; padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;"><code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__module__</span></code></td><td style="text-align: left; padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">该函数所属模块的名称，没有则为&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code>。</td><td style="text-align: left; padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">可写</td></tr><tr class="row-even"><td style="text-align: left; padding: 0.3em 0.5em; border-radius: 3px; background-color: white; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;"><code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__defaults__</span></code></td><td style="text-align: left; padding: 0.3em 0.5em; border-radius: 3px; background-color: white; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">由具有默认值的参数的默认参数值组成的元组，如无任何参数具有默认值则为&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code></td><td style="text-align: left; padding: 0.3em 0.5em; border-radius: 3px; background-color: white; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">可写</td></tr><tr class="row-odd"><td style="text-align: left; padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;"><code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__code__</span></code></td><td style="text-align: left; padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">表示编译后的函数体的代码对象。</td><td style="text-align: left; padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">可写</td></tr><tr class="row-even"><td style="text-align: left; padding: 0.3em 0.5em; border-radius: 3px; background-color: white; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;"><code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__globals__</span></code></td><td style="text-align: left; padding: 0.3em 0.5em; border-radius: 3px; background-color: white; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">对存放该函数中全局变量的字典的引用 — 函数所属模块的全局命名空间。</td><td style="text-align: left; padding: 0.3em 0.5em; border-radius: 3px; background-color: white; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">只读</td></tr><tr class="row-odd"><td style="text-align: left; padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;"><a class="reference internal" href="https://docs.python.org/zh-cn/3/library/stdtypes.html#object.__dict__" title="object.__dict__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__dict__</span></code></a></td><td style="text-align: left; padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">命名空间支持的函数属性。</td><td style="text-align: left; padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">可写</td></tr><tr class="row-even"><td style="text-align: left; padding: 0.3em 0.5em; border-radius: 3px; background-color: white; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;"><code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__closure__</span></code></td><td style="text-align: left; padding: 0.3em 0.5em; border-radius: 3px; background-color: white; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;"><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code>&nbsp;或包含该函数可用变量的绑定的单元的元组。有关&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">cell_contents</span></code>&nbsp;属性的详情见下。</td><td style="text-align: left; padding: 0.3em 0.5em; border-radius: 3px; background-color: white; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">只读</td></tr><tr class="row-odd"><td style="text-align: left; padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;"><code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__annotations__</span></code></td><td style="text-align: left; padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">包含参数标注的字典。字典的键是参数名，如存在返回标注则为&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">'return'</span></code>。</td><td style="text-align: left; padding: 0.3em 0.5em; border-radius: 3px; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">可写</td></tr><tr class="row-even"><td style="text-align: left; padding: 0.3em 0.5em; border-radius: 3px; background-color: white; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;"><code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__kwdefaults__</span></code></td><td style="text-align: left; padding: 0.3em 0.5em; border-radius: 3px; background-color: white; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">仅包含关键字参数默认值的字典。</td><td style="text-align: left; padding: 0.3em 0.5em; border-radius: 3px; background-color: white; border-width: 1px !important; border-style: solid !important; border-color: rgb(221, 221, 221) !important;">可写</td></tr></tbody></table><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">大部分标有 “Writable” 的属性均会检查赋值的类型。</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">函数对象也支持获取和设置任意属性，例如这可以被用来给函数附加元数据。使用正规的属性点号标注获取和设置此类属性。<em>注意当前实现仅支持用户定义函数属性。未来可能会增加支持内置函数属性。</em></p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">单元对象具有&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">cell_contents</span></code>&nbsp;属性。这可被用来获取以及设置单元的值。</p><p class="last" style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">有关函数定义的额外信息可以从其代码对象中提取；参见下文对内部类型的描述。</p></dd><dt>实例方法</dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p class="first" id="index-35" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;">实例方法用于结合类、类实例和任何可调用对象 (通常为用户定义函数)。</p><p id="index-36" style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">特殊的只读属性:&nbsp;<code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__self__</span></code>&nbsp;为类实例对象本身，<code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__func__</span></code>&nbsp;为函数对象；<code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__doc__</span></code>&nbsp;为方法的文档 (与&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__func__.__doc__</span></code>&nbsp;作用相同)；<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/stdtypes.html#definition.__name__" title="definition.__name__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__name__</span></code></a>&nbsp;为方法名称 (与&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__func__.__name__</span></code>&nbsp;作用相同)；<code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__module__</span></code>&nbsp;为方法所属模块的名称，没有则为&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code>。</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">方法还支持获取 (但不能设置) 下层函数对象的任意函数属性。</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">用户定义方法对象可在获取一个类的属性时被创建 (也可能通过该类的一个实例)，如果该属性为用户定义函数对象或类方法对象。</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">当通过从类实例获取一个用户定义函数对象的方式创建一个实例方法对象时，类实例对象的&nbsp;<code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__self__</span></code>&nbsp;属性即为该实例，并会绑定方法对象。该新建方法的&nbsp;<code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__func__</span></code>&nbsp;属性就是原来的函数对象。</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">当通过从类或实例获取另一个方法对象的方式创建一个用户定义方法对象时，其行为将等同于一个函数对象，例外的只有新实例的&nbsp;<code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__func__</span></code>&nbsp;属性将不是原来的方法对象，而是其&nbsp;<code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__func__</span></code>&nbsp;属性。</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">当通过从类或实例获取一个类方法对象的方式创建一个实例对象时，实例对象的&nbsp;<code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__self__</span></code>&nbsp;属性为该类本身，其&nbsp;<code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__func__</span></code>&nbsp;属性为类方法对应的下层函数对象。</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">当一个实例方法对象被调用时，会调用对应的下层函数 (<code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__func__</span></code>)，并将类实例 (<code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__self__</span></code>) 插入参数列表的开头。例如，当&nbsp;<code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">C</span></code>&nbsp;是一个包含了&nbsp;<code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">f()</span></code>&nbsp;函数定义的类，而&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">x</span></code>&nbsp;是&nbsp;<code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">C</span></code>&nbsp;的一个实例，则调用&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">x.f(1)</span></code>&nbsp;就等同于调用&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">C.f(x,</span><span class="pre" style="hyphens: none;">1)</span></code>。</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">当一个实例方法对象是衍生自一个类方法对象时，保存在&nbsp;<code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__self__</span></code>&nbsp;中的 “类实例” 实际上会是该类本身，因此无论是调用&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">x.f(1)</span></code>&nbsp;还是&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">C.f(1)</span></code>&nbsp;都等同于调用&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">f(C,1)</span></code>，其中&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">f</span></code>&nbsp;为对应的下层函数。</p><p class="last" style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">请注意从函数对象到实例方法对象的变换会在每一次从实例获取属性时发生。在某些情况下，一种高效的优化方式是将属性赋值给一个本地变量并调用该本地变量。还要注意这样的变换只发生于用户定义函数；其他可调用对象 (以及所有不可调用对象) 在被获取时都不会发生变换。还有一个需要关注的要点是作为一个类实例属性的用户定义函数不会被转换为绑定方法；这样的变换&nbsp;<em>仅当</em>&nbsp;函数是类属性时才会发生。</p></dd><dt>生成器函数</dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p class="first last" id="index-37" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;">使用了&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/simple_stmts.html#yield" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">yield</span></code></a>&nbsp;语句 (参见&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/simple_stmts.html#yield" style="color: rgb(99, 99, 187); text-decoration-line: none;">The yield statement</a>&nbsp;一节) 的函数或方法就被称为&nbsp;<em class="dfn">生成器函数</em>。这样的函数在被调用时总是返回一个迭代器对象并可被用来执行函数体: 调用迭代器的&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/stdtypes.html#iterator.__next__" title="iterator.__next__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">iterator.__next__()</span></code></a>&nbsp;方法将使得函数继续执行直到其用&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/simple_stmts.html#yield" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">yield</span></code></a>&nbsp;语句返回一个值。当函数执行到&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/simple_stmts.html#return" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">return</span></code></a>&nbsp;语句或是最后一条语句时，将会引发&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#StopIteration" title="StopIteration" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">StopIteration</span></code></a>&nbsp;异常，迭代器也会到达要返回的值集合的末尾。</p></dd><dt>协程函数</dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p class="first last" id="index-38" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;">使用&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/compound_stmts.html#async-def" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">async</span>&nbsp;<span class="pre" style="hyphens: none;">def</span></code></a>&nbsp;来定义的函数或方法就被称为&nbsp;<em class="dfn">协程函数</em>。这样的函数在被调用时会返回一个&nbsp;<span class="xref std std-term">协程</span>&nbsp;对象。它可能包含&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#await" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">await</span></code></a>&nbsp;表达式以及&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/compound_stmts.html#async-with" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">async</span>&nbsp;<span class="pre" style="hyphens: none;">with</span></code></a>和&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/compound_stmts.html#async-for" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">async</span>&nbsp;<span class="pre" style="hyphens: none;">for</span></code></a>&nbsp;语句。详情可参见&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#coroutine-objects" style="color: rgb(99, 99, 187); text-decoration-line: none;">协程对象</a>&nbsp;一节。</p></dd><dt>异步生成器函数</dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p class="first" id="index-39" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;">使用&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/compound_stmts.html#async-def" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">async</span>&nbsp;<span class="pre" style="hyphens: none;">def</span></code></a>&nbsp;来定义并包含&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/simple_stmts.html#yield" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">yield</span></code></a>&nbsp;语句的函数或方法就被称为&nbsp;<em class="dfn">异步生成器函数</em>。这样的函数在被调用时会返回一个异步迭代器对象，该对象可在&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/compound_stmts.html#async-for" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">async</span>&nbsp;<span class="pre" style="hyphens: none;">for</span></code></a>&nbsp;语句中用来执行函数体。</p><p class="last" style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">调用异步迭代器的&nbsp;<code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">aiterator.__anext__()</span></code>&nbsp;方法将会返回一个&nbsp;<span class="xref std std-term">可等待对象</span>，此对象会在被等待时执行直到使用&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/simple_stmts.html#yield" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">yield</span></code></a>&nbsp;表达式输出一个值。当函数执行时到空的&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/simple_stmts.html#return" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">return</span></code></a>&nbsp;语句或是最后一条语句时，将会引发&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#StopAsyncIteration" title="StopAsyncIteration" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">StopAsyncIteration</span></code></a>&nbsp;异常，异步迭代器也会到达要输出的值集合的末尾。</p></dd><dt>内置函数</dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p class="first last" id="index-40" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;">内置函数对象是对于 C 函数的外部封装。内置函数的例子包括&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#len" title="len" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">len()</span></code></a>&nbsp;和&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/math.html#math.sin" title="math.sin" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">math.sin()</span></code></a>&nbsp;(<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/math.html#module-math" title="math: Mathematical functions (sin() etc.)." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">math</span></code></a>&nbsp;是一个标准内置模块)。内置函数参数的数量和类型由 C 函数决定。特殊的只读属性:&nbsp;<code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__doc__</span></code>&nbsp;是函数的文档字符串，如果没有则为&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code>;&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/stdtypes.html#definition.__name__" title="definition.__name__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__name__</span></code></a>&nbsp;是函数的名称;&nbsp;<code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__self__</span></code>&nbsp;设定为&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code>&nbsp;(参见下一条目);&nbsp;<code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__module__</span></code>&nbsp;是函数所属模块的名称，如果没有则为&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code>。</p></dd><dt>内置方法</dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p class="first last" id="index-41" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;">此类型实际上是内置函数的另一种形式，只不过还包含了一个传入 C 函数的对象作为隐式的额外参数。内置方法的一个例子是&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">alist.append()</span></code>，其中&nbsp;<em>alist</em>&nbsp;为一个列表对象。在此示例中，特殊的只读属性&nbsp;<code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__self__</span></code>&nbsp;会被设为&nbsp;<em>alist</em>&nbsp;所标记的对象。</p></dd><dt>类</dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;">类是可调用的。此种对象通常是作为“工厂”来创建自身的实例，类也可以有重载&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__new__" title="object.__new__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__new__()</span></code></a>&nbsp;的变体类型。调用的参数会传给&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__new__" title="object.__new__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__new__()</span></code></a>，而且通常也会传给&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__init__" title="object.__init__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__init__()</span></code></a>&nbsp;来初始化新的实例。</dd><dt>类实例</dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;">任意类的实例通过在所属类中定义&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__call__" title="object.__call__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__call__()</span></code></a>&nbsp;方法即能成为可调用的对象。</dd></dl></dd><dt>模块</dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p class="first" id="index-42" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;">模块是 Python 代码的基本组织单位，模块是由&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/import.html#importsystem" style="color: rgb(99, 99, 187); text-decoration-line: none;">导入系统</a>&nbsp;通过使用用&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/simple_stmts.html#import" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">import</span></code></a>&nbsp;语句 (参见&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/simple_stmts.html#import" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">import</span></code></a>) 或调用&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/importlib.html#importlib.import_module" title="importlib.import_module" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">importlib.import_module()</span></code></a>&nbsp;以及内置的&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#__import__" title="__import__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__import__()</span></code></a>&nbsp;等函数来创建的。每个模块对象都有一个独立的命名空间，它是通过一个字典对象实现的 (就是由在模块中定义的函数的&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__globals__</span></code>&nbsp;属性所引用的字典)。属性引用会被转化为在此字典中查找，例如&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">m.x</span></code>&nbsp;等同于&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">m.__dict__["x"]</span></code>。一个模块对象不包含用来初始化该模块的代码对象 (因为这种对象在初始化完成后就不再需要)。</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">属性赋值会更新模块的命名空间字典，例如&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">m.x</span>&nbsp;<span class="pre" style="hyphens: none;">=</span>&nbsp;<span class="pre" style="hyphens: none;">1</span></code>&nbsp;等同于&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">m.__dict__["x"]</span><span class="pre" style="hyphens: none;">=</span>&nbsp;<span class="pre" style="hyphens: none;">1</span></code>。</p><p id="index-43" style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">预定义的 (可写) 属性:&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/import.html#__name__" title="__name__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__name__</span></code></a>&nbsp;为模块的名称;&nbsp;<code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__doc__</span></code>&nbsp;为模块的文档字符串，如果没有则为&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code>;&nbsp;<code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__annotations__</span></code>&nbsp;(可选) 为一个包含&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/glossary.html#term-variable-annotation" style="color: rgb(99, 99, 187); text-decoration-line: none;">变量标注</a>&nbsp;的字典，它是在模块体执行时获取的;&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/import.html#__file__" title="__file__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__file__</span></code></a>&nbsp;是模块对应的被加载文件的路径名，如果它是加载自一个文件的话。某些类型的模块可能没有&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/import.html#__file__" title="__file__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__file__</span></code></a>&nbsp;属性，例如 C 模块是静态链接到解释器内部的; 对于从一个共享库动态加载的扩展模块来说该属性为该共享库文件的路径名。</p><p id="index-44" style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">特殊的只读属性:&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/stdtypes.html#object.__dict__" title="object.__dict__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__dict__</span></code></a>&nbsp;为以字典对象表示的模块命名空间。</p><div class="impl-detail last compound" style="border-radius: 3px;"><p style="margin: 0px; hyphens: auto; line-height: 22.4px;"><strong>CPython implementation detail:</strong>&nbsp;由于 CPython 清理模块字典的设定，当模块离开作用域时模块字典将会被清理，即使该字典还有活动的引用。想避免此问题，可复制该字典或保持模块状态以直接使用其字典。</p></div></dd><dt>自定义类</dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p class="first" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;">自定义类这种类型一般通过类定义来创建 (参见&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/compound_stmts.html#class" style="color: rgb(99, 99, 187); text-decoration-line: none;">Class definitions</a>&nbsp;一节)。每个类都有通过一个字典对象实现的独立命名空间。类属性引用会被转化为在此字典中查找，例如&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">C.x</span></code>&nbsp;会被转化为&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">C.__dict__["x"]</span></code>&nbsp;(不过也存在一些钩子对象以允许其他定位属性的方式)。当未在其中发现某个属性名称时，会继续在基类中查找。这种基类查找使用 C3 方法解析顺序，即使存在 ‘钻石形’ 继承结构即有多条继承路径连到一个共同祖先也能保持正确的行为。有关 Python 使用的 C3 MRO 的详情可查看配合 2.3 版发布的文档&nbsp;<a class="reference external" href="https://www.python.org/download/releases/2.3/mro/" style="color: rgb(99, 99, 187); text-decoration-line: none;">https://www.python.org/download/releases/2.3/mro/</a>.</p><p id="index-45" style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">当一个类属性引用 (假设类名为&nbsp;<code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">C</span></code>) 会产生一个类方法对象时，它将转化为一个&nbsp;<code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__self__</span></code>&nbsp;属性为&nbsp;<code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">C</span></code>&nbsp;的实例方法对象。当其会产生一个静态方法对象时，它将转化为该静态方法对象所封装的对象。从类的&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/stdtypes.html#object.__dict__" title="object.__dict__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__dict__</span></code></a>&nbsp;所包含内容以外获取属性的其他方式请参看&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#descriptors" style="color: rgb(99, 99, 187); text-decoration-line: none;">实现描述器</a>&nbsp;一节。</p><p id="index-46" style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">类属性赋值会更新类的字典，但不会更新基类的字典。</p><p id="index-47" style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">类对象可被调用 (见上文) 以产生一个类实例 (见下文)。</p><p class="last" id="index-48" style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">特殊属性:&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/stdtypes.html#definition.__name__" title="definition.__name__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__name__</span></code></a>&nbsp;为类的名称;&nbsp;<code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__module__</span></code>&nbsp;为类所在模块的名称;&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/stdtypes.html#object.__dict__" title="object.__dict__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__dict__</span></code></a>&nbsp;为包含类命名空间的字典;&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/stdtypes.html#class.__bases__" title="class.__bases__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__bases__</span></code></a>&nbsp;为包含基类的元组，按其在基类列表中的出现顺序排列;&nbsp;<code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__doc__</span></code>&nbsp;为类的文档字符串，如果没有则为&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code>;&nbsp;<code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__annotations__</span></code>&nbsp;(可选) 为一个包含&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/glossary.html#term-variable-annotation" style="color: rgb(99, 99, 187); text-decoration-line: none;">变量标注</a>&nbsp;的字典，它是在类体执行时获取的。</p></dd><dt>类实例</dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p class="first" id="index-49" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;">类实例可通过调用类对象来创建 (见上文)。每个类实例都有通过一个字典对象实现的独立命名空间，属性引用会首先在此字典中查找。当未在其中发现某个属性，而实例对应的类中有该属性时，会继续在类属性中查找。如果找到的类属性为一个用户定义函数对象，它会被转化为实例方法对象，其&nbsp;<code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__self__</span></code>&nbsp;属性即该实例。静态方法和类方法对象也会被转化；参见上文 “Classes” 一节。要了解其他通过类实例来获取相应类属性的方式可参见&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#descriptors" style="color: rgb(99, 99, 187); text-decoration-line: none;">实现描述器</a>&nbsp;一节，这样得到的属性可能与实际存放于类的&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/stdtypes.html#object.__dict__" title="object.__dict__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__dict__</span></code></a>&nbsp;中的对象不同。如果未找到类属性，而对象对应的类具有&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__getattr__" title="object.__getattr__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__getattr__()</span></code></a>&nbsp;方法，则会调用该方法来满足查找要求。</p><p id="index-50" style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">属性赋值和删除会更新实例的字典，但不会更新对应类的字典。如果类具有&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__setattr__" title="object.__setattr__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__setattr__()</span></code></a>&nbsp;或&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__delattr__" title="object.__delattr__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__delattr__()</span></code></a>&nbsp;方法，则将调用方法而不再直接更新实例的字典。</p><p id="index-51" style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">如果类实例具有某些特殊名称的方法，就可以伪装为数字、序列或映射。参见&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#specialnames" style="color: rgb(99, 99, 187); text-decoration-line: none;">特殊方法名称</a>&nbsp;一节。</p><p class="last" id="index-52" style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">特殊属性:&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/stdtypes.html#object.__dict__" title="object.__dict__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__dict__</span></code></a>&nbsp;为属性字典;&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/stdtypes.html#instance.__class__" title="instance.__class__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__class__</span></code></a>&nbsp;为实例对应的类。</p></dd><dt>I/O 对象 (或称文件对象)</dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p class="first" id="index-53" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;"><a class="reference internal" href="https://docs.python.org/zh-cn/3/glossary.html#term-file-object" style="color: rgb(99, 99, 187); text-decoration-line: none;">file object</a>&nbsp;表示一个打开的文件。有多种快捷方式可用来创建文件对象:&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#open" title="open" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">open()</span></code></a>内置函数，以及&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/os.html#os.popen" title="os.popen" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">os.popen()</span></code></a>,&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/os.html#os.fdopen" title="os.fdopen" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">os.fdopen()</span></code></a>&nbsp;和 socket 对象的&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/socket.html#socket.socket.makefile" title="socket.socket.makefile" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">makefile()</span></code></a>方法 (还可能使用某些扩展模块所提供的其他函数或方法)。</p><p class="last" style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">sys.stdin</span></code>,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">sys.stdout</span></code>&nbsp;和&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">sys.stderr</span></code>&nbsp;会初始化为对应于解释器标准输入、输出和错误流的文件对象；它们都会以文本模式打开，因此都遵循&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/io.html#io.TextIOBase" title="io.TextIOBase" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">io.TextIOBase</span></code></a>&nbsp;抽象类所定义的接口。</p></dd><dt>内部类型</dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p class="first" id="index-54" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;">某些由解释器内部使用的类型也被暴露给用户。它们的定义可能随未来解释器版本的更新而变化，为内容完整起见在此处一并介绍。</p><dl class="docutils" id="index-55" style="margin-bottom: 15px;"><dt>代码对象</dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p class="first" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;">代码对象表示&nbsp;<em>编译为字节的</em>&nbsp;可执行 Python 代码，或称&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/glossary.html#term-bytecode" style="color: rgb(99, 99, 187); text-decoration-line: none;">bytecode</a>。代码对象和函数对象的区别在于函数对象包含对函数全局对象 (函数所属的模块) 的显式引用，而代码对象不包含上下文；而且默认参数值会存放于函数对象而不是代码对象内 (因为它们表示在运行时算出的值)。与函数对象不同，代码对象不可变，也不包含对可变对象的引用 (不论是直接还是间接)。</p><p id="index-56" style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">特殊的只读属性:&nbsp;<code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">co_name</span></code>&nbsp;为函数名称;&nbsp;<code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">co_argcount</span></code>&nbsp;为位置参数的数量 (包括有默认值的参数);&nbsp;<code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">co_nlocals</span></code>&nbsp;为函数使用的本地变量数量 (包括参数);&nbsp;<code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">co_varnames</span></code>&nbsp;为一个包含本地变量名称的元组 (以参数名打头);&nbsp;<code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">co_cellvars</span></code>&nbsp;为一个包含被嵌套函数所引用的本地变量名称的元组;&nbsp;<code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">co_freevars</span></code>&nbsp;为一个包含自由变量的元组;&nbsp;<code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">co_code</span></code>&nbsp;为一个表示字节码指令序列的字符串;&nbsp;<code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">co_consts</span></code>&nbsp;为一个包含字节码所使用的字面值的元组;&nbsp;<code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">co_names</span></code>&nbsp;为一个包含字节码所使用的名称的元组;&nbsp;<code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">co_filename</span></code>&nbsp;为被编译代码所在的文件名;&nbsp;<code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">co_firstlineno</span></code>&nbsp;为函数首行的行号;&nbsp;<code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">co_lnotab</span></code>&nbsp;为一个以编码表示的从字节码偏移量到行号的映射的字符串 (详情参见解释器的源码);&nbsp;<code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">co_stacksize</span></code>&nbsp;为要求的栈大小 (包括本地变量);&nbsp;<code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">co_flags</span></code>&nbsp;为一个以编码表示的多个解释器所用标志的整型数。</p><p id="index-57" style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">以下是可用于&nbsp;<code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">co_flags</span></code>&nbsp;的标志位定义: 如果函数使用&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">*arguments</span></code>&nbsp;语法来接受任意数量的位置参数则设置&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">0x04</span></code>&nbsp;位; 如果函数使用&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">**keywords</span></code>&nbsp;语法来接受任意数量的关键字参数则设置&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">0x08``位;</span>&nbsp;<span class="pre" style="hyphens: none;">如果函数是一个生成器则设置</span>&nbsp;<span class="pre" style="hyphens: none;">``0x20</span></code>&nbsp;位。</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">未来特性声明 (<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">from</span>&nbsp;<span class="pre" style="hyphens: none;">__future__</span>&nbsp;<span class="pre" style="hyphens: none;">import</span>&nbsp;<span class="pre" style="hyphens: none;">division</span></code>) 也使用&nbsp;<code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">co_flags</span></code>中的标志位来指明代码对象的编译是否启用特定的特性: 如果函数编译时启用未来除法特性则设置&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">0x2000</span></code>&nbsp;位; 在更早的 Python 版本中则使用&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">0x10</span></code>&nbsp;和&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">0x1000</span></code>&nbsp;位。</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">co_flags</span></code>&nbsp;中的其他位被保留为内部使用。</p><p class="last" id="index-58" style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">如果代码对象表示一个函数，<code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">co_consts</span></code>&nbsp;中的第一项将是函数的文档字符串，如果未定义则为&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code>。</p></dd></dl><dl class="docutils" id="frame-objects" style="margin-bottom: 15px;"><dt>帧对象</dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p class="first" id="index-59" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;">帧对象表示执行帧。它们可能出现在回溯对象中 (见下文)，还会被传递给注册跟踪函数。</p><p id="index-60" style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">特殊的只读属性:&nbsp;<code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">f_back</span></code>&nbsp;为前一堆栈帧 (指向调用者)，如是最底层堆栈帧则为&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code>;&nbsp;<code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">f_code</span></code>&nbsp;为此帧中所执行的代码对象;&nbsp;<code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">f_locals</span></code>&nbsp;为用于查找本地变量的字典;&nbsp;<code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">f_globals</span></code>&nbsp;则用于查找全局变量;&nbsp;<code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">f_builtins</span></code>&nbsp;用于查找内置 (固有) 名称;&nbsp;<code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">f_lasti</span></code>&nbsp;给出精确指令 (这是代码对象的字节码字符串的一个索引)。</p><p id="index-61" style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">特殊的可写属性:&nbsp;<code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">f_trace</span></code>，如果不为&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code>，则是在代码执行期间调用各类事件的函数 (由调试器使用)。通常每个新源码行会触发一个事件 - 这可以通过将&nbsp;<code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">f_trace_lines</span></code>&nbsp;设为&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/constants.html#False" title="False" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">False</span></code></a>&nbsp;来禁用。</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">具体的实现&nbsp;<em>可能</em>&nbsp;会通过将&nbsp;<code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">f_trace_opcodes</span></code>&nbsp;设为&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/constants.html#True" title="True" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">True</span></code></a>&nbsp;来允许按操作码请求事件。请注意如果跟踪函数引发的异常逃逸到被跟踪的函数中，这可能会导致未定义的解释器行为。</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">f_lineno</span></code>&nbsp;为帧的当前行号 — 在这里写入从一个跟踪函数内部跳转的指定行 (仅用于最底层的帧)。调试器可以通过写入 f_lineno 实现一个 Jump 命令 (即设置下一语句)。</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">帧对象支持一个方法:</p><dl class="last method" style="margin-bottom: 15px;"><dt id="frame.clear"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">frame.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">clear</code><span class="sig-paren" style="font-size: larger;">(</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#frame.clear" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">此方法清除该帧持有的全部对本地变量的引用。而且如果该帧属于一个生成器，生成器会被完成。这有助于打破包含帧对象的循环引用 (例如当捕获一个异常并保存其回溯在之后使用)。</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">如果该帧当前正在执行则会引发&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#RuntimeError" title="RuntimeError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">RuntimeError</span></code></a>。</p><div class="versionadded"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">3.4 新版功能.</span></p></div></dd></dl></dd></dl><dl class="last docutils" id="traceback-objects" style="margin-bottom: 15px;"><dt>回溯对象</dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p class="first" id="index-62" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;">回溯对象表示一个异常的栈跟踪记录。当异常发生时会隐式地创建一个回溯对象，也可能通过调用&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/types.html#types.TracebackType" title="types.TracebackType" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">types.TracebackType</span></code></a>&nbsp;显式地创建。</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">对于隐式地创建的回溯对象，当查找异常句柄使得执行栈展开时，会在每个展开层级的当前回溯之前插入一个回溯对象。当进入一个异常句柄时，栈跟踪将对程序启用。(参见&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/compound_stmts.html#try" style="color: rgb(99, 99, 187); text-decoration-line: none;">The try statement</a>&nbsp;一节。) 它可作为&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">sys.exc_info()</span></code>所返回的元组的第三项，以及所捕获异常的&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__traceback__</span></code>&nbsp;属性被获取。</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">当程序不包含可用的句柄时，栈跟踪会 (以良好的格式) 写入标准错误流；如果解释器处于交互模式，它也可作为&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">sys.last_traceback</span></code>&nbsp;对用户启用。</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">对于显式创建的回溯对象，则由回溯对象的创建者来决定应该如何链接&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">tb_next</span></code>&nbsp;属性来构成完整的栈跟踪。</p><p id="index-63" style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">特殊的只读属性:&nbsp;<code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">tb_frame</span></code>&nbsp;指向当前层级的执行帧;&nbsp;<code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">tb_lineno</span></code>&nbsp;给出发生异常所在的行号;&nbsp;<code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">tb_lasti</span></code>&nbsp;标示具体指令。如果异常发生于没有匹配的 except 子句或有 finally 子句的&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/compound_stmts.html#try" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">try</span></code></a>&nbsp;语句中，回溯对象中的行号和最后指令可能与相应帧对象中行号不同。</p><p id="index-64" style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">特殊的可写属性:&nbsp;<code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">tb_next</span></code>&nbsp;为栈跟踪中的下一层级 (通往发生异常的帧)，如果没有下一层级则为&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code>。</p><div class="last versionchanged"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">在 3.7 版更改:&nbsp;</span>回溯对象现在可以使用 Python 代码显式地实例化，现有实例的&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">tb_next</span></code>&nbsp;属性可以被更新。</p></div></dd><dt>切片对象</dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p class="first" id="index-65" style="hyphens: auto; line-height: 22.4px; margin-top: 0px !important;">切片对象用来表示&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__getitem__" title="object.__getitem__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__getitem__()</span></code></a>&nbsp;方法得到的切片。该对象也可使用内置的&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#slice" title="slice" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">slice()</span></code></a>&nbsp;函数来创建。</p><p id="index-66" style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">特殊的只读属性:&nbsp;<code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">start</span></code>&nbsp;为下界;&nbsp;<code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">stop</span></code>&nbsp;为上界;&nbsp;<code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">step</span></code>&nbsp;为步长值; 各值如省略则为&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code>。这些属性可具有任意类型。</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">切片对象支持一个方法:</p><dl class="last method" style="margin-bottom: 15px;"><dt id="slice.indices"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">slice.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">indices</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em>,&nbsp;<em>length</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#slice.indices" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">此方法接受一个整型参数&nbsp;<em>length</em>&nbsp;并计算在切片对象被应用到&nbsp;<em>length</em>&nbsp;指定长度的条目序列时切片的相关信息应如何描述。其返回值为三个整型数组成的元组；这些数分别为切片的&nbsp;<em>start</em>&nbsp;和&nbsp;<em>stop</em>&nbsp;索引号以及&nbsp;<em>step</em>&nbsp;步长值。索引号缺失或越界则按照正规连续切片的方式处理。</p></dd></dl></dd><dt>静态方法对象</dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;">静态方法对象提供了一种避免上文所述将函数对象转换为方法对象的方式。静态方法对象为对任意其他对象的封装，通常用来封装用户定义方法对象。当从类或类实例获取一个静态方法对象时，实际返回的对象是封装的对象，它不会被进一步转换。静态方法对象自身不是可调用的，但它们所封装的对象通常都是可调用的。静态方法对象可通过内置的&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#staticmethod" title="staticmethod" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">staticmethod()</span></code></a>&nbsp;构造器来创建。</dd><dt>类方法对象</dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; line-height: 20.8px;">类方法对象和静态方法一样是对其他对象的封装，会改变从类或类实例获取该对象的方式。类方法对象在此类获取操作中的行为已在上文 “用户定义方法” 一节中描述。类方法对象可通过内置的&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#classmethod" title="classmethod" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">classmethod()</span></code></a>&nbsp;构造器来创建。</dd></dl></dd></dl><h3 id="blogTitle32">特殊方法名称</h3><p id="index-67" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">一个类可以通过定义具有特殊名称的方法来实现由特殊语法所引发的特定操作 (例如算术运算或下标与切片)。这是 Python 实现&nbsp;<em class="dfn">操作符重载</em>&nbsp;的方式，允许每个类自行定义基于操作符的特定行为。例如，如果一个类定义了名为&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__getitem__" title="object.__getitem__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__getitem__()</span></code></a>&nbsp;的方法，并且&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">x</span></code>&nbsp;为该类的一个实例，则&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">x[i]</span></code>&nbsp;基本就等同于&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">type(x).__getitem__(x,</span>&nbsp;<span class="pre" style="hyphens: none;">i)</span></code>。除非有说明例外情况，在没有定义适当方法的情况下尝试执行一种操作将引发一个异常 (通常为&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#AttributeError" title="AttributeError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">AttributeError</span></code></a>&nbsp;或&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#TypeError" title="TypeError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">TypeError</span></code></a>)。</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">将一个特殊方法设为&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code>&nbsp;表示对应的操作不可用。例如，如果一个类将&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__iter__" title="object.__iter__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__iter__()</span></code></a>&nbsp;设为&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code>，则该类就是不可迭代的，因此对其实例调用&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#iter" title="iter" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">iter()</span></code></a>&nbsp;将引发一个&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#TypeError" title="TypeError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">TypeError</span></code></a>&nbsp;(而不会回退至&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__getitem__" title="object.__getitem__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__getitem__()</span></code></a>).&nbsp;<a class="footnote-reference" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#id9" id="id2" style="color: rgb(99, 99, 187); text-decoration-line: none;">[2]</a></p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">在实现模拟任何内置类型的类时，很重要的一点是模拟的实现程度对于被模拟对象来说应当是有意义的。例如，提取单个元素的操作对于某些序列来说是适宜的，但提取切片可能就没有意义。(这种情况的一个实例是 W3C 的文档对象模型中的&nbsp;<code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">NodeList</span></code>接口。)</p><h4 id="blogTitle33">基本定制</h4><dl class="method" style="margin-bottom: 15px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><dt id="object.__new__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__new__</code><span class="sig-paren" style="font-size: larger;">(</span><em>cls</em><span class="optional" style="font-size: 1.3em;">[</span>,&nbsp;<em>...</em><span class="optional" style="font-size: 1.3em;">]</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__new__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: visible; font-size: 0.8em; padding: 0px 4px;">¶</a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p id="index-68" style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">调用以创建一个&nbsp;<em>cls</em>&nbsp;类的新实例。<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__new__" title="object.__new__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__new__()</span></code></a>&nbsp;是一个静态方法 (因为是特例所以你不需要显式地声明)，它会将所请求实例所属的类作为第一个参数。其余的参数会被传递给对象构造器表达式 (对类的调用)。<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__new__" title="object.__new__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__new__()</span></code></a>&nbsp;的返回值应为新对象实例 (通常是&nbsp;<em>cls</em>&nbsp;的实例)。</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">典型的实现会附带适宜的参数使用&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">super().__new__(cls[,</span>&nbsp;<span class="pre" style="hyphens: none;">...])</span></code>，通过超类的&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__new__" title="object.__new__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__new__()</span></code></a>&nbsp;方法来创建一个类的新实例，然后根据需要修改新创建的实例再将其返回。</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">如果&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__new__" title="object.__new__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__new__()</span></code></a>&nbsp;返回一个&nbsp;<em>cls</em>&nbsp;的实例，则新实例的&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__init__" title="object.__init__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__init__()</span></code></a>&nbsp;方法会在之后被执行，例如&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__init__(self[,</span>&nbsp;<span class="pre" style="hyphens: none;">...])</span></code>，其中&nbsp;<em>self</em>&nbsp;为新实例，其余的参数与被传递给&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__new__" title="object.__new__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__new__()</span></code></a>&nbsp;的相同。</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">如果&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__new__" title="object.__new__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__new__()</span></code></a>&nbsp;未返回一个&nbsp;<em>cls</em>&nbsp;的实例，则新实例的&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__init__" title="object.__init__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__init__()</span></code></a>&nbsp;方法就不会被执行。</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__new__" title="object.__new__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__new__()</span></code></a>&nbsp;的目的主要是允许不可变类型的子类 (例如 int, str 或 tuple) 定制实例创建过程。它也常会在自定义元类中被重载以便定制类创建过程。</p></dd></dl><dl class="method" style="margin-bottom: 15px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><dt id="object.__init__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__init__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em><span class="optional" style="font-size: 1.3em;">[</span>,&nbsp;<em>...</em><span class="optional" style="font-size: 1.3em;">]</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__init__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p id="index-69" style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">在实例 (通过&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__new__" title="object.__new__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__new__()</span></code></a>) 被创建之后，返回调用者之前调用。其参数与传递给类构造器表达式的参数相同。一个基类如果有&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__init__" title="object.__init__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__init__()</span></code></a>&nbsp;方法，则其所派生的类如果也有&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__init__" title="object.__init__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__init__()</span></code></a>&nbsp;方法，就必须显式地调用它以确保实例基类部分的正确初始化；例如:&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">super().__init__([args...])</span></code>.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">因为对象是由&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__new__" title="object.__new__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__new__()</span></code></a>&nbsp;和&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__init__" title="object.__init__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__init__()</span></code></a>&nbsp;协作构造完成的 (由&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__new__" title="object.__new__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__new__()</span></code></a>&nbsp;创建，并由&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__init__" title="object.__init__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__init__()</span></code></a>&nbsp;定制)，所以&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__init__" title="object.__init__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__init__()</span></code></a>&nbsp;返回的值只能是&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code>，否则会在运行时引发&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#TypeError" title="TypeError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">TypeError</span></code></a>。</p></dd></dl><dl class="method" style="margin-bottom: 15px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><dt id="object.__del__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__del__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__del__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p id="index-70" style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">在实例将被销毁时调用。这还会调用终结器或析构器 (不适当)。如果一个基类具有&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__del__" title="object.__del__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__del__()</span></code></a>&nbsp;方法，则其所派生的类如果也有&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__del__" title="object.__del__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__del__()</span></code></a>&nbsp;方法，就必须显式地调用它以确保实例基类部分的正确清除。</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__del__" title="object.__del__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__del__()</span></code></a>&nbsp;方法可以 (但不推荐!) 通过创建一个该实例的新引用来推迟其销毁。这被称为对象&nbsp;<em>重生</em>。<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__del__" title="object.__del__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__del__()</span></code></a>&nbsp;是否会在重生的对象将被销毁时再次被调用是由具体实现决定的 ；当前的&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/glossary.html#term-cpython" style="color: rgb(99, 99, 187); text-decoration-line: none;">CPython</a>&nbsp;实现只会调用一次。</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">当解释器退出时不会确保为仍然存在的对象调用&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__del__" title="object.__del__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__del__()</span></code></a>&nbsp;方法。</p><div class="admonition note" style="margin-top: 10px; margin-bottom: 10px; padding: 7px; background-color: rgb(238, 238, 238); border: 1px solid rgb(204, 204, 204); border-radius: 3px;"><p class="first admonition-title" style="margin: 0px 10px 5px 0px; font-weight: bold; display: inline; hyphens: auto; line-height: 22.4px;">注解</p>&nbsp;<p class="last" style="margin-top: 0px; hyphens: auto; line-height: 22.4px; margin-bottom: 5px; display: inline;"><code class="docutils literal notranslate" style="background: rgb(214, 214, 214); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">del</span>&nbsp;<span class="pre" style="hyphens: none;">x</span></code>&nbsp;并不直接调用&nbsp;<code class="docutils literal notranslate" style="background: rgb(214, 214, 214); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">x.__del__()</span></code>&nbsp;— 前者会将&nbsp;<code class="docutils literal notranslate" style="background: rgb(214, 214, 214); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">x</span></code>&nbsp;的引用计数减一，而后者仅会在&nbsp;<code class="docutils literal notranslate" style="background: rgb(214, 214, 214); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">x</span></code>&nbsp;的引用计数变为零时被调用。</p></div><div class="impl-detail compound" style="border-radius: 3px;"><p class="compound-first" style="margin: 0px; hyphens: auto; line-height: 22.4px;"><strong>CPython implementation detail:</strong>&nbsp;It is possible for a reference cycle to prevent the reference count of an object from going to zero. In this case, the cycle will be later detected and deleted by the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/glossary.html#term-garbage-collection" style="color: rgb(99, 99, 187); text-decoration-line: none;">cyclic garbage collector</a>. A common cause of reference cycles is when an exception has been caught in a local variable. The frame’s locals then reference the exception, which references its own traceback, which references the locals of all frames caught in the traceback.</p><div class="compound-last admonition seealso" style="margin-top: 10px; margin-bottom: 10px; padding: 7px; background-color: rgb(255, 255, 204); border: 1px solid rgb(221, 221, 102); border-radius: 3px;"><p class="first admonition-title" style="margin: 0px 10px 5px 0px; font-weight: bold; display: inline; hyphens: auto; line-height: 22.4px;">参见</p>&nbsp;<p class="last" style="margin-top: 0px; hyphens: auto; line-height: 22.4px; margin-bottom: 5px; display: inline;"><a class="reference internal" href="https://docs.python.org/zh-cn/3/library/gc.html#module-gc" title="gc: Interface to the cycle-detecting garbage collector." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">gc</span></code></a>&nbsp;模块的文档。</p></div></div><div class="admonition warning" style="margin-top: 10px; margin-bottom: 10px; padding: 7px; background-color: rgb(255, 228, 228); border: 1px solid rgb(255, 102, 102); border-radius: 3px;"><p class="first admonition-title" style="margin: 0px 10px 5px 0px; font-weight: bold; display: inline; hyphens: auto; line-height: 22.4px;">警告</p>&nbsp;<p style="margin-top: 0px; hyphens: auto; line-height: 22.4px; margin-bottom: 5px; display: inline;">由于调用&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__del__" title="object.__del__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background: rgb(239, 194, 194); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__del__()</span></code></a>&nbsp;方法时周边状况已不确定，在其执行期间发生的异常将被忽略，改为打印一个警告到&nbsp;<code class="docutils literal notranslate" style="background: rgb(239, 194, 194); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">sys.stderr</span></code>。特别地：</p><ul class="last simple" style="margin-bottom: 5px;"><li style="hyphens: auto; text-align: justify; line-height: 20.8px;"><a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__del__" title="object.__del__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background: rgb(239, 194, 194); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__del__()</span></code></a>&nbsp;可在任意代码被执行时启用，包括来自任意线程的代码。如果&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__del__" title="object.__del__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background: rgb(239, 194, 194); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__del__()</span></code></a>&nbsp;需要接受锁或启用其他阻塞资源，可能会发生死锁，例如该资源已被为执行&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__del__" title="object.__del__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background: rgb(239, 194, 194); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__del__()</span></code></a>&nbsp;而中断的代码所获取。</li><li style="hyphens: auto; text-align: justify; line-height: 20.8px;"><a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__del__" title="object.__del__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background: rgb(239, 194, 194); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__del__()</span></code></a>&nbsp;可以在解释器关闭阶段被执行。因此，它需要访问的全局变量（包含其他模块）可能已被删除或设为&nbsp;<code class="docutils literal notranslate" style="background: rgb(239, 194, 194); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code>。Python 会保证先删除模块中名称以单个下划线打头的全局变量再删除其他全局变量；如果已不存在其他对此类全局变量的引用，这有助于确保导入的模块在&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__del__" title="object.__del__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background: rgb(239, 194, 194); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__del__()</span></code></a>&nbsp;方法被调用时仍然可用。</li></ul></div><span class="target" id="index-71"></span></dd></dl><dl class="method" style="margin-bottom: 15px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><dt id="object.__repr__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__repr__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__repr__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">由&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#repr" title="repr" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">repr()</span></code></a>&nbsp;内置函数调用以输出一个对象的“官方”字符串表示。如果可能，这应类似一个有效的 Python 表达式，能被用来重建具有相同取值的对象（只要有适当的环境）。如果这不可能，则应返回形式如&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">&lt;...some</span>&nbsp;<span class="pre" style="hyphens: none;">useful</span><span class="pre" style="hyphens: none;">description...&gt;</span></code>&nbsp;的字符串。返回值必须是一个字符串对象。如果一个类定义了&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__repr__" title="object.__repr__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__repr__()</span></code></a>&nbsp;但未定义&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__str__" title="object.__str__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__str__()</span></code></a>，则在需要该类的实例的“非正式”字符串表示时也会使用&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__repr__" title="object.__repr__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__repr__()</span></code></a>。</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">此方法通常被用于调试，因此确保其表示的内容包含丰富信息且无歧义是很重要的。</p><span class="target" id="index-72"></span></dd></dl><dl class="method" style="margin-bottom: 15px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><dt id="object.__str__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__str__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__str__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">通过&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/stdtypes.html#str" title="str" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">str(object)</span></code></a>&nbsp;以及内置函数&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#format" title="format" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">format()</span></code></a>&nbsp;和&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#print" title="print" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">print()</span></code></a>&nbsp;调用以生成一个对象的“非正式”或格式良好的字符串表示。返回值必须为一个&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/stdtypes.html#textseq" style="color: rgb(99, 99, 187); text-decoration-line: none;">字符串</a>&nbsp;对象。</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">此方法与&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__repr__" title="object.__repr__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">object.__repr__()</span></code></a>&nbsp;的不同点在于&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__str__" title="object.__str__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__str__()</span></code></a>&nbsp;并不预期返回一个有效的 Python 表达式：可以使用更方便或更准确的描述信息。</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">内置类型&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#object" title="object" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">object</span></code></a>&nbsp;所定义的默认实现会调用&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__repr__" title="object.__repr__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">object.__repr__()</span></code></a>。</p></dd></dl><dl class="method" style="margin-bottom: 15px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><dt id="object.__bytes__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__bytes__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__bytes__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p id="index-73" style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">通过&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#func-bytes" style="color: rgb(99, 99, 187); text-decoration-line: none;">bytes</a>&nbsp;调用以生成一个对象的字节串表示。这应该返回一个&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/stdtypes.html#bytes" title="bytes" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">bytes</span></code></a>&nbsp;对象。</p><span class="target" id="index-74"></span></dd></dl><dl class="method" style="margin-bottom: 15px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><dt id="object.__format__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__format__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em>,&nbsp;<em>format_spec</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__format__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">通过&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#format" title="format" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">format()</span></code></a>&nbsp;内置函数、扩展、<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/lexical_analysis.html#f-strings" style="color: rgb(99, 99, 187); text-decoration-line: none;">格式化字符串字面值</a>&nbsp;的求值以及&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/stdtypes.html#str.format" title="str.format" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">str.format()</span></code></a>&nbsp;方法调用以生成一个对象的“格式化”字符串表示。<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">format_spec</span></code>参数为包含所需格式选项描述的字符串。<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">format_spec</span></code>&nbsp;参数的解读是由实现&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__format__" title="object.__format__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__format__()</span></code></a>&nbsp;的类型决定的，不过大多数类或是将格式化委托给某个内置类型，或是使用相似的格式化语法。</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">请参看&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/string.html#formatspec" style="color: rgb(99, 99, 187); text-decoration-line: none;">Format Specification Mini-Language</a>&nbsp;了解标准格式化语法的描述。</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">返回值必须为一个字符串对象。</p><div class="versionchanged"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">在 3.4 版更改:&nbsp;</span><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">object</span></code>&nbsp;本身的 __format__ 方法如果被传入任何非空字符，将会引发一个&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#TypeError" title="TypeError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">TypeError</span></code></a>。</p></div><div class="versionchanged"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">在 3.7 版更改:&nbsp;</span><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">object.__format__(x,</span>&nbsp;<span class="pre" style="hyphens: none;">'')</span></code>&nbsp;现在等同于&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">str(x)</span></code>&nbsp;而不再是&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">format(str(self),</span>&nbsp;<span class="pre" style="hyphens: none;">'')</span></code>。</p></div></dd></dl><dl class="method" style="margin-bottom: 15px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><dt id="object.__lt__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__lt__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em>,&nbsp;<em>other</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__lt__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dt id="object.__le__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__le__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em>,&nbsp;<em>other</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__le__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dt id="object.__eq__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__eq__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em>,&nbsp;<em>other</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__eq__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dt id="object.__ne__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__ne__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em>,&nbsp;<em>other</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__ne__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dt id="object.__gt__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__gt__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em>,&nbsp;<em>other</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__gt__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dt id="object.__ge__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__ge__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em>,&nbsp;<em>other</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__ge__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p id="index-75" style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">以上这些被称为“富比较”方法。运算符号与方法名称的对应关系如下：<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">x&lt;y</span></code>&nbsp;调用&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">x.__lt__(y)</span></code>、<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">x&lt;=y</span></code>&nbsp;调用&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">x.__le__(y)</span></code>、<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">x==y</span></code>&nbsp;调用&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">x.__eq__(y)</span></code>、<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">x!=y</span></code>调用&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">x.__ne__(y)</span></code>、<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">x&gt;y</span></code>&nbsp;调用&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">x.__gt__(y)</span></code>、<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">x&gt;=y</span></code>&nbsp;调用&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">x.__ge__(y)</span></code>。</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">如果指定的参数对没有相应的实现，富比较方法可能会返回单例对象&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">NotImplemented</span></code>。按照惯例，成功的比较会返回&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">False</span></code>&nbsp;或&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">True</span></code>。不过实际上这些方法可以返回任意值，因此如果比较运算符是要用于布尔值判断（例如作为&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">if</span></code>&nbsp;语句的条件），Python 会对返回值调用&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#bool" title="bool" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">bool()</span></code></a>&nbsp;以确定结果为真还是假。</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">在默认情况下&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__ne__" title="object.__ne__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__ne__()</span></code></a>&nbsp;会委托给&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__eq__" title="object.__eq__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__eq__()</span></code></a>&nbsp;并将结果取反，除非结果为&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">NotImplemented</span></code>。比较运算符之间没有其他隐含关系，例如&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">(x&lt;y</span>&nbsp;<span class="pre" style="hyphens: none;">or</span>&nbsp;<span class="pre" style="hyphens: none;">x==y)</span></code>为真并不意味着&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">x&lt;=y</span></code>。要根据单根运算自动生成排序操作，请参看&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functools.html#functools.total_ordering" title="functools.total_ordering" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">functools.total_ordering()</span></code></a>。</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">请查看&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__hash__" title="object.__hash__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__hash__()</span></code></a>&nbsp;的相关段落，了解创建可支持自定义比较运算并可用作字典键的&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/glossary.html#term-hashable" style="color: rgb(99, 99, 187); text-decoration-line: none;">hashable</a>&nbsp;对象时要注意的一些事项。</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">这些方法并没有对调参数版本（在左边参数不支持该操作但右边参数支持时使用）；而是&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__lt__" title="object.__lt__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__lt__()</span></code></a>&nbsp;和&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__gt__" title="object.__gt__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__gt__()</span></code></a>&nbsp;互为对方的反射，&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__le__" title="object.__le__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__le__()</span></code></a>&nbsp;和&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__ge__" title="object.__ge__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__ge__()</span></code></a>&nbsp;互为对方的反射，而&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__eq__" title="object.__eq__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__eq__()</span></code></a>&nbsp;和&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__ne__" title="object.__ne__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__ne__()</span></code></a>&nbsp;则是它们自己的反射。如果两个操作数的类型不同，且右操作数类型是左操作数类型的直接或间接子类，则优先选择右操作数的反射方法，否则优先选择左操作数的方法。虚拟子类不会被考虑。</p></dd></dl><dl class="method" style="margin-bottom: 15px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><dt id="object.__hash__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__hash__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__hash__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p id="index-76" style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">通过内置函数&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#hash" title="hash" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">hash()</span></code></a>&nbsp;调用以对哈希集的成员进行操作，属于哈希集的类型包括&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/stdtypes.html#set" title="set" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">set</span></code></a>、<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/stdtypes.html#frozenset" title="frozenset" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">frozenset</span></code></a>&nbsp;以及&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/stdtypes.html#dict" title="dict" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">dict</span></code></a>。<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__hash__" title="object.__hash__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__hash__()</span></code></a>&nbsp;应该返回一个整数。对象比较结果相同所需的唯一特征属性是其具有相同的哈希值；建议的做法是把参与比较的对象全部组件的哈希值混在一起，即将它们打包为一个元组并对该元组做哈希运算。例如:</p><div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">def</span> <span class="nf" style="color: rgb(6, 40, 126);">__hash__</span><span class="p">(</span><span class="bp" style="color: rgb(0, 112, 32);">self</span><span class="p">):</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">return</span> <span class="nb" style="color: rgb(0, 112, 32);">hash</span><span class="p">((</span><span class="bp" style="color: rgb(0, 112, 32);">self</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">name</span><span class="p">,</span> <span class="bp" style="color: rgb(0, 112, 32);">self</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">nick</span><span class="p">,</span> <span class="bp" style="color: rgb(0, 112, 32);">self</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">color</span><span class="p">))</span>
</pre></div></div><div class="admonition note" style="margin-top: 10px; margin-bottom: 10px; padding: 7px; background-color: rgb(238, 238, 238); border: 1px solid rgb(204, 204, 204); border-radius: 3px;"><p class="first admonition-title" style="margin: 0px 10px 5px 0px; font-weight: bold; display: inline; hyphens: auto; line-height: 22.4px;">注解</p>&nbsp;<p class="last" style="margin-top: 0px; hyphens: auto; line-height: 22.4px; margin-bottom: 5px; display: inline;"><a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#hash" title="hash" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background: rgb(214, 214, 214); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">hash()</span></code></a>&nbsp;会从一个对象自定义的&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__hash__" title="object.__hash__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background: rgb(214, 214, 214); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__hash__()</span></code></a>&nbsp;方法返回值中截断为<code class="xref c c-type docutils literal notranslate" style="background: rgb(214, 214, 214); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Py_ssize_t</span></code>&nbsp;的大小。通常对 64 位构建为 8 字节，对 32 位构建为 4 字节。如果一个对象的&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__hash__" title="object.__hash__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background: rgb(214, 214, 214); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__hash__()</span></code></a>&nbsp;必须在不同位大小的构建上进行互操作，请确保检查全部所支持构建的宽度。做到这一点的简单方法是使用&nbsp;<code class="docutils literal notranslate" style="background: rgb(214, 214, 214); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">python</span>&nbsp;<span class="pre" style="hyphens: none;">-c</span><span class="pre" style="hyphens: none;">"import</span>&nbsp;<span class="pre" style="hyphens: none;">sys;</span>&nbsp;<span class="pre" style="hyphens: none;">print(sys.hash_info.width)"</span></code>。</p></div><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">如果一个类没有定义&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__eq__" title="object.__eq__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__eq__()</span></code></a>&nbsp;方法，那么也不应该定义&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__hash__" title="object.__hash__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__hash__()</span></code></a>&nbsp;操作；如果它定义了&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__eq__" title="object.__eq__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__eq__()</span></code></a>&nbsp;但没有定义&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__hash__" title="object.__hash__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__hash__()</span></code></a>，则其实例将不可被用作可哈希集的项。如果一个类定义了可变对象并实现了&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__eq__" title="object.__eq__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__eq__()</span></code></a>&nbsp;方法，则不应该实现&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__hash__" title="object.__hash__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__hash__()</span></code></a>，因为可哈希集的实现要求键的哈希集是不可变的（如果对象的哈希值发生改变，它将处于错误的哈希桶中）。</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">用户定义的类默认带有&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__eq__" title="object.__eq__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__eq__()</span></code></a>&nbsp;和&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__hash__" title="object.__hash__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__hash__()</span></code></a>&nbsp;方法；使用它们与任何对象（自己除外）比较必定不相等，并且&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">x.__hash__()</span></code>&nbsp;会返回一个恰当的值以确保&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">x</span>&nbsp;<span class="pre" style="hyphens: none;">==</span>&nbsp;<span class="pre" style="hyphens: none;">y</span></code>&nbsp;同时意味着&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">x</span>&nbsp;<span class="pre" style="hyphens: none;">is</span>&nbsp;<span class="pre" style="hyphens: none;">y</span></code>&nbsp;且&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">hash(x)</span>&nbsp;<span class="pre" style="hyphens: none;">==</span>&nbsp;<span class="pre" style="hyphens: none;">hash(y)</span></code>。</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">一个类如果重载了&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__eq__" title="object.__eq__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__eq__()</span></code></a>&nbsp;且没有定义&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__hash__" title="object.__hash__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__hash__()</span></code></a>&nbsp;则会将其&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__hash__" title="object.__hash__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__hash__()</span></code></a>隐式地设为&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code>。当一个类的&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__hash__" title="object.__hash__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__hash__()</span></code></a>&nbsp;方法为&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code>&nbsp;时，该类的实例将在一个程序尝试获取其哈希值时正确地引发&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#TypeError" title="TypeError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">TypeError</span></code></a>，并会在检测&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">isinstance(obj,</span>&nbsp;<span class="pre" style="hyphens: none;">collections.abc.Hashable)</span></code>&nbsp;时被正确地识别为不可哈希对象。</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">如果一个重载了&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__eq__" title="object.__eq__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__eq__()</span></code></a>&nbsp;的类需要保留来自父类的&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__hash__" title="object.__hash__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__hash__()</span></code></a>&nbsp;实现，则必须通过设置&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__hash__</span>&nbsp;<span class="pre" style="hyphens: none;">=</span>&nbsp;<span class="pre" style="hyphens: none;">&lt;ParentClass&gt;.__hash__</span></code>&nbsp;来显式地告知解释器。</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">如果一个没有重载&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__eq__" title="object.__eq__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__eq__()</span></code></a>&nbsp;的类需要去掉哈希支持，则应该在类定义中包含&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__hash__</span>&nbsp;<span class="pre" style="hyphens: none;">=</span>&nbsp;<span class="pre" style="hyphens: none;">None</span></code>。一个自定义了&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__hash__" title="object.__hash__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__hash__()</span></code></a>&nbsp;以显式地引发&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#TypeError" title="TypeError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">TypeError</span></code></a>&nbsp;的类会被&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">isinstance(obj,</span>&nbsp;<span class="pre" style="hyphens: none;">collections.abc.Hashable)</span></code>&nbsp;调用错误地识别为可哈希对象。</p><div class="admonition note" style="margin-top: 10px; margin-bottom: 10px; padding: 7px; background-color: rgb(238, 238, 238); border: 1px solid rgb(204, 204, 204); border-radius: 3px;"><p class="first admonition-title" style="margin: 0px 10px 5px 0px; font-weight: bold; display: inline; hyphens: auto; line-height: 22.4px;">注解</p>&nbsp;<p style="margin-top: 0px; hyphens: auto; line-height: 22.4px; margin-bottom: 5px; display: inline;">在默认情况下，str、bytes 和 datetime 对象的&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__hash__" title="object.__hash__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background: rgb(214, 214, 214); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__hash__()</span></code></a>&nbsp;值会使用一个不可预知的随机值“加盐”。虽然它们会在一个单独 Python 进程中保持不变，它们的哈希值在重复运行的 Python 之间是不可预测的。</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px; margin-bottom: 5px;">这种做法是为了防止以下形式的拒绝服务攻击：通过仔细选择输入来利用字典插入操作在最坏情况下的执行效率即 O(n^2) 复杂度。详情见&nbsp;<a class="reference external" href="http://www.ocert.org/advisories/ocert-2011-003.html" style="color: rgb(99, 99, 187); text-decoration-line: none;">http://www.ocert.org/advisories/ocert-2011-003.html</a></p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px; margin-bottom: 5px;">改变哈希值会影响集合的迭代次序。Python 也从不保证这个次序不会被改变（通常它在 32 位和 64 位构建上是不一致的）。</p><p class="last" style="margin-top: 0px; hyphens: auto; line-height: 22.4px; margin-bottom: 5px;">另见&nbsp;<span class="target" id="index-113"></span><a class="reference internal" href="https://docs.python.org/zh-cn/3/using/cmdline.html#envvar-PYTHONHASHSEED" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-envvar docutils literal notranslate" style="background: rgb(214, 214, 214); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">PYTHONHASHSEED</span></code></a>.</p></div><div class="versionchanged"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">在 3.3 版更改:&nbsp;</span>默认启用哈希随机化。</p></div></dd></dl><p><span class="target" id="richcmpfuncs" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"></span></p><dl class="method" style="margin-bottom: 15px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><dt id="object.__bool__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__bool__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__bool__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p id="index-78" style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">调用此方法以实现真值检测以及内置的&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">bool()</span></code>&nbsp;操作；应该返回&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">False</span></code>&nbsp;或&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">True</span></code>。如果未定义此方法，则会查找并调用&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__len__" title="object.__len__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__len__()</span></code></a>&nbsp;并在其返回非零值时视对象的逻辑值为真。如果一个类既未定义&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__len__" title="object.__len__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__len__()</span></code></a>&nbsp;也未定义&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__bool__" title="object.__bool__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__bool__()</span></code></a>&nbsp;则视其所有实例的逻辑值为真。</p></dd></dl><h4 id="blogTitle34">自定义属性访问</h4><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">可以定义下列方法来自定义对类实例属性访问（<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">x.name</span></code>&nbsp;的使用、赋值或删除）的具体含义.</p><dl class="method" style="margin-bottom: 15px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><dt id="object.__getattr__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__getattr__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em>,&nbsp;<em>name</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__getattr__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">当默认属性访问因引发&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#AttributeError" title="AttributeError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">AttributeError</span></code></a>&nbsp;而失败时被调用 (可能是调用&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__getattribute__" title="object.__getattribute__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__getattribute__()</span></code></a>&nbsp;时由于&nbsp;<em>name</em>&nbsp;不是一个实例属性或&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">self</span></code>&nbsp;的类关系树中的属性而引发了&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#AttributeError" title="AttributeError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">AttributeError</span></code></a>；或者是对&nbsp;<em>name</em>&nbsp;特性属性调用&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__get__" title="object.__get__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__get__()</span></code></a>时引发了&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#AttributeError" title="AttributeError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">AttributeError</span></code></a>)。此方法应当返回（找到的）属性值或是引发一个&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#AttributeError" title="AttributeError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">AttributeError</span></code></a>&nbsp;异常。</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">请注意如果属性是通过正常机制找到的，<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__getattr__" title="object.__getattr__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__getattr__()</span></code></a>&nbsp;就不会被调用。（这是在&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__getattr__" title="object.__getattr__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__getattr__()</span></code></a>&nbsp;和&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__setattr__" title="object.__setattr__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__setattr__()</span></code></a>&nbsp;之间故意设置的不对称性。）这既是出于效率理由也是因为不这样设置的话&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__getattr__" title="object.__getattr__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__getattr__()</span></code></a>&nbsp;将无法访问实例的其他属性。要注意至少对于实例变量来说，你不必在实例属性字典中插入任何值（而是通过插入到其他对象）就可以模拟对它的完全控制。请参阅下面的&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__getattribute__" title="object.__getattribute__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__getattribute__()</span></code></a>&nbsp;方法了解真正获取对属性访问的完全控制权的办法。</p></dd></dl><dl class="method" style="margin-bottom: 15px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><dt id="object.__getattribute__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__getattribute__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em>,&nbsp;<em>name</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__getattribute__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">此方法会无条件地被调用以实现对类实例属性的访问。如果类还定义了&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__getattr__" title="object.__getattr__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__getattr__()</span></code></a>，则后者不会被调用，除非&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__getattribute__" title="object.__getattribute__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__getattribute__()</span></code></a>&nbsp;显式地调用它或是引发了&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#AttributeError" title="AttributeError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">AttributeError</span></code></a>。此方法应当返回（找到的）属性值或是引发一个&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#AttributeError" title="AttributeError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">AttributeError</span></code></a>&nbsp;异常。为了避免此方法中的无限递归，其实现应该总是调用具有相同名称的基类方法来访问它所需要的任何属性，例如&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">object.__getattribute__(self,</span>&nbsp;<span class="pre" style="hyphens: none;">name)</span></code>。</p><div class="admonition note" style="margin-top: 10px; margin-bottom: 10px; padding: 7px; background-color: rgb(238, 238, 238); border: 1px solid rgb(204, 204, 204); border-radius: 3px;"><p class="first admonition-title" style="margin: 0px 10px 5px 0px; font-weight: bold; display: inline; hyphens: auto; line-height: 22.4px;">注解</p>&nbsp;<p class="last" style="margin-top: 0px; hyphens: auto; line-height: 22.4px; margin-bottom: 5px; display: inline;">此方法在作为通过特定语法或内置函数隐式地调用的结果的情况下查找特殊方法时仍可能会被跳过。参见&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#special-lookup" style="color: rgb(99, 99, 187); text-decoration-line: none;"><span class="std std-ref">Special method lookup</span></a>。</p></div></dd></dl><dl class="method" style="margin-bottom: 15px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><dt id="object.__setattr__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__setattr__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em>,&nbsp;<em>name</em>,&nbsp;<em>value</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__setattr__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">此方法在一个属性被尝试赋值时被调用。这个调用会取代正常机制（即将值保存到实例字典）。&nbsp;<em>name</em>&nbsp;为属性名称，&nbsp;<em>value</em>&nbsp;为要赋给属性的值。</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">如果&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__setattr__" title="object.__setattr__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__setattr__()</span></code></a>&nbsp;想要赋值给一个实例属性，它应该调用同名的基类方法，例如&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">object.__setattr__(self,</span>&nbsp;<span class="pre" style="hyphens: none;">name,</span>&nbsp;<span class="pre" style="hyphens: none;">value)</span></code>。</p></dd></dl><dl class="method" style="margin-bottom: 15px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><dt id="object.__delattr__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__delattr__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em>,&nbsp;<em>name</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__delattr__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">类似于&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__setattr__" title="object.__setattr__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__setattr__()</span></code></a>&nbsp;但其作用为删除而非赋值。此方法应该仅在&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">del</span><span class="pre" style="hyphens: none;">obj.name</span></code>&nbsp;对于该对象有意义时才被实现。</p></dd></dl><dl class="method" style="margin-bottom: 15px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><dt id="object.__dir__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__dir__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__dir__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">此方法会在对相应对象调用&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#dir" title="dir" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">dir()</span></code></a>&nbsp;时被调用。返回值必须为一个序列。&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#dir" title="dir" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">dir()</span></code></a>会把返回的序列转换为列表并对其排序。</p></dd></dl><h5 id="blogTitle35">自定义模块属性访问</h5><p id="index-79" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">特殊名称&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__getattr__</span></code>&nbsp;和&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__dir__</span></code>&nbsp;还可被用来自定义对模块属性的访问。模块层级的&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__getattr__</span></code>&nbsp;函数应当接受一个参数，其名称为一个属性名，并返回计算结果值或引发一个&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#AttributeError" title="AttributeError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">AttributeError</span></code></a>。如果通过正常查找即&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__getattribute__" title="object.__getattribute__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">object.__getattribute__()</span></code></a>&nbsp;未在模块对象中找到某个属性，则&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__getattr__</span></code>会在模块的&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__dict__</span></code>&nbsp;中查找，未找到时会引发一个&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#AttributeError" title="AttributeError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">AttributeError</span></code></a>。如果找到，它会以属性名被调用并返回结果值。</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__dir__</span></code>&nbsp;函数应该不接受参数，返回值为一个表示模块中可访问名称的字符串列表。此函数如果存在，将会重载一个模块中的标准&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#dir" title="dir" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">dir()</span></code></a>&nbsp;查找。</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">想要更细致地自定义模块的行为（设置属性和特性属性等待），可以将模块对象的&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__class__</span></code>&nbsp;属性设置为一个&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/types.html#types.ModuleType" title="types.ModuleType" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">types.ModuleType</span></code></a>&nbsp;的子类。例如:</p><div class="highlight-python3 notranslate" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255); position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="kn" style="color: rgb(0, 112, 32); font-weight: bold;">import</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">sys</span>
<span class="kn" style="color: rgb(0, 112, 32); font-weight: bold;">from</span> <span class="nn" style="color: rgb(14, 132, 181); font-weight: bold;">types</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">import</span> <span class="n">ModuleType</span>

<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">class</span> <span class="nc" style="color: rgb(14, 132, 181); font-weight: bold;">VerboseModule</span><span class="p">(</span><span class="n">ModuleType</span><span class="p">):</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">def</span> <span class="nf" style="color: rgb(6, 40, 126);">__repr__</span><span class="p">(</span><span class="bp" style="color: rgb(0, 112, 32);">self</span><span class="p">):</span>
        <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">return</span> <span class="n">f</span><span class="s1" style="color: rgb(64, 112, 160);">'Verbose </span><span class="si" style="color: rgb(112, 160, 208); font-style: italic;">{self.__name__}</span><span class="s1" style="color: rgb(64, 112, 160);">'</span>

    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">def</span> <span class="nf" style="color: rgb(6, 40, 126);">__setattr__</span><span class="p">(</span><span class="bp" style="color: rgb(0, 112, 32);">self</span><span class="p">,</span> <span class="n">attr</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="n">f</span><span class="s1" style="color: rgb(64, 112, 160);">'Setting </span><span class="si" style="color: rgb(112, 160, 208); font-style: italic;">{attr}</span><span class="s1" style="color: rgb(64, 112, 160);">...'</span><span class="p">)</span>
        <span class="nb" style="color: rgb(0, 112, 32);">super</span><span class="p">()</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="fm" style="color: rgb(6, 40, 126);">__setattr__</span><span class="p">(</span><span class="n">attr</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

<span class="n">sys</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">modules</span><span class="p">[</span><span class="vm" style="color: rgb(187, 96, 213);">__name__</span><span class="p">]</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="vm" style="color: rgb(187, 96, 213);">__class__</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">VerboseModule</span>
</pre></div></div><div class="admonition note" style="margin-top: 10px; margin-bottom: 10px; padding: 7px; background-color: rgb(238, 238, 238); border: 1px solid rgb(204, 204, 204); border-radius: 3px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px;"><p class="first admonition-title" style="margin: 0px 10px 5px 0px; font-weight: bold; display: inline; hyphens: auto; text-align: justify; line-height: 22.4px;">注解</p>&nbsp;<p class="last" style="hyphens: auto; text-align: justify; line-height: 22.4px; margin-bottom: 5px; display: inline;">定义模块的&nbsp;<code class="docutils literal notranslate" style="background: rgb(214, 214, 214); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__getattr__</span></code>&nbsp;和设置模块的&nbsp;<code class="docutils literal notranslate" style="background: rgb(214, 214, 214); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__class__</span></code>&nbsp;只会影响使用属性访问语法进行的查找 – 直接访问模块全局变量（不论是通过模块内的代码还是通过对模块全局字典的引用）是不受影响的。</p></div><div class="versionchanged" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><p style="hyphens: auto; text-align: justify; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">在 3.5 版更改:&nbsp;</span><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__class__</span></code>&nbsp;模块属性改为可写。</p></div><div class="versionadded" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><p style="hyphens: auto; text-align: justify; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">3.7 新版功能:&nbsp;</span><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__getattr__</span></code>&nbsp;和&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__dir__</span></code>&nbsp;模块属性。</p></div><div class="admonition seealso" style="margin-top: 10px; margin-bottom: 10px; padding: 7px; background-color: rgb(255, 255, 204); border: 1px solid rgb(221, 221, 102); border-radius: 3px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px;"><p class="first admonition-title" style="margin: 0px 10px 5px 0px; font-weight: bold; display: inline; hyphens: auto; text-align: justify; line-height: 22.4px;">参见</p><dl class="last docutils" style="margin-bottom: 0px;"><dt style="font-weight: bold;"><span class="target" id="index-114"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0562" style="color: rgb(99, 99, 187); text-decoration-line: none;">PEP 562</a>&nbsp;- 模块 __getattr__ 和 __dir__</dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;">描述用于模块的&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__getattr__</span></code>&nbsp;和&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__dir__</span></code>&nbsp;函数。</dd></dl></div><h5 id="blogTitle36">实现描述器</h5><p></p><div class="section" id="invoking-descriptors"><span id="descriptor-invocation" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-decoration-style: initial; text-decoration-color: initial;"></span></div><p></p><div class="section" id="implementing-descriptors"><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">以下方法仅当一个包含该方法的类（称为<span>&nbsp;</span><em>描述器</em><span>&nbsp;</span>类）的实例出现于一个<span>&nbsp;</span><em>所有者</em><span>&nbsp;</span>类中的时候才会起作用（该描述器必须在所有者类或其某个上级类的字典中）。在以下示例中，“属性”指的是名称为所有者类<span>&nbsp;</span><a class="reference internal" href="https://docs.python.org/zh-cn/3/library/stdtypes.html#object.__dict__" title="object.__dict__" style="color: rgb(99, 99, 187); text-decoration: none;"><code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; font-weight: normal; border-radius: 3px;"><span class="pre" style="hyphens: none;">__dict__</span></code></a><span>&nbsp;</span>中的特征属性的键名的属性。</p><dl class="method" style="margin-bottom: 15px;"><dt id="object.__get__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__get__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em>,<span>&nbsp;</span><em>instance</em>,<span>&nbsp;</span><em>owner</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__get__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; text-align: justify; line-height: 22.4px;">调用此方法以获取所有者类的属性（类属性访问）或该类的实例的属性（实例属性访问）。<em>所有者</em><span>&nbsp;</span>是指所有者类，而<span>&nbsp;</span><em>实例</em><span>&nbsp;</span>是指被用来访问属性的实例，如果是<span>&nbsp;</span><em>所有者</em><span>&nbsp;</span>被用来访问属性时则为<span>&nbsp;</span><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code>。此方法应当返回（计算出的）属性值或是引发一个<span>&nbsp;</span><a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#AttributeError" title="AttributeError" style="color: rgb(99, 99, 187); text-decoration: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; font-weight: normal; border-radius: 3px;"><span class="pre" style="hyphens: none;">AttributeError</span></code></a><span>&nbsp;</span>异常。</p></dd></dl><dl class="method" style="margin-bottom: 15px;"><dt id="object.__set__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__set__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em>,<span>&nbsp;</span><em>instance</em>,<span>&nbsp;</span><em>value</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__set__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; text-align: justify; line-height: 22.4px;">调用此方法以设置<span>&nbsp;</span><em>instance</em><span>&nbsp;</span>指定的所有者类的实例的属性为新值<span>&nbsp;</span><em>value</em>。</p></dd></dl><dl class="method" style="margin-bottom: 15px;"><dt id="object.__delete__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__delete__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em>,<span>&nbsp;</span><em>instance</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__delete__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; text-align: justify; line-height: 22.4px;">调用此方法以删除<span>&nbsp;</span><em>instance</em><span>&nbsp;</span>指定的所有者类的实例的属性。</p></dd></dl><dl class="method" style="margin-bottom: 15px;"><dt id="object.__set_name__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__set_name__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em>,<span>&nbsp;</span><em>owner</em>,<span>&nbsp;</span><em>name</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__set_name__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; text-align: justify; line-height: 22.4px;">在所有者类<span>&nbsp;</span><em>owner</em><span>&nbsp;</span>创建时被调用。描述器会被赋值给<span>&nbsp;</span><em>name</em>。</p><div class="versionadded"><p style="margin-top: 0px; hyphens: auto; text-align: justify; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">3.6 新版功能.</span></p></div></dd></dl><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">属性<span>&nbsp;</span><code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; font-weight: normal; border-radius: 3px;"><span class="pre" style="hyphens: none;">__objclass__</span></code><span>&nbsp;</span>会被<span>&nbsp;</span><a class="reference internal" href="https://docs.python.org/zh-cn/3/library/inspect.html#module-inspect" title="inspect: Extract information and source code from live objects." style="color: rgb(99, 99, 187); text-decoration: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; font-weight: normal; border-radius: 3px;"><span class="pre" style="hyphens: none;">inspect</span></code></a><span>&nbsp;</span>模块解读为指定此对象定义所在的类（正确设置此属性有助于动态类属性的运行时内省）。对于可调用对象来说，它可以指明预期或要求提供一个特定类型（或子类）的实例作为第一个位置参数（例如，CPython 会为实现于 C 中的未绑定方法设置此属性）。</p></div><h5 id="blogTitle37">发起调用描述器</h5><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">总的说来，描述器就是具有“绑定行为”的对象属性，其属性访问已被描述器协议中的方法所重载，包括&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__get__" title="object.__get__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__get__()</span></code></a>,&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__set__" title="object.__set__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__set__()</span></code></a>&nbsp;和&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__delete__" title="object.__delete__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__delete__()</span></code></a>。如果一个对象定义了以上方法中的任意一个，它就被称为描述器。</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">属性访问的默认行为是从一个对象的字典中获取、设置或删除属性。例如，<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">a.x</span></code>&nbsp;的查找顺序会从&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">a.__dict__['x']</span></code>&nbsp;开始，然后是&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">type(a).__dict__['x']</span></code>，接下来依次查找&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">type(a)</span></code>&nbsp;的上级基类，不包括元类。</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">但是，如果找到的值是定义了某个描述器方法的对象，则 Python 可能会重载默认行为并转而发起调用描述器方法。这具体发生在优先级链的哪个环节则要根据所定义的描述器方法及其被调用的方式来决定。</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">描述器发起调用的开始点是一个绑定&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">a.x</span></code>。参数的组合方式依&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">a</span></code>&nbsp;而定:</p><dl class="docutils" style="margin-bottom: 15px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><dt>直接调用</dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;">最简单但最不常见的调用方式是用户代码直接发起调用一个描述器方法:<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">x.__get__(a)</span></code>。</dd><dt>实例绑定</dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;">如果绑定到一个对象实例，<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">a.x</span></code>&nbsp;会被转换为调用:&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">type(a).__dict__['x'].__get__(a,</span>&nbsp;<span class="pre" style="hyphens: none;">type(a))</span></code>。</dd><dt>类绑定</dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;">如果绑定到一个类，<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">A.x</span></code>&nbsp;会被转换为调用:&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">A.__dict__['x'].__get__(None,</span><span class="pre" style="hyphens: none;">A)</span></code>。</dd><dt>超绑定</dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;">如果&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">a</span></code>&nbsp;是&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#super" title="super" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">super</span></code></a>&nbsp;的一个实例，则绑定&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">super(B,</span>&nbsp;<span class="pre" style="hyphens: none;">obj).m()</span></code>&nbsp;会在&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">obj.__class__.__mro__</span></code>&nbsp;中搜索&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">B</span></code>&nbsp;的直接上级基类&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">A</span></code>&nbsp;然后通过以下调用发起调用描述器:&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">A.__dict__['m'].__get__(obj,</span>&nbsp;<span class="pre" style="hyphens: none;">obj.__class__)</span></code>。</dd></dl><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">对于实例绑定，发起描述器调用的优先级取决于定义了哪些描述器方法。一个描述器可以定义&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__get__" title="object.__get__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__get__()</span></code></a>、<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__set__" title="object.__set__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__set__()</span></code></a>&nbsp;和&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__delete__" title="object.__delete__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__delete__()</span></code></a>&nbsp;的任意组合。如果它没有定义&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__get__" title="object.__get__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__get__()</span></code></a>，则访问属性会返回描述器对象自身，除非对象的实例字典中有相应属性值。如果描述器定义了&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__set__" title="object.__set__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__set__()</span></code></a>&nbsp;和/或&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__delete__" title="object.__delete__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__delete__()</span></code></a>，则它是一个数据描述器；如果以上两个都未定义，则它是一个非数据描述器。通常，数据描述器会同时定义&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__get__" title="object.__get__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__get__()</span></code></a>&nbsp;和&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__set__" title="object.__set__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__set__()</span></code></a>，而非数据描述器只有&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__get__" title="object.__get__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__get__()</span></code></a>&nbsp;方法。定义了&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__set__" title="object.__set__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__set__()</span></code></a>&nbsp;和&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__get__" title="object.__get__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__get__()</span></code></a>&nbsp;的数据描述器总是会重载实例字典中的定义。与之相对的，非数据描述器可被实例所重载。</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">Python 方法 (包括&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#staticmethod" title="staticmethod" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">staticmethod()</span></code></a>&nbsp;和&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#classmethod" title="classmethod" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">classmethod()</span></code></a>) 都是作为非描述器来实现的。因此实例可以重定义并重载方法。这允许单个实例获得与相同类的其他实例不一样的行为。</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#property" title="property" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">property()</span></code></a>&nbsp;函数是作为数据描述器来实现的。因此实例不能重载特性属性的行为。</p><h5 id="blogTitle38">__slots__</h5><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><em>__slots__</em>&nbsp;允许我们显式地声明数据成员（例如特征属性）并禁止创建&nbsp;<em>__dict__</em>&nbsp;和&nbsp;<em>__weakref__</em>&nbsp;(除非是在&nbsp;<em>__slots__</em>&nbsp;中显式地声明或是在父类中可用。)</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">相比使用&nbsp;<em>__dict__</em>&nbsp;此方式可以显著地节省空间。</p><dl class="data" style="margin-bottom: 15px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><dt id="object.__slots__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__slots__</code><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__slots__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">这个类变量可赋值为字符串、可迭代对象或由实例使用的变量名构成的字符串序列。&nbsp;<em>__slots__</em>&nbsp;会为已声明的变量保留空间，并阻止自动为每个实际创建&nbsp;<em>__dict__</em>&nbsp;和&nbsp;<em>__weakref__</em>。</p></dd></dl><h6 id="blogTitle39">使用 __slots__ 的注意事项</h6><p></p><div class="section" id="customizing-class-creation"><span id="class-customization" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-decoration-style: initial; text-decoration-color: initial;"></span></div><p></p><div class="section" id="customizing-attribute-access"><div class="section" id="slots"><div class="section" id="notes-on-using-slots"><ul class="simple"><li style="hyphens: auto; text-align: justify; line-height: 20.8px;">当继承自一个未定义<span>&nbsp;</span><em>__slots__</em><span>&nbsp;</span>的类时，实例的<span>&nbsp;</span><em>__dict__</em><span>&nbsp;</span>和<span>&nbsp;</span><em>__weakref__</em><span>&nbsp;</span>属性将总是可访问。</li><li style="hyphens: auto; text-align: justify; line-height: 20.8px;">没有<span>&nbsp;</span><em>__dict__</em><span>&nbsp;</span>变量，实例就不能给未在<span>&nbsp;</span><em>__slots__</em><span>&nbsp;</span>定义中列出的新变量赋值。尝试给一个未列出的变量名赋值将引发<span>&nbsp;</span><a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#AttributeError" title="AttributeError" style="color: rgb(99, 99, 187); text-decoration: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; font-weight: normal; border-radius: 3px;"><span class="pre" style="hyphens: none;">AttributeError</span></code></a>。新变量需要动态赋值，就要将<span>&nbsp;</span><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">'__dict__'</span></code><span>&nbsp;</span>加入到<span>&nbsp;</span><em>__slots__</em><span>&nbsp;</span>声明的字符串序列中。</li><li style="hyphens: auto; text-align: justify; line-height: 20.8px;">如果未给每个实例设置<span>&nbsp;</span><em>__weakref__</em><span>&nbsp;</span>变量，定义了<span>&nbsp;</span><em>__slots__</em><span>&nbsp;</span>的类就不支持对其实际的弱引用。如果需要弱引用支持，就要将<span>&nbsp;</span><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">'__weakref__'</span></code><span>&nbsp;</span>加入到<span>&nbsp;</span><em>__slots__</em><span>&nbsp;</span>声明的字符串序列中。</li><li style="hyphens: auto; text-align: justify; line-height: 20.8px;"><em>__slots__</em><span>&nbsp;</span>是通过为每个变量名创建描述器 (<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#descriptors" style="color: rgb(99, 99, 187); text-decoration: none;"><span class="std std-ref">实现描述器</span></a>) 在类层级上实现的。因此，类属性不能被用来为通过<span>&nbsp;</span><em>__slots__</em><span>&nbsp;</span>定义的实例变量设置默认值；否则，类属性就会覆盖描述器赋值。</li><li style="hyphens: auto; text-align: justify; line-height: 20.8px;"><em>__slots__</em><span>&nbsp;</span>声明的作用不只限于定义它的类。在父类中声明的<span>&nbsp;</span><em>__slots__</em><span>&nbsp;</span>在其子类中同样可用。不过，子类将会获得<span>&nbsp;</span><em>__dict__</em><span>&nbsp;</span>和<span>&nbsp;</span><em>__weakref__</em><span>&nbsp;</span>除非它们也定义了<span>&nbsp;</span><em>__slots__</em><span>&nbsp;</span>(其中应该仅包含对任何<span>&nbsp;</span><em>额外</em><span>&nbsp;</span>名称的声明位置)。</li><li style="hyphens: auto; text-align: justify; line-height: 20.8px;">如果一个类定义的位置在某个基类中也有定义，则由基类位置定义的实例变量将不可访问（除非通过直接从基类获取其描述器的方式）。这会使得程序的含义变成未定义。未来可能会添加一个防止此情况的检查。</li><li style="hyphens: auto; text-align: justify; line-height: 20.8px;">非空的<span>&nbsp;</span><em>__slots__</em><span>&nbsp;</span>不适用于派生自“可变长度”内置类型例如<span>&nbsp;</span><a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#int" title="int" style="color: rgb(99, 99, 187); text-decoration: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; font-weight: normal; border-radius: 3px;"><span class="pre" style="hyphens: none;">int</span></code></a>、<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/stdtypes.html#bytes" title="bytes" style="color: rgb(99, 99, 187); text-decoration: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; font-weight: normal; border-radius: 3px;"><span class="pre" style="hyphens: none;">bytes</span></code></a><span>&nbsp;</span>和<span>&nbsp;</span><a class="reference internal" href="https://docs.python.org/zh-cn/3/library/stdtypes.html#tuple" title="tuple" style="color: rgb(99, 99, 187); text-decoration: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; font-weight: normal; border-radius: 3px;"><span class="pre" style="hyphens: none;">tuple</span></code></a><span>&nbsp;</span>的派生类。</li><li style="hyphens: auto; text-align: justify; line-height: 20.8px;">任何非字符串可迭代对象都可以被赋值给<span>&nbsp;</span><em>__slots__</em>。映射也可以被使用；不过，未来可能会分别赋给每个键具有特殊含义的值。</li><li style="hyphens: auto; text-align: justify; line-height: 20.8px;"><em>__class__</em><span>&nbsp;</span>赋值仅在两个类具有相同的<span>&nbsp;</span><em>__slots__</em><span>&nbsp;</span>时才会起作用。</li><li style="hyphens: auto; text-align: justify; line-height: 20.8px;">带有多个父类声明位置的多重继承也是可用的，但仅允许一个父类具有由声明位置创建的属性（其他基类必须具有空的位置布局） —— 违反规则将引发<span>&nbsp;</span><a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#TypeError" title="TypeError" style="color: rgb(99, 99, 187); text-decoration: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; font-weight: normal; border-radius: 3px;"><span class="pre" style="hyphens: none;">TypeError</span></code></a>。</li></ul></div></div></div><h4 id="blogTitle40">自定义类创建</h4><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">当一个类继承其他类时，那个类的&nbsp;<em>__init_subclass__</em>&nbsp;会被调用。这样就可以编写能够改变子类行为的类。这与类装饰器有紧密的关联，但是类装饰器是影响它们所应用的特定类，而&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__init_subclass__</span></code>&nbsp;则只作用于定义了该方法的类所派生的子类。</p><dl class="classmethod" style="margin-bottom: 15px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><dt id="object.__init_subclass__"><em class="property">classmethod&nbsp;</em><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__init_subclass__</code><span class="sig-paren" style="font-size: larger;">(</span><em>cls</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__init_subclass__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">当所在类派生子类时此方法就会被调用。<em>cls</em>&nbsp;将指向新的子类。如果定义为一个普通实例方法，此方法将被隐式地转换为类方法。</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">传入一个新类的关键字参数会被传给父类的&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__init_subclass__</span></code>。为了与其他使用&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__init_subclass__</span></code>&nbsp;的类兼容，应当根据需要去掉部分关键字参数再将其余的传给基类，例如:</p><div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">class</span> <span class="nc" style="color: rgb(14, 132, 181); font-weight: bold;">Philosopher</span><span class="p">:</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">def</span> <span class="nf" style="color: rgb(6, 40, 126);">__init_subclass__</span><span class="p">(</span><span class="bp" style="color: rgb(0, 112, 32);">cls</span><span class="p">,</span> <span class="n">default_name</span><span class="p">,</span> <span class="o" style="color: rgb(102, 102, 102);">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb" style="color: rgb(0, 112, 32);">super</span><span class="p">()</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">__init_subclass__</span><span class="p">(</span><span class="o" style="color: rgb(102, 102, 102);">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp" style="color: rgb(0, 112, 32);">cls</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">default_name</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">default_name</span>

<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">class</span> <span class="nc" style="color: rgb(14, 132, 181); font-weight: bold;">AustralianPhilosopher</span><span class="p">(</span><span class="n">Philosopher</span><span class="p">,</span> <span class="n">default_name</span><span class="o" style="color: rgb(102, 102, 102);">=</span><span class="s2" style="color: rgb(64, 112, 160);">"Bruce"</span><span class="p">):</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">pass</span>
</pre></div></div><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">object.__init_subclass__</span></code>&nbsp;的默认实现什么都不做，只在带任意参数调用时引发一个错误。</p><div class="admonition note" style="margin-top: 10px; margin-bottom: 10px; padding: 7px; background-color: rgb(238, 238, 238); border: 1px solid rgb(204, 204, 204); border-radius: 3px;"><p class="first admonition-title" style="margin: 0px 10px 5px 0px; font-weight: bold; display: inline; hyphens: auto; line-height: 22.4px;">注解</p>&nbsp;<p class="last" style="margin-top: 0px; hyphens: auto; line-height: 22.4px; margin-bottom: 5px; display: inline;">元类提示&nbsp;<code class="docutils literal notranslate" style="background: rgb(214, 214, 214); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">metaclass</span></code>&nbsp;将被其它类型机制消耗掉，并不会被传给<code class="docutils literal notranslate" style="background: rgb(214, 214, 214); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__init_subclass__</span></code>&nbsp;的实现。实际的元类（而非显式的提示）可通过<code class="docutils literal notranslate" style="background: rgb(214, 214, 214); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">type(cls)</span></code>&nbsp;访问。</p></div><div class="versionadded"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">3.6 新版功能.</span></p></div></dd></dl><h5 id="blogTitle41">元类</h5><p id="index-81" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">默认情况下，类是使用&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#type" title="type" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">type()</span></code></a>&nbsp;来构建的。类体会在一个新的命名空间内执行，类名会被局部绑定到&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">type(name,</span>&nbsp;<span class="pre" style="hyphens: none;">bases,</span>&nbsp;<span class="pre" style="hyphens: none;">namespace)</span></code>&nbsp;的结果。</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">类创建过程可通过在定义行传入&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">metaclass</span></code>&nbsp;关键字参数，或是通过继承一个包含此参数的现有类来进行定制。在以下示例中，<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">MyClass</span></code>&nbsp;和&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">MySubclass</span></code>&nbsp;都是&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Meta</span></code>&nbsp;的实例:</p><div class="highlight-python3 notranslate" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255); position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">class</span> <span class="nc" style="color: rgb(14, 132, 181); font-weight: bold;">Meta</span><span class="p">(</span><span class="nb" style="color: rgb(0, 112, 32);">type</span><span class="p">):</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">pass</span>

<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">class</span> <span class="nc" style="color: rgb(14, 132, 181); font-weight: bold;">MyClass</span><span class="p">(</span><span class="n">metaclass</span><span class="o" style="color: rgb(102, 102, 102);">=</span><span class="n">Meta</span><span class="p">):</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">pass</span>

<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">class</span> <span class="nc" style="color: rgb(14, 132, 181); font-weight: bold;">MySubclass</span><span class="p">(</span><span class="n">MyClass</span><span class="p">):</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">pass</span>
</pre></div></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">在类定义内指定的任何其他关键字参数都会在下面所描述的所有元类操作中进行传递。</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">当一个类定义被执行时，将发生以下步骤:</p><ul class="simple" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><li style="hyphens: auto; text-align: justify; line-height: 20.8px;">解析 MRO 条目</li><li style="hyphens: auto; text-align: justify; line-height: 20.8px;">确定适当的元类</li><li style="hyphens: auto; text-align: justify; line-height: 20.8px;">准备类命名空间</li><li style="hyphens: auto; text-align: justify; line-height: 20.8px;">执行类主体</li><li style="hyphens: auto; text-align: justify; line-height: 20.8px;">创建类对象</li></ul><h5 id="blogTitle42">解析 MRO 条目</h5><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">如果在类定义中出现的基类不是&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#type" title="type" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">type</span></code></a>&nbsp;的实例，则使用&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__mro_entries__</span></code>&nbsp;方法对其进行搜索，当找到结果时，它会以原始基类元组做参数进行调用。此方法必须返回类的元组以替代此基类被使用。元组可以为空，在此情况下原始基类将被忽略。</p><div class="admonition seealso" style="margin-top: 10px; margin-bottom: 10px; padding: 7px; background-color: rgb(255, 255, 204); border: 1px solid rgb(221, 221, 102); border-radius: 3px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px;"><p class="first admonition-title" style="margin: 0px 10px 5px 0px; font-weight: bold; display: inline; hyphens: auto; text-align: justify; line-height: 22.4px;">参见</p>&nbsp;<p class="last" style="hyphens: auto; text-align: justify; line-height: 22.4px; margin-bottom: 5px; display: inline;"><span class="target" id="index-115"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0560" style="color: rgb(99, 99, 187); text-decoration-line: none;"><strong>PEP 560</strong></a>&nbsp;- 对类型模块和泛型类型的核心支持</p></div><h5 id="blogTitle43">确定适当的元类</h5><p id="index-83" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">为一个类定义确定适当的元类是根据以下规则:</p><ul class="simple" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><li style="hyphens: auto; text-align: justify; line-height: 20.8px;">如果没有给出基类也没有显式元类，则使用&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#type" title="type" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">type()</span></code></a></li><li style="hyphens: auto; text-align: justify; line-height: 20.8px;">如果给出一个显式元类而且&nbsp;<em>不是</em>&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#type" title="type" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">type()</span></code></a>&nbsp;的实例，则其会被直接用作元类</li><li style="hyphens: auto; text-align: justify; line-height: 20.8px;">如果给出一个&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#type" title="type" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">type()</span></code></a>&nbsp;的实例作为显式元类，或是定义了基类，则使用最近派生的元类</li></ul><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">最近派生的元类会从显式指定的元类（如果有）以及所有指定的基类的元类（即&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">type(cls)</span></code>）中选取。最近派生的元类应为&nbsp;<em>所有</em>&nbsp;这些候选元类的一个子类型。如果没有一个候选元类符合该条件，则类定义将失败并抛出&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">TypeError</span></code>。</p><h5 id="blogTitle44">准备类命名空间</h5><p id="index-84" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">一旦适当的元类被确定，则类命名空间将会准备好。如果元类具有&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__prepare__</span></code>&nbsp;属性，它会以&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">namespace</span>&nbsp;<span class="pre" style="hyphens: none;">=</span>&nbsp;<span class="pre" style="hyphens: none;">metaclass.__prepare__(name,</span>&nbsp;<span class="pre" style="hyphens: none;">bases,</span>&nbsp;<span class="pre" style="hyphens: none;">**kwds)</span></code>的形式被调用（其中如果有附加的关键字参数，应来自类定义）。</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">如果元类没有&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__prepare__</span></code>&nbsp;属性，则类命名空间将初始化为一个空的有序映射。</p><div class="admonition seealso" style="margin-top: 10px; margin-bottom: 10px; padding: 7px; background-color: rgb(255, 255, 204); border: 1px solid rgb(221, 221, 102); border-radius: 3px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px;"><p class="first admonition-title" style="margin: 0px 10px 5px 0px; font-weight: bold; display: inline; hyphens: auto; text-align: justify; line-height: 22.4px;">参见</p><dl class="last docutils" style="margin-bottom: 0px;"><dt style="font-weight: bold;"><span class="target" id="index-116"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-3115" style="color: rgb(99, 99, 187); text-decoration-line: none;">PEP 3115</a>&nbsp;- Python 3000 中的元类</dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;">引入&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__prepare__</span></code>&nbsp;命名空间钩子</dd></dl></div><h5 id="blogTitle45">执行类主体</h5><p id="index-86" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">类主体会以（类似于）&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">exec(body,</span>&nbsp;<span class="pre" style="hyphens: none;">globals(),</span>&nbsp;<span class="pre" style="hyphens: none;">namespace)</span></code>&nbsp;的形式被执行。普通调用与&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#exec" title="exec" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">exec()</span></code></a>&nbsp;的关键区别在于当类定义发生于函数内部时，词法作用域允许类主体（包括任何方法）引用来自当前和外部作用域的名称。</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">但是，即使当类定义发生于函数内部时，在类内部定义的方法仍然无法看到在类作用域层次上定义的名称。类变量必须通过实例的第一个形参或类方法来访问，或者是通过下一节中描述的隐式词法作用域的&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__class__</span></code>&nbsp;引用。</p><h5 id="blogTitle46">创建类对象</h5><p id="index-87" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">一旦执行类主体完成填充类命名空间，将通过调用&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">metaclass(name,</span>&nbsp;<span class="pre" style="hyphens: none;">bases,</span><span class="pre" style="hyphens: none;">namespace,</span>&nbsp;<span class="pre" style="hyphens: none;">**kwds)</span></code>&nbsp;创建类对象（此处的附加关键字参数与传入&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__prepare__</span></code>的相同）。</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">如果类主体中有任何方法引用了&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__class__</span></code>&nbsp;或&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">super</span></code>，这个类对象会通过零参数形式的&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#super" title="super" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">super()</span></code></a>.&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__class__</span></code>&nbsp;所引用，这是由编译器所创建的隐式闭包引用。这使用零参数形式的&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#super" title="super" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">super()</span></code></a>&nbsp;能够正确标识正在基于词法作用域来定义的类，而被用于进行当前调用的类或实例则是基于传递给方法的第一个参数来标识的。</p><div class="impl-detail compound" style="border-radius: 3px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><p style="hyphens: auto; text-align: justify; line-height: 22.4px; margin: 0px;"><strong>CPython implementation detail:</strong>&nbsp;在 CPython 3.6 及之后的版本中，<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__class__</span></code>单元会被作为类命名空间中的&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__classcell__</span></code>&nbsp;一项传递给元类。如果存在，这必须被向上传播给&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">type.__new__</span></code>&nbsp;调用，以便能正确地初始化该类。如果不这样做，在 Python 3.6 中将导致&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#DeprecationWarning" title="DeprecationWarning" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">DeprecationWarning</span></code></a>，而在 Python 3.8 中将引发&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#RuntimeError" title="RuntimeError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">RuntimeError</span></code></a>。</p></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">当使用默认的元类&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#type" title="type" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">type</span></code></a>&nbsp;或者任何最终会调用&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">type.__new__</span></code>&nbsp;的元类时，以下额外的自定义步骤将在创建类对象之后被发起调用:</p><ul class="simple" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><li style="hyphens: auto; text-align: justify; line-height: 20.8px;">首先，<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">type.__new__</span></code>&nbsp;将收集类命名空间中所有定义了&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__set_name__" title="object.__set_name__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__set_name__()</span></code></a>&nbsp;方法的描述器；</li><li style="hyphens: auto; text-align: justify; line-height: 20.8px;">接下来，所有这些&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__set_name__</span></code>&nbsp;方法将使用所定义的类和特定描述器所赋的名称进行调用；</li><li style="hyphens: auto; text-align: justify; line-height: 20.8px;">最后，将在新类根据方法解析顺序所确定的直接父类上调用&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__init_subclass__" title="object.__init_subclass__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__init_subclass__()</span></code></a>&nbsp;钩子。</li></ul><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">在类对象创建之后，它会被传给包含在类定义中的类装饰器（如果有的话），得到的对象将作为已定义的类绑定到局部命名空间。</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">当通过&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">type.__new__</span></code>&nbsp;创建一个新类时，提供以作为命名空间形参的对象会被复制到一个新的有序映射并丢弃原对象。这个新副本包装于一个只读代理中，后者则成为类对象的&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/stdtypes.html#object.__dict__" title="object.__dict__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__dict__</span></code></a>&nbsp;属性。</p><div class="admonition seealso" style="margin-top: 10px; margin-bottom: 10px; padding: 7px; background-color: rgb(255, 255, 204); border: 1px solid rgb(221, 221, 102); border-radius: 3px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px;"><p class="first admonition-title" style="margin: 0px 10px 5px 0px; font-weight: bold; display: inline; hyphens: auto; text-align: justify; line-height: 22.4px;">参见</p><dl class="last docutils" style="margin-bottom: 0px;"><dt style="font-weight: bold;"><span class="target" id="index-117"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-3135" style="color: rgb(99, 99, 187); text-decoration-line: none;">PEP 3135</a>&nbsp;- 新的超类型</dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;">描述隐式的&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__class__</span></code>&nbsp;闭包引用</dd></dl></div><h5 id="blogTitle47">元类的作用</h5><p><span style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; text-align: justify; background-color: rgb(255, 255, 255);">元类的潜在作用非常广泛。已经过尝试的设想包括枚举、日志、接口检查、自动委托、自动特征属性创建、代理、框架以及自动资源锁定/同步等等。</span><br></p><h4 id="blogTitle48">自定义实例及子类检查</h4><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">以下方法被用来重载&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#isinstance" title="isinstance" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">isinstance()</span></code></a>&nbsp;和&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#issubclass" title="issubclass" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">issubclass()</span></code></a>&nbsp;内置函数的默认行为。</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">特别地，元类&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/abc.html#abc.ABCMeta" title="abc.ABCMeta" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">abc.ABCMeta</span></code></a>&nbsp;实现了这些方法以便允许将抽象基类（ABC）作为“虚拟基类”添加到任何类或类型（包括内置类型），包括其他 ABC 之中。</p><dl class="method" style="margin-bottom: 15px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><dt id="class.__instancecheck__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">class.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__instancecheck__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em>,&nbsp;<em>instance</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#class.__instancecheck__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">如果&nbsp;<em>instance</em>&nbsp;应被视为&nbsp;<em>class</em>&nbsp;的一个（直接或间接）实例则返回真值。如果定义了此方法，则会被调用以实现&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">isinstance(instance,</span>&nbsp;<span class="pre" style="hyphens: none;">class)</span></code>。</p></dd></dl><dl class="method" style="margin-bottom: 15px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><dt id="class.__subclasscheck__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">class.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__subclasscheck__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em>,&nbsp;<em>subclass</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#class.__subclasscheck__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Return true 如果&nbsp;<em>subclass</em>&nbsp;应被视为&nbsp;<em>class</em>&nbsp;的一个（直接或间接）子类则返回真值。如果定义了此方法，则会被调用以实现&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">issubclass(subclass,</span><span class="pre" style="hyphens: none;">class)</span></code>。</p></dd></dl><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">请注意这些方法的查找是基于类的类型（元类）。它们不能作为类方法在实际的类中被定义。这与基于实例被调用的特殊方法的查找是一致的，只有在此情况下实例本身被当作是类。</p><div class="admonition seealso" style="margin-top: 10px; margin-bottom: 10px; padding: 7px; background-color: rgb(255, 255, 204); border: 1px solid rgb(221, 221, 102); border-radius: 3px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px;"><p class="first admonition-title" style="margin: 0px 10px 5px 0px; font-weight: bold; display: inline; hyphens: auto; text-align: justify; line-height: 22.4px;">参见</p><dl class="last docutils" style="margin-bottom: 0px;"><dt style="font-weight: bold;"><span class="target" id="index-118"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-3119" style="color: rgb(99, 99, 187); text-decoration-line: none;">PEP 3119</a>&nbsp;- 引入抽象基类</dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;">新增功能描述，通过&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#class.__instancecheck__" title="class.__instancecheck__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__instancecheck__()</span></code></a>&nbsp;和&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#class.__subclasscheck__" title="class.__subclasscheck__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__subclasscheck__()</span></code></a>&nbsp;来定制&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#isinstance" title="isinstance" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">isinstance()</span></code></a>&nbsp;和&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#issubclass" title="issubclass" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">issubclass()</span></code></a>&nbsp;行为，加入此功能的动机是出于向该语言添加抽象基类的内容（参见&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/abc.html#module-abc" title="abc: Abstract base classes according to PEP 3119." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">abc</span></code></a>&nbsp;模块）。</dd></dl></div><h4 id="blogTitle49">模拟泛型类型</h4><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">通过定义一个特殊方法，可以实现由&nbsp;<span class="target" id="index-119"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0484" style="color: rgb(99, 99, 187); text-decoration-line: none;"><strong>PEP 484</strong></a>&nbsp;所规定的泛型类语法 (例如&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">List[int]</span></code>)</p><dl class="classmethod" style="margin-bottom: 15px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><dt id="object.__class_getitem__"><em class="property">classmethod&nbsp;</em><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__class_getitem__</code><span class="sig-paren" style="font-size: larger;">(</span><em>cls</em>,&nbsp;<em>key</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__class_getitem__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">按照&nbsp;<em>key</em>&nbsp;参数指定的类型返回一个表示泛型类的专门化对象。</p></dd></dl><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">此方法的查找会基于对象自身，并且当定义于类体内部时，此方法将隐式地成为类方法。请注意，此机制主要是被保留用于静态类型提示，不鼓励在其他场合使用。</p><div class="admonition seealso" style="margin-top: 10px; margin-bottom: 10px; padding: 7px; background-color: rgb(255, 255, 204); border: 1px solid rgb(221, 221, 102); border-radius: 3px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px;"><p class="first admonition-title" style="margin: 0px 10px 5px 0px; font-weight: bold; display: inline; hyphens: auto; text-align: justify; line-height: 22.4px;">参见</p>&nbsp;<p class="last" style="hyphens: auto; text-align: justify; line-height: 22.4px; margin-bottom: 5px; display: inline;"><span class="target" id="index-120"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0560" style="color: rgb(99, 99, 187); text-decoration-line: none;"><strong>PEP 560</strong></a>&nbsp;- 对类型模块和泛型类型的核心支持</p></div><h4 id="blogTitle50">模拟可调用对象</h4><dt id="object.__call__" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__call__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em><span class="optional" style="font-size: 1.3em;">[</span>,&nbsp;<em>args...</em><span class="optional" style="font-size: 1.3em;">]</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__call__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><p id="index-92" style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">此方法会在实例作为一个函数被“调用”时被调用；如果定义了此方法，则&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">x(arg1,</span>&nbsp;<span class="pre" style="hyphens: none;">arg2,</span>&nbsp;<span class="pre" style="hyphens: none;">...)</span></code>&nbsp;就相当于&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">x.__call__(arg1,</span>&nbsp;<span class="pre" style="hyphens: none;">arg2,</span>&nbsp;<span class="pre" style="hyphens: none;">...)</span></code>&nbsp;的快捷方式。</p></dd><h4 id="blogTitle51">模拟容器类型</h4><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">可以定义以下方法来实现容器对象。容器通常属于序列（如列表或元组）或映射（如字典），但也存在其他形式的容器。前几个方法集被用于模拟序列或是模拟映射；两者的不同之处在于序列允许的键应为整数&nbsp;<em>k</em>&nbsp;且&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">0</span>&nbsp;<span class="pre" style="hyphens: none;">&lt;=</span>&nbsp;<span class="pre" style="hyphens: none;">k</span>&nbsp;<span class="pre" style="hyphens: none;">&lt;</span>&nbsp;<span class="pre" style="hyphens: none;">N</span></code>&nbsp;其中&nbsp;<em>N</em>&nbsp;是序列或定义指定区间的项的切片对象的长度。此外还建议让映射提供&nbsp;<code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">keys()</span></code>,&nbsp;<code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">values()</span></code>,&nbsp;<code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">items()</span></code>,&nbsp;<code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">get()</span></code>,&nbsp;<code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">clear()</span></code>,&nbsp;<code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">setdefault()</span></code>,&nbsp;<code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">pop()</span></code>,&nbsp;<code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">popitem()</span></code>,&nbsp;<code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">copy()</span></code>&nbsp;以及&nbsp;<code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">update()</span></code>&nbsp;等方法，它们的行为应与 Python 标准字典对象相应方法类似。此外&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/collections.abc.html#module-collections.abc" title="collections.abc: Abstract base classes for containers" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">collections.abc</span></code></a>&nbsp;模块提供了一个&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/collections.abc.html#collections.abc.MutableMapping" title="collections.abc.MutableMapping" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">MutableMapping</span></code></a>&nbsp;抽象基类，以更方便地根据一个基本集&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__getitem__" title="object.__getitem__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__getitem__()</span></code></a>,&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__setitem__" title="object.__setitem__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__setitem__()</span></code></a>,&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__delitem__" title="object.__delitem__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__delitem__()</span></code></a>&nbsp;和&nbsp;<code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">keys()</span></code>&nbsp;来创建所需方法。可变序列还应该如 Python 标准列表对象那样提供&nbsp;<code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">append()</span></code>,&nbsp;<code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">count()</span></code>,&nbsp;<code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">index()</span></code>,&nbsp;<code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">extend()</span></code>,&nbsp;<code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">insert()</span></code>,&nbsp;<code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">pop()</span></code>,&nbsp;<code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">remove()</span></code>,&nbsp;<code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">reverse()</span></code>&nbsp;和&nbsp;<code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">sort()</span></code>&nbsp;等方法。最后，序列类型还应该通过定义下文描述的&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__add__" title="object.__add__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__add__()</span></code></a>,&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__radd__" title="object.__radd__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__radd__()</span></code></a>,&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__iadd__" title="object.__iadd__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__iadd__()</span></code></a>,&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__mul__" title="object.__mul__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__mul__()</span></code></a>,&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__rmul__" title="object.__rmul__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__rmul__()</span></code></a>&nbsp;和&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__imul__" title="object.__imul__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__imul__()</span></code></a>&nbsp;等方法来实现加法（指拼接）和乘法（指重复）；它们不应定义其他数值运算符。此外也建议映射和序列都实现&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__contains__" title="object.__contains__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__contains__()</span></code></a>&nbsp;方法以允许高效地使用&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">in</span></code>&nbsp;运算符；对于映射，<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">in</span></code>&nbsp;应该搜索映射的键；对于序列，则应该搜索其中的值。此外还建议映射和序列都实现&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__iter__" title="object.__iter__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__iter__()</span></code></a>&nbsp;方法以允许高效地对容器中的条目进行迭代；对于映射，<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__iter__" title="object.__iter__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__iter__()</span></code></a>&nbsp;应与&nbsp;<code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">keys()</span></code>&nbsp;相同；对于序列，则应该迭代其中的值。</p><dl class="method" style="margin-bottom: 15px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><dt id="object.__len__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__len__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__len__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p id="index-93" style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">调用此方法以实现内置函数&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#len" title="len" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">len()</span></code></a>。应该返回对象的长度，以一个&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">&gt;=</span></code>&nbsp;0 的整数表示。此外，如果一个对象未定义&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__bool__" title="object.__bool__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__bool__()</span></code></a>&nbsp;方法而其&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__len__" title="object.__len__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__len__()</span></code></a>&nbsp;方法返回值为零，则在布尔运算中会被视为假值。</p><div class="impl-detail compound" style="border-radius: 3px;"><p style="margin: 0px; hyphens: auto; line-height: 22.4px;"><strong>CPython implementation detail:</strong>&nbsp;在 CPython 中，要求长度最大为&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/sys.html#sys.maxsize" title="sys.maxsize" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">sys.maxsize</span></code></a>。如果长度大于&nbsp;<code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">sys.maxsize</span></code>&nbsp;则某些特性 (例如&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#len" title="len" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">len()</span></code></a>) 可能会引发&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#OverflowError" title="OverflowError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">OverflowError</span></code></a>。要通过真值检测来防止引发&nbsp;<code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">OverflowError</span></code>，对象必须定义&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__bool__" title="object.__bool__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__bool__()</span></code></a>&nbsp;方法。</p></div></dd></dl><dl class="method" style="margin-bottom: 15px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><dt id="object.__length_hint__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__length_hint__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__length_hint__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">调用此方法以实现&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/operator.html#operator.length_hint" title="operator.length_hint" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">operator.length_hint()</span></code></a>。应该返回对象长度的估计值（可能大于或小于实际长度）。此长度应为一个&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">&gt;=</span></code>&nbsp;的整数。此方法纯粹是为了优化性能，并不要求正确无误。</p><div class="versionadded"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">3.4 新版功能.</span></p></div></dd></dl><div class="admonition note" style="margin-top: 10px; margin-bottom: 10px; padding: 7px; background-color: rgb(238, 238, 238); border: 1px solid rgb(204, 204, 204); border-radius: 3px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px;"><p class="first admonition-title" style="margin: 0px 10px 5px 0px; font-weight: bold; display: inline; hyphens: auto; text-align: justify; line-height: 22.4px;">注解</p>&nbsp;<p style="hyphens: auto; text-align: justify; line-height: 22.4px; margin-bottom: 5px; display: inline;">切片是通过下述三个专门方法完成的。以下形式的调用</p><div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px; margin-bottom: 5px;"><span class="n">a</span><span class="p">[</span><span class="mi" style="color: rgb(32, 128, 80);">1</span><span class="p">:</span><span class="mi" style="color: rgb(32, 128, 80);">2</span><span class="p">]</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">b</span>
</pre></div></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px; margin-bottom: 5px;">会为转写为</p><div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px; margin-bottom: 5px;"><span class="n">a</span><span class="p">[</span><span class="nb" style="color: rgb(0, 112, 32);">slice</span><span class="p">(</span><span class="mi" style="color: rgb(32, 128, 80);">1</span><span class="p">,</span> <span class="mi" style="color: rgb(32, 128, 80);">2</span><span class="p">,</span> <span class="kc" style="color: rgb(0, 112, 32); font-weight: bold;">None</span><span class="p">)]</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">b</span>
</pre></div></div><p class="last" style="hyphens: auto; text-align: justify; line-height: 22.4px; margin-bottom: 5px;">其他形式以此类推。略去的切片项总是以&nbsp;<code class="docutils literal notranslate" style="background: rgb(214, 214, 214); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code>&nbsp;补全。</p></div><dl class="method" style="margin-bottom: 15px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><dt id="object.__getitem__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__getitem__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em>,&nbsp;<em>key</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__getitem__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p id="index-94" style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">调用此方法以实现&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">self[key]</span></code>&nbsp;的求值。对于序列类型，接受的键应为整数和切片对象。请注意负数索引（如果类想要模拟序列类型）的特殊解读是取决于&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__getitem__" title="object.__getitem__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__getitem__()</span></code></a>&nbsp;方法。如果&nbsp;<em>key</em>&nbsp;的类型不正确则会引发&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#TypeError" title="TypeError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">TypeError</span></code></a>&nbsp;异常；如果为序列索引集范围以外的值（在进行任何负数索引的特殊解读之后）则应引发&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#IndexError" title="IndexError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">IndexError</span></code></a>&nbsp;异常。对于映射类型，如果&nbsp;<em>key</em>&nbsp;找不到（不在容器中）则应引发&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#KeyError" title="KeyError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">KeyError</span></code></a>&nbsp;异常。</p><div class="admonition note" style="margin-top: 10px; margin-bottom: 10px; padding: 7px; background-color: rgb(238, 238, 238); border: 1px solid rgb(204, 204, 204); border-radius: 3px;"><p class="first admonition-title" style="margin: 0px 10px 5px 0px; font-weight: bold; display: inline; hyphens: auto; line-height: 22.4px;">注解</p>&nbsp;<p class="last" style="margin-top: 0px; hyphens: auto; line-height: 22.4px; margin-bottom: 5px; display: inline;"><a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/compound_stmts.html#for" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background: rgb(214, 214, 214); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">for</span></code></a>&nbsp;循环在有不合法索引时会期待捕获&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#IndexError" title="IndexError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background: rgb(214, 214, 214); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">IndexError</span></code></a>&nbsp;以便正确地检测到序列的结束。</p></div></dd></dl><dl class="method" style="margin-bottom: 15px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><dt id="object.__missing__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__missing__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em>,&nbsp;<em>key</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__missing__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">此方法由&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/stdtypes.html#dict" title="dict" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">dict</span></code></a>.<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__getitem__" title="object.__getitem__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__getitem__()</span></code></a>&nbsp;在找不到字典中的键时调用以实现 dict 子类的&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">self[key]</span></code>。</p></dd></dl><dl class="method" style="margin-bottom: 15px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><dt id="object.__setitem__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__setitem__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em>,&nbsp;<em>key</em>,&nbsp;<em>value</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__setitem__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">调用此方法以实现向&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">self[key]</span></code>&nbsp;赋值。注意事项与&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__getitem__" title="object.__getitem__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__getitem__()</span></code></a>&nbsp;相同。为对象实现此方法应该仅限于需要映射允许基于键修改值或添加键，或是序列允许元素被替换时。不正确的&nbsp;<em>key</em>&nbsp;值所引发的异常应与&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__getitem__" title="object.__getitem__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__getitem__()</span></code></a>&nbsp;方法的情况相同。</p></dd></dl><dl class="method" style="margin-bottom: 15px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><dt id="object.__delitem__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__delitem__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em>,&nbsp;<em>key</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__delitem__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">调用此方法以实现&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">self[key]</span></code>&nbsp;的删除。注意事项与&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__getitem__" title="object.__getitem__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__getitem__()</span></code></a>&nbsp;相同。为对象实现此方法应该权限于需要映射允许移除键，或是序列允许移除元素时。不正确的&nbsp;<em>key</em>&nbsp;值所引发的异常应与&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__getitem__" title="object.__getitem__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__getitem__()</span></code></a>&nbsp;方法的情况相同。</p></dd></dl><dl class="method" style="margin-bottom: 15px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><dt id="object.__iter__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__iter__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__iter__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">此方法在需要为容器创建迭代器时被调用。此方法应该返回一个新的迭代器对象，它能够逐个迭代容器中的所有对象。对于映射，它应该逐个迭代容器中的键。</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">迭代器对象也需要实现此方法；它们需要返回对象自身。有关迭代器对象的详情请参看&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/stdtypes.html#typeiter" style="color: rgb(99, 99, 187); text-decoration-line: none;">Iterator Types</a>&nbsp;一节。</p></dd></dl><dl class="method" style="margin-bottom: 15px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><dt id="object.__reversed__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__reversed__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__reversed__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">此方法（如果存在）会被&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#reversed" title="reversed" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">reversed()</span></code></a>&nbsp;内置函数调用以实现逆向迭代。它应当返回一个新的以逆序逐个迭代容器内所有对象的迭代器对象。</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">如果未提供&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__reversed__" title="object.__reversed__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__reversed__()</span></code></a>&nbsp;方法，则&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#reversed" title="reversed" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">reversed()</span></code></a>&nbsp;内置函数将回退到使用序列协议 (<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__len__" title="object.__len__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__len__()</span></code></a>&nbsp;和&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__getitem__" title="object.__getitem__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__getitem__()</span></code></a>)。支持序列协议的对象应当仅在能够提供比&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#reversed" title="reversed" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">reversed()</span></code></a>&nbsp;所提供的实现更高效的实现时才提供&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__reversed__" title="object.__reversed__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__reversed__()</span></code></a>&nbsp;方法。</p></dd></dl><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">The membership test operators (<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#in" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">in</span></code></a>&nbsp;and&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#not-in" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">not</span>&nbsp;<span class="pre" style="hyphens: none;">in</span></code></a>) are normally implemented as an iteration through a sequence. However, container objects can supply the following special method with a more efficient implementation, which also does not require the object be a sequence.</p><dl class="method" style="margin-bottom: 15px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><dt id="object.__contains__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__contains__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em>,&nbsp;<em>item</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__contains__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Called to implement membership test operators. Should return true if&nbsp;<em>item</em>&nbsp;is in&nbsp;<em>self</em>, false otherwise. For mapping objects, this should consider the keys of the mapping rather than the values or the key-item pairs.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">For objects that don’t define&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__contains__" title="object.__contains__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__contains__()</span></code></a>, the membership test first tries iteration via&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__iter__" title="object.__iter__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__iter__()</span></code></a>, then the old sequence iteration protocol via&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__getitem__" title="object.__getitem__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__getitem__()</span></code></a>, see&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#membership-test-details" style="color: rgb(99, 99, 187); text-decoration-line: none;">this section in the language reference</a>.</p></dd></dl><h4 id="blogTitle52">Emulating numeric types</h4><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">The following methods can be defined to emulate numeric objects. Methods corresponding to operations that are not supported by the particular kind of number implemented (e.g., bitwise operations for non-integral numbers) should be left undefined.</p><dl class="method" style="margin-bottom: 15px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><dt id="object.__add__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__add__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em>,&nbsp;<em>other</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__add__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dt id="object.__sub__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__sub__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em>,&nbsp;<em>other</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__sub__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dt id="object.__mul__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__mul__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em>,&nbsp;<em>other</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__mul__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dt id="object.__matmul__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__matmul__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em>,&nbsp;<em>other</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__matmul__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dt id="object.__truediv__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__truediv__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em>,&nbsp;<em>other</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__truediv__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dt id="object.__floordiv__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__floordiv__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em>,&nbsp;<em>other</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__floordiv__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dt id="object.__mod__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__mod__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em>,&nbsp;<em>other</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__mod__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dt id="object.__divmod__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__divmod__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em>,&nbsp;<em>other</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__divmod__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dt id="object.__pow__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__pow__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em>,&nbsp;<em>other</em><span class="optional" style="font-size: 1.3em;">[</span>,&nbsp;<em>modulo</em><span class="optional" style="font-size: 1.3em;">]</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__pow__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dt id="object.__lshift__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__lshift__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em>,&nbsp;<em>other</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__lshift__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dt id="object.__rshift__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__rshift__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em>,&nbsp;<em>other</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__rshift__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dt id="object.__and__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__and__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em>,&nbsp;<em>other</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__and__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dt id="object.__xor__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__xor__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em>,&nbsp;<em>other</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__xor__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dt id="object.__or__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__or__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em>,&nbsp;<em>other</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__or__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p id="index-95" style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">These methods are called to implement the binary arithmetic operations (<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">+</span></code>,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">-</span></code>,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">*</span></code>,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">@</span></code>,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">/</span></code>,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">//</span></code>,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">%</span></code>,&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#divmod" title="divmod" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">divmod()</span></code></a>,&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#pow" title="pow" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">pow()</span></code></a>,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">**</span></code>,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">&lt;&lt;</span></code>,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">&gt;&gt;</span></code>,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">&amp;</span></code>,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">^</span></code>,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">|</span></code>). For instance, to evaluate the expression&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">x</span>&nbsp;<span class="pre" style="hyphens: none;">+</span>&nbsp;<span class="pre" style="hyphens: none;">y</span></code>, where&nbsp;<em>x</em>&nbsp;is an instance of a class that has an&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__add__" title="object.__add__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__add__()</span></code></a>&nbsp;method,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">x.__add__(y)</span></code>&nbsp;is called. The&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__divmod__" title="object.__divmod__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__divmod__()</span></code></a>method should be the equivalent to using&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__floordiv__" title="object.__floordiv__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__floordiv__()</span></code></a>&nbsp;and&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__mod__" title="object.__mod__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__mod__()</span></code></a>; it should not be related to&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__truediv__" title="object.__truediv__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__truediv__()</span></code></a>. Note that&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__pow__" title="object.__pow__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__pow__()</span></code></a>&nbsp;should be defined to accept an optional third argument if the ternary version of the built-in&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#pow" title="pow" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">pow()</span></code></a>&nbsp;function is to be supported.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">If one of those methods does not support the operation with the supplied arguments, it should return&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">NotImplemented</span></code>.</p></dd></dl><dl class="method" style="margin-bottom: 15px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><dt id="object.__radd__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__radd__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em>,&nbsp;<em>other</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__radd__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dt id="object.__rsub__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__rsub__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em>,&nbsp;<em>other</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__rsub__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dt id="object.__rmul__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__rmul__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em>,&nbsp;<em>other</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__rmul__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dt id="object.__rmatmul__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__rmatmul__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em>,&nbsp;<em>other</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__rmatmul__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dt id="object.__rtruediv__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__rtruediv__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em>,&nbsp;<em>other</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__rtruediv__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dt id="object.__rfloordiv__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__rfloordiv__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em>,&nbsp;<em>other</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__rfloordiv__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dt id="object.__rmod__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__rmod__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em>,&nbsp;<em>other</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__rmod__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dt id="object.__rdivmod__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__rdivmod__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em>,&nbsp;<em>other</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__rdivmod__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dt id="object.__rpow__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__rpow__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em>,&nbsp;<em>other</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__rpow__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dt id="object.__rlshift__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__rlshift__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em>,&nbsp;<em>other</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__rlshift__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dt id="object.__rrshift__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__rrshift__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em>,&nbsp;<em>other</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__rrshift__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dt id="object.__rand__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__rand__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em>,&nbsp;<em>other</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__rand__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dt id="object.__rxor__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__rxor__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em>,&nbsp;<em>other</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__rxor__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dt id="object.__ror__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__ror__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em>,&nbsp;<em>other</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__ror__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p id="index-96" style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">These methods are called to implement the binary arithmetic operations (<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">+</span></code>,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">-</span></code>,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">*</span></code>,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">@</span></code>,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">/</span></code>,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">//</span></code>,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">%</span></code>,&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#divmod" title="divmod" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">divmod()</span></code></a>,&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#pow" title="pow" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">pow()</span></code></a>,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">**</span></code>,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">&lt;&lt;</span></code>,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">&gt;&gt;</span></code>,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">&amp;</span></code>,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">^</span></code>,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">|</span></code>) with reflected (swapped) operands. These functions are only called if the left operand does not support the corresponding operation&nbsp;<a class="footnote-reference" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#id10" id="id5" style="color: rgb(99, 99, 187); text-decoration-line: none;">[3]</a>&nbsp;and the operands are of different types.&nbsp;<a class="footnote-reference" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#id11" id="id6" style="color: rgb(99, 99, 187); text-decoration-line: none;">[4]</a>&nbsp;For instance, to evaluate the expression&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">x</span>&nbsp;<span class="pre" style="hyphens: none;">-</span>&nbsp;<span class="pre" style="hyphens: none;">y</span></code>, where&nbsp;<em>y</em>&nbsp;is an instance of a class that has an&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__rsub__" title="object.__rsub__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__rsub__()</span></code></a>&nbsp;method,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">y.__rsub__(x)</span></code>&nbsp;is called if&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">x.__sub__(y)</span></code>&nbsp;returns&nbsp;<em>NotImplemented</em>.</p><p id="index-97" style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Note that ternary&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#pow" title="pow" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">pow()</span></code></a>&nbsp;will not try calling&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__rpow__" title="object.__rpow__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__rpow__()</span></code></a>&nbsp;(the coercion rules would become too complicated).</p><div class="admonition note" style="margin-top: 10px; margin-bottom: 10px; padding: 7px; background-color: rgb(238, 238, 238); border: 1px solid rgb(204, 204, 204); border-radius: 3px;"><p class="first admonition-title" style="margin: 0px 10px 5px 0px; font-weight: bold; display: inline; hyphens: auto; line-height: 22.4px;">注解</p>&nbsp;<p class="last" style="margin-top: 0px; hyphens: auto; line-height: 22.4px; margin-bottom: 5px; display: inline;">If the right operand’s type is a subclass of the left operand’s type and that subclass provides the reflected method for the operation, this method will be called before the left operand’s non-reflected method. This behavior allows subclasses to override their ancestors’ operations.</p></div></dd></dl><dl class="method" style="margin-bottom: 15px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><dt id="object.__iadd__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__iadd__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em>,&nbsp;<em>other</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__iadd__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dt id="object.__isub__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__isub__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em>,&nbsp;<em>other</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__isub__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dt id="object.__imul__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__imul__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em>,&nbsp;<em>other</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__imul__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dt id="object.__imatmul__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__imatmul__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em>,&nbsp;<em>other</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__imatmul__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dt id="object.__itruediv__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__itruediv__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em>,&nbsp;<em>other</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__itruediv__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dt id="object.__ifloordiv__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__ifloordiv__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em>,&nbsp;<em>other</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__ifloordiv__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dt id="object.__imod__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__imod__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em>,&nbsp;<em>other</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__imod__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dt id="object.__ipow__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__ipow__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em>,&nbsp;<em>other</em><span class="optional" style="font-size: 1.3em;">[</span>,&nbsp;<em>modulo</em><span class="optional" style="font-size: 1.3em;">]</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__ipow__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dt id="object.__ilshift__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__ilshift__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em>,&nbsp;<em>other</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__ilshift__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dt id="object.__irshift__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__irshift__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em>,&nbsp;<em>other</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__irshift__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dt id="object.__iand__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__iand__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em>,&nbsp;<em>other</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__iand__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dt id="object.__ixor__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__ixor__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em>,&nbsp;<em>other</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__ixor__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dt id="object.__ior__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__ior__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em>,&nbsp;<em>other</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__ior__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">These methods are called to implement the augmented arithmetic assignments (<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">+=</span></code>,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">-=</span></code>,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">*=</span></code>,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">@=</span></code>,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">/=</span></code>,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">//=</span></code>,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">%=</span></code>,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">**=</span></code>,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">&lt;&lt;=</span></code>,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">&gt;&gt;=</span></code>,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">&amp;=</span></code>,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">^=</span></code>,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">|=</span></code>). These methods should attempt to do the operation in-place (modifying&nbsp;<em>self</em>) and return the result (which could be, but does not have to be,&nbsp;<em>self</em>). If a specific method is not defined, the augmented assignment falls back to the normal methods. For instance, if&nbsp;<em>x</em>&nbsp;is an instance of a class with an&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__iadd__" title="object.__iadd__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__iadd__()</span></code></a>&nbsp;method,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">x</span>&nbsp;<span class="pre" style="hyphens: none;">+=</span>&nbsp;<span class="pre" style="hyphens: none;">y</span></code>&nbsp;is equivalent to&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">x</span>&nbsp;<span class="pre" style="hyphens: none;">=</span>&nbsp;<span class="pre" style="hyphens: none;">x.__iadd__(y)</span></code>&nbsp;. Otherwise,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">x.__add__(y)</span></code>&nbsp;and&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">y.__radd__(x)</span></code>&nbsp;are considered, as with the evaluation of&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">x</span>&nbsp;<span class="pre" style="hyphens: none;">+</span>&nbsp;<span class="pre" style="hyphens: none;">y</span></code>. In certain situations, augmented assignment can result in unexpected errors (see&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/faq/programming.html#faq-augmented-assignment-tuple-error" style="color: rgb(99, 99, 187); text-decoration-line: none;">Why does a_tuple[i] += [‘item’] raise an exception when the addition works?</a>), but this behavior is in fact part of the data model.</p></dd></dl><dl class="method" style="margin-bottom: 15px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><dt id="object.__neg__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__neg__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__neg__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dt id="object.__pos__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__pos__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__pos__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dt id="object.__abs__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__abs__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__abs__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dt id="object.__invert__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__invert__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__invert__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p id="index-98" style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Called to implement the unary arithmetic operations (<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">-</span></code>,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">+</span></code>,&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#abs" title="abs" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">abs()</span></code></a>&nbsp;and&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">~</span></code>).</p></dd></dl><dl class="method" style="margin-bottom: 15px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><dt id="object.__complex__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__complex__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__complex__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dt id="object.__int__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__int__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__int__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dt id="object.__float__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__float__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__float__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p id="index-99" style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Called to implement the built-in functions&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#complex" title="complex" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">complex()</span></code></a>,&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#int" title="int" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">int()</span></code></a>&nbsp;and&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#float" title="float" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">float()</span></code></a>. Should return a value of the appropriate type.</p></dd></dl><dl class="method" style="margin-bottom: 15px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><dt id="object.__index__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__index__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__index__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Called to implement&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/operator.html#operator.index" title="operator.index" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">operator.index()</span></code></a>, and whenever Python needs to losslessly convert the numeric object to an integer object (such as in slicing, or in the built-in&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#bin" title="bin" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">bin()</span></code></a>,&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#hex" title="hex" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">hex()</span></code></a>&nbsp;and&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#oct" title="oct" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">oct()</span></code></a>&nbsp;functions). Presence of this method indicates that the numeric object is an integer type. Must return an integer.</p><div class="admonition note" style="margin-top: 10px; margin-bottom: 10px; padding: 7px; background-color: rgb(238, 238, 238); border: 1px solid rgb(204, 204, 204); border-radius: 3px;"><p class="first admonition-title" style="margin: 0px 10px 5px 0px; font-weight: bold; display: inline; hyphens: auto; line-height: 22.4px;">注解</p>&nbsp;<p class="last" style="margin-top: 0px; hyphens: auto; line-height: 22.4px; margin-bottom: 5px; display: inline;">In order to have a coherent integer type class, when<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__index__" title="object.__index__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background: rgb(214, 214, 214); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__index__()</span></code></a>&nbsp;is defined&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__int__" title="object.__int__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background: rgb(214, 214, 214); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__int__()</span></code></a>&nbsp;should also be defined, and both should return the same value.</p></div></dd></dl><dl class="method" style="margin-bottom: 15px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><dt id="object.__round__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__round__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em><span class="optional" style="font-size: 1.3em;">[</span>,&nbsp;<em>ndigits</em><span class="optional" style="font-size: 1.3em;">]</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__round__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dt id="object.__trunc__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__trunc__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__trunc__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dt id="object.__floor__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__floor__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__floor__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dt id="object.__ceil__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__ceil__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__ceil__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p id="index-100" style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Called to implement the built-in function&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#round" title="round" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">round()</span></code></a>&nbsp;and&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/math.html#module-math" title="math: Mathematical functions (sin() etc.)." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">math</span></code></a>&nbsp;functions&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/math.html#math.trunc" title="math.trunc" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">trunc()</span></code></a>,&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/math.html#math.floor" title="math.floor" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">floor()</span></code></a>&nbsp;and&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/math.html#math.ceil" title="math.ceil" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">ceil()</span></code></a>. Unless&nbsp;<em>ndigits</em>&nbsp;is passed to&nbsp;<code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__round__()</span></code>all these methods should return the value of the object truncated to an&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/numbers.html#numbers.Integral" title="numbers.Integral" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">Integral</span></code></a>&nbsp;(typically an&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#int" title="int" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">int</span></code></a>).</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">If&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__int__" title="object.__int__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__int__()</span></code></a>&nbsp;is not defined then the built-in function&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#int" title="int" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">int()</span></code></a>&nbsp;falls back to&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__trunc__" title="object.__trunc__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__trunc__()</span></code></a>.</p></dd></dl><h4 id="blogTitle53">With Statement Context Managers</h4><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">A&nbsp;<em class="dfn">context manager</em>&nbsp;is an object that defines the runtime context to be established when executing a&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/compound_stmts.html#with" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">with</span></code></a>&nbsp;statement. The context manager handles the entry into, and the exit from, the desired runtime context for the execution of the block of code. Context managers are normally invoked using the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/compound_stmts.html#with" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">with</span></code></a>&nbsp;statement (described in section&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/compound_stmts.html#with" style="color: rgb(99, 99, 187); text-decoration-line: none;">The with statement</a>), but can also be used by directly invoking their methods.</p><p id="index-101" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">Typical uses of context managers include saving and restoring various kinds of global state, locking and unlocking resources, closing opened files, etc.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">For more information on context managers, see&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/stdtypes.html#typecontextmanager" style="color: rgb(99, 99, 187); text-decoration-line: none;">Context Manager Types</a>.</p><dl class="method" style="margin-bottom: 15px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><dt id="object.__enter__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__enter__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__enter__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Enter the runtime context related to this object. The&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/compound_stmts.html#with" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">with</span></code></a>&nbsp;statement will bind this method’s return value to the target(s) specified in the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/compound_stmts.html#as" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">as</span></code></a>&nbsp;clause of the statement, if any.</p></dd></dl><dl class="method" style="margin-bottom: 15px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><dt id="object.__exit__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__exit__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em>,&nbsp;<em>exc_type</em>,&nbsp;<em>exc_value</em>,&nbsp;<em>traceback</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__exit__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Exit the runtime context related to this object. The parameters describe the exception that caused the context to be exited. If the context was exited without an exception, all three arguments will be&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/constants.html#None" title="None" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-const docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code></a>.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">If an exception is supplied, and the method wishes to suppress the exception (i.e., prevent it from being propagated), it should return a true value. Otherwise, the exception will be processed normally upon exit from this method.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Note that&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__exit__" title="object.__exit__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__exit__()</span></code></a>&nbsp;methods should not reraise the passed-in exception; this is the caller’s responsibility.</p></dd></dl><div class="admonition seealso" style="margin-top: 10px; margin-bottom: 10px; padding: 7px; background-color: rgb(255, 255, 204); border: 1px solid rgb(221, 221, 102); border-radius: 3px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px;"><p class="first admonition-title" style="margin: 0px 10px 5px 0px; font-weight: bold; display: inline; hyphens: auto; text-align: justify; line-height: 22.4px;">参见</p><dl class="last docutils" style="margin-bottom: 0px;"><dt style="font-weight: bold;"><span class="target" id="index-102"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0343" style="color: rgb(99, 99, 187); text-decoration-line: none;">PEP 343</a>&nbsp;- The “with” statement</dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;">The specification, background, and examples for the Python&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/compound_stmts.html#with" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">with</span></code></a>statement.</dd></dl></div><h4 id="blogTitle54">Special method lookup</h4><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">For custom classes, implicit invocations of special methods are only guaranteed to work correctly if defined on an object’s type, not in the object’s instance dictionary. That behaviour is the reason why the following code raises an exception:</p><div class="highlight-python3 notranslate" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255); position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><span class="copybutton" title="Hide the prompts and output" style="cursor: pointer; position: absolute; top: 0px; right: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</span><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">class</span> <span class="nc" style="color: rgb(14, 132, 181); font-weight: bold;">C</span><span class="p">:</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">... </span>    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">pass</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">...</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">C</span><span class="p">()</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">c</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="fm" style="color: rgb(6, 40, 126);">__len__</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">lambda</span><span class="p">:</span> <span class="mi" style="color: rgb(32, 128, 80);">5</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="nb" style="color: rgb(0, 112, 32);">len</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
<span class="gt" style="color: rgb(0, 68, 221);">Traceback (most recent call last):</span>
  File <span class="nb" style="color: rgb(0, 112, 32);">"&lt;stdin&gt;"</span>, line <span class="m" style="color: rgb(32, 128, 80);">1</span>, in <span class="n">&lt;module&gt;</span>
<span class="gr" style="color: rgb(255, 0, 0);">TypeError</span>: <span class="n">object of type 'C' has no len()</span>
</pre></div></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">The rationale behind this behaviour lies with a number of special methods such as&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__hash__" title="object.__hash__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__hash__()</span></code></a>&nbsp;and&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__repr__" title="object.__repr__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__repr__()</span></code></a>&nbsp;that are implemented by all objects, including type objects. If the implicit lookup of these methods used the conventional lookup process, they would fail when invoked on the type object itself:</p><div class="highlight-python3 notranslate" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255); position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><span class="copybutton" title="Hide the prompts and output" style="cursor: pointer; position: absolute; top: 0px; right: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</span><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="mi" style="color: rgb(32, 128, 80);">1</span> <span class="o" style="color: rgb(102, 102, 102);">.</span><span class="fm" style="color: rgb(6, 40, 126);">__hash__</span><span class="p">()</span> <span class="o" style="color: rgb(102, 102, 102);">==</span> <span class="nb" style="color: rgb(0, 112, 32);">hash</span><span class="p">(</span><span class="mi" style="color: rgb(32, 128, 80);">1</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="nb" style="color: rgb(0, 112, 32);">int</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="fm" style="color: rgb(6, 40, 126);">__hash__</span><span class="p">()</span> <span class="o" style="color: rgb(102, 102, 102);">==</span> <span class="nb" style="color: rgb(0, 112, 32);">hash</span><span class="p">(</span><span class="nb" style="color: rgb(0, 112, 32);">int</span><span class="p">)</span>
<span class="gt" style="color: rgb(0, 68, 221);">Traceback (most recent call last):</span>
  File <span class="nb" style="color: rgb(0, 112, 32);">"&lt;stdin&gt;"</span>, line <span class="m" style="color: rgb(32, 128, 80);">1</span>, in <span class="n">&lt;module&gt;</span>
<span class="gr" style="color: rgb(255, 0, 0);">TypeError</span>: <span class="n">descriptor '__hash__' of 'int' object needs an argument</span>
</pre></div></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">Incorrectly attempting to invoke an unbound method of a class in this way is sometimes referred to as ‘metaclass confusion’, and is avoided by bypassing the instance when looking up special methods:</p><div class="highlight-python3 notranslate" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255); position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><span class="copybutton" title="Hide the prompts and output" style="cursor: pointer; position: absolute; top: 0px; right: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</span><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="nb" style="color: rgb(0, 112, 32);">type</span><span class="p">(</span><span class="mi" style="color: rgb(32, 128, 80);">1</span><span class="p">)</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="fm" style="color: rgb(6, 40, 126);">__hash__</span><span class="p">(</span><span class="mi" style="color: rgb(32, 128, 80);">1</span><span class="p">)</span> <span class="o" style="color: rgb(102, 102, 102);">==</span> <span class="nb" style="color: rgb(0, 112, 32);">hash</span><span class="p">(</span><span class="mi" style="color: rgb(32, 128, 80);">1</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="nb" style="color: rgb(0, 112, 32);">type</span><span class="p">(</span><span class="nb" style="color: rgb(0, 112, 32);">int</span><span class="p">)</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="fm" style="color: rgb(6, 40, 126);">__hash__</span><span class="p">(</span><span class="nb" style="color: rgb(0, 112, 32);">int</span><span class="p">)</span> <span class="o" style="color: rgb(102, 102, 102);">==</span> <span class="nb" style="color: rgb(0, 112, 32);">hash</span><span class="p">(</span><span class="nb" style="color: rgb(0, 112, 32);">int</span><span class="p">)</span>
<span class="go">True</span>
</pre></div></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">In addition to bypassing any instance attributes in the interest of correctness, implicit special method lookup generally also bypasses the<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__getattribute__" title="object.__getattribute__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__getattribute__()</span></code></a>&nbsp;method even of the object’s metaclass:</p><div class="highlight-python3 notranslate" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255); position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><span class="copybutton" title="Hide the prompts and output" style="cursor: pointer; position: absolute; top: 0px; right: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</span><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">class</span> <span class="nc" style="color: rgb(14, 132, 181); font-weight: bold;">Meta</span><span class="p">(</span><span class="nb" style="color: rgb(0, 112, 32);">type</span><span class="p">):</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">... </span>    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">def</span> <span class="nf" style="color: rgb(6, 40, 126);">__getattribute__</span><span class="p">(</span><span class="o" style="color: rgb(102, 102, 102);">*</span><span class="n">args</span><span class="p">):</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">... </span>        <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="s2" style="color: rgb(64, 112, 160);">"Metaclass getattribute invoked"</span><span class="p">)</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">... </span>        <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">return</span> <span class="nb" style="color: rgb(0, 112, 32);">type</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="fm" style="color: rgb(6, 40, 126);">__getattribute__</span><span class="p">(</span><span class="o" style="color: rgb(102, 102, 102);">*</span><span class="n">args</span><span class="p">)</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">...</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">class</span> <span class="nc" style="color: rgb(14, 132, 181); font-weight: bold;">C</span><span class="p">(</span><span class="nb" style="color: rgb(0, 112, 32);">object</span><span class="p">,</span> <span class="n">metaclass</span><span class="o" style="color: rgb(102, 102, 102);">=</span><span class="n">Meta</span><span class="p">):</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">... </span>    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">def</span> <span class="nf" style="color: rgb(6, 40, 126);">__len__</span><span class="p">(</span><span class="bp" style="color: rgb(0, 112, 32);">self</span><span class="p">):</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">... </span>        <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">return</span> <span class="mi" style="color: rgb(32, 128, 80);">10</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">... </span>    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">def</span> <span class="nf" style="color: rgb(6, 40, 126);">__getattribute__</span><span class="p">(</span><span class="o" style="color: rgb(102, 102, 102);">*</span><span class="n">args</span><span class="p">):</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">... </span>        <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="s2" style="color: rgb(64, 112, 160);">"Class getattribute invoked"</span><span class="p">)</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">... </span>        <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">return</span> <span class="nb" style="color: rgb(0, 112, 32);">object</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="fm" style="color: rgb(6, 40, 126);">__getattribute__</span><span class="p">(</span><span class="o" style="color: rgb(102, 102, 102);">*</span><span class="n">args</span><span class="p">)</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">...</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="n">C</span><span class="p">()</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="n">c</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="fm" style="color: rgb(6, 40, 126);">__len__</span><span class="p">()</span>                 <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># Explicit lookup via instance</span>
<span class="go">Class getattribute invoked</span>
<span class="go">10</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="nb" style="color: rgb(0, 112, 32);">type</span><span class="p">(</span><span class="n">c</span><span class="p">)</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="fm" style="color: rgb(6, 40, 126);">__len__</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>          <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># Explicit lookup via type</span>
<span class="go">Metaclass getattribute invoked</span>
<span class="go">10</span>
<span class="gp" style="color: rgb(198, 93, 9); font-weight: bold;">&gt;&gt;&gt; </span><span class="nb" style="color: rgb(0, 112, 32);">len</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>                      <span class="c1" style="color: rgb(64, 128, 144); font-style: italic;"># Implicit lookup</span>
<span class="go">10</span>
</pre></div></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">Bypassing the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__getattribute__" title="object.__getattribute__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__getattribute__()</span></code></a>&nbsp;machinery in this fashion provides significant scope for speed optimisations within the interpreter, at the cost of some flexibility in the handling of special methods (the special method&nbsp;<em>must</em>be set on the class object itself in order to be consistently invoked by the interpreter).</p><h3 id="blogTitle55">协程</h3><h4 id="blogTitle56">Awaitable Objects</h4><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">An&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/glossary.html#term-awaitable" style="color: rgb(99, 99, 187); text-decoration-line: none;">awaitable</a>&nbsp;object generally implements an&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__await__" title="object.__await__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__await__()</span></code></a>&nbsp;method.<a class="reference internal" href="https://docs.python.org/zh-cn/3/glossary.html#term-coroutine" style="color: rgb(99, 99, 187); text-decoration-line: none;">Coroutine</a>&nbsp;objects returned from&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/compound_stmts.html#async-def" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">async</span>&nbsp;<span class="pre" style="hyphens: none;">def</span></code></a>&nbsp;functions are awaitable.</p><div class="admonition note" style="margin-top: 10px; margin-bottom: 10px; padding: 7px; background-color: rgb(238, 238, 238); border: 1px solid rgb(204, 204, 204); border-radius: 3px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px;"><p class="first admonition-title" style="margin: 0px 10px 5px 0px; font-weight: bold; display: inline; hyphens: auto; text-align: justify; line-height: 22.4px;">注解</p>&nbsp;<p class="last" style="hyphens: auto; text-align: justify; line-height: 22.4px; margin-bottom: 5px; display: inline;">The&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/glossary.html#term-generator-iterator" style="color: rgb(99, 99, 187); text-decoration-line: none;"><span class="xref std std-term">generator iterator</span></a>&nbsp;objects returned from generators decorated with&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/types.html#types.coroutine" title="types.coroutine" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background: rgb(214, 214, 214); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">types.coroutine()</span></code></a>&nbsp;or&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/asyncio-task.html#asyncio.coroutine" title="asyncio.coroutine" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background: rgb(214, 214, 214); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">asyncio.coroutine()</span></code></a>&nbsp;are also awaitable, but they do not implement&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__await__" title="object.__await__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background: rgb(214, 214, 214); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__await__()</span></code></a>.</p></div><dl class="method" style="margin-bottom: 15px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><dt id="object.__await__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__await__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__await__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Must return an&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/glossary.html#term-iterator" style="color: rgb(99, 99, 187); text-decoration-line: none;">iterator</a>. Should be used to implement&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/glossary.html#term-awaitable" style="color: rgb(99, 99, 187); text-decoration-line: none;">awaitable</a>&nbsp;objects. For instance,&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/asyncio-future.html#asyncio.Future" title="asyncio.Future" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-class docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">asyncio.Future</span></code></a>&nbsp;implements this method to be compatible with the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#await" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">await</span></code></a>&nbsp;expression.</p></dd></dl><div class="versionadded" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><p style="hyphens: auto; text-align: justify; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">3.5 新版功能.</span></p></div><div class="admonition seealso" style="margin-top: 10px; margin-bottom: 10px; padding: 7px; background-color: rgb(255, 255, 204); border: 1px solid rgb(221, 221, 102); border-radius: 3px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px;"><p class="first admonition-title" style="margin: 0px 10px 5px 0px; font-weight: bold; display: inline; hyphens: auto; text-align: justify; line-height: 22.4px;">参见</p>&nbsp;<p class="last" style="hyphens: auto; text-align: justify; line-height: 22.4px; margin-bottom: 5px; display: inline;"><span class="target" id="index-104"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0492" style="color: rgb(99, 99, 187); text-decoration-line: none;"><strong>PEP 492</strong></a>&nbsp;for additional information about awaitable objects.</p></div><h4 id="blogTitle57">协程对象</h4><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><a class="reference internal" href="https://docs.python.org/zh-cn/3/glossary.html#term-coroutine" style="color: rgb(99, 99, 187); text-decoration-line: none;">Coroutine</a>&nbsp;objects are&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/glossary.html#term-awaitable" style="color: rgb(99, 99, 187); text-decoration-line: none;">awaitable</a>&nbsp;objects. A coroutine’s execution can be controlled by calling&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__await__" title="object.__await__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__await__()</span></code></a>&nbsp;and iterating over the result. When the coroutine has finished executing and returns, the iterator raises&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#StopIteration" title="StopIteration" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">StopIteration</span></code></a>, and the exception’s&nbsp;<code class="xref py py-attr docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">value</span></code>&nbsp;attribute holds the return value. If the coroutine raises an exception, it is propagated by the iterator. Coroutines should not directly raise unhandled&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#StopIteration" title="StopIteration" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">StopIteration</span></code></a>&nbsp;exceptions.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">Coroutines also have the methods listed below, which are analogous to those of generators (see&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#generator-methods" style="color: rgb(99, 99, 187); text-decoration-line: none;">生成器-迭代器的方法</a>). However, unlike generators, coroutines do not directly support iteration.</p><div class="versionchanged" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><p style="hyphens: auto; text-align: justify; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">在 3.5.2 版更改:&nbsp;</span>It is a&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#RuntimeError" title="RuntimeError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">RuntimeError</span></code></a>&nbsp;to await on a coroutine more than once.</p></div><dl class="method" style="margin-bottom: 15px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><dt id="coroutine.send"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">coroutine.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">send</code><span class="sig-paren" style="font-size: larger;">(</span><em>value</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#coroutine.send" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Starts or resumes execution of the coroutine. If&nbsp;<em>value</em>&nbsp;is&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code>, this is equivalent to advancing the iterator returned by&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__await__" title="object.__await__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__await__()</span></code></a>. If&nbsp;<em>value</em>&nbsp;is not&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">None</span></code>, this method delegates to the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#generator.send" title="generator.send" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">send()</span></code></a>&nbsp;method of the iterator that caused the coroutine to suspend. The result (return value,<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#StopIteration" title="StopIteration" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">StopIteration</span></code></a>, or other exception) is the same as when iterating over the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__await__" title="object.__await__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__await__()</span></code></a>&nbsp;return value, described above.</p></dd></dl><dl class="method" style="margin-bottom: 15px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><dt id="coroutine.throw"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">coroutine.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">throw</code><span class="sig-paren" style="font-size: larger;">(</span><em>type</em><span class="optional" style="font-size: 1.3em;">[</span>,&nbsp;<em>value</em><span class="optional" style="font-size: 1.3em;">[</span>,&nbsp;<em>traceback</em><span class="optional" style="font-size: 1.3em;">]</span><span class="optional" style="font-size: 1.3em;">]</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#coroutine.throw" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Raises the specified exception in the coroutine. This method delegates to the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#generator.throw" title="generator.throw" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">throw()</span></code></a>&nbsp;method of the iterator that caused the coroutine to suspend, if it has such a method. Otherwise, the exception is raised at the suspension point. The result (return value,&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#StopIteration" title="StopIteration" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">StopIteration</span></code></a>, or other exception) is the same as when iterating over the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__await__" title="object.__await__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__await__()</span></code></a>&nbsp;return value, described above. If the exception is not caught in the coroutine, it propagates back to the caller.</p></dd></dl><dl class="method" style="margin-bottom: 15px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><dt id="coroutine.close"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">coroutine.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">close</code><span class="sig-paren" style="font-size: larger;">(</span><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#coroutine.close" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Causes the coroutine to clean itself up and exit. If the coroutine is suspended, this method first delegates to the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/expressions.html#generator.close" title="generator.close" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">close()</span></code></a>&nbsp;method of the iterator that caused the coroutine to suspend, if it has such a method. Then it raises&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#GeneratorExit" title="GeneratorExit" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">GeneratorExit</span></code></a>&nbsp;at the suspension point, causing the coroutine to immediately clean itself up. Finally, the coroutine is marked as having finished executing, even if it was never started.</p><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Coroutine objects are automatically closed using the above process when they are about to be destroyed.</p></dd></dl><h4 id="blogTitle58">Asynchronous Iterators</h4><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">An&nbsp;<em>asynchronous iterator</em>&nbsp;can call asynchronous code in its&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__anext__</span></code>method.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">Asynchronous iterators can be used in an&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/compound_stmts.html#async-for" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">async</span>&nbsp;<span class="pre" style="hyphens: none;">for</span></code></a>&nbsp;statement.</p><dl class="method" style="margin-bottom: 15px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><dt id="object.__aiter__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__aiter__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__aiter__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Must return an&nbsp;<em>asynchronous iterator</em>&nbsp;object.</p></dd></dl><dl class="method" style="margin-bottom: 15px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><dt id="object.__anext__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__anext__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__anext__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">Must return an&nbsp;<em>awaitable</em>&nbsp;resulting in a next value of the iterator. Should raise a&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#StopAsyncIteration" title="StopAsyncIteration" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">StopAsyncIteration</span></code></a>&nbsp;error when the iteration is over.</p></dd></dl><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">An example of an asynchronous iterable object:</p><div class="highlight-python3 notranslate" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255); position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">class</span> <span class="nc" style="color: rgb(14, 132, 181); font-weight: bold;">Reader</span><span class="p">:</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">async</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">def</span> <span class="nf" style="color: rgb(6, 40, 126);">readline</span><span class="p">(</span><span class="bp" style="color: rgb(0, 112, 32);">self</span><span class="p">):</span>
        <span class="o" style="color: rgb(102, 102, 102);">...</span>

    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">def</span> <span class="nf" style="color: rgb(6, 40, 126);">__aiter__</span><span class="p">(</span><span class="bp" style="color: rgb(0, 112, 32);">self</span><span class="p">):</span>
        <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">return</span> <span class="bp" style="color: rgb(0, 112, 32);">self</span>

    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">async</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">def</span> <span class="nf" style="color: rgb(6, 40, 126);">__anext__</span><span class="p">(</span><span class="bp" style="color: rgb(0, 112, 32);">self</span><span class="p">):</span>
        <span class="n">val</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">await</span> <span class="bp" style="color: rgb(0, 112, 32);">self</span><span class="o" style="color: rgb(102, 102, 102);">.</span><span class="n">readline</span><span class="p">()</span>
        <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">if</span> <span class="n">val</span> <span class="o" style="color: rgb(102, 102, 102);">==</span> <span class="sa" style="color: rgb(64, 112, 160);">b</span><span class="s1" style="color: rgb(64, 112, 160);">''</span><span class="p">:</span>
            <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">raise</span> <span class="n">StopAsyncIteration</span>
        <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">return</span> <span class="n">val</span>
</pre></div></div><div class="versionadded" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><p style="hyphens: auto; text-align: justify; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">3.5 新版功能.</span></p></div><div class="versionchanged" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><p style="hyphens: auto; text-align: justify; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">在 3.7 版更改:&nbsp;</span>Prior to Python 3.7,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__aiter__</span></code>&nbsp;could return an&nbsp;<em>awaitable</em>&nbsp;that would resolve to an&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/glossary.html#term-asynchronous-iterator" style="color: rgb(99, 99, 187); text-decoration-line: none;">asynchronous iterator</a>.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px;">Starting with Python 3.7,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__aiter__</span></code>&nbsp;must return an asynchronous iterator object. Returning anything else will result in a&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#TypeError" title="TypeError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">TypeError</span></code></a>&nbsp;error.</p></div><h4 id="blogTitle59">Asynchronous Context Managers</h4><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">An&nbsp;<em>asynchronous context manager</em>&nbsp;is a&nbsp;<em>context manager</em>&nbsp;that is able to suspend execution in its&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__aenter__</span></code>&nbsp;and&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__aexit__</span></code>&nbsp;methods.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">Asynchronous context managers can be used in an&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/compound_stmts.html#async-with" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">async</span>&nbsp;<span class="pre" style="hyphens: none;">with</span></code></a>&nbsp;statement.</p><dl class="method" style="margin-bottom: 15px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><dt id="object.__aenter__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__aenter__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__aenter__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">This method is semantically similar to the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__enter__" title="object.__enter__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__enter__()</span></code></a>, with only difference that it must return an&nbsp;<em>awaitable</em>.</p></dd></dl><dl class="method" style="margin-bottom: 15px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><dt id="object.__aexit__"><code class="descclassname" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;">object.</code><code class="descname" style="background-color: transparent; padding: 0px 1px; font-size: 19.2px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px;">__aexit__</code><span class="sig-paren" style="font-size: larger;">(</span><em>self</em>,&nbsp;<em>exc_type</em>,&nbsp;<em>exc_value</em>,&nbsp;<em>traceback</em><span class="sig-paren" style="font-size: larger;">)</span><a class="headerlink" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__aexit__" title="永久链接至目标" style="color: rgb(99, 99, 187); text-decoration-line: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;"></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; hyphens: auto; text-align: justify; line-height: 20.8px;"><p style="margin-top: 0px; hyphens: auto; line-height: 22.4px;">This method is semantically similar to the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__exit__" title="object.__exit__" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-meth docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__exit__()</span></code></a>, with only difference that it must return an&nbsp;<em>awaitable</em>.</p></dd></dl><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">An example of an asynchronous context manager class:</p><div class="highlight-python3 notranslate" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255); position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">class</span> <span class="nc" style="color: rgb(14, 132, 181); font-weight: bold;">AsyncContextManager</span><span class="p">:</span>
    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">async</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">def</span> <span class="nf" style="color: rgb(6, 40, 126);">__aenter__</span><span class="p">(</span><span class="bp" style="color: rgb(0, 112, 32);">self</span><span class="p">):</span>
        <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">await</span> <span class="n">log</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'entering context'</span><span class="p">)</span>

    <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">async</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">def</span> <span class="nf" style="color: rgb(6, 40, 126);">__aexit__</span><span class="p">(</span><span class="bp" style="color: rgb(0, 112, 32);">self</span><span class="p">,</span> <span class="n">exc_type</span><span class="p">,</span> <span class="n">exc</span><span class="p">,</span> <span class="n">tb</span><span class="p">):</span>
        <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">await</span> <span class="n">log</span><span class="p">(</span><span class="s1" style="color: rgb(64, 112, 160);">'exiting context'</span><span class="p">)</span>
</pre></div></div><div class="versionadded" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><p style="hyphens: auto; text-align: justify; line-height: 22.4px;"><span class="versionmodified" style="font-style: italic;">3.5 新版功能.</span></p></div><p><br></p><h2 id="blogTitle60">Execution model</h2><div><p><h3>Structure of a program</h3></p><p id="index-1" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">A Python program is constructed from code blocks. A&nbsp;<em class="dfn">block</em>&nbsp;is a piece of Python program text that is executed as a unit. The following are blocks: a module, a function body, and a class definition. Each command typed interactively is a block. A script file (a file given as standard input to the interpreter or specified as a command line argument to the interpreter) is a code block. A script command (a command specified on the interpreter command line with the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/using/cmdline.html#cmdoption-c" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-option docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">-c</span></code></a>&nbsp;option) is a code block. The string argument passed to the built-in functions&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#eval" title="eval" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">eval()</span></code></a>&nbsp;and&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#exec" title="exec" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">exec()</span></code></a>&nbsp;is a code block.</p><p id="index-2" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">A code block is executed in an&nbsp;<em class="dfn">execution frame</em>. A frame contains some administrative information (used for debugging) and determines where and how execution continues after the code block’s execution has completed.</p><h3>Naming and binding</h3><h4>Binding of names</h4><p id="index-4" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><em class="dfn">Names</em>&nbsp;refer to objects. Names are introduced by name binding operations.</p><p id="index-5" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">The following constructs bind names: formal parameters to functions,<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/simple_stmts.html#import" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">import</span></code></a>&nbsp;statements, class and function definitions (these bind the class or function name in the defining block), and targets that are identifiers if occurring in an assignment,&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/compound_stmts.html#for" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">for</span></code></a>&nbsp;loop header, or after&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/compound_stmts.html#as" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">as</span></code></a>&nbsp;in a&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/compound_stmts.html#with" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">with</span></code></a>&nbsp;statement or&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/compound_stmts.html#except" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">except</span></code></a>&nbsp;clause. The&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/simple_stmts.html#import" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">import</span></code></a>&nbsp;statement of the form&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">from</span>&nbsp;<span class="pre" style="hyphens: none;">...</span>&nbsp;<span class="pre" style="hyphens: none;">import</span>&nbsp;<span class="pre" style="hyphens: none;">*</span></code>binds all names defined in the imported module, except those beginning with an underscore. This form may only be used at the module level.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">A target occurring in a&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/simple_stmts.html#del" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">del</span></code></a>&nbsp;statement is also considered bound for this purpose (though the actual semantics are to unbind the name).</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">Each assignment or import statement occurs within a block defined by a class or function definition or at the module level (the top-level code block).</p><p id="index-6" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">If a name is bound in a block, it is a local variable of that block, unless declared as&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/simple_stmts.html#nonlocal" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">nonlocal</span></code></a>&nbsp;or&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/simple_stmts.html#global" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">global</span></code></a>. If a name is bound at the module level, it is a global variable. (The variables of the module code block are local and global.) If a variable is used in a code block but not defined there, it is a&nbsp;<em class="dfn">free variable</em>.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">Each occurrence of a name in the program text refers to the&nbsp;<em class="dfn">binding</em>&nbsp;of that name established by the following name resolution rules.</p><h4>Resolution of names</h4><p id="index-7" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">A&nbsp;<em class="dfn">scope</em>&nbsp;defines the visibility of a name within a block. If a local variable is defined in a block, its scope includes that block. If the definition occurs in a function block, the scope extends to any blocks contained within the defining one, unless a contained block introduces a different binding for the name.</p><p id="index-8" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">When a name is used in a code block, it is resolved using the nearest enclosing scope. The set of all such scopes visible to a code block is called the block’s&nbsp;<em class="dfn">environment</em>.</p><p id="index-9" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">When a name is not found at all, a&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#NameError" title="NameError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">NameError</span></code></a>&nbsp;exception is raised. If the current scope is a function scope, and the name refers to a local variable that has not yet been bound to a value at the point where the name is used, an&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#UnboundLocalError" title="UnboundLocalError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">UnboundLocalError</span></code></a>&nbsp;exception is raised.&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#UnboundLocalError" title="UnboundLocalError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">UnboundLocalError</span></code></a>&nbsp;is a subclass of&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#NameError" title="NameError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">NameError</span></code></a>.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">If a name binding operation occurs anywhere within a code block, all uses of the name within the block are treated as references to the current block. This can lead to errors when a name is used within a block before it is bound. This rule is subtle. Python lacks declarations and allows name binding operations to occur anywhere within a code block. The local variables of a code block can be determined by scanning the entire text of the block for name binding operations.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">If the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/simple_stmts.html#global" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">global</span></code></a>&nbsp;statement occurs within a block, all uses of the name specified in the statement refer to the binding of that name in the top-level namespace. Names are resolved in the top-level namespace by searching the global namespace, i.e. the namespace of the module containing the code block, and the builtins namespace, the namespace of the module&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/builtins.html#module-builtins" title="builtins: The module that provides the built-in namespace." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">builtins</span></code></a>. The global namespace is searched first. If the name is not found there, the builtins namespace is searched. The&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/simple_stmts.html#global" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">global</span></code></a>&nbsp;statement must precede all uses of the name.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">The&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/simple_stmts.html#global" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">global</span></code></a>&nbsp;statement has the same scope as a name binding operation in the same block. If the nearest enclosing scope for a free variable contains a global statement, the free variable is treated as a global.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">The&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/simple_stmts.html#nonlocal" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">nonlocal</span></code></a>&nbsp;statement causes corresponding names to refer to previously bound variables in the nearest enclosing function scope.&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#SyntaxError" title="SyntaxError" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">SyntaxError</span></code></a>&nbsp;is raised at compile time if the given name does not exist in any enclosing function scope.</p><p id="index-10" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">The namespace for a module is automatically created the first time a module is imported. The main module for a script is always called&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/__main__.html#module-__main__" title="__main__: The environment where the top-level script is run." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__main__</span></code></a>.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">Class definition blocks and arguments to&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#exec" title="exec" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">exec()</span></code></a>&nbsp;and&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#eval" title="eval" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">eval()</span></code></a>&nbsp;are special in the context of name resolution. A class definition is an executable statement that may use and define names. These references follow the normal rules for name resolution with an exception that unbound local variables are looked up in the global namespace. The namespace of the class definition becomes the attribute dictionary of the class. The scope of names defined in a class block is limited to the class block; it does not extend to the code blocks of methods – this includes comprehensions and generator expressions since they are implemented using a function scope. This means that the following will fail:</p><div class="highlight-python3 notranslate" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255); position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">class</span> <span class="nc" style="color: rgb(14, 132, 181); font-weight: bold;">A</span><span class="p">:</span>
    <span class="n">a</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="mi" style="color: rgb(32, 128, 80);">42</span>
    <span class="n">b</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="nb" style="color: rgb(0, 112, 32);">list</span><span class="p">(</span><span class="n">a</span> <span class="o" style="color: rgb(102, 102, 102);">+</span> <span class="n">i</span> <span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">for</span> <span class="n">i</span> <span class="ow" style="color: rgb(0, 112, 32); font-weight: bold;">in</span> <span class="nb" style="color: rgb(0, 112, 32);">range</span><span class="p">(</span><span class="mi" style="color: rgb(32, 128, 80);">10</span><span class="p">))</span></pre></div></div><h4>Builtins and restricted execution</h4><div class="impl-detail compound" id="index-11" style="border-radius: 3px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><p style="hyphens: auto; text-align: justify; line-height: 22.4px; margin: 0px;"><strong>CPython implementation detail:</strong>&nbsp;Users should not touch&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__builtins__</span></code>; it is strictly an implementation detail. Users wanting to override values in the builtins namespace should&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/simple_stmts.html#import" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">import</span></code></a>&nbsp;the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/builtins.html#module-builtins" title="builtins: The module that provides the built-in namespace." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">builtins</span></code></a>&nbsp;module and modify its attributes appropriately.</p></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">The builtins namespace associated with the execution of a code block is actually found by looking up the name&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__builtins__</span></code>&nbsp;in its global namespace; this should be a dictionary or a module (in the latter case the module’s dictionary is used). By default, when in the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/__main__.html#module-__main__" title="__main__: The environment where the top-level script is run." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__main__</span></code></a>&nbsp;module,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__builtins__</span></code>&nbsp;is the built-in module&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/builtins.html#module-builtins" title="builtins: The module that provides the built-in namespace." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">builtins</span></code></a>; when in any other module,&nbsp;<code class="docutils literal notranslate" style="background-color: rgb(236, 240, 243); padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">__builtins__</span></code>&nbsp;is an alias for the dictionary of the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/builtins.html#module-builtins" title="builtins: The module that provides the built-in namespace." style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-mod docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">builtins</span></code></a>&nbsp;module itself.</p><h4>Interaction with dynamic features</h4><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">Name resolution of free variables occurs at runtime, not at compile time. This means that the following code will print 42:</p><div class="highlight-python3 notranslate" style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255); position: relative;"><div class="highlight" style="background: rgb(238, 255, 204);"><pre style="overflow-y: hidden; padding: 5px; background-color: rgb(238, 255, 204); color: rgb(51, 51, 51); line-height: 18.528px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.44px;"><span class="n">i</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="mi" style="color: rgb(32, 128, 80);">10</span>
<span class="k" style="color: rgb(0, 112, 32); font-weight: bold;">def</span> <span class="nf" style="color: rgb(6, 40, 126);">f</span><span class="p">():</span>
    <span class="nb" style="color: rgb(0, 112, 32);">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="n">i</span> <span class="o" style="color: rgb(102, 102, 102);">=</span> <span class="mi" style="color: rgb(32, 128, 80);">42</span>
<span class="n">f</span><span class="p">()</span>
</pre></div></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">The&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#eval" title="eval" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">eval()</span></code></a>&nbsp;and&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#exec" title="exec" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">exec()</span></code></a>&nbsp;functions do not have access to the full environment for resolving names. Names may be resolved in the local and global namespaces of the caller. Free variables are not resolved in the nearest enclosing namespace, but in the global namespace.&nbsp;<a class="footnote-reference" href="https://docs.python.org/zh-cn/3/reference/executionmodel.html#id3" id="id1" style="color: rgb(99, 99, 187); text-decoration-line: none;">[1]</a>&nbsp;The&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#exec" title="exec" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">exec()</span></code></a>&nbsp;and<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/functions.html#eval" title="eval" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-func docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">eval()</span></code></a>&nbsp;functions have optional arguments to override the global and local namespace. If only one namespace is specified, it is used for both.</p><h3>异常</h3><p id="index-13" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">Exceptions are a means of breaking out of the normal flow of control of a code block in order to handle errors or other exceptional conditions. An exception is&nbsp;<em>raised</em>&nbsp;at the point where the error is detected; it may be&nbsp;<em>handled</em>&nbsp;by the surrounding code block or by any code block that directly or indirectly invoked the code block where the error occurred.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">The Python interpreter raises an exception when it detects a run-time error (such as division by zero). A Python program can also explicitly raise an exception with the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/simple_stmts.html#raise" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">raise</span></code></a>&nbsp;statement. Exception handlers are specified with the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/compound_stmts.html#try" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">try</span></code></a>&nbsp;…&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/compound_stmts.html#except" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">except</span></code></a>&nbsp;statement. The&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/compound_stmts.html#finally" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">finally</span></code></a>&nbsp;clause of such a statement can be used to specify cleanup code which does not handle the exception, but is executed whether an exception occurred or not in the preceding code.</p><p id="index-14" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">Python uses the “termination” model of error handling: an exception handler can find out what happened and continue execution at an outer level, but it cannot repair the cause of the error and retry the failing operation (except by re-entering the offending piece of code from the top).</p><p id="index-15" style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">When an exception is not handled at all, the interpreter terminates execution of the program, or returns to its interactive main loop. In either case, it prints a stack backtrace, except when the exception is&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/library/exceptions.html#SystemExit" title="SystemExit" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref py py-exc docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">SystemExit</span></code></a>.</p><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">Exceptions are identified by class instances. The&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/compound_stmts.html#except" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">except</span></code></a>&nbsp;clause is selected depending on the class of the instance: it must reference the class of the instance or a base class thereof. The instance can be received by the handler and can carry additional information about the exceptional condition.</p><div class="admonition note" style="margin-top: 10px; margin-bottom: 10px; padding: 7px; background-color: rgb(238, 238, 238); border: 1px solid rgb(204, 204, 204); border-radius: 3px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px;"><p class="first admonition-title" style="margin: 0px 10px 5px 0px; font-weight: bold; display: inline; hyphens: auto; text-align: justify; line-height: 22.4px;">注解</p>&nbsp;<p class="last" style="hyphens: auto; text-align: justify; line-height: 22.4px; margin-bottom: 5px; display: inline;">Exception messages are not part of the Python API. Their contents may change from one version of Python to the next without warning and should not be relied on by code which will run under multiple versions of the interpreter.</p></div><p style="hyphens: auto; text-align: justify; line-height: 22.4px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);">See also the description of the&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/compound_stmts.html#try" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">try</span></code></a>&nbsp;statement in section&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/compound_stmts.html#try" style="color: rgb(99, 99, 187); text-decoration-line: none;">The try statement</a>and&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/simple_stmts.html#raise" style="color: rgb(99, 99, 187); text-decoration-line: none;"><code class="xref std std-keyword docutils literal notranslate" style="background-color: transparent; padding: 0px 1px; font-size: 15.44px; font-family: monospace, sans-serif; border-radius: 3px;"><span class="pre" style="hyphens: none;">raise</span></code></a>&nbsp;statement in section&nbsp;<a class="reference internal" href="https://docs.python.org/zh-cn/3/reference/simple_stmts.html#raise" style="color: rgb(99, 99, 187); text-decoration-line: none;">The raise statement</a>.</p></div><h2 id="blogTitle61">The import system</h2><div><p><h3>importlib</h3><h3>包</h3><h3>Searching</h3><h3>Loading</h3><h3>The Path Based Finder</h3><h3>Replacing the standard import system</h3><h3>Special considerations for __main__</h3><h3>Open issues</h3><h3>Reference</h3><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p></div><h2 id="blogTitle62">表达式</h2><div>Expressions</div><div><p><h3>Arithmetic conversions</h3><h3>Atoms</h3><h3>Primaries</h3><h3>Await expression</h3><h3>The power operator</h3><h3>Unary arithmetic and bitwise operations</h3><h3>Binary arithmetic operations</h3><h3>Shifting operations</h3><h3>Binary bitwise operations</h3><h3>Comparisons</h3><h3>Boolean operations</h3><h3>Conditional expressions</h3><h3>Lambdas</h3><h3>Expression lists</h3><h3>&nbsp;Evaluation order</h3><h3>Operator precedence&nbsp;</h3><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p></div><h2 id="blogTitle63">简单语句</h2><div>Simple statements</div><div><p><h3>Expression statements</h3><h3>Assignment statements</h3><h3>the assert statements</h3><h3>the pass statement</h3><h3>del 语句</h3><h3>The return statement</h3><h3>The yield statement</h3><h3>The raise statement</h3><h3>The break statement</h3><h3>The continue statement</h3><h3>The import statement</h3><h3>The global statement</h3><h3>The nolocal statement</h3><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p></div><h2 id="blogTitle64">Compound statements</h2><div><h3>The if statement</h3><h3>The while statement</h3><h3>The for statement</h3><h3>The try statement</h3><h3>The with statement</h3><h3>Function statement</h3><h3>Class definitions</h3><h3>协程</h3><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p></div><h2 id="blogTitle65">Top-level components</h2><div><p><h3>Complete Python programs</h3><h3>File input</h3><h3>Interactive input</h3><h3>Expression input</h3><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p></div><h2 id="blogTitle66">完整的语法规范</h2><div>Full Grammar specification</div><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p>
</article>
{% endblock point1 %}
